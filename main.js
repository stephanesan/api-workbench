module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i=n(1),a=n(117),o=n(178),s=n(158),u=n(196),l=n(157),c=n(202),p=n(156),m=n(205),d=n(5).CompositeDisposable,h=n(201),f=n(200),y=n(199),v=n(208);!function(e){function t(e){n(211).install("api-workbench",!0).then(function(){S.add(atom.commands.add("atom-workspace",{"api-workbench:popular-apis":o.showPopularApis,"api-workbench:editor-tools":s.initEditorTools,"api-workbench:console":i.toggle,"api-workbench:go-to-definition":p.gotoDeclaration,"api-workbench:find-usages":p.findUsages,"api-workbench:quick-outline":c.show,"api-workbench:quick-commands":u.showCommands,"api-workbench:rename":p.renameRAMLElement,"api-workbench:new-project":p.newProject,"api-workbench:select-node":p.select})),S.add(atom.workspace.addOpener(i.opener)),S.add(atom.workspace.addOpener(a.opener)),h.initialize(),f.initialize(),y.initialize(),u.registerCommands(),v.initialize(),s.initEditorTools()})}function r(){return l}function g(){return m}function b(){S.dispose()}var S=new d;e.activate=t,e.getProvider=r,e.provideLinter=g,e.deactivate=b,e.config={grammars:{type:"array","default":["source.raml"]},openConsoleInSplitPane:{type:"boolean","default":!0}}}(r||(r={})),e.exports=r},function(e,t,n){function r(e){return new f.RAMLConsoleView(e)}function i(e){return e instanceof f.RAMLConsoleView}function a(){if(i(atom.workspace.getActivePaneItem()))return void atom.workspace.destroyActivePaneItem();var e=atom.workspace.getActiveTextEditor();if(e){var t=atom.config.get("api-workbench.grammars")||[];return-1===t.indexOf(e.getGrammar().scopeName)?void atom.notifications.addInfo("The API Console can only be opened from RAML files."):o(e)?void 0:void s(e)}}function o(e){var t=f.RAMLConsoleView.getUriForEditor(e),n=atom.workspace.paneForURI(t);return n?(n.destroyItem(n.itemForURI(t)),!0):!1}function s(e,t){return d(f.RAMLConsoleView.getUriForEditor(e),t)}function u(e,t){return d(f.RAMLConsoleView.getUriForFilename(e),t)}function l(e){try{var t=h.parse(e),n=t.protocol,i=t.host,a=t.pathname}catch(o){return}if("raml-console:"===n){try{a=decodeURI(a||"").substr(1)}catch(o){return}return r("editor"===i?{editorId:a}:{filename:a})}}function c(){return atom.config.get("api-workbench.openConsoleInSplitPane")}function p(){return{activatePane:!1,searchAllPanes:!0,split:c()?"right":void 0}}function m(e,t){var n=atom.workspace.getActivePane(),i=r({raml:e,state:t});return c()&&(n=n.findOrCreateRightmostSibling()),atom.workspace.itemOpened(i),n.activateItem(i),Promise.resolve(i)}function d(e,t){var n=p();atom.workspace.getActivePane();return atom.workspace.open(e,n).then(function(e){return e.setState(t),e})}var h=n(2),f=n(3);atom.deserializers.add({name:"RAMLConsoleView",deserialize:function(e){return e?r(e):void 0}}),t.createConsoleView=r,t.isConsoleView=i,t.toggle=a,t.removeConsoleForEditor=o,t.addConsoleForEditor=s,t.addConsoleForFile=u,t.opener=l,t.openView=m},function(e,t){e.exports=require("url")},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(4),a=n(5),o=n(6),s=n(7),u=n(8),l=n(9),c=n(10),p=n(11),m=n(12),d=n(14),h=n(110),f=n(24),y=n(15),v=n(112),g=n(94),b=a.CompositeDisposable,S=!1,A=function(e){function t(t){var n=this;e.call(this),this.loaded=!1,this.isAttached=!1,this.isParsing=!1,this.disposables=new b,this.pageState={},this.paths={},this.editors={},this.resolver=new T(function(e){return n.readFileSync(e)}),this.state=l({view:{},parameters:{},headers:{},uriParameters:{},baseUriParameters:{},queryParameters:{},bodies:{}},t.state),this.filename=t.filename,this.editorId=t.editorId,t.raml&&(this.raml=g.expandTraitsAndResourceTypes(t.raml),this.project=t.raml.highLevel().lowLevel().unit().project().cloneWithResolver(this.resolver),this.loaded=!0)}return r(t,e),t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.getUriForFilename=function(e){return"raml-console://file/"+e},t.getUriForEditor=function(e){return"raml-console://editor/"+e.id},t.prototype.attached=function(){var e=this;this.isAttached||(this.render(),this.isAttached=!0,this.editorId?this.resolveEditor(this.editorId):this.filename&&this.resolveFilename(this.filename),this.disposables.add(atom.workspace.observeTextEditors(function(t){var n=t.getPath();e.paths[n]&&(e.watchEditor(t),e.stopWatchingPath(n))})),S&&this.disposables.add(atom.workspace.onDidChangeActivePaneItem(function(t){e.observeActiveEditor()})))},t.prototype.resolveEditor=function(e){var t=this,n=function(){if(t.editor=m.getEditorById(e),t.editor)return t.trigger("title-changed"),void t.loadRAML();var n=t.parents(".pane").view();return n&&n.destroyItem(t)};atom.workspace?n():this.disposables.add(atom.packages.onDidActivateInitialPackages(n))},t.prototype.resolveFilename=function(e){var t=this,n=function(){t.file=new u.File(e),t.trigger("title-changed"),t.loadRAML()};atom.workspace?n():this.disposables.add(atom.packages.onDidActivateInitialPackages(n))},t.prototype.readFileSync=function(e){var t,n=m.getEditorByPath(e);if(n)t=n.getText(),this.watchEditor(n);else{try{t=i.readFileSync(e,"utf8")}catch(r){if("ENOENT"===r.code)return void this.watchForFile(e);throw r}this.watchFile(e)}return t},t.prototype.watchEditor=function(e){var t=this,n=e.getPath();if(!this.editors[n]){var r=new b;this.editors[n]=r,r.add(e.onDidStopChanging(function(){t.updateUnit(n,e.getText())}));var i=function(){t.stopWatchingEditor(n),t.updateUnit(n,t.readFileSync(n))};r.add(e.onDidDestroy(i)),r.add(e.onDidChangePath(i))}},t.prototype.observeActiveEditor=function(){var e=this;this.cursorSubscription&&this.cursorSubscription.dispose();var t=this.getActiveEditor();t&&this.editors[t.getPath()]&&(this.cursorSubscription=t.onDidChangeCursorPosition(function(){e.updatePosition()}),this.updatePosition())},t.prototype.getActiveEditor=function(){return atom.workspace.getActiveTextEditor()},t.prototype.updatePosition=function(){var e=this.getActiveEditor();if(e&&this.raml){var t=e.getCursorBufferPosition(),n=e.getBuffer().characterIndexForPosition(t),r=this.getUnit(e.getPath());if(r){var i=y.fromUnit(r).root().findElementAtOffset(n);i?this.navigate({id:i.id()}):this.navigate({id:""})}}},t.prototype.stopWatchingPath=function(e){var t=this.paths[e];t&&(t.close(),delete this.paths[e])},t.prototype.stopWatchingEditor=function(e){var t=this.editors[e];t&&(t.dispose(),delete this.editors[e])},t.prototype.watchFile=function(e){var t=this;if(!this.paths[e]){var n=u.watch(e,function(n){"change"===n?t.updateUnit(e,t.readFileSync(e)):(t.stopWatchingPath(e),t.deleteUnit(e))});this.paths[e]=n}},t.prototype.watchForFile=function(e){var t=this;this.watchForPath(e,function(){t.updateUnit(e,t.readFileSync(e))})},t.prototype.watchForPath=function(e,t){var n=this,r=c.dirname(e),i=function(){var a=u.watch(r,function(a,o){"change"===a?o===e&&(n.stopWatchingPath(r),t()):(n.watchForPath(r,i),n.stopWatchingPath(r))});n.paths[r]=a};try{i()}catch(a){this.watchForPath(r,i)}},t.prototype.stopWatching=function(){var e=this;Object.keys(this.paths).forEach(function(t){e.stopWatchingPath(t)}),Object.keys(this.editors).forEach(function(t){e.stopWatchingEditor(t)})},t.prototype.navigate=function(e){var t="string"==typeof e?{id:e}:l(this.state.view,e);this.pageState={},this.setState({view:t},function(){document.getElementById("raml-console-view").scrollTop=0}),this.abortRequest()},t.prototype.render=function(e){var t=this,n={state:this.state,raml:this.raml,loaded:this.loaded,errors:this.errors,pageState:this.pageState,setParameter:function(e,n,r){return t.setParameter(e,n,r)},setState:function(e){return t.setState(e)},navigate:function(e){return t.navigate(e)},execRequest:function(){return t.execRequest()}};o.render(o.createElement(v.Console,n),this.element,e)},t.prototype.execRequest=function(){var e=this;this.abortRequest();var t=this.raml.baseUri(),n=this.raml.highLevel().findById(this.state.view.id).wrapperNode();if(this.setPageState({requestError:void 0}),null==t)return void this.setPageState({requestError:"Unable to execute request, `baseUri` is missing"});var r=h.template(t.value()||"",this.state.baseUriParameters),i=h.template(n.parent().completeRelativeUri(),this.state.uriParameters);this.request=p({url:r+i,method:n.method(),headers:this.state.headers,query:this.state.queryParameters,body:this.state.bodies[this.state.body]}),this.request.progress(function(){e.setPageState({requestProgress:e.request.completed})}),this.request.then(function(t){e.setPageState({requestResponse:t.toJSON(),requestProgress:void 0}),e.request=void 0},function(t){e.setPageState({requestError:t.message,requestProgress:void 0}),e.request=void 0})},t.prototype.abortRequest=function(){this.request&&(this.request.abort(),this.request=void 0)},t.prototype.updateRAML=function(){this.isParsing=!0;try{var e=this.getUnit(this.getFilename()),t=e.ast().errors();this.errors=t,t.length||(this.raml=g.expandTraitsAndResourceTypes(new d.ApiImpl(y.fromUnit(e).root())))}catch(n){this.raml=void 0,this.errors=[n]}finally{this.loaded=!0,this.isParsing=!1,this.render(),this.trigger("title-changed")}},t.prototype.loadRAML=function(){this.stopWatching(),this.project=new f.Project(c.dirname(this.getFilename()),this.resolver),this.updateRAML(),S&&this.observeActiveEditor()},t.prototype.serialize=function(){return{deserializer:"RAMLConsoleView",filename:this.getFilename(),state:this.state}},t.prototype.getFilename=function(){return this.file?this.file.getPath():this.editor?this.editor.getPath():void 0},t.prototype.getTitle=function(){var e="RAML";return this.raml&&null!=this.raml.title()?e=this.raml.title():this.file?e=c.basename(this.getFilename()):this.editor&&(e=this.editor.getTitle()),e+" Console"},t.prototype.destroy=function(){this.cursorSubscription&&this.cursorSubscription.dispose(),this.stopWatching(),this.disposables.dispose(),o.unmountComponentAtNode(this.element)},t.prototype.setState=function(e,t){this.state=l(this.state,e),this.render(t)},t.prototype.setPageState=function(e,t){this.pageState=l(this.pageState,e),this.render(t)},t.prototype.setParameter=function(e,t,n){var r={},i=l(this.state[e]);n?i[t]=n:delete i[t],r[e]=i,this.setState(r)},t.prototype.getURI=function(){return t.getUriForFilename(this.getFilename())},t.prototype.getUnit=function(e){return this.project.unit(e,!0)},t.prototype.deleteUnit=function(e){this.project.deleteUnit(e),this.updateRAML()},t.prototype.updateUnit=function(e,t){this.getUnit(e).updateContent(this.readFileSync(e)),this.updateRAML()},t}(s.ScrollView);t.RAMLConsoleView=A;var T=function(e){function t(t){e.call(this),this.readFileSync=t}return r(t,e),t.prototype.content=function(e){return this.readFileSync(e)},t}(f.FSResolverImpl)},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("atom")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("atom-space-pen-views")},function(e,t){function n(e,t){return{close:function(){}}}var r=function(){function e(e){this.path=e}return e.prototype.getPath=function(){return this.path},e.prototype.close=function(){},e}();t.File=r,t.watch=n},function(e,t){e.exports=require("xtend")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("popsicle")},function(e,t,n){function r(e){for(var t=atom.workspace.getTextEditors(),n=0;n<t.length;n++){var r=t[n];if(String(r.id)===e)return r}}function i(e){for(var t=atom.workspace.getTextEditors(),n=0;n<t.length;n++){var r=t[n];if(r.getPath()===e)return r}}function a(e){if(null==e)return atom.grammars.grammarsByScopeName["text.plain.null-grammar"];for(var t=s.extension(e),n=atom.grammars.getGrammars(),r=0;r<n.length;r++){var i=n[r];if(i.fileTypes.indexOf(t)>-1)return i}return atom.grammars.grammarsByScopeName["text.plain.null-grammar"]}function o(e,t){var n=document.createElement("atom-text-editor");n.setAttributeNode(document.createAttribute("gutter-hidden")),n.removeAttribute("tabindex");var r=n.getModel();return r.getDecorations({"class":"cursor-line",type:"line"})[0].destroy(),r.setText(e),r.setGrammar(t),n}var s=n(13);s.define({"text/xml":["xml"]}),t.getEditorById=r,t.getEditorByPath=i,t.getGrammerFromMime=a,t.codeToEditorElement=o},function(e,t){e.exports=require("mime")},function(e,t,n){function r(e){var t=te.universeProvider("RAML10"),n=t.type("Api"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function i(e){var t=te.universeProvider("RAML10"),n=t.type("LibraryBase"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function a(e){var t=te.universeProvider("RAML10"),n=t.type("DocumentationItem"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function o(e){var t=te.universeProvider("RAML10"),n=t.type("ScriptSpec"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function s(e){var t=te.universeProvider("RAML10"),n=t.type("ApiDescription"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function u(e){var t=te.universeProvider("RAML10"),n=t.type("CallbackAPIDescription"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function l(e){var t=te.universeProvider("RAML10"),n=t.type("RAMLProject"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function c(e){var t=te.universeProvider("RAML10"),n=t.type("SecuritySchemaType"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function p(e){var t=te.universeProvider("RAML10"),n=t.type("TypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function m(e){var t=te.universeProvider("RAML10"),n=t.type("ExampleSpec"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function d(e){var t=te.universeProvider("RAML10"),n=t.type("FileTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function h(e){var t=te.universeProvider("RAML10"),n=t.type("ArrayTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function f(e){var t=te.universeProvider("RAML10"),n=t.type("UnionTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function y(e){var t=te.universeProvider("RAML10"),n=t.type("ObjectTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function v(e){var t=te.universeProvider("RAML10"),n=t.type("StringTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function g(e){var t=te.universeProvider("RAML10"),n=t.type("BooleanTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function b(e){var t=te.universeProvider("RAML10"),n=t.type("ValueTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function S(e){var t=te.universeProvider("RAML10"),n=t.type("NumberTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function A(e){var t=te.universeProvider("RAML10"),n=t.type("IntegerTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function T(e){var t=te.universeProvider("RAML10"),n=t.type("RAMLPointerElement"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function w(e){var t=te.universeProvider("RAML10"),n=t.type("RAMLExpression"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function P(e){var t=te.universeProvider("RAML10"),n=t.type("ScriptHookElement"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function M(e){var t=te.universeProvider("RAML10"),n=t.type("SchemaElement"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function E(e){var t=te.universeProvider("RAML10"),n=t.type("DateTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function C(e){var t=te.universeProvider("RAML10"),n=t.type("SecuritySchemePart"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function N(e){var t=te.universeProvider("RAML10"),n=t.type("MethodBase"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function _(e){var t=te.universeProvider("RAML10"),n=t.type("HasNormalParameters"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function I(e){var t=te.universeProvider("RAML10"),n=t.type("Response"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function R(e){var t=te.universeProvider("RAML10"),n=t.type("Trait"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function x(e){var t=te.universeProvider("RAML10"),n=t.type("Library"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function L(e){var t=te.universeProvider("RAML10"),n=t.type("Method"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function O(e){var t=te.universeProvider("RAML10"),n=t.type("AbstractSecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function k(e){var t=te.universeProvider("RAML10"),n=t.type("OAuth1SecuritySchemeSettings"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function D(e){var t=te.universeProvider("RAML10"),n=t.type("OAuth2SecuritySchemeSettings"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function U(e){var t=te.universeProvider("RAML10"),n=t.type("PassThroughSecuritySchemeSettings"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function F(e){var t=te.universeProvider("RAML10"),n=t.type("OAuth2SecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function j(e){var t=te.universeProvider("RAML10"),n=t.type("OAuth1SecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function K(e){var t=te.universeProvider("RAML10"),n=t.type("PassThroughSecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function V(e){var t=te.universeProvider("RAML10"),n=t.type("BasicSecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function B(e){var t=te.universeProvider("RAML10"),n=t.type("DigestSecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function q(e){var t=te.universeProvider("RAML10"),n=t.type("CustomSecurityScheme"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function H(e){var t=te.universeProvider("RAML10"),n=t.type("ResourceBase"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function G(e){var t=te.universeProvider("RAML10"),n=t.type("ResourceType"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function W(e){var t=te.universeProvider("RAML10"),n=t.type("Resource"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function z(e){var t=te.universeProvider("RAML10"),n=t.type("AnnotationTypeDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function J(e){var t=te.universeProvider("RAML10"),n=t.type("GlobalSchema"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function Y(e){var t=te.universeProvider("RAML10"),n=t.type("ImportDeclaration"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function X(e){var t=te.universeProvider("RAML10"),n=t.type("Overlay"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function $(e){var t=te.universeProvider("RAML10"),n=t.type("Extension"),r=n.getAdapter(ne.RAMLService).createStubNode(null,e);return r}function Q(e,t,n){return ie.loadApi(e,t,n).getOrElse(null)}function Z(e,t,n){return ie.loadApiAsync(e,t,n)}var ee=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},te=n(15),ne=n(22),re=n(92),ie=n(93),ae=n(95),oe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLLanguageElementImpl"},t.prototype.getKind=function(){return"RAMLLanguageElement"},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(re.BasicNodeImpl);t.RAMLLanguageElementImpl=oe;var se=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ValueTypeImpl"},t.prototype.getKind=function(){return"ValueType"},t.prototype.value=function(){return this.attr.value()},t}(re.AttributeNodeImpl);t.ValueTypeImpl=se;var ue=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeImpl"},t.prototype.getKind=function(){return"NumberType"},t}(se);t.NumberTypeImpl=ue;var le=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeImpl"},t.prototype.getKind=function(){return"BooleanType"},t}(se);t.BooleanTypeImpl=le;var ce=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ReferenceImpl"},t.prototype.getKind=function(){return"Reference"},t.prototype.value=function(){return re.toStructuredValue(this.attr)},t}(re.AttributeNodeImpl);t.ReferenceImpl=ce;var pe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeRefImpl"},t.prototype.getKind=function(){return"ResourceTypeRef"},t}(ce);t.ResourceTypeRefImpl=pe;var me=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"TraitRefImpl"},t.prototype.getKind=function(){return"TraitRef"},t}(ce);t.TraitRefImpl=me;var de=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemeRefImpl"},t.prototype.getKind=function(){return"SecuritySchemeRef"},t}(ce);t.SecuritySchemeRefImpl=de;var he=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"AnnotationRefImpl"},t.prototype.getKind=function(){return"AnnotationRef"},t}(ce);t.AnnotationRefImpl=he;var fe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"DataElementRefImpl"},t.prototype.getKind=function(){return"DataElementRef"},t}(ce);t.DataElementRefImpl=fe;var ye=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"AnnotationTargetImpl"},t.prototype.getKind=function(){return"AnnotationTarget"},t}(se);t.AnnotationTargetImpl=ye;var ve=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"pointerImpl"},t.prototype.getKind=function(){return"pointer"},t}(se);t.pointerImpl=ve;var ge=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"StringTypeImpl"},t.prototype.getKind=function(){return"StringType"},t}(se);t.StringTypeImpl=ge;var be=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"UriTemplateImpl"},t.prototype.getKind=function(){return"UriTemplate"},t}(ge);t.UriTemplateImpl=be;var Se=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"RelativeUriStringImpl"},t.prototype.getKind=function(){return"RelativeUriString"},t}(be);t.RelativeUriStringImpl=Se;var Ae=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"FullUriTemplateStringImpl"},t.prototype.getKind=function(){return"FullUriTemplateString"},t}(be);t.FullUriTemplateStringImpl=Ae;var Te=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"StatusCodeStringImpl"},t.prototype.getKind=function(){return"StatusCodeString"},t}(ge);t.StatusCodeStringImpl=Te;var we=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"FixedUriStringImpl"},t.prototype.getKind=function(){return"FixedUriString"},t}(ge);t.FixedUriStringImpl=we;var Pe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ContentTypeImpl"},t.prototype.getKind=function(){return"ContentType"},t}(ge);t.ContentTypeImpl=Pe;var Me=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ValidityExpressionImpl"},t.prototype.getKind=function(){return"ValidityExpression"},t}(ge);t.ValidityExpressionImpl=Me;var Ee=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"DateFormatSpecImpl"},t.prototype.getKind=function(){return"DateFormatSpec"},t}(ge);t.DateFormatSpecImpl=Ee;var Ce=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"FunctionalInterfaceImpl"},t.prototype.getKind=function(){return"FunctionalInterface"},t}(ge);t.FunctionalInterfaceImpl=Ce;var Ne=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"SchemaStringImpl"},t.prototype.getKind=function(){return"SchemaString"},t}(ge);t.SchemaStringImpl=Ne;var _e=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"JSonSchemaStringImpl"},t.prototype.getKind=function(){return"JSonSchemaString"},t}(Ne);t.JSonSchemaStringImpl=_e;var Ie=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"XMLSchemaStringImpl"},t.prototype.getKind=function(){return"XMLSchemaString"},t}(Ne);t.XMLSchemaStringImpl=Ie;var Re=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"ExampleStringImpl"},t.prototype.getKind=function(){return"ExampleString"},t}(ge);t.ExampleStringImpl=Re;var xe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLPointerImpl"},t.prototype.getKind=function(){return"RAMLPointer"},t}(ge);t.RAMLPointerImpl=xe;var Le=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLSelectorImpl"},t.prototype.getKind=function(){return"RAMLSelector"},t}(ge);t.RAMLSelectorImpl=Le;var Oe=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"MimeTypeImpl"},t.prototype.getKind=function(){return"MimeType"},t}(ge);t.MimeTypeImpl=Oe;var ke=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"MarkdownStringImpl"},t.prototype.getKind=function(){return"MarkdownString"},t}(ge);t.MarkdownStringImpl=ke;var De=function(e){function t(t){e.call(this,"string"==typeof t?a(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"DocumentationItemImpl"},t.prototype.getKind=function(){return"DocumentationItem"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",function(e){return new ke(e)})},t}(oe);t.DocumentationItemImpl=De;var Ue=function(e){function t(t){e.call(this,"string"==typeof t?o(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ScriptSpecImpl"},t.prototype.getKind=function(){return"ScriptSpec"},t.prototype.language=function(){return e.prototype.attribute.call(this,"language",this.toString)},t.prototype.setLanguage=function(e){return this.highLevel().attrOrCreate("language").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",this.toString)},t.prototype.setContent=function(e){return this.highLevel().attrOrCreate("content").setValue(""+e),this},t}(oe);t.ScriptSpecImpl=Ue;var Fe=function(e){function t(t){e.call(this,"string"==typeof t?s(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ApiDescriptionImpl"},t.prototype.getKind=function(){return"ApiDescription"},t.prototype.apiFiles=function(){return e.prototype.elements.call(this,"apiFiles")},t.prototype.script=function(){return e.prototype.elements.call(this,"script")},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t}(oe);t.ApiDescriptionImpl=Fe;var je=function(e){function t(t){e.call(this,"string"==typeof t?u(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"CallbackAPIDescriptionImpl"},t.prototype.getKind=function(){return"CallbackAPIDescription"},t.prototype.callbackFor=function(){return e.prototype.element.call(this,"callbackFor")},t}(Fe);t.CallbackAPIDescriptionImpl=je;var Ke=function(e){function t(t){e.call(this,"string"==typeof t?l(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLProjectImpl"},t.prototype.getKind=function(){return"RAMLProject"},t.prototype.relatedProjects=function(){return e.prototype.elements.call(this,"relatedProjects")},t.prototype.declaredApis=function(){return e.prototype.elements.call(this,"declaredApis")},t.prototype.license=function(){return e.prototype.attribute.call(this,"license",this.toString)},t.prototype.setLicense=function(e){return this.highLevel().attrOrCreate("license").setValue(""+e),this},t.prototype.overview=function(){return e.prototype.attribute.call(this,"overview",this.toString)},t.prototype.setOverview=function(e){return this.highLevel().attrOrCreate("overview").setValue(""+e),this},t.prototype.url=function(){return e.prototype.attribute.call(this,"url",this.toString)},t.prototype.setUrl=function(e){return this.highLevel().attrOrCreate("url").setValue(""+e),this},t}(oe);t.RAMLProjectImpl=Ke;var Ve=function(e){function t(t){e.call(this,"string"==typeof t?c(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaTypeImpl"},t.prototype.getKind=function(){return"SecuritySchemaType"},t.prototype.requiredSettings=function(){return e.prototype.elements.call(this,"requiredSettings")},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t}(oe);t.SecuritySchemaTypeImpl=Ve;var Be=function(e){function t(t){e.call(this,"string"==typeof t?p(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"TypeDeclarationImpl"},t.prototype.getKind=function(){return"TypeDeclaration"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.facets=function(){return e.prototype.elements.call(this,"facets")},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",this.toString)},t.prototype.setSchema=function(e){return this.highLevel().attrOrCreate("schema").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attributes.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.location=function(){return e.prototype.attribute.call(this,"location",function(e){return new qe(e)})},t.prototype.locationKind=function(){return e.prototype.attribute.call(this,"locationKind",function(e){
return new He(e)})},t.prototype["default"]=function(){return e.prototype.attribute.call(this,"default",this.toString)},t.prototype.setDefault=function(e){return this.highLevel().attrOrCreate("default").setValue(""+e),this},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",this.toString)},t.prototype.setExample=function(e){return this.highLevel().attrOrCreate("example").setValue(""+e),this},t.prototype.examples=function(){return e.prototype.elements.call(this,"examples")},t.prototype.repeat=function(){return e.prototype.attribute.call(this,"repeat",this.toBoolean)},t.prototype.setRepeat=function(e){return this.highLevel().attrOrCreate("repeat").setValue(""+e),this},t.prototype.required=function(){return e.prototype.attribute.call(this,"required",this.toBoolean)},t.prototype.setRequired=function(e){return this.highLevel().attrOrCreate("required").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.runtimeType=function(){return ae.runtimeType(this)},t}(oe);t.TypeDeclarationImpl=Be;var qe=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ModelLocationImpl"},e.prototype.getKind=function(){return"ModelLocation"},e}();t.ModelLocationImpl=qe;var He=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"LocationKindImpl"},e.prototype.getKind=function(){return"LocationKind"},e}();t.LocationKindImpl=He;var Ge=function(e){function t(t){e.call(this,"string"==typeof t?m(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ExampleSpecImpl"},t.prototype.getKind=function(){return"ExampleSpec"},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",this.toString)},t.prototype.setContent=function(e){return this.highLevel().attrOrCreate("content").setValue(""+e),this},t.prototype.strict=function(){return e.prototype.attribute.call(this,"strict",this.toBoolean)},t.prototype.setStrict=function(e){return this.highLevel().attrOrCreate("strict").setValue(""+e),this},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(oe);t.ExampleSpecImpl=Ge;var We=function(e){function t(t){e.call(this,"string"==typeof t?d(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"FileTypeDeclarationImpl"},t.prototype.getKind=function(){return"FileTypeDeclaration"},t.prototype.fileTypes=function(){return e.prototype.attributes.call(this,"fileTypes",function(e){return new Pe(e)})},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t}(Be);t.FileTypeDeclarationImpl=We;var ze=function(e){function t(t){e.call(this,"string"==typeof t?h(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ArrayTypeDeclarationImpl"},t.prototype.getKind=function(){return"ArrayTypeDeclaration"},t.prototype.uniqueItems=function(){return e.prototype.attribute.call(this,"uniqueItems",this.toBoolean)},t.prototype.setUniqueItems=function(e){return this.highLevel().attrOrCreate("uniqueItems").setValue(""+e),this},t.prototype.items=function(){return e.prototype.element.call(this,"items")},t.prototype.minItems=function(){return e.prototype.attribute.call(this,"minItems",this.toNumber)},t.prototype.setMinItems=function(e){return this.highLevel().attrOrCreate("minItems").setValue(""+e),this},t.prototype.maxItems=function(){return e.prototype.attribute.call(this,"maxItems",this.toNumber)},t.prototype.setMaxItems=function(e){return this.highLevel().attrOrCreate("maxItems").setValue(""+e),this},t}(Be);t.ArrayTypeDeclarationImpl=ze;var Je=function(e){function t(t){e.call(this,"string"==typeof t?f(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"UnionTypeDeclarationImpl"},t.prototype.getKind=function(){return"UnionTypeDeclaration"},t.prototype.discriminator=function(){return e.prototype.attribute.call(this,"discriminator",this.toString)},t.prototype.setDiscriminator=function(e){return this.highLevel().attrOrCreate("discriminator").setValue(""+e),this},t}(Be);t.UnionTypeDeclarationImpl=Je;var Ye=function(e){function t(t){e.call(this,"string"==typeof t?y(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ObjectTypeDeclarationImpl"},t.prototype.getKind=function(){return"ObjectTypeDeclaration"},t.prototype.properties=function(){return e.prototype.elements.call(this,"properties")},t.prototype.minProperties=function(){return e.prototype.attribute.call(this,"minProperties",this.toNumber)},t.prototype.setMinProperties=function(e){return this.highLevel().attrOrCreate("minProperties").setValue(""+e),this},t.prototype.maxProperties=function(){return e.prototype.attribute.call(this,"maxProperties",this.toNumber)},t.prototype.setMaxProperties=function(e){return this.highLevel().attrOrCreate("maxProperties").setValue(""+e),this},t.prototype.additionalProperties=function(){return e.prototype.element.call(this,"additionalProperties")},t.prototype.patternProperties=function(){return e.prototype.elements.call(this,"patternProperties")},t.prototype.discriminator=function(){return e.prototype.attribute.call(this,"discriminator",function(e){return new ve(e)})},t.prototype.discriminatorValue=function(){return e.prototype.attribute.call(this,"discriminatorValue",this.toString)},t.prototype.setDiscriminatorValue=function(e){return this.highLevel().attrOrCreate("discriminatorValue").setValue(""+e),this},t}(Be);t.ObjectTypeDeclarationImpl=Ye;var Xe=function(e){function t(t){e.call(this,"string"==typeof t?v(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"StringTypeDeclarationImpl"},t.prototype.getKind=function(){return"StringTypeDeclaration"},t.prototype.pattern=function(){return e.prototype.attribute.call(this,"pattern",this.toString)},t.prototype.setPattern=function(e){return this.highLevel().attrOrCreate("pattern").setValue(""+e),this},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString)},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t}(Be);t.StringTypeDeclarationImpl=Xe;var $e=function(e){function t(t){e.call(this,"string"==typeof t?g(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeDeclarationImpl"},t.prototype.getKind=function(){return"BooleanTypeDeclaration"},t}(Be);t.BooleanTypeDeclarationImpl=$e;var Qe=function(e){function t(t){e.call(this,"string"==typeof t?b(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ValueTypeDeclarationImpl"},t.prototype.getKind=function(){return"ValueTypeDeclaration"},t}(Be);t.ValueTypeDeclarationImpl=Qe;var Ze=function(e){function t(t){e.call(this,"string"==typeof t?S(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeDeclarationImpl"},t.prototype.getKind=function(){return"NumberTypeDeclaration"},t.prototype.minimum=function(){return e.prototype.attribute.call(this,"minimum",this.toNumber)},t.prototype.setMinimum=function(e){return this.highLevel().attrOrCreate("minimum").setValue(""+e),this},t.prototype.maximum=function(){return e.prototype.attribute.call(this,"maximum",this.toNumber)},t.prototype.setMaximum=function(e){return this.highLevel().attrOrCreate("maximum").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString)},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t.prototype.format=function(){return e.prototype.attribute.call(this,"format",this.toString)},t.prototype.setFormat=function(e){return this.highLevel().attrOrCreate("format").setValue(""+e),this},t.prototype.multipleOf=function(){return e.prototype.attribute.call(this,"multipleOf",this.toNumber)},t.prototype.setMultipleOf=function(e){return this.highLevel().attrOrCreate("multipleOf").setValue(""+e),this},t}(Be);t.NumberTypeDeclarationImpl=Ze;var et=function(e){function t(t){e.call(this,"string"==typeof t?A(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"IntegerTypeDeclarationImpl"},t.prototype.getKind=function(){return"IntegerTypeDeclaration"},t.prototype.format=function(){return e.prototype.attribute.call(this,"format",this.toString)},t.prototype.setFormat=function(e){return this.highLevel().attrOrCreate("format").setValue(""+e),this},t}(Ze);t.IntegerTypeDeclarationImpl=et;var tt=function(e){function t(t){e.call(this,"string"==typeof t?T(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLPointerElementImpl"},t.prototype.getKind=function(){return"RAMLPointerElement"},t.prototype.target=function(){return e.prototype.attribute.call(this,"target",function(e){return new Le(e)})},t}(Be);t.RAMLPointerElementImpl=tt;var nt=function(e){function t(t){e.call(this,"string"==typeof t?w(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLExpressionImpl"},t.prototype.getKind=function(){return"RAMLExpression"},t}(Be);t.RAMLExpressionImpl=nt;var rt=function(e){function t(t){e.call(this,"string"==typeof t?P(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ScriptHookElementImpl"},t.prototype.getKind=function(){return"ScriptHookElement"},t.prototype.declaredIn=function(){return e.prototype.attribute.call(this,"declaredIn",this.toString)},t.prototype.setDeclaredIn=function(e){return this.highLevel().attrOrCreate("declaredIn").setValue(""+e),this},t.prototype.interfaceName=function(){return e.prototype.attribute.call(this,"interfaceName",this.toString)},t.prototype.setInterfaceName=function(e){return this.highLevel().attrOrCreate("interfaceName").setValue(""+e),this},t}(Be);t.ScriptHookElementImpl=rt;var it=function(e){function t(t){e.call(this,"string"==typeof t?M(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"SchemaElementImpl"},t.prototype.getKind=function(){return"SchemaElement"},t}(Be);t.SchemaElementImpl=it;var at=function(e){function t(t){e.call(this,"string"==typeof t?E(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"DateTypeDeclarationImpl"},t.prototype.getKind=function(){return"DateTypeDeclaration"},t.prototype.dateFormat=function(){return e.prototype.attribute.call(this,"dateFormat",function(e){return new Ee(e)})},t}(Be);t.DateTypeDeclarationImpl=at;var ot=function(e){function t(t){e.call(this,"string"==typeof t?_(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"HasNormalParametersImpl"},t.prototype.getKind=function(){return"HasNormalParameters"},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t}(oe);t.HasNormalParametersImpl=ot;var st=function(e){function t(t){e.call(this,"string"==typeof t?N(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"MethodBaseImpl"},t.prototype.getKind=function(){return"MethodBase"},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new me(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new de(e)})},t}(ot);t.MethodBaseImpl=st;var ut=function(e){function t(t){e.call(this,"string"==typeof t?I(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ResponseImpl"},t.prototype.getKind=function(){return"Response"},t.prototype.code=function(){return e.prototype.attribute.call(this,"code",function(e){return new Te(e)})},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.isOkRange=function(){return ae.isOkRange(this)},t}(oe);t.ResponseImpl=ut;var lt=function(e){function t(t){e.call(this,"string"==typeof t?R(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"TraitImpl"},t.prototype.getKind=function(){return"Trait"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(st);t.TraitImpl=lt;var ct=function(e){function t(t){e.call(this,"string"==typeof t?i(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"LibraryBaseImpl"},t.prototype.getKind=function(){return"LibraryBase"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.schemas=function(){return e.prototype.elements.call(this,"schemas")},t.prototype.types=function(){return e.prototype.elements.call(this,"types")},t.prototype.traits=function(){return e.prototype.elements.call(this,"traits")},t.prototype.resourceTypes=function(){return e.prototype.elements.call(this,"resourceTypes")},t.prototype.annotationTypes=function(){return e.prototype.elements.call(this,"annotationTypes")},t.prototype.securitySchemaTypes=function(){return e.prototype.elements.call(this,"securitySchemaTypes")},t.prototype.securitySchemes=function(){return e.prototype.elements.call(this,"securitySchemes")},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(oe);t.LibraryBaseImpl=ct;var pt=function(e){function t(t){e.call(this,"string"==typeof t?x(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"LibraryImpl"},t.prototype.getKind=function(){return"Library"},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t}(ct);t.LibraryImpl=pt;var mt=function(e){function t(t){e.call(this,"string"==typeof t?L(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"MethodImpl"},t.prototype.getKind=function(){return"Method"},t.prototype.signature=function(){return e.prototype.attribute.call(this,"signature",function(e){return new Ne(e)})},t.prototype.method=function(){return e.prototype.attribute.call(this,"method",this.toString)},t.prototype.setMethod=function(e){return this.highLevel().attrOrCreate("method").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new me(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new de(e)})},t.prototype.parentResource=function(){return ae.parentResource(this)},t.prototype.ownerApi=function(){return ae.ownerApi(this)},t.prototype.methodId=function(){return ae.methodId(this)},t}(st);t.MethodImpl=mt;var dt=function(e){function t(t){e.call(this,"string"==typeof t?C(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemePartImpl"},t.prototype.getKind=function(){return"SecuritySchemePart"},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new me(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new de(e)})},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(st);t.SecuritySchemePartImpl=dt;var ht=function(e){function t(t){e.call(this,"string"==typeof t?O(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"AbstractSecuritySchemeImpl"},t.prototype.getKind=function(){return"AbstractSecurityScheme"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(oe);t.AbstractSecuritySchemeImpl=ht;var ft=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"SecuritySchemeSettings"},t}(re.BasicNodeImpl);t.SecuritySchemeSettingsImpl=ft;var yt=function(e){function t(t){e.call(this,"string"==typeof t?k(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"OAuth1SecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"OAuth1SecuritySchemeSettings"},t.prototype.requestTokenUri=function(){return e.prototype.attribute.call(this,"requestTokenUri",function(e){return new we(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new we(e)})},t.prototype.tokenCredentialsUri=function(){return e.prototype.attribute.call(this,"tokenCredentialsUri",function(e){return new we(e)})},t.prototype.signatures=function(){return e.prototype.attributes.call(this,"signatures",this.toString)},t.prototype.setSignatures=function(e){return this.highLevel().attrOrCreate("signatures").setValue(""+e),this},t}(ft);t.OAuth1SecuritySchemeSettingsImpl=yt;var vt=function(e){function t(t){e.call(this,"string"==typeof t?D(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"OAuth2SecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"OAuth2SecuritySchemeSettings"},t.prototype.accessTokenUri=function(){return e.prototype.attribute.call(this,"accessTokenUri",function(e){return new we(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new we(e)})},t.prototype.authorizationGrants=function(){return e.prototype.attributes.call(this,"authorizationGrants",this.toString)},t.prototype.setAuthorizationGrants=function(e){return this.highLevel().attrOrCreate("authorizationGrants").setValue(""+e),this},t.prototype.scopes=function(){return e.prototype.attributes.call(this,"scopes",this.toString)},t.prototype.setScopes=function(e){return this.highLevel().attrOrCreate("scopes").setValue(""+e),this},t}(ft);t.OAuth2SecuritySchemeSettingsImpl=vt;var gt=function(e){function t(t){e.call(this,"string"==typeof t?U(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"PassThroughSecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"PassThroughSecuritySchemeSettings"},t.prototype.queryParameterName=function(){return e.prototype.attribute.call(this,"queryParameterName",this.toString)},t.prototype.setQueryParameterName=function(e){return this.highLevel().attrOrCreate("queryParameterName").setValue(""+e),this},t.prototype.headerName=function(){return e.prototype.attribute.call(this,"headerName",this.toString)},t.prototype.setHeaderName=function(e){return this.highLevel().attrOrCreate("headerName").setValue(""+e),this},t}(ft);t.PassThroughSecuritySchemeSettingsImpl=gt;var bt=function(e){function t(t){e.call(this,"string"==typeof t?F(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"OAuth2SecuritySchemeImpl"},t.prototype.getKind=function(){return"OAuth2SecurityScheme"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(ht);t.OAuth2SecuritySchemeImpl=bt;var St=function(e){function t(t){e.call(this,"string"==typeof t?j(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"OAuth1SecuritySchemeImpl"},t.prototype.getKind=function(){return"OAuth1SecurityScheme"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(ht);t.OAuth1SecuritySchemeImpl=St;var At=function(e){function t(t){e.call(this,"string"==typeof t?K(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"PassThroughSecuritySchemeImpl"},t.prototype.getKind=function(){return"PassThroughSecurityScheme"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(ht);t.PassThroughSecuritySchemeImpl=At;var Tt=function(e){function t(t){e.call(this,"string"==typeof t?V(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"BasicSecuritySchemeImpl"},t.prototype.getKind=function(){return"BasicSecurityScheme"},t}(ht);t.BasicSecuritySchemeImpl=Tt;var wt=function(e){function t(t){e.call(this,"string"==typeof t?B(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"DigestSecuritySchemeImpl"},t.prototype.getKind=function(){return"DigestSecurityScheme"},t}(ht);t.DigestSecuritySchemeImpl=wt;var Pt=function(e){function t(t){e.call(this,"string"==typeof t?q(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"CustomSecuritySchemeImpl"},t.prototype.getKind=function(){return"CustomSecurityScheme"},t}(ht);t.CustomSecuritySchemeImpl=Pt;var Mt=function(e){function t(t){e.call(this,"string"==typeof t?H(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ResourceBaseImpl"},t.prototype.getKind=function(){return"ResourceBase"},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new me(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new pe(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new de(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t}(oe);t.ResourceBaseImpl=Mt;var Et=function(e){function t(t){e.call(this,"string"==typeof t?G(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeImpl"},t.prototype.getKind=function(){return"ResourceType"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(Mt);t.ResourceTypeImpl=Et;var Ct=function(e){function t(t){e.call(this,"string"==typeof t?W(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ResourceImpl"},t.prototype.getKind=function(){return"Resource"},t.prototype.signature=function(){return e.prototype.attribute.call(this,"signature",function(e){return new Ne(e)})},t.prototype.relativeUri=function(){return e.prototype.attribute.call(this,"relativeUri",function(e){return new Se(e)})},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.completeRelativeUri=function(){return ae.completeRelativeUri(this)},t.prototype.absoluteUri=function(){return ae.absoluteUri(this)},t.prototype.parentResource=function(){return ae.parent(this)},t.prototype.getChildResource=function(e){return ae.getChildResource(this,e)},t.prototype.getChildMethod=function(e){return ae.getChildMethod(this,e)},t.prototype.ownerApi=function(){return ae.ownerApi(this)},t.prototype.allUriParameters=function(){return ae.uriParameters(this)},t.prototype.absoluteUriParameters=function(){return ae.absoluteUriParameters(this)},t}(Mt);t.ResourceImpl=Ct;var Nt=function(e){function t(t){e.call(this,"string"==typeof t?z(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"AnnotationTypeDeclarationImpl"},t.prototype.getKind=function(){return"AnnotationTypeDeclaration"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.parameters=function(){return e.prototype.elements.call(this,"parameters")},t.prototype.allowMultiple=function(){return e.prototype.attribute.call(this,"allowMultiple",this.toBoolean)},t.prototype.setAllowMultiple=function(e){return this.highLevel().attrOrCreate("allowMultiple").setValue(""+e),this},t.prototype.allowedTargets=function(){return e.prototype.attributes.call(this,"allowedTargets",function(e){return new ye(e)})},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t}(oe);t.AnnotationTypeDeclarationImpl=Nt;var _t=function(e){function t(){e.apply(this,arguments)}return ee(t,e),t.prototype.wrapperClassName=function(){return"RAMLSimpleElementImpl"},t.prototype.getKind=function(){return"RAMLSimpleElement"},t}(re.BasicNodeImpl);t.RAMLSimpleElementImpl=_t;var It=function(e){function t(t){e.call(this,"string"==typeof t?Y(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ImportDeclarationImpl"},t.prototype.getKind=function(){return"ImportDeclaration"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.element.call(this,"value")},t}(_t);t.ImportDeclarationImpl=It;var Rt=function(e){function t(t){e.call(this,"string"==typeof t?J(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"GlobalSchemaImpl"},t.prototype.getKind=function(){return"GlobalSchema"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.attribute.call(this,"value",function(e){return new Ne(e)})},t}(_t);t.GlobalSchemaImpl=Rt;var xt=function(e){function t(t){e.call(this,"string"==typeof t?r(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ApiImpl"},t.prototype.getKind=function(){return"Api"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.version=function(){return e.prototype.attribute.call(this,"version",this.toString);
},t.prototype.setVersion=function(e){return this.highLevel().attrOrCreate("version").setValue(""+e),this},t.prototype.baseUri=function(){return e.prototype.attribute.call(this,"baseUri",function(e){return new Ae(e)})},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.mediaType=function(){return e.prototype.attribute.call(this,"mediaType",function(e){return new Oe(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new de(e)})},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.documentation=function(){return e.prototype.elements.call(this,"documentation")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new ke(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.securitySchemaTypes=function(){return e.prototype.elements.call(this,"securitySchemaTypes")},t.prototype.expand=function(){return ae.expandTraitsAndResourceTypes(this)},t.prototype.allTraits=function(){return ae.allTraits(this)},t.prototype.allResourceTypes=function(){return ae.allResourceTypes(this)},t.prototype.getChildResource=function(e){return ae.getChildResource(this,e)},t.prototype.allResources=function(){return ae.allResources(this)},t.prototype.allBaseUriParameters=function(){return ae.baseUriParameters(this)},t}(ct);t.ApiImpl=xt;var Lt=function(e){function t(t){e.call(this,"string"==typeof t?X(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"OverlayImpl"},t.prototype.getKind=function(){return"Overlay"},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.masterRef=function(){return e.prototype.attribute.call(this,"masterRef",this.toString)},t.prototype.setMasterRef=function(e){return this.highLevel().attrOrCreate("masterRef").setValue(""+e),this},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t}(xt);t.OverlayImpl=Lt;var Ot=function(e){function t(t){e.call(this,"string"==typeof t?$(t):t),this.nodeOrKey=t}return ee(t,e),t.prototype.wrapperClassName=function(){return"ExtensionImpl"},t.prototype.getKind=function(){return"Extension"},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.masterRef=function(){return e.prototype.attribute.call(this,"masterRef",this.toString)},t.prototype.setMasterRef=function(e){return this.highLevel().attrOrCreate("masterRef").setValue(""+e),this},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t}(xt);t.ExtensionImpl=Ot,t.loadApi=Q,t.loadApiAsync=Z},function(e,t,n){function r(e){var t={};return e.attrs().forEach(function(e){t[e.property().nameId()]=e.value()}),e.elements().forEach(function(e){var n=t[e.property().nameId()];Array.isArray(n)&&n.push(r(e)),t[e.property().nameId()]=e.property().isMultiValue()?[r(e)]:r(e)}),t}function i(e){if(null==e)return null;var n=e.contents(),r=e.ast(),i=t.getDefinitionSystemType(n,r),a=i.ptype,o=i.localUniverse,s=o.type(a);s||(s=o.type("Api"));var u=new A.ASTNodeImpl(r,null,s,null);return u.setUniverse(o),u}function a(e){return e.parent()?a(e.parent())+"/"+e.localId():void 0}function o(e,t){for(var n=e.children(),r=n.length,i=0;r>i;i++){var a=n[i];if(a.lowLevel().start()>t)break;if(!(a.lowLevel().end()<t)){var s=o(a,t);return null!=s?s:a}}}function s(e){return 0==e.getKind()}function u(e){return 2==e.getKind()}function l(e){return 1==e.getKind()}function c(e){return l(e)&&e.definition&&(e.definition().key()==b.Universe08.Resource||e.definition().key()==b.Universe10.Resource)}function p(e){if(!c(e))return!1;var t=e,n=t.attr(b.Universe10.Resource.properties.relativeUri.name);if(n&&n.value()&&"string"==typeof n.value()&&n.value().indexOf(".")>=0){var r=t.attrValue(b.Universe10.Resource.properties.signature.name);return r?"string"==typeof r&&0==r.length?!1:!0:!1}return!1}function m(e){var t=e.lowLevel().unit().contents();return t.indexOf("#%RAML 1.0")>=0}function d(e){var t=e.lowLevel().unit().contents();return t.indexOf("#%RAML 0.8")>=0}function h(e){return e.getKind?2!=e.getKind()?null:e:null}function f(e){return e.getKind?1!=e.getKind()?null:e:null}function y(e){return f(e)&&f(e).definition().key()==b.Universe10.Library}function v(e){return y(e)?f(e).attrValue("name"):null}var g=n(16),b=n(20);!function(e){e[e.BASIC=0]="BASIC",e[e.NODE=1]="NODE",e[e.ATTRIBUTE=2]="ATTRIBUTE"}(t.NodeKind||(t.NodeKind={}));t.NodeKind;!function(e){e[e.UNRESOLVED_REFERENCE=0]="UNRESOLVED_REFERENCE",e[e.YAML_ERROR=1]="YAML_ERROR",e[e.UNKNOWN_NODE=2]="UNKNOWN_NODE",e[e.MISSING_REQUIRED_PROPERTY=3]="MISSING_REQUIRED_PROPERTY",e[e.PROPERTY_EXPECT_TO_HAVE_SINGLE_VALUE=4]="PROPERTY_EXPECT_TO_HAVE_SINGLE_VALUE",e[e.KEY_SHOULD_BE_UNIQUE_INTHISCONTEXT=5]="KEY_SHOULD_BE_UNIQUE_INTHISCONTEXT",e[e.UNABLE_TO_RESOLVE_INCLUDE_FILE=6]="UNABLE_TO_RESOLVE_INCLUDE_FILE",e[e.INVALID_VALUE_SCHEMA=7]="INVALID_VALUE_SCHEMA",e[e.MISSED_CONTEXT_REQUIREMENT=8]="MISSED_CONTEXT_REQUIREMENT",e[e.NODE_HAS_VALUE=9]="NODE_HAS_VALUE",e[e.ONLY_OVERRIDE_ALLOWED=10]="ONLY_OVERRIDE_ALLOWED"}(t.IssueCode||(t.IssueCode={}));var S=(t.IssueCode,function(){function e(){this.code=0}return e.prototype.isOk=function(){return 0==this.code},e}());t.Problem=S,t.ast2Object=r,t.universeProvider=n(100);var A=n(23);t.getDefinitionSystemType=function(e,n){for(var r="",i="Api",a=0,o=0,s=0;s<e.length;s++){var u=e.charAt(s);if("\r"==u||"\n"==u){r?i=e.substring(o,s).trim():r=e.substring(0,s).trim();break}" "==u&&(a++,r||2!=a||(r=e.substring(0,s),o=s))}var l="#%RAML 1.0"==r?new g.Universe("RAML10",t.universeProvider("RAML10"),"RAML10"):new g.Universe("RAML08",t.universeProvider("RAML08"));return"API"==i&&(i="Api"),"NamedExample"==i&&(i="ExampleSpec"),"DataType"==i&&(i="TypeDeclaration"),"SecurityScheme"==i&&(i="AbstractSecurityScheme"),l.setTopLevel(i),l.setTypedVersion(r),{ptype:i,localUniverse:l}},t.fromUnit=i,t.globalId=a,t.nodeAtPosition=o,t.kindBasic=s,t.kindAttribute=u,t.kindNode=l,t.isResourceNode=c,t.isResourceWithSignature=p,t.isRAML10=m,t.isRAML08=d,t.asAttribute=h,t.asNode=f,t.isLibrary=y,t.getLibraryName=v},function(e,t,n){function r(e){e instanceof l.AbstractType&&e.addAdapter(new c.RAMLService(e)),e instanceof l.Property&&e.addAdapter(new c.RAMLPropertyService(e))}function i(e,t,n,r){var i=new w(e,t);return i.withDomain(n).withRange(r)}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=n(17),s=n(18),u=n(20),l=n(21),c=n(22),p={inject:function(e){r(e)}};l.registerInjector(p);var m=function(){function e(e){this._name=e}return e.prototype.name=function(){return this._name},e}();t.Annotation=m;var d=function(){function e(e,t){this.name=e,this.value=t}return e}();t.ValueRequirement=d;var h=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(l.AbstractType);t.AbstractType=h;var f=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(l.ValueType);t.ValueType=f;var y=function(e){function t(){e.apply(this,arguments),this.values=[]}return a(t,e),t}(f);t.EnumType=y;var v=function(e){function t(t,n,r,i){e.call(this,t,i,n),this.referenceTo=r}return a(t,e),t.prototype.getReferencedType=function(){return this.universe().type(this.referenceTo)},t.prototype.hasStructure=function(){var e=this.getReferencedType();return e?e.getAdapter(c.RAMLService).isInlinedTemplates()||null!=e.getAdapter(c.RAMLService).findMembersDeterminer()||e.key()==u.Universe08.SecuritySchema||e.key()===u.Universe10.AbstractSecurityScheme:!1},t}(f);t.ReferenceType=v;var g=function(e){function t(t,n,r,i){void 0===i&&(i=""),e.call(this,t,n,r)}return a(t,e),t.prototype.isUserDefined=function(){return!1},t.prototype.getRepresentationOf=function(){return this.getAdapter(c.RAMLService).getRepresentationOf()},t.prototype.allProperties=function(t){return void 0===t&&(t={}),e.prototype.allProperties.call(this,t)},t}(l.StructuredType);t.NodeClass=g;var b=function(e){function t(t,n,r,i,a){e.call(this,t,n,i,a),this.getAdapter(c.RAMLService).setDeclaringNode(r)}return a(t,e),t.prototype.key=function(){return null},t.prototype.isUserDefined=function(){return!0},t.prototype.contributeFacets=function(e){this.findFacets(this.getAdapter(c.RAMLService).getDeclaringNode(),e)},t.prototype.findFacets=function(e,t){if(e){var n=e.lowLevel().children(),r=o.find(n,function(e){return"minProperties"==e.key()});r&&(t[r.key()]=r);var r=o.find(n,function(e){return"maxProperties"==e.key()});r&&(t[r.key()]=r)}},t.prototype.isValueType=function(){return this._value?!0:this.isAssignableFrom("ObjectTypeDeclaration")?!1:!1},t}(g);t.UserDefinedClass=b;var S=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.allProperties=function(t){void 0===t&&(t={});var n=e.prototype.allProperties.call(this,t);if(n.length<=1){var r=new C("value");r.withDomain(this),r._node=this.getAdapter(c.RAMLService).getDeclaringNode(),r.withCanBeValue(),r.withRequired(!1),r.withRange(this.universe().type("StringType"));var i=[].concat(n);return i.push(r),i}return n},t}(b);t.AnnotationType=S;var A=function(e){function t(t,n,r){void 0===t&&(t=""),void 0===n&&(n=null),void 0===r&&(r="RAML08"),e.call(this,t),this._parent=n,this._classes=[],this._uversion="RAML08",this.aMap={},this._uversion=r}return a(t,e),t.prototype.matched=function(){return this.matchedObjects?this.matchedObjects:this._parent?this._parent.matched():"RAML08"==this._uversion?(this.matchedObjects=u.Universe08,this.matchedObjects):(this.matchedObjects=u.Universe10,this.matchedObjects)},t.prototype.setTopLevel=function(e){this._topLevel=e},t.prototype.getTopLevel=function(){return this._topLevel},t.prototype.setTypedVersion=function(e){this._typedVersion=e},t.prototype.getTypedVersion=function(){return this._typedVersion},t.prototype.version=function(){return this._uversion},t.prototype.setUniverseVersion=function(e){this._uversion=e},t.prototype.types=function(){var e=[].concat(this._classes);return null!=this._parent&&(e=e.concat(this._parent.types())),e},t.prototype.type=function(e){if(this.aMap[e])return this.aMap[e];var t=o.find(this._classes,function(t){return t.nameId()==e});if(null==t&&this._parent){var t=this._parent.type(e);if(t instanceof h){var n=t;n._universe=this}}return t},t.prototype.register=function(e){return this._classes.push(e),e instanceof g&&this._classes.forEach(function(t){if(t instanceof g){var n=t;n.getAdapter(c.RAMLService).getExtendedType()==e&&e.getAdapter(c.RAMLService).getRuntimeExtenders().push(t)}}),this},t.prototype.registerAlias=function(e,t){this.aMap[e]=t},t.prototype.unregister=function(e){this._classes=this._classes.filter(function(t){return t!=e});var t=e.superTypes();return t.forEach(function(t){var n=t;n._superTypes=n._superTypes.filter(function(t){return t!=e})}),t=e.subTypes(),t.forEach(function(t){var n=t;n._subTypes=n._subTypes.filter(function(t){return t!=e})}),this},t.prototype.registerSuperClass=function(e,t){var n=e,r=t;n._superTypes.push(t),r._subTypes.push(e)},t}(l.Described);t.Universe=A,t.prop=i;var T=function(){function e(e,t){this.name=e,this.value=t}return e}();t.ChildValueConstraint=T;var w=function(e){function t(){e.apply(this,arguments),this._isFromParentValue=!1,this._isFromParentKey=!1,this._key=!1,this._describes=null,this._selfNode=!1,this._noDirectParse=!1,this._contextReq=[],this.determinesChildValues=[]}return a(t,e),t.prototype.withNoDirectParse=function(){this._noDirectParse=!0},t.prototype.isNoDirectParse=function(){return this._noDirectParse},t.prototype.withSelfNode=function(){this._selfNode=!0},t.prototype.isSelfNode=function(){return this._selfNode},t.prototype.matchKey=function(t){return null!=this._groupName?this.isAnnotation()?"("==t.charAt(0)&&")"==t.charAt(t.length-1)?!0:!1:this._groupName==t:e.prototype.matchKey.call(this,t)},t.prototype.getSelector=function(e){var t=this._selector;return t instanceof s.Selector?t:e&&this._selector?s.parse(e,this._selector):null},t.prototype.setSelector=function(e){return this._selector=e,this},t.prototype.valueDocProvider=function(){return this._vprovider},t.prototype.setValueDocProvider=function(e){return this._vprovider=e,this},t.prototype.suggester=function(){return this._suggester},t.prototype.setValueSuggester=function(e){this._suggester=e},t.prototype.enumOptions=function(){return this._enumOptions&&"string"==typeof this._enumOptions?[this._enumOptions+""]:this._enumOptions},t.prototype.getOftenKeys=function(){return this._oftenKeys},t.prototype.withOftenKeys=function(e){return this._oftenKeys=e,this},t.prototype.withCanBeValue=function(){return this._canBeValue=!0,this},t.prototype.withInherited=function(e){this._isInherited=e},t.prototype.isInherited=function(){return this._isInherited},t.prototype.isAllowNull=function(){return this._isAllowNull},t.prototype.withAllowNull=function(){this._isAllowNull=!0},t.prototype.getCanBeDuplicator=function(){return this._canBeDuplicator},t.prototype.canBeValue=function(){return this._canBeValue},t.prototype.setCanBeDuplicator=function(){return this._canBeDuplicator=!0,!0},t.prototype.inheritedContextValue=function(){return this._inheritsValueFromContext},t.prototype.withInheritedContextValue=function(e){return this._inheritsValueFromContext=e,this},t.prototype.withContextRequirement=function(e,t){this._contextReq.push({name:e,value:t})},t.prototype.getContextRequirements=function(){return this._contextReq},t.prototype.withDescribes=function(e){return this._describes=e,this},t.prototype.describesAnnotation=function(){return null!=this._describes},t.prototype.describedAnnotation=function(){return this._describes},t.prototype.isReference=function(){return this.range()instanceof v},t.prototype.referencesTo=function(){return this.range().getReferencedType()},t.prototype.newInstanceName=function(){return this._newInstanceName?this._newInstanceName:this.range().nameId()},t.prototype.withThisPropertyDeclaresFields=function(e){return void 0===e&&(e=!0),this._declaresFields=e,this},t.prototype.isThisPropertyDeclaresTypeFields=function(){return this._declaresFields},t.prototype.withNewInstanceName=function(e){return this._newInstanceName=e,this},t.prototype.addChildValueConstraint=function(e){this.determinesChildValues.push(e)},t.prototype.getChildValueConstraints=function(){return this.determinesChildValues},t.prototype.childRestrictions=function(){return this.determinesChildValues},t.prototype.id=function(){return this._id?this._id:this._groupName?this.domain().getAdapter(c.RAMLService).getDeclaringNode()?null:(this._id=this._groupName+this.domain().nameId(),this._id):null},t.prototype.isAnnotation=function(){return"annotations"==this._groupName&&this.domain()&&!this.domain().isUserDefined()},t.prototype.withFromParentValue=function(e){return void 0===e&&(e=!0),this._isFromParentValue=e,this},t.prototype.withFromParentKey=function(e){return void 0===e&&(e=!0),this._isFromParentKey=e,this},t.prototype.isFromParentKey=function(){return this._isFromParentKey},t.prototype.isFromParentValue=function(){return this._isFromParentValue},t.prototype.withGroupName=function(e){return this._groupName=e,this},t.prototype.unmerge=function(){return this._groupName=this.nameId(),this},t.prototype.merge=function(){return this._groupName=null,this},t.prototype.withKey=function(e){return this._key=e,this},t.prototype.isKey=function(){return this._key},t.prototype.isMerged=function(){return null==this._groupName},t.prototype.isPrimitive=function(){if(!this.range())return!0;var e=this.range().key();return e==u.Universe08.StringType||e==u.Universe10.StringType?!0:e==u.Universe08.NumberType||e==u.Universe10.NumberType?!0:e==u.Universe08.BooleanType||e==u.Universe10.BooleanType?!0:!1},t.prototype.groupName=function(){return this._groupName},t.prototype.key=function(){return null},t}(l.Property);t.Property=w;var P=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.findFacets=function(e,t){if(e){var n=e.lowLevel().children(),r=o.find(n,function(e){return"minItems"==e.key()});r&&(t[r.key()]=r);var r=o.find(n,function(e){return"maxItems"==e.key()});r&&(t[r.key()]=r);var r=o.find(n,function(e){return"uniqueItems"==e.key()});r&&(t[r.key()]=r)}},t}(l.Array);t.Array=P;var M=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.isUserDefined=function(){return!0},t}(g);t.ExternalType=M;var E=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(l.Union);t.Union=E;var C=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.withDisplayName=function(e){this._displayName=e},t.prototype.getDisplayName=function(){return this._displayName},t.prototype.node=function(){return this._node},t}(w);t.UserDefinedProp=C},function(e,t){e.exports=require("underscore")},function(e,t,n){function r(e,t){if("or"==e.type){var n=e,i=r(n.left,t),a=r(n.right,t);return new c(i,a)}if("dot"==e.type){var n=e,i=r(n.left,t),a=r(n.right,t);return new p(i,a)}if("classLiteral"==e.type){var o=e,s=t.definition().universe().type(o.name);if(null==s||s.isValueType())throw new Error("Referencing unknown type:"+o.name);return new m(o.name)}return"parent"==e.type?new f:"ancestor"==e.type?new d:"descendant"==e.type?new h:"child"==e.type?new y:void 0}function i(e,t){t.push(e),e.elements().forEach(function(e){return i(e,t)})}function a(e,t){return r(u.parse(t),e)}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(17),u=n(19),l=function(){function e(){}return e.prototype.candidates=function(e){return e},e.prototype.apply=function(e){return this.candidates([e])},e}();t.Selector=l;var c=function(e){function t(t,n){e.call(this),this.left=t,this.right=n}return o(t,e),t.prototype.candidates=function(e){var t=this.left.candidates(e);return t=t.concat(this.right.candidates(e)),s.unique(t)},t}(l);t.OrMatch=c;var p=function(e){function t(t,n){e.call(this),this.left=t,this.right=n}return o(t,e),t.prototype.candidates=function(e){var t=this.left.candidates(e);return this.left instanceof d?(t=this.right.candidates((new h).candidates(t)),s.unique(t)):this.left instanceof f?(t=this.right.candidates((new h).candidates(t)),s.unique(t)):(t=this.right.candidates(t),s.unique(t))},t}(l);t.DotMatch=p,t.resolveSelector=r;var m=function(e){function t(t){e.call(this),this.name=t}return o(t,e),t.prototype.candidates=function(e){var t=this;return e.filter(function(e){if(!e)return!1;if(e.definition().nameId()==t.name)return!0;var n=e.definition().allSuperTypes();return s.find(n,function(e){return e.nameId()==t.name})?!0:!1})},t}(l);t.IdMatch=m;var d=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){if(e)for(var n=e.parent();n;)t.push(n),n=n.parent()}),s.unique(t)},t}(l);t.AnyParentMatch=d;var h=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){e&&i(e,t)}),s.unique(t)},t}(l);t.AnyChildMatch=h;var f=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){return e.map(function(e){return e.parent()})},t}(l);t.ParentMatch=f;var y=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){e&&(t=t.concat(e.elements()))}),t},t}(l);t.ChildMatch=y,t.parse=a},function(e,t){var n=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i,a){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=a,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var i,a;for(i=n;r>i;i++)a=e.charAt(i),"\n"===a?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return q!==t&&(q>t&&(q=0,H={line:1,column:1,seenCR:!1}),n(H,q,t),q=t),H}function r(e){G>V||(V>G&&(G=V,W=[]),W.push(e))}function i(r,i,a){function o(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=n(a),l=a<e.length?e.charAt(a):null;return null!==i&&o(i),new t(null!==r?r:s(i,l),i,l,a,u.line,u.column)}function a(){var e;return e=o()}function o(){var t,n,i,a;return t=V,n=s(),n!==y?(124===e.charCodeAt(V)?(i=S,V++):(i=y,0===z&&r(A)),i!==y?(a=o(),a!==y?(B=t,n=T(n,a),t=n):(V=t,t=b)):(V=t,t=b)):(V=t,t=b),t===y&&(t=s()),t}function s(){var t,n,i,a;return t=V,n=u(),n!==y?(46===e.charCodeAt(V)?(i=w,V++):(i=y,0===z&&r(P)),i!==y?(a=s(),a!==y?(B=t,n=M(n,a),t=n):(V=t,t=b)):(V=t,t=b)):(V=t,t=b),t===y&&(t=u()),t}function u(){var e;return e=d(),e===y&&(e=p(),e===y&&(e=m(),e===y&&(e=c(),e===y&&(e=l())))),e}function l(){var t,n;return t=V,36===e.charCodeAt(V)?(n=E,V++):(n=y,0===z&&r(C)),n!==y&&(B=t,n=N()),t=n}function c(){var t,n;return t=V,e.substr(V,2)===_?(n=_,V+=2):(n=y,0===z&&r(I)),n!==y&&(B=t,n=R()),t=n}function p(){var t,n;return t=V,e.substr(V,2)===x?(n=x,V+=2):(n=y,0===z&&r(L)),n!==y&&(B=t,n=O()),t=n}function m(){var t,n;return t=V,42===e.charCodeAt(V)?(n=k,V++):(n=y,0===z&&r(D)),n!==y&&(B=t,n=U()),t=n}function d(){var t,n,i;if(t=V,n=[],F.test(e.charAt(V))?(i=e.charAt(V),V++):(i=y,0===z&&r(j)),i!==y)for(;i!==y;)n.push(i),F.test(e.charAt(V))?(i=e.charAt(V),V++):(i=y,0===z&&r(j));else n=b;return n!==y&&(B=t,n=K(n)),t=n}var h,f=arguments.length>1?arguments[1]:{},y={},v={start:a},g=a,b=y,S="|",A={type:"literal",value:"|",description:'"|"'},T=function(e,t){return{type:"or",left:e,right:t?t:null}},w=".",P={type:"literal",value:".",description:'"."'},M=function(e,t){return{type:"dot",left:e,right:t}},E="$",C={type:"literal",value:"$",description:'"$"'},N=function(){return{type:"parent"}},_="$$",I={type:"literal",value:"$$",description:'"$$"'},R=function(){return{type:"ancestor"}},x="**",L={type:"literal",value:"**",description:'"**"'},O=function(){return{type:"descendant"}},k="*",D={type:"literal",value:"*",description:'"*"'},U=function(){return{type:"child"}},F=/^[A-z]/,j={type:"class",value:"[A-z]",description:"[A-z]"},K=function(e){return{type:"classLiteral",name:e.join("")}},V=0,B=0,q=0,H={line:1,column:1,seenCR:!1},G=0,W=[],z=0;if("startRule"in f){if(!(f.startRule in v))throw new Error("Can't start parsing from rule \""+f.startRule+'".');g=v[f.startRule]}if(h=g(),h!==y&&V===e.length)return h;throw h!==y&&V<e.length&&r({type:"end",description:"end of input"}),i(null,W,G)}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t){var n={Universe08:{GlobalSchema:{name:"GlobalSchema",properties:{key:{name:"key"},value:{name:"value"}}},Api:{name:"Api",properties:{title:{name:"title"},version:{name:"version"},baseUri:{name:"baseUri"},baseUriParameters:{name:"baseUriParameters"},uriParameters:{name:"uriParameters"},protocols:{name:"protocols"},mediaType:{name:"mediaType"},schemas:{name:"schemas"},traits:{name:"traits"},securedBy:{name:"securedBy"},securitySchemes:{name:"securitySchemes"},resourceTypes:{name:"resourceTypes"},resources:{name:"resources"},documentation:{name:"documentation"}}},DocumentationItem:{name:"DocumentationItem",properties:{title:{name:"title"},content:{name:"content"}}},ValueType:{name:"ValueType",properties:{}},StringType:{name:"StringType",properties:{}},NumberType:{name:"NumberType",properties:{}},BooleanType:{name:"BooleanType",properties:{}},Referencable:{name:"Referencable",properties:{}},Reference:{name:"Reference",properties:{}},DeclaresDynamicType:{name:"DeclaresDynamicType",properties:{}},UriTemplate:{name:"UriTemplate",properties:{}},RelativeUriString:{name:"RelativeUriString",properties:{}},FullUriTemplateString:{name:"FullUriTemplateString",properties:{}},FixedUri:{name:"FixedUri",properties:{}},MarkdownString:{name:"MarkdownString",properties:{}},SchemaString:{name:"SchemaString",properties:{}},JSonSchemaString:{name:"JSonSchemaString",properties:{}},XMLSchemaString:{name:"XMLSchemaString",properties:{}},ExampleString:{name:"ExampleString",properties:{}},StatusCodeString:{name:"StatusCodeString",properties:{}},JSONExample:{name:"JSONExample",properties:{}},XMLExample:{name:"XMLExample",properties:{}},ResourceTypeRef:{name:"ResourceTypeRef",properties:{}},TraitRef:{name:"TraitRef",properties:{}},SecuritySchemaPart:{name:"SecuritySchemaPart",properties:{}},SecuritySchemaSettings:{name:"SecuritySchemaSettings",properties:{}},OAuth1SecuritySchemeSettings:{name:"OAuth1SecuritySchemeSettings",properties:{requestTokenUri:{name:"requestTokenUri"},authorizationUri:{name:"authorizationUri"},tokenCredentialsUri:{name:"tokenCredentialsUri"}}},OAuth2SecuritySchemeSettings:{name:"OAuth2SecuritySchemeSettings",properties:{accessTokenUri:{name:"accessTokenUri"},authorizationUri:{name:"authorizationUri"},authorizationGrants:{name:"authorizationGrants"},scopes:{name:"scopes"}}},SecuritySchemaRef:{name:"SecuritySchemaRef",properties:{}},SecuritySchema:{name:"SecuritySchema",properties:{name:{name:"name"},type:{name:"type"},description:{name:"description"},describedBy:{name:"describedBy"},settings:{name:"settings"}}},MethodBase:{name:"MethodBase",properties:{responses:{name:"responses"},body:{name:"body"},is:{name:"is"},securedBy:{name:"securedBy"}}},Trait:{name:"Trait",properties:{name:{name:"name"},usage:{name:"usage"}}},ResourceType:{name:"ResourceType",properties:{name:{name:"name"},usage:{name:"usage"},methods:{name:"methods"},is:{name:"is"},type:{name:"type"},securedBy:{name:"securedBy"},uriParameters:{name:"uriParameters"}}},Method:{name:"Method",properties:{method:{name:"method"},protocols:{name:"protocols"},securedBy:{name:"securedBy"}}},Resource:{name:"Resource",properties:{relativeUri:{name:"relativeUri"},type:{name:"type"},is:{name:"is"},securedBy:{name:"securedBy"},uriParameters:{name:"uriParameters"},methods:{name:"methods"},resources:{name:"resources"},displayName:{name:"displayName"},baseUriParameters:{name:"baseUriParameters"}}},Parameter:{name:"Parameter",properties:{name:{name:"name"},displayName:{name:"displayName"},type:{name:"type"},location:{name:"location"},required:{name:"required"},"default":{name:"default"},example:{name:"example"},repeat:{name:"repeat"}}},StringTypeDeclaration:{name:"StringTypeDeclaration",properties:{pattern:{name:"pattern"},"enum":{name:"enum"},minLength:{name:"minLength"},maxLength:{name:"maxLength"}}},BooleanTypeDeclaration:{name:"BooleanTypeDeclaration",properties:{}},NumberTypeDeclaration:{name:"NumberTypeDeclaration",properties:{minimum:{name:"minimum"},maximum:{name:"maximum"}}},IntegerTypeDeclaration:{name:"IntegerTypeDeclaration",properties:{}},DateTypeDeclaration:{name:"DateTypeDeclaration",properties:{}},FileTypeDeclaration:{name:"FileTypeDeclaration",properties:{}},HasNormalParameters:{name:"HasNormalParameters",properties:{queryParameters:{name:"queryParameters"},displayName:{name:"displayName"},headers:{name:"headers"}}},ParameterLocation:{name:"ParameterLocation",properties:{}},RAMLLanguageElement:{name:"RAMLLanguageElement",properties:{description:{name:"description"}}},RAMLSimpleElement:{name:"RAMLSimpleElement",properties:{}},MimeTypeModel:{name:"MimeTypeModel",properties:{type:{name:"type"},tree:{name:"tree"},subtype:{name:"subtype"},suffix:{name:"suffix"},parameters:{name:"parameters"}}},MimeType:{name:"MimeType",properties:{}},BodyLike:{name:"BodyLike",properties:{name:{name:"name"},schema:{name:"schema"},example:{name:"example"},formParameters:{name:"formParameters"}}},XMLBody:{name:"XMLBody",properties:{schema:{name:"schema"}}},JSONBody:{name:"JSONBody",properties:{schema:{name:"schema"}}},Response:{name:"Response",properties:{code:{name:"code"},headers:{name:"headers"},body:{name:"body"}}}},Universe10:{GlobalSchema:{name:"GlobalSchema",properties:{key:{name:"key"},value:{name:"value"}}},ImportDeclaration:{name:"ImportDeclaration",properties:{key:{name:"key"},value:{name:"value"}}},Library:{name:"Library",properties:{usage:{name:"usage"}}},LibraryBase:{name:"LibraryBase",properties:{name:{name:"name"},schemas:{name:"schemas"},types:{name:"types"},traits:{name:"traits"},resourceTypes:{name:"resourceTypes"},annotationTypes:{name:"annotationTypes"},securitySchemaTypes:{name:"securitySchemaTypes"},securitySchemes:{name:"securitySchemes"},uses:{name:"uses"}}},Overlay:{name:"Overlay",properties:{usage:{name:"usage"},masterRef:{name:"masterRef"},title:{name:"title"}}},Extension:{name:"Extension",properties:{usage:{name:"usage"},masterRef:{name:"masterRef"},title:{name:"title"}}},Api:{name:"Api",properties:{title:{name:"title"},version:{name:"version"},baseUri:{name:"baseUri"},baseUriParameters:{name:"baseUriParameters"},protocols:{name:"protocols"},mediaType:{name:"mediaType"},securedBy:{name:"securedBy"},resources:{name:"resources"},documentation:{name:"documentation"},displayName:{name:"displayName"},name:{name:"name"},description:{name:"description"},annotations:{name:"annotations"},securitySchemaTypes:{name:"securitySchemaTypes"}}},DocumentationItem:{name:"DocumentationItem",properties:{title:{name:"title"},content:{name:"content"}}},ScriptSpec:{name:"ScriptSpec",properties:{language:{name:"language"},content:{name:"content"}}},ApiDescription:{name:"ApiDescription",properties:{apiFiles:{name:"apiFiles"},script:{name:"script"},type:{name:"type"}}},CallbackAPIDescription:{name:"CallbackAPIDescription",properties:{callbackFor:{name:"callbackFor"}}},RAMLProject:{name:"RAMLProject",properties:{relatedProjects:{name:"relatedProjects"},declaredApis:{name:"declaredApis"},license:{name:"license"},overview:{name:"overview"},url:{name:"url"}}},ValueType:{name:"ValueType",properties:{}},StringType:{name:"StringType",properties:{}},NumberType:{name:"NumberType",properties:{}},BooleanType:{name:"BooleanType",properties:{}},Referencable:{name:"Referencable",properties:{}},Reference:{name:"Reference",properties:{}},DeclaresDynamicType:{name:"DeclaresDynamicType",properties:{}},UriTemplate:{name:"UriTemplate",properties:{}},StatusCodeString:{name:"StatusCodeString",properties:{}},RelativeUriString:{
name:"RelativeUriString",properties:{}},FullUriTemplateString:{name:"FullUriTemplateString",properties:{}},FixedUriString:{name:"FixedUriString",properties:{}},ContentType:{name:"ContentType",properties:{}},ValidityExpression:{name:"ValidityExpression",properties:{}},MarkdownString:{name:"MarkdownString",properties:{}},DateFormatSpec:{name:"DateFormatSpec",properties:{}},FunctionalInterface:{name:"FunctionalInterface",properties:{}},SchemaString:{name:"SchemaString",properties:{}},ExampleString:{name:"ExampleString",properties:{}},JSonSchemaString:{name:"JSonSchemaString",properties:{}},XMLSchemaString:{name:"XMLSchemaString",properties:{}},RAMLPointer:{name:"RAMLPointer",properties:{}},RAMLSelector:{name:"RAMLSelector",properties:{}},ResourceTypeRef:{name:"ResourceTypeRef",properties:{}},TraitRef:{name:"TraitRef",properties:{}},SecuritySchemePart:{name:"SecuritySchemePart",properties:{headers:{name:"headers"},queryParameters:{name:"queryParameters"},queryString:{name:"queryString"},responses:{name:"responses"},is:{name:"is"},securedBy:{name:"securedBy"},displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},SecuritySchemaType:{name:"SecuritySchemaType",properties:{requiredSettings:{name:"requiredSettings"},describedBy:{name:"describedBy"}}},SecuritySchemeSettings:{name:"SecuritySchemeSettings",properties:{}},OAuth1SecuritySchemeSettings:{name:"OAuth1SecuritySchemeSettings",properties:{requestTokenUri:{name:"requestTokenUri"},authorizationUri:{name:"authorizationUri"},tokenCredentialsUri:{name:"tokenCredentialsUri"},signatures:{name:"signatures"}}},OAuth2SecuritySchemeSettings:{name:"OAuth2SecuritySchemeSettings",properties:{accessTokenUri:{name:"accessTokenUri"},authorizationUri:{name:"authorizationUri"},authorizationGrants:{name:"authorizationGrants"},scopes:{name:"scopes"}}},PassThroughSecuritySchemeSettings:{name:"PassThroughSecuritySchemeSettings",properties:{queryParameterName:{name:"queryParameterName"},headerName:{name:"headerName"}}},SecuritySchemeRef:{name:"SecuritySchemeRef",properties:{}},AbstractSecurityScheme:{name:"AbstractSecurityScheme",properties:{name:{name:"name"},type:{name:"type"},description:{name:"description"},describedBy:{name:"describedBy"},settings:{name:"settings"}}},OAuth2SecurityScheme:{name:"OAuth2SecurityScheme",properties:{settings:{name:"settings"}}},OAuth1SecurityScheme:{name:"OAuth1SecurityScheme",properties:{settings:{name:"settings"}}},PassThroughSecurityScheme:{name:"PassThroughSecurityScheme",properties:{settings:{name:"settings"}}},BasicSecurityScheme:{name:"BasicSecurityScheme",properties:{}},DigestSecurityScheme:{name:"DigestSecurityScheme",properties:{}},CustomSecurityScheme:{name:"CustomSecurityScheme",properties:{}},MethodBase:{name:"MethodBase",properties:{responses:{name:"responses"},body:{name:"body"},protocols:{name:"protocols"},is:{name:"is"},securedBy:{name:"securedBy"}}},Trait:{name:"Trait",properties:{name:{name:"name"},usage:{name:"usage"},uses:{name:"uses"}}},ResourceBase:{name:"ResourceBase",properties:{methods:{name:"methods"},is:{name:"is"},type:{name:"type"},securedBy:{name:"securedBy"},uriParameters:{name:"uriParameters"}}},ResourceType:{name:"ResourceType",properties:{name:{name:"name"},usage:{name:"usage"},uses:{name:"uses"}}},ResourceTypeOrTrait:{name:"ResourceTypeOrTrait",properties:{usage:{name:"usage"},uses:{name:"uses"},parameters:{name:"parameters"}}},Method:{name:"Method",properties:{signature:{name:"signature"},method:{name:"method"},displayName:{name:"displayName"},description:{name:"description"},queryString:{name:"queryString"},queryParameters:{name:"queryParameters"},headers:{name:"headers"},body:{name:"body"},is:{name:"is"},annotations:{name:"annotations"},securedBy:{name:"securedBy"}}},Resource:{name:"Resource",properties:{signature:{name:"signature"},relativeUri:{name:"relativeUri"},resources:{name:"resources"},displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},FileTypeDeclaration:{name:"FileTypeDeclaration",properties:{fileTypes:{name:"fileTypes"},minLength:{name:"minLength"},maxLength:{name:"maxLength"}}},HasNormalParameters:{name:"HasNormalParameters",properties:{queryParameters:{name:"queryParameters"},headers:{name:"headers"},queryString:{name:"queryString"}}},RAMLLanguageElement:{name:"RAMLLanguageElement",properties:{displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},RAMLSimpleElement:{name:"RAMLSimpleElement",properties:{}},AnnotationTypeDeclaration:{name:"AnnotationTypeDeclaration",properties:{name:{name:"name"},usage:{name:"usage"},parameters:{name:"parameters"},allowMultiple:{name:"allowMultiple"},allowedTargets:{name:"allowedTargets"},displayName:{name:"displayName"},description:{name:"description"}}},AnnotationRef:{name:"AnnotationRef",properties:{}},AnnotationTarget:{name:"AnnotationTarget",properties:{}},Annotation:{name:"Annotation",properties:{name:{name:"name"}}},ExampleSpec:{name:"ExampleSpec",properties:{content:{name:"content"},strict:{name:"strict"},name:{name:"name"},displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},DataElementProperty:{name:"DataElementProperty",properties:{name:{name:"name"},location:{name:"location"},locationKind:{name:"locationKind"},"default":{name:"default"},required:{name:"required"}}},TypeDeclaration:{name:"TypeDeclaration",properties:{name:{name:"name"},facets:{name:"facets"},schema:{name:"schema"},usage:{name:"usage"},type:{name:"type"},location:{name:"location"},locationKind:{name:"locationKind"},"default":{name:"default"},example:{name:"example"},examples:{name:"examples"},repeat:{name:"repeat"},required:{name:"required"},displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},ScalarElement:{name:"ScalarElement",properties:{facets:{name:"facets"},"enum":{name:"enum"}}},ArrayTypeDeclaration:{name:"ArrayTypeDeclaration",properties:{uniqueItems:{name:"uniqueItems"},items:{name:"items"},minItems:{name:"minItems"},maxItems:{name:"maxItems"}}},UnionTypeDeclaration:{name:"UnionTypeDeclaration",properties:{discriminator:{name:"discriminator"}}},DataElementRef:{name:"DataElementRef",properties:{}},ObjectTypeDeclaration:{name:"ObjectTypeDeclaration",properties:{properties:{name:"properties"},minProperties:{name:"minProperties"},maxProperties:{name:"maxProperties"},additionalProperties:{name:"additionalProperties"},patternProperties:{name:"patternProperties"},discriminator:{name:"discriminator"},discriminatorValue:{name:"discriminatorValue"}}},StringTypeDeclaration:{name:"StringTypeDeclaration",properties:{pattern:{name:"pattern"},minLength:{name:"minLength"},maxLength:{name:"maxLength"},"enum":{name:"enum"}}},BooleanTypeDeclaration:{name:"BooleanTypeDeclaration",properties:{}},ValueTypeDeclaration:{name:"ValueTypeDeclaration",properties:{}},NumberTypeDeclaration:{name:"NumberTypeDeclaration",properties:{minimum:{name:"minimum"},maximum:{name:"maximum"},"enum":{name:"enum"},format:{name:"format"},multipleOf:{name:"multipleOf"}}},IntegerTypeDeclaration:{name:"IntegerTypeDeclaration",properties:{format:{name:"format"}}},RAMLPointerElement:{name:"RAMLPointerElement",properties:{target:{name:"target"}}},pointer:{name:"pointer",properties:{}},RAMLExpression:{name:"RAMLExpression",properties:{}},ScriptHookElement:{name:"ScriptHookElement",properties:{declaredIn:{name:"declaredIn"},interfaceName:{name:"interfaceName"}}},SchemaElement:{name:"SchemaElement",properties:{}},DateTypeDeclaration:{name:"DateTypeDeclaration",properties:{dateFormat:{name:"dateFormat"}}},ModelLocation:{name:"ModelLocation",properties:{}},LocationKind:{name:"LocationKind",properties:{}},MimeTypeModel:{name:"MimeTypeModel",properties:{type:{name:"type"},tree:{name:"tree"},subtype:{name:"subtype"},suffix:{name:"suffix"},parameters:{name:"parameters"}}},MimeType:{name:"MimeType",properties:{}},Response:{name:"Response",properties:{code:{name:"code"},headers:{name:"headers"},body:{name:"body"},displayName:{name:"displayName"},description:{name:"description"},annotations:{name:"annotations"}}},Status:{name:"Status",properties:{code:{name:"code"},message:{name:"message"}}},AuthentificationState:{name:"AuthentificationState",properties:{}},AuthentificationParameters:{name:"AuthentificationParameters",properties:{}},AuthData:{name:"AuthData",properties:{authentificationParameters:{name:"authentificationParameters"}}},ParameterSpec:{name:"ParameterSpec",properties:{}},PromptSpec:{name:"PromptSpec",properties:{}},UserResponse:{name:"UserResponse",properties:{}},QueryListener:{name:"QueryListener",properties:{}},EndPoint:{name:"EndPoint",properties:{}},EndPointSpec:{name:"EndPointSpec",properties:{url:{name:"url"},needToSendResponse:{name:"needToSendResponse"}}},SecurityEnvironment:{name:"SecurityEnvironment",properties:{}},AuthentificationManager:{name:"AuthentificationManager",properties:{}},SchemeInfo:{name:"SchemeInfo",properties:{parameterSpec:{name:"parameterSpec"}}},SecurityScheme:{name:"SecurityScheme",properties:{}},SecurityAwareApiClient:{name:"SecurityAwareApiClient",properties:{}},SecuritySchemeHook:{name:"SecuritySchemeHook",properties:{}},StatusCode:{name:"StatusCode",properties:{}}}};e.exports=n},function(e,t,n){function r(e){o.push(e)}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(17),o=[];t.registerInjector=r;var s=function(){function e(){var e=this;this.adapters=[],o.forEach(function(t){return t.inject(e)})}return e.prototype.addAdapter=function(e){this.adapters.push(e)},e.prototype.getAdapter=function(e){var t=null;return this.adapters.forEach(function(n){n instanceof e&&(t=n)}),t},e}();t.Adaptable=s;var u=function(e){function t(t,n){void 0===n&&(n=""),e.call(this),this._name=t,this._description=n,this._tags=[],this._annotations=[]}return i(t,e),t.prototype.nameId=function(){return this._name},t.prototype.description=function(){return this._description},t.prototype.addAnnotation=function(e){this._annotations.push(e)},t.prototype.removeAnnotation=function(e){this._annotations=this._annotations.filter(function(t){return t!=e})},t.prototype.annotations=function(){return[].concat(this._annotations)},t.prototype.tags=function(){return this._tags},t.prototype.withDescription=function(e){return this._description=e,this},t}(s);t.Described=u;var l=function(){function e(e,t){this.name=e,this.value=t}return e}();t.ValueRequirement=l;var c=function(e){function t(t,n){e.call(this,t.nameId()),this.type=t,this.parameters=n}return i(t,e),t.prototype.parameterNames=function(){return Object.keys(this.parameters)},t.prototype.parameter=function(e){return this.parameters[e]},t.prototype.getType=function(){return this.type},t}(u);t.Annotation=c;var p=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r=""),e.call(this,t),this._universe=n,this._path=r,this._superTypes=[],this._subTypes=[],this._requirements=[],this.fixedFacets={},this.uc=!1}return i(t,e),t.prototype.properties=function(){return[]},t.prototype.printDetails=function(){var e="";return e+=this.nameId()+"\n",this.properties().forEach(function(t){e+="  "+t.nameId()+":"+t.range()+"\n"}),e},t.prototype.allFacets=function(e){if(void 0===e&&(e={}),this._allFacets)return this._allFacets;if(e[this.nameId()])return[];e[this.nameId()]=this;var n={};return this.superTypes().length>0&&this.superTypes().forEach(function(r){r instanceof t&&r.allFacets(e).forEach(function(e){return n[e.nameId()]=e})}),this.properties().forEach(function(e){return n[e.nameId()]=e}),this._allFacets=Object.keys(n).map(function(e){return n[e]}),this._allFacets},t.prototype.facet=function(e){return a.find(this.allFacets(),function(t){return t.nameId()==e})},t.prototype.allProperties=function(e){if(void 0===e&&(e={}),this._props)return this._props;if(e[this.nameId()])return[];e[this.nameId()]=this;var n={};this.superTypes().length>0&&this.superTypes().forEach(function(r){r instanceof t?r.allProperties(e).forEach(function(e){return n[e.nameId()]=e}):r.allProperties().forEach(function(e){return n[e.nameId()]=e})});for(var r in this.getFixedFacets())delete n[r];return this.properties().forEach(function(e){return n[e.nameId()]=e}),this._props=Object.keys(n).map(function(e){return n[e]}),this._props},t.prototype.property=function(e){return a.find(this.allProperties(),function(t){return t.nameId()==e})},t.prototype.isValueType=function(){return null!=a.find(this.allSuperTypes(),function(e){var t=e;if(t.uc)return!1;t.uc=!0;try{return e.isValueType()}finally{t.uc=!1}})},t.prototype.isAnnotationType=function(){return!1},t.prototype.hasStructure=function(){return!1},t.prototype.key=function(){return this._key?this._key:this._universe&&(this._key=this.universe().matched()[this.nameId()],!this._key)?null:this._key},t.prototype.isUserDefined=function(){return!1},t.prototype.isArray=function(){var e=null!=a.find(this.allSuperTypes(),function(e){return e instanceof y});return e},t.prototype.array=function(){var e=this.allSuperTypes(),t=null;return e.forEach(function(e){e instanceof y&&(t=e)}),t},t.prototype.union=function(){var e=this.allSuperTypes(),t=null;return e.forEach(function(e){e instanceof f&&(t=e)}),t},t.prototype.isUnion=function(){return null!=a.find(this.allSuperTypes(),function(e){var t=e;if(t.uc)return!1;t.uc=!0;try{return e.isUnion()}finally{t.uc=!1}})},t.prototype.fixFacet=function(e,t){this.fixedFacets[e]=t},t.prototype.getFixedFacets=function(){if(this._af)return this._af;var e=this.allSuperTypes(),n={};for(var r in this.fixedFacets)n[r]=this.fixedFacets[r];return e.forEach(function(e){if(e instanceof t){e.contributeFacets(n);var r=e.fixedFacets;for(var i in r)n[i]=r[i]}}),this.contributeFacets(n),this._af=n,n},t.prototype.contributeFacets=function(e){},t.prototype.getPath=function(){return this._path},t.prototype.setNameAtRuntime=function(e){this._nameAtRuntime=e},t.prototype.getNameAtRuntime=function(){return this._nameAtRuntime},t.prototype.universe=function(){return this._universe},t.prototype.superTypes=function(){return[].concat(this._superTypes)},t.prototype.isAssignableFrom=function(e){if(this.nameId()==e)return this.isUserDefined()?!1:!0;for(var t=this.allSuperTypes(),n=0;n<t.length;n++)if(t[n].nameId()==e)return!0;return!1},t.prototype.annotationType=function(){return null},t.prototype.subTypes=function(){return[].concat(this._subTypes)},t.prototype.allSubTypes=function(){var e=[];return this.subTypes().forEach(function(t){e.push(t),e=e.concat(t.allSubTypes())}),a.unique(e)},t.prototype.allSuperTypes=function(){var e=[];return this.allSuperTypesRecurrent(this,{},e),a.unique(e)},t.prototype.allSuperTypesRecurrent=function(e,t,n){var r=this;e.superTypes().forEach(function(e){t[e.nameId()]||(n.push(e),t[e.nameId()]=e,r.allSuperTypesRecurrent(e,t,n))})},t.prototype.addSuperType=function(e){e._subTypes.push(this),this._superTypes.push(e)},t.prototype.addRequirement=function(e,t){this._requirements.push(new l(e,t))},t.prototype.valueRequirements=function(){return this._requirements},t.prototype.requiredProperties=function(){return this.allProperties().filter(function(e){return e.isRequired()})},t}(u);t.AbstractType=p;var m=function(e){function t(t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=""),void 0===i&&(i=""),e.call(this,t,n,r)}return i(t,e),t.prototype.hasStructure=function(){return!1},t.prototype.isValueType=function(){return!0},t.prototype.isUnionType=function(){return!1},t}(p);t.ValueType=m;var d=function(e){function t(){e.apply(this,arguments),this._properties=[]}return i(t,e),t.prototype.hasStructure=function(){return!0},t.prototype.propertyIndex=function(e){for(var t=this.properties(),n=0;n<t.length;n++)if(t[n].nameId()==e)return n;return-1},t.prototype.addProperty=function(e,t){return new h(e).withDomain(this).withRange(t)},t.prototype.allPropertyIndex=function(e){for(var t=this.allProperties(),n=0;n<t.length;n++)if(t[n].nameId()==e)return n;return-1},t.prototype.properties=function(){return[].concat(this._properties)},t.prototype.registerProperty=function(e){if(e.domain()!=this)throw new Error("Should be already owned by this");if(-1!=this._properties.indexOf(e))throw new Error("Already included");this._properties.push(e)},t}(p);t.StructuredType=d;var h=function(e){function t(){e.apply(this,arguments),this._keyShouldStartFrom=null,this._isRequired=!1,this._isMultiValue=!1,this._descriminates=!1}return i(t,e),t.prototype.withMultiValue=function(e){return void 0===e&&(e=!0),this._isMultiValue=e,this},t.prototype.withDescriminating=function(e){return this._descriminates=e,this},t.prototype.withRequired=function(e){return this._isRequired=e,this},t.prototype.isRequired=function(){return this._isRequired},t.prototype.withKeyRestriction=function(e){return this._keyShouldStartFrom=e,this},t.prototype.withDomain=function(e){return this._ownerClass=e,e.registerProperty(this),this},t.prototype.setDefaultVal=function(e){return this._defaultVal=e,this},t.prototype.defaultValue=function(){return this._defaultVal},t.prototype.isPrimitive=function(){return!1},t.prototype.withRange=function(e){return this._nodeRange=e,this},t.prototype.isValueProperty=function(){return this._nodeRange.isValueType()},t.prototype.enumOptions=function(){return this._enumOptions&&"string"==typeof this._enumOptions?[this._enumOptions+""]:this._enumOptions},t.prototype.keyPrefix=function(){return this._keyShouldStartFrom},t.prototype.withEnumOptions=function(e){return this._enumOptions=e,this},t.prototype.withKeyRegexp=function(e){this._keyRegexp=e},t.prototype.getKeyRegexp=function(){return this._keyRegexp},t.prototype.matchKey=function(e){if(null==e)return!1;if(null!=this._groupName)return this._groupName==e;if(null!=this._keyShouldStartFrom&&0==e.indexOf(this._keyShouldStartFrom))return!0;if(this._enumOptions&&-1!=this._enumOptions.indexOf(e))return!0;if(this.getKeyRegexp())try{if(new RegExp(this.getKeyRegexp()).test(e))return!0}catch(t){}return!1},t.prototype.getFacetValidator=function(){return this.facetValidator},t.prototype.setFacetValidator=function(e){this.facetValidator=e},t.prototype.domain=function(){return this._ownerClass},t.prototype.range=function(){return this._nodeRange},t.prototype.isMultiValue=function(){return this.range()&&this.range().isArray()?!0:this._isMultiValue},t.prototype.isDescriminator=function(){return this._descriminates},t}(u);t.Property=h;var f=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.key=function(){return null},t.prototype.leftType=function(){return this.left},t.prototype.rightType=function(){return this.right},t.prototype.isUserDefined=function(){return!0},t.prototype.union=function(){return this},t.prototype.isUnion=function(){return!0},t.prototype.isArray=function(){return this.left&&this.right?this.left.isArray()||this.right.isArray():this.left?this.left.isArray():this.right?this.right.isArray():void 0},t}(p);t.Union=f;var y=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.isArray=function(){return!0},t.prototype.array=function(){return this},t.prototype.isUserDefined=function(){return!0},t.prototype.componentType=function(){return this.component},t.prototype.key=function(){return null},t}(p);t.Array=y},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(17),a=n(23),o=n(24),s=n(75),u=n(74),l=n(16),c=n(20),p=n(79),m=function(){function e(){}return e.prototype.setDocTableName=function(e){this._docTableName=e},e.prototype.docTableName=function(){return this._docTableName},e.prototype.setHidden=function(e){this._isHidden=e},e.prototype.isHidden=function(){return this._isHidden},e.prototype.setMarkdownDescription=function(e){this._markdownDescription=e},e.prototype.markdownDescription=function(){return this._markdownDescription},e.prototype.setValueDescription=function(e){this._valueDescription=e},e.prototype.valueDescription=function(){return this._valueDescription},e}();t.RAMLPropertyDocumentationService=m;var d=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.isSystem=function(){return this._isSystem},t.prototype.withSystem=function(e){return this._isSystem=e,this},t.prototype.isEmbedMap=function(){return this._isEmbedMap},t.prototype.withEmbedMap=function(){return this._isEmbedMap=!0,this},t}(m);t.RAMLPropertyParserService=d;var h=function(e){function t(t){if(e.call(this),this._property=t,!t)throw new Error;e.call(this)}return r(t,e),t.prototype.valueDocProvider=function(){return this._property.valueDocProvider()},t.prototype.withPropertyGrammarType=function(e){this._propertyGrammarType=e},t.prototype.getPropertyGrammarType=function(){return this._propertyGrammarType},t.prototype.id=function(){return this._property.nameId()},t.prototype.range=function(){return this._property.range()},t.prototype.domain=function(){return this._property.domain()},t.prototype.createAttr=function(e){var t=o.createMapping(this._property.nameId(),e),n=new a.ASTPropImpl(t,null,this.range(),this._property);return n},t.prototype.isValidValue=function(e,t){var n=u.declRoot(t);n._cach||(n._cach={});var r=this.id();if(this.domain()&&(r+=this.domain().nameId()),r){var i=n._cach[r];if(i)return null!=i[e]}var a=this.enumValues(t),o={};return a.forEach(function(e){return o[e]=1}),this.id()&&(n._cach[r]=o),null!=o[e]},t.prototype.enumValues=function(e){if(e){var t=[];if(this.isTypeExpr()){var n=u.globalDeclarations(e).filter(function(e){var t=e.definition().key();return t===c.Universe08.GlobalSchema||t===c.Universe10.GlobalSchema?!0:e.definition().isAssignableFrom(c.Universe10.TypeDeclaration.name)});t=n.map(function(t){return a.qName(t,e)});var r=e.definition().universe().type(c.Universe10.TypeDeclaration.name);if(r){var o=r.allSubTypes();t=t.concat(o.map(function(e){return e.getAdapter(f).descriminatorValue()}))}return t}if((this.range().key()==c.Universe08.SchemaString||this.range().key()==c.Universe10.SchemaString)&&"RAML10"==this.range().universe().version()&&this.range().isValueType()){var n=u.globalDeclarations(e).filter(function(e){return e.definition().key()==c.Universe10.GlobalSchema?!0:e.definition().isAssignableFrom(c.Universe10.TypeDeclaration.name)});t=n.map(function(t){return a.qName(t,e)})}if(this.isDescriminating()){var o=u.subTypesWithLocals(this.domain(),e);t=t.concat(o.map(function(e){return e.getAdapter(f).descriminatorValue()}))}else if(this.isReference())t=u.nodesDeclaringType(this.referencesTo(),e).map(function(t){return a.qName(t,e)});else if(this.range().isValueType()&&this.range().isValueType()){var s=this.range().getAdapter(f);if(s.globallyDeclaredBy().length>0){var n=u.globalDeclarations(e).filter(function(e){return null!=i.find(s.globallyDeclaredBy(),function(t){return t==e.definition()})});t=t.concat(n.map(function(t){return a.qName(t,e)}))}}return this.isAllowNull()&&t.push("null"),this._property.enumOptions()&&(t=t.concat(this._property.enumOptions())),t}return this._property.enumOptions()&&"string"==typeof this._property.enumOptions()?[this._property.enumOptions()+""]:this._property.enumOptions()},t.prototype.isAllowNull=function(){return this._property.isAllowNull()},t.prototype.referencesTo=function(){return this._property.referencesTo()},t.prototype.isReference=function(){return this._property.isReference()},t.prototype.nameId=function(){return this._property.nameId()},t.prototype.priority=function(){return this.isKey()?128:this.isReference()?64:this.isTypeExpr()?32:"example"==this.nameId()?0:-1024},t.prototype.isKey=function(){return this._property instanceof l.Property?this._property.isKey():!1},t.prototype.isMerged=function(){return this._property instanceof l.Property?this._property.isMerged():!1},t.prototype.isTypeExpr=function(){if(this.teDef,!1)return this.texpr;if(this.domain()){var e=this.domain().key();this.texpr=(this.nameId()==c.Universe10.TypeDeclaration.properties.type.name||this.nameId()==c.Universe10.TypeDeclaration.properties.schema.name)&&e==c.Universe10.TypeDeclaration||this.nameId()==c.Universe08.BodyLike.properties.schema.name&&e===c.Universe08.BodyLike}return this.texpr||(this.range().key()===c.Universe08.SchemaString||this.range().key()===c.Universe10.SchemaString)&&"RAML10"==this.range().universe().version()&&this.range()instanceof l.ValueType&&(this.texpr=!0),this.teDef=!0,this.texpr},t.prototype.isExampleProperty=function(){return this.domain()&&!this.domain().getAdapter(f).isUserDefined()&&(this.nameId()==c.Universe10.TypeDeclaration.properties.example.name||this.nameId()==c.Universe10.ExampleSpec.properties.content.name)},t.prototype.isDescriminating=function(){return this._property.isDescriminator()},t.prototype.referenceTargets=function(e){if(this.isTypeExpr()){var t=u.globalDeclarations(e).filter(function(e){var t=e.definition().key();return t===c.Universe08.GlobalSchema||t===c.Universe10.GlobalSchema?!0:e.definition().isAssignableFrom(c.Universe10.TypeDeclaration.name)});return t}if(this.isDescriminating()){var n=u.nodesDeclaringType(this.range(),e);return n}if(this.isReference()){var r=this.referencesTo(),n=u.nodesDeclaringType(r,e);return n}if(this.range().isValueType()){var a=this.range().getAdapter(f);if(a.globallyDeclaredBy().length>0){var t=u.globalDeclarations(e).filter(function(e){return null!=i.find(a.globallyDeclaredBy(),function(t){return t==e.definition()})});return t}}return[]},t}(d);t.RAMLPropertyService=h;var f=function(){function e(e){this._runtime=null,this._allowQuestion=!1,this._canInherit=[],this._declaredBy=[],this._aliases=[],this._defining=[],this._runtimeExtenders=[],this._declaresType=null,this._inlinedTemplates=!1,this._contextReq=[],this._type=e}return e.prototype.withAllowQuestion=function(){this._allowQuestion=!0},e.prototype.getAllowQuestion=function(){return this._allowQuestion},e.prototype.withCanInherit=function(e){this._canInherit.push(e)},e.prototype.getReferenceIs=function(){return this._referenceIs},e.prototype.withReferenceIs=function(e){this._referenceIs=e},e.prototype.descriminatorValue=function(){return 0==this.valueRequirements().length?this.nameId():this.valueRequirements()[0].value},e.prototype.getCanInherit=function(){return this._canInherit},e.prototype.withAllowAny=function(){this._allowAny=!0},e.prototype.getAllowAny=function(){return this._allowAny},e.prototype.globallyDeclaredBy=function(){return this._declaredBy},e.prototype.setGloballyDeclaredBy=function(e){this._declaredBy.push(e)},e.prototype.setDeclaringNode=function(e){this._node=e},e.prototype.isRuntime=function(){return this._isRuntime},e.prototype.nameId=function(){return this._type.nameId()},e.prototype.universe=function(){return this._type.universe()},e.prototype.toRuntimeArray=function(){},e.prototype.isAssignableFrom=function(e){return this._type.isAssignableFrom(e)},e.prototype.isValid=function(e,t,n){return this._type.isArray()?this.isValidArray(e,t,n):this._type.isValueType()?this.isValidValueType(e,t,n):!0},e.prototype.setConsumesRefs=function(e){this._consumesRef=e},e.prototype.definingPropertyIsEnough=function(e){this._defining.push(e)},e.prototype.getDefining=function(){return this._defining},e.prototype.getConsumesRefs=function(){return this._consumesRef},e.prototype.addAlias=function(e){this._aliases.push(e)},e.prototype.getAliases=function(){return this._aliases},e.prototype.valueRequirements=function(){return this._type.valueRequirements()},e.prototype.isAnnotation=function(){return this._annotationChecked?this._isAnnotation:(this._annotationChecked=!0,this._isAnnotation=null!=i.find(this._type.allSuperTypes(),function(e){return e.key()==c.Universe10.Annotation}),this._isAnnotation)},e.prototype.allowValue=function(){return this._allowValueSet?this._allowValue:i.find(this._type.allProperties(),function(e){return e.isFromParentValue()||e.canBeValue()})?(this._allowValue=!0,this._allowValueSet=!0,!0):(this._allowValueSet=!0,!1)},e.prototype.match=function(t,n){var r=this;if(t.isAttr()||t.isUnknown())return!1;var a=t,o=i.find(this._type.superTypes(),function(e){var t=i.find(e.allProperties(),function(e){return e.isDescriminator()});if(t){var n=a.attr(t.nameId());if(n&&n.value()==r.nameId())return!0}return!1});if(o)return!0;if(0==this.valueRequirements().length)return!1;var s=!0;return this.valueRequirements().forEach(function(t){var o=a.attr(t.name);if(o)if(o.value()==t.value);else if(r.getConsumesRefs()){var u=o.value(),l=[];r._type.superTypes().forEach(function(e){return e.allSubTypes().forEach(function(e){l.push(e)})});var c=[];i.unique(l).forEach(function(t){c.push(t.nameId()),t.valueRequirements().forEach(function(e){c.push(e.value)}),t.getAdapter(e).getAliases().forEach(function(e){return c.push(e)})}),i.find(c,function(e){return e==u})&&(s=!1)}else s=!1;else{var p=r.getDefining(),m=!1;if(p.forEach(function(e){a.lowLevel().children().forEach(function(t){t.key()==e&&(m=!0)})}),m)return void(s=!0);if(!n){var d=r._type.property(t.name);d&&d.defaultValue()==t.value||(s=!1)}}}),s},e.prototype.createStubNode=function(e,t){void 0===t&&(t=null);var n=o.createNode(t?t:"key"),r=new a.ASTNodeImpl(n,null,this._type,e);return this._type.allProperties().forEach(function(e){if(e.range().isValueType()&&!e.getAdapter(d).isSystem()){r.attr(e.nameId())}}),r.children(),r},e.prototype.key=function(){return this._type.key()},e.prototype.isValidArray=function(t,n,r){return this._type.array().componentType()?this._type.array().componentType().getAdapter(e).isValid(t,n,r):!0},e.prototype.isValidValueType=function(e,t,n){try{if(this.key()==c.Universe10.AnnotationRef){var r=n.getAdapter(h).referenceTargets(e),o=i.find(r,function(n){return a.qName(n,e)==t});if(null!=o){var s=o.attributes("allowedTargets");if(s){var u=s.map(function(e){return e.value()});if(u.length>0){var l=!1,m=e.definition().allSuperTypes();m=m.concat([e.definition()]);var d=m.map(function(e){return e.nameId()});if(u.forEach(function(t){"API"==t&&(t="Api"),"NamedExample"==t&&(t="ExampleSpec"),"SecurityScheme"==t&&(t="AbstractSecurityScheme"),"SecuritySchemeSettings"==t&&(t="SecuritySchemeSettings"),i.find(d,function(e){return e==t})?l=!0:("Parameter"==t&&e.computedValue("location")&&(l=!0),"Field"==t&&e.computedValue("field")&&(l=!0))}),!l)return new Error("annotation "+t+" can not be placed at this location, allowed targets are:"+u)}}}return f}if(this.key()==c.Universe08.SchemaString||this.key()==c.Universe10.SchemaString){var f=p.createSchema(t);return f instanceof Error&&(f.canBeRef=!0),f}if(this.key()==c.Universe08.StatusCodeString||this.key()==c.Universe10.StatusCodeString){if(3!=t.length)return new Error("Status code should be 3 digits number with optional 'x' as wildcards");for(var y=0;y<t.length;y++){var v=t[y];if(!i.find(["0","1","2","3","4","5","6","7","8","9","x","X"],function(e){return e==v}))return new Error("Status code should be 3 digits number with optional 'x' as wildcards")}}if(this.key()==c.Universe08.JSonSchemaString||this.key()==c.Universe10.JSonSchemaString){var g=p.getJSONSchema(t);return g instanceof Error&&(g.canBeRef=!0),g}if(this.key()==c.Universe08.XMLSchemaString||this.key()==c.Universe10.XMLSchemaString){var b=p.getXMLSchema(t);return b instanceof Error&&(b.canBeRef=!0),b}if((this.key()==c.Universe08.BooleanType||this.key()==c.Universe10.BooleanType)&&"true"!=t&&"false"!=t)return new Error("'true' or 'false' is expected here");if(this.key()==c.Universe08.NumberType||this.key()==c.Universe10.NumberType){var S=parseFloat(t);if(isNaN(S))return new Error("number is expected here")}return!0}catch(A){return A.canBeRef=!0,A}},e.prototype.getRepresentationOf=function(){return this._representationOf},e.prototype.addRuntimeProperty=function(e){this._runtimeProperties.push(e)},e.prototype.initRuntime=function(){var e=this;this._runtimeProperties=[];var t=this.getDeclaringNode();if(t){var n=t.elementsOfKind("properties");n.forEach(function(t){var n=s.elementToProp(t,!0);e.addRuntimeProperty(n);
})}},e.prototype.allRuntimeProperties=function(t){if(void 0===t&&(t={}),this._runtimeProperties||(this.initRuntime(),this._rprops=null),this._rprops)return this._rprops;if(t[this.nameId()])return[];t[this.nameId()]=this._type;var n={};return this._type.superTypes().length>0&&this._type.superTypes().forEach(function(r){r instanceof l.NodeClass&&r.getAdapter(e).allRuntimeProperties(t).forEach(function(e){return n[e.nameId()]=e})}),this._runtimeProperties.forEach(function(e){return n[e.nameId()]=e}),this._rprops=Object.keys(n).map(function(e){return n[e]}),this._rprops},e.prototype.getRuntimeProperties=function(){return this._runtimeProperties||this.initRuntime(),this._runtimeProperties},e.prototype.getPath=function(){return""},e.prototype.isDeclaration=function(){return this._inlinedTemplates?!0:this._convertsToGlobal?!0:this._declaresType?!0:this.key()===c.Universe10.Library?!0:!1},e.prototype.isGlobalDeclaration=function(){return this._actuallyExports?!0:this._inlinedTemplates?!0:this._declaresType?!0:!1},e.prototype.isTypeSystemMember=function(){return null!=this._declaresType},e.prototype.getExtendedType=function(){return this.universe().type(this._declaresType)},e.prototype.setInlinedTemplates=function(e){return this._inlinedTemplates=e,this},e.prototype.getRuntimeExtenders=function(){return this._runtimeExtenders},e.prototype.isInlinedTemplates=function(){return this._inlinedTemplates},e.prototype.setExtendedTypeName=function(t){this._declaresType=t;var n=this.universe().type(t);if(n instanceof l.NodeClass){var r=n;r.getAdapter(e)._runtimeExtenders.push(this._type)}},e.prototype.getKeyProp=function(){return i.find(this._type.allProperties(),function(e){return e.getAdapter(h).isKey()})},e.prototype.withActuallyExports=function(e){this._actuallyExports=e},e.prototype.withConvertsToGlobal=function(e){this._convertsToGlobal=e},e.prototype.getConvertsToGlobal=function(){return this._convertsToGlobal},e.prototype.getActuallyExports=function(){return this._actuallyExports},e.prototype.isUserDefined=function(){return this._type instanceof l.NodeClass?this._type.isUserDefined():this._type instanceof l.Array?this._type.isUserDefined():this._type instanceof l.Union?this._type.isUserDefined():!1},e.prototype.withContextRequirement=function(e,t){this._contextReq.push({name:e,value:t})},e.prototype.getContextRequirements=function(){return this._contextReq},e.prototype.findMembersDeterminer=function(){return i.find(this._type.allProperties(),function(e){return e.isThisPropertyDeclaresTypeFields()})},e.prototype.nameAtRuntime=function(){if(this._type.valueRequirements().length>0)return this.valueRequirements()[0].value;if(this._type instanceof l.ValueType){var e=this._type.getNameAtRuntime();if(e)return e}return this._type.nameId()},e.prototype.toRuntime=function(){if(this._runtime)return this._runtime;if(this._isRuntime)return this._type;if(!this._type.getAdapter(e).isUserDefined())return this._type;var t=new l.UserDefinedClass(this.nameId(),this.universe(),null,this.getPath(),"");this._runtime=t,t.getAdapter(e)._isRuntime=!0,t.getAdapter(e)._representationOf=this._type;var n=this.allRuntimeProperties();if(n?(n.forEach(function(e){return e.withDomain(t)}),t._properties=n):t._properties=[],t.getAdapter(e).setDeclaringNode(this.getDeclaringNode()),this.isAssignableFrom("ObjectTypeDeclaration")?(t._value=!1,0==t._properties.length&&t.getAdapter(e).withAllowAny()):t._value=!0,this._type.isUnion()){var r=new l.Union(this.nameId(),this.universe(),this.getPath());r.getAdapter(e)._representationOf=this._type,r._isRuntime=!0,r.getAdapter(e).setDeclaringNode(this.getDeclaringNode());var i=this._type.union();return i?(i.leftType()&&(r.left=i.leftType().getAdapter(e).toRuntime()),i.rightType()&&(r.right=i.rightType().getAdapter(e).toRuntime()),r):(this._runtime=r,r)}if(this._type.isArray()){var a=new l.Array(this.nameId(),this.universe(),this.getPath());this._runtime=a,a._af={};var o=this._type.getFixedFacets();for(var s in o)a._af[s]=o[s];a.getAdapter(e)._representationOf=this._type,a.getAdapter(e).setDeclaringNode(this.getDeclaringNode());var u=this._type.array();if(u){var c=u.componentType();c&&(a.component=c.getAdapter(e).toRuntime())}return a}return t},e.prototype.toRuntimeWithInheritance=function(){if(this._runtime)return this._runtime;if(!this._type.getAdapter(e).isUserDefined())return new l.NodeClass(this.nameAtRuntime(),this.universe(),"","");var t=new l.UserDefinedClass(this.nameId(),this.universe(),null,this.getPath(),"");this._runtime=t,t.getAdapter(e)._isRuntime=!0,t.getAdapter(e)._representationOf=this._type;var n=this.getRuntimeProperties();if(n?(n.forEach(function(e){return e.withDomain(t)}),t._properties=n):t._properties=[],t.getAdapter(e).setDeclaringNode(this.getDeclaringNode()),this._type.allSuperTypes().forEach(function(n){var r=n.getAdapter(e).toRuntimeWithInheritance();n.key()!=c.Universe10.TypeDeclaration&&n.key()!=c.Universe10.RAMLLanguageElement&&t._superTypes.push(r)}),this.isAssignableFrom("ObjectTypeDeclaration")?(t._value=!1,0==t._properties.length&&t.getAdapter(e).withAllowAny()):t._value=!0,this._type.isUnion()){var r=new l.Union(this.nameId(),this.universe(),this.getPath());r.getAdapter(e)._representationOf=this._type,r._isRuntime=!0,r.getAdapter(e).setDeclaringNode(this.getDeclaringNode());var i=this._type.union();if(i)return i.leftType()&&(r.left=i.leftType().getAdapter(e).toRuntime()),i.rightType()&&(r.right=i.rightType().getAdapter(e).toRuntime()),r;this._runtime=r;var a=new l.NodeClass("union",this.universe(),"","");return a._superTypes.push(d),r}if(this._type.isArray()){var o=new l.Array(this.nameId(),this.universe(),this.getPath());this._runtime=o,o._af={};var s=this._type.getFixedFacets();for(var u in s)o._af[u]=s[u];o.getAdapter(e)._representationOf=this._type,o.getAdapter(e).setDeclaringNode(this.getDeclaringNode());var p=this._type.array();if(p){var m=p.componentType();m&&(o.component=m.getAdapter(e).toRuntime())}var d=new l.NodeClass("array",this.universe(),"","");return o._superTypes.push(d),o}return t},e.prototype.getDeclaringNode=function(){return this._node},e}();t.RAMLService=f},function(e,t,n){function r(e,t){var n=L.declRoot(t),r=e.name(),i=r.indexOf("<");for(-1!=i&&(r=r.substring(0,i));;){var a=e.parent();if(!a||a==n)break;a.definition().key()==O.Universe10.Library&&a.parent()&&(r=a.name()+"."+r),e=a}return r}function i(e){for(var t=e;;){if(t.definition().getAdapter(F.RAMLService).isInlinedTemplates())return!0;var n=t.parent();if(!n)break;t=n}return!1}function a(e,t,n,r){return void 0===r&&(r=!1),R.createIssue(e,t,n,r)}function o(e,t,n,r){var i=E.newMap(n.map(function(e){return E.newMapping(E.newScalar(e.key),E.newScalar(e.value))})),a=new A.ASTNode(i,r?r.lowLevel().unit():null,r?r.lowLevel():null,null,null);return new V(a,r,r?r.definition().property(e):null,t)}function s(e,t){var n=e.property();return n&&n.getContextRequirements().forEach(function(r){e.checkContextValue(r.name,r.value,r.value)||t.accept(a(8,r.name+" should be "+r.value+" to use property "+n.nameId(),e))}),n}function u(e){return e.nameId()==O.Universe10.TypeDeclaration.properties.type.name||e.nameId()==O.Universe10.TypeDeclaration.properties.schema.name}function l(e){return e.domain()?e.domain().getAdapter(F.RAMLService).isUserDefined()?!1:e.nameId()==O.Universe10.TypeDeclaration.properties.example.name||e.nameId()==O.Universe10.ExampleSpec.properties.content.name:void 0}function c(e){return x.typeFromNode(e)}function p(e,t,n){var r=e.definition().property(t);if(!r)return null;var i=r.range(),a=i.getAdapter(F.RAMLService).createStubNode(r,n);return a}function m(e,t,n){var r=e.definition().property(t);if(!r)return null;var i=r.range(),a=i.getAdapter(F.RAMLService).createStubNode(r,n);a.isInEdit=!0;var o=e.lowLevel().unit().stub();return a.lowLevel()._unit=o,a._parent=e.copy(),a._parent.lowLevel()._unit=o,a}function d(e,t){return m(e,"resources",t)}function h(e,t){return m(e,"methods",t)}function f(e,t){return m(e,"responses",t)}function y(e,t){return m(e,"body",t)}function v(e,t){return m(e,"uriParameters",t)}function g(e,t){return m(e,"queryParameters",t)}function b(e,t){var n=e.definition().universe().type("ObjectTypeDeclaration"),r=e.definition().property("types");r=r.withRange(n);var i=r.range();return i.getAdapter(F.RAMLService).createStubNode(r,t)}var S=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},A=n(24),T=n(16),w=n(15),P=n(26),M=n(17),E=n(25),C=n(69),N=n(72),_=n(16),I=n(87),R=n(78),x=n(75),L=n(74),O=n(20),k=n(58),D=n(88),U=n(109),F=n(22),j=n(21);t.qName=r;var K=function(){function e(e,t){this._node=e,this._parent=t,this._implicit=!1,this.values={},e&&e.setHighLevelParseResult(this)}return e.prototype.getKind=function(){return 0},e.prototype.hashkey=function(){return this._hashkey||(this._hashkey=this.parent()?this.parent().hashkey()+"/"+this.name():this.name()),this._hashkey},e.prototype.root=function(){return this.parent()?this.parent().root():this},e.prototype.getLowLevelStart=function(){return 0===this.lowLevel().kind()?this.lowLevel().start():this.lowLevel().keyStart()},e.prototype.getLowLevelEnd=function(){return 0===this.lowLevel().kind()?this.lowLevel().end():this.lowLevel().keyEnd()},e.prototype.isSameNode=function(e){return e&&e.lowLevel().actual()==this.lowLevel().actual()?!0:!1},e.prototype.checkContextValue=function(e,t,n){var r=this.computedValue(e);return r&&-1!=r.indexOf(t)?!0:t==r||"false"==t},e.prototype.printDetails=function(e){return(e?e:"")+"Unkown\n"},e.prototype.errors=function(){var e=[],t={accept:function(t){e.push(t)},begin:function(){},end:function(){}};return this.validate(t),e},e.prototype.markCh=function(){var e=this.lowLevel();return e=e._node?e._node:e,e.markCh?!0:void(e.markCh=1)},e.prototype.unmarkCh=function(){var e=this.lowLevel();e=e._node?e._node:e,delete e.markCh},e.prototype.validate=function(e){var t=this;if(this.lowLevel()&&null==this._parent&&this.lowLevel().errors().forEach(function(n){var r={code:1,message:n.message,node:null,start:n.mark.position,end:n.mark.position+1,isWarning:!1,path:t.lowLevel().unit()==t.root().lowLevel().unit()?null:t.lowLevel().unit().path(),unit:t.lowLevel().unit()};e.accept(r)}),this.validateIncludes(e),this.isUnknown()&&(this.needSequence&&e.accept(a(2,"node: "+this.name()+" should be wrapped in sequence",this)),this.unresolvedRef&&e.accept(a(2,"reference : "+this.lowLevel().value()+" can not be resolved",this)),this.knownProperty&&this.lowLevel().value()?e.accept(a(2,"property "+this.name()+" can not have scalar value",this)):e.accept(a(2,"Unknown node:"+this.name(),this))),this.markCh()&&!this.allowRecursive())return void e.accept(a(2,"Recursive definition:"+this.name(),this));try{this.directChildren().forEach(function(t){return t.validate(e)})}finally{this.unmarkCh()}},e.prototype.allowRecursive=function(){return!1},e.prototype.validateIncludes=function(e){var t=this;this.lowLevel()&&this.lowLevel().includeErrors().forEach(function(n){var r=a(6,n,t);e.accept(r)})},e.prototype.setComputed=function(e,t){this.values[e]=t},e.prototype.computedValue=function(e){var t=this.values[e];return!t&&this.parent()?this.parent().computedValue(e):t},e.prototype.lowLevel=function(){return this._node},e.prototype.name=function(){var e=this.lowLevel().key();return e?e:""},e.prototype.parent=function(){return this._parent},e.prototype.setParent=function(e){this._parent=e},e.prototype.isElement=function(){return!1},e.prototype.directChildren=function(){return this.children()},e.prototype.children=function(){return[]},e.prototype.isAttached=function(){return null!=this.parent()},e.prototype.isImplicit=function(){return this._implicit},e.prototype.isAttr=function(){return!1},e.prototype.isUnknown=function(){return!0},e.prototype.id=function(){var e=this;if(this._parent){var t=this.parent().id();t+="."+this.name();var n=this.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(this);t+="["+r+"]"}return t}return""},e.prototype.localId=function(){return this.name()},e.prototype.property=function(){return null},e}();t.BasicASTNode=K,t.createIssue=a;var V=function(){function e(e,t,n,r){void 0===r&&(r=null),this.node=e,this._parent=t,this.kv=r,this._pr=n}return e.prototype.valueName=function(){var e=null;return this.kv&&(e=this.kv),e=this.node.key(),this._pr&&this._pr.isAnnotation()&&e&&"("==e.charAt(0)&&(e=e.substring(1,e.length-1)),e},e.prototype.children=function(){return this.node.children().map(function(t){return new e(t,null,null)})},e.prototype.lowLevel=function(){return this.node},e.prototype.toHighlevel=function(e){!e&&this._parent&&(e=this._parent);var t=this.valueName(),n=this._pr.getAdapter(F.RAMLPropertyService).referenceTargets(e).filter(function(n){return r(n,e)==t});if(n&&n[0]){var i=x.typeFromNode(n[0]),a=new H(this.node,e,i,this._pr);return this._pr&&this._pr.childRestrictions().forEach(function(e){a.setComputed(e.name,e.value)}),a}return null},e}();t.StructuredValue=V,t.genStructuredValue=o;var B=function(e){function t(t,n,r,i,a){void 0===a&&(a=!1),e.call(this,t,n),this._def=r,this._prop=i,this.fromKey=a}return S(t,e),t.prototype.definition=function(){return this._def},t.prototype.isString=function(){return!this._def||this._def.key()!==O.Universe08.StringType&&this._def.key()!=O.Universe10.StringType?!1:!0},t.prototype.getKind=function(){return 2},t.prototype.owningWrapper=function(){return{node:this.parent().wrapperNode(),property:this.name()}},t.prototype.patchType=function(e){this._def=e},t.prototype.findReferenceDeclaration=function(){var e=this,t=this.property().getAdapter(F.RAMLPropertyService).referenceTargets(this.parent()),n=this.value();if(n instanceof V)var i=n,a=i.valueName();else var a=""+n;var o=M.find(t,function(t){return r(t,e.parent())==a});return o},t.prototype.findReferencedValue=function(){var e=this.findReferenceDeclaration();if(e){var t=e.attr("value"),n=e.definition().key();if(n===O.Universe08.GlobalSchema||n===O.Universe10.GlobalSchema){if(t){var r=t.value();if(r){var i=this._def.getAdapter(F.RAMLService).isValid(this.parent(),r,t.property());return i}}return null}}return e},t.prototype.validate=function(e){var t=s(this,e),n=this.value();if(!this.property().range().hasStructure()&&n instanceof V&&!this.property().isSelfNode()){if(u(this.property())&&this.property().domain().key()==O.Universe08.BodyLike){var r=new H(this.lowLevel(),this.parent(),this.parent().definition().universe().type("ObjectTypeDeclaration"),this.property());return void r.validate(e)}e.accept(a(7,"Scalar is expected here",this))}if(this.parent().allowsQuestion()&&this.property().isKey()&&null!=n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),!("string"==typeof n&&-1!=n.indexOf("<<")&&n.indexOf(">>")>n.indexOf("<<")&&i(this.parent()))){if(this.validateIncludes(e),this.property().range().key()==O.Universe08.MimeType||this.property().range().key()==O.Universe10.MimeType||this.property().nameId()==O.Universe10.TypeDeclaration.properties.name.name&&this.parent().property().nameId()==O.Universe10.Method.properties.body.name)return void(new R.MediaTypeValidator).validate(this,e);if(this.property().isKey()&&-1!=n.indexOf(" ")&&e.accept(a(7,"Keys should not have spaces '"+this.value()+"'",this)),l(this.property())&&(new R.ExampleValidator).validate(this,e),this.property().nameId()==O.Universe10.TypeDeclaration.properties.name.name){if(this.parent().property()&&this.parent().property().nameId()==O.Universe08.Resource.properties.uriParameters.name)return void(new R.UrlParameterNameValidator).validate(this,e);if(this.parent().property()&&this.parent().property().nameId()==O.Universe08.Resource.properties.baseUriParameters.name)return void(new R.UrlParameterNameValidator).validate(this,e)}if(this.property().range().key()==O.Universe08.RelativeUriString||this.property().range().key()==O.Universe10.RelativeUriString)return void(new R.UriValidator).validate(this,e);if(this.property().range().key()==O.Universe08.FullUriTemplateString||this.property().range().key()==O.Universe10.FullUriTemplateString)return void(new R.UriValidator).validate(this,e);if("pattern"==this.name()&&O.Universe10.StringType==this.definition().key()&&this.parent().definition().isAssignableFrom("StringTypeDeclaration"))try{new RegExp(this.value())}catch(o){e.accept(a(7,"Illegal pattern "+this.value(),this))}if("name"==this.name()&&O.Universe10.StringType==this.definition().key()&&"string"==typeof this.value()&&0==this.value().indexOf("[")&&this.value().lastIndexOf("]")==this.value().length-1&&this.parent()instanceof H&&O.Universe10.ObjectTypeDeclaration.properties.properties.name==this.parent().property().nameId()&&this.parent().parent()instanceof H&&O.Universe10.ObjectTypeDeclaration==this.parent().parent().definition().key())try{var c=this.value().substr(1,this.value().length-2);new RegExp(c)}catch(o){e.accept(a(7,"Illegal pattern "+c,this))}return this.property().range().key()==O.Universe10.SchemaString?void(new R.SchemaOrTypeValidator).validate(this,e):this.property()instanceof _.Property&&t.getAdapter(F.RAMLPropertyService).isTypeExpr()?void(new R.SchemaOrTypeValidator).validate(this,e):void(t.isReference()||t.isDescriminator()?(new R.DescriminatorOrReferenceValidator).validate(this,e):(new R.NormalValidator).validate(this,e))}},t.prototype.isElement=function(){return!1},t.prototype.property=function(){return this._prop},t.prototype.convertMultivalueToString=function(e){for(var t=0,n=2;" "==e[n];)t++,n++;var r=k.splitOnLines(e);return r=r.map(function(e){return e.substring(t,e.length)}),r.join("")},t.prototype.value=function(){if(this._computed)return this.computedValue(this.property().nameId());if(this.fromKey)return this._node.key();if(this.property().isAnnotation()&&this._node.key()&&"annotations"!=this._node.key())return new V(this._node,this.parent(),this._prop);var e=this._node.value();if(this.property().isSelfNode()&&(!e||e instanceof A.ASTNode)&&(e=this._node,0==e.children().length&&(e=null)),e instanceof A.ASTNode||e instanceof C.LowLevelProxyNode)return new V(e,this.parent(),this._prop);if(k.isMultiLineValue(e)){var t=this.convertMultivalueToString(e);return t}return e},t.prototype.name=function(){return this._prop.nameId()},t.prototype.printDetails=function(e){var t=this.definition().nameId(),n=this.property().range().nameId();return(e?e:"")+(this.name()+" : "+t+"["+n+"]  =  "+this.value())+"\n"},t.prototype.isAttr=function(){return!0},t.prototype.isUnknown=function(){return!1},t.prototype.setValue=function(e){if(e!=this.value()){var t=new P.CompositeCommand;if("string"==typeof e){var n=e;this._prop.isFromParentKey()||this._prop.isAnnotation()?(this._prop.isAnnotation()&&(n="("+n+")"),t.commands.push(P.setKey(this._node,n))):n&&0!=n.length||this.isEmbedded()?(n||(n=""),t.commands.push(P.setAttr(this._node,n))):(t.commands.push(P.removeNode(this._node.parent(),this._node)),this.parent().clearChildrenCache())}else{if(this._prop.isFromParentKey())throw new Error("couldn't set structured value to a key: "+this._prop.nameId());var r=e;t.commands.push(P.setAttrStructured(this._node,r))}this._node.execute(t)}},t.prototype.setKey=function(e){if(e!=this.name()){var t=new P.CompositeCommand;t.commands.push(P.setKey(this._node,e)),this._node.execute(t)}},t.prototype.children=function(){return[]},t.prototype.addStringValue=function(e){var t=A.createScalar(e),n=this.lowLevel();n.isScalar()?n=n.parent():n.isMapping();var r=new P.CompositeCommand;r.commands.push(P.insertNode(n,t,null,!0)),this.lowLevel().execute(r),this.parent().clearChildrenCache()},t.prototype.addStructuredValue=function(e){var t=this.lowLevel();if(t.isScalar())t=t.parent();else if(t.isMapping()){this.lowLevel()}var n=new P.CompositeCommand;n.commands.push(P.insertNode(t,e.lowLevel(),null,!0)),this.lowLevel().execute(n),this.parent().clearChildrenCache()},t.prototype.addValue=function(e){if(!this.property().isMultiValue())throw new Error("setValue(string) only apply to multi-values properties");"string"==typeof e?this.addStringValue(e):this.addStructuredValue(e)},t.prototype.isEmbedded=function(){var e=this.lowLevel().asMapping().key.value;return this.property().canBeValue()&&e!=this.property().nameId()},t.prototype.remove=function(){var e=this.lowLevel().parent();if(!this.property().isMultiValue()&&this.isEmbedded())this.setValue("");else{var t=new P.CompositeCommand;t.commands.push(P.removeNode(e,this.lowLevel())),this.lowLevel().execute(t),this.parent().clearChildrenCache()}},t.prototype.setValues=function(e){var t=this;if(!this.property().isMultiValue())throw new Error("setValue(string[]) only apply to multi-values properties");var n=this.parent();if(this.isEmpty());else{var r=(n.lowLevel(),n.attributes(this.name()));r.forEach(function(e){return e.remove()})}e.forEach(function(e){return n.attrOrCreate(t.name()).addValue(e)})},t.prototype.isEmpty=function(){if(!this.property().isMultiValue())throw new Error("isEmpty() only apply to multi-values attributes");var e=this.parent(),t=(e.lowLevel(),e.attributes(this.name()));if(0==t.length)return!0;if(1==t.length){var n=t[0].lowLevel();return n.isMapping()?!0:!1}return!1},t}(K);t.ASTPropImpl=B;var q=new I.BasicNodeBuilder,H=function(e){function t(t,n,r,i){e.call(this,t,n),this._def=r,this._prop=i,this._expanded=!1,this._allowQuestion=!1,this._subTypesCache=null,this._auxChecked=!1,t&&t.setHighLevelNode(this)}return S(t,e),t.prototype.getKind=function(){return 1},t.prototype.wrapperNode=function(){return this._wrapperNode||(this._wrapperNode=D.buildWrapperNode(this)),this._wrapperNode},t.prototype.propertiesAllowedToUse=function(){var e=this;return this.definition().allProperties().filter(function(t){return e.isAllowedToUse(t)})},t.prototype.isAllowedToUse=function(e){var t=this,n=!0;return e.getAdapter(F.RAMLPropertyService).isSystem()?!1:(e.getContextRequirements().forEach(function(e){if(-1!=e.name.indexOf("("))return!0;var r=t.computedValue(e.name);r?n=n&&r==e.value:e.value&&(n=!1)}),n)},t.prototype.allowRecursive=function(){return this.definition().getAdapter(F.RAMLService).isUserDefined()?!0:!1},t.prototype.setWrapperNode=function(e){this._wrapperNode=e},t.prototype.setAssociatedType=function(e){this._associatedDef=e},t.prototype.associatedType=function(){return this._associatedDef},t.prototype.findById=function(e){var t=this,n=this._knownIds;if(!n){this._knownIds={};var r=L.allChildren(this);r.forEach(function(e){return t._knownIds[e.id()]=e})}return this._knownIds[e]},t.prototype.isAuxilary=function(){var e=this;if(this._isAux)return!0;if(this._auxChecked)return!1;this._auxChecked=!0;var t=M.find(this.lowLevel().children(),function(e){return"masterRef"==e.key()});if(t&&t.value()){this._isAux=!0;var n=t.value(),r=this.lowLevel().unit().project().resolve(this.lowLevel().unit().path(),n),i=w.fromUnit(r);if(i){var a=L.allChildren(i);this._knownIds={},a.forEach(function(t){return e._knownIds[t.id()]=t}),this._knownIds[""]=i}return!0}return!1},t.prototype.insideOfDeclaration=function(){return this.definition().getAdapter(F.RAMLService).isDeclaration()?!0:this.parent()?this.parent().insideOfDeclaration():void 0},t.prototype.isAllowedId=function(){var e=this.root();if(""==this.id())return!0;if(e.definition().key()==O.Universe10.Extension)return!0;if(e.isAuxilary()){if(this.property().nameId()==O.Universe10.LibraryBase.properties.annotationTypes.name&&this.definition().key()==O.Universe10.AnnotationTypeDeclaration)return!0;if(this.property().nameId()==O.Universe10.LibraryBase.properties.types.name&&this.definition().isAssignableFrom(O.Universe10.TypeDeclaration.name))return!0;if(this.insideOfDeclaration()){var t=this.computedValue("decls");if("true"==t)return!0}if(e._knownIds){var n=null!=e._knownIds[this.id()];return!n&&this.parent()&&this.parent().parent()&&this.parent().isAllowedId()?!0:n}return this.parent()&&this.parent().parent()&&this.parent().isAllowedId()?!0:!1}return!0},t.prototype.printDetails=function(e){var t="";e||(e="");var n=this.definition().nameId(),r=this.property()?this.property().range().nameId():"",i=this.property()?this.property().nameId():"";return t+=e+n+"["+r+"] <--- "+i+"\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")}),t},t.prototype.getExtractedChildren=function(){var e=this.root();if(e.isAuxilary()){if(e._knownIds){var t=e._knownIds[this.id()];if(t)return t.children()}return[]}return[]},t.prototype.allowsQuestion=function(){return this._allowQuestion||this.definition().getAdapter(F.RAMLService).getAllowQuestion()},t.prototype.findReferences=function(){var e=[];L.refFinder(this.root(),this,e);var t=[];return e.forEach(function(e){M.find(t,function(t){return t==e})||t.push(e)}),t},t.prototype.name=function(){var t=M.find(this.directChildren(),function(e){return e.property()&&e.property().getAdapter(F.RAMLPropertyService).isKey()});if(t&&t instanceof B){var n=t.value();if(n){var r=n.indexOf(":");if(-1!=r)return n.substring(0,r)}return n}return e.prototype.name.call(this)},t.prototype.findElementAtOffset=function(e){return this._findNode(this,e,e)},t.prototype.isElement=function(){return!0},t.prototype.universe=function(){return this._universe?this._universe:this.definition().universe()},t.prototype.setUniverse=function(e){this._universe=e},t.prototype.validate=function(t){var n=this;if(this.definition()){if(!this.parent()){var r=this.universe(),i=r.getTypedVersion();if(i&&0==i.indexOf("#%")){if("#%RAML 0.8"!=i&&"#%RAML 1.0"!=i){var o=a(9,"Unknown version of RAML expected to see one of '#%RAML 0.8' or '#%RAML 1.0'",this);t.accept(o)}var u=r.getTopLevel();if(u&&u!=this.definition().nameId()&&"Api"==this.definition().nameId()){var o=a(9,"Unknown top level type:"+u,this);t.accept(o)}}if((this.definition().key()==O.Universe08.Api||this.definition().key()==O.Universe10.Api)&&"RAML08"!=this.definition().universe().version()){var l=new U.OverloadingValidator;l.validateApi(this.wrapperNode(),t)}var c=this.lowLevel().unit();this.lowLevel().visit(function(e){if(e.unit()!=c)return!1;if(e.value()&&e._node&&e._node.value&&e._node.value.doubleQuoted){var r=(e.value()+"").indexOf(":"),i=(e.value()+"").indexOf("\n");if(-1!=r&&-1!=i&&(!e.includePath()||0==e.includePath().length)){var o=a(9,'Suspicious double quoted multiline scalar, it is likely that you forgot closing " '+e.value(),n,!0);o.start=e._node.value.startPosition,o.end=e._node.value.endPosition,o.start==o.end&&o.end++,t.accept(o)}}return!0}),R.lintNode(this,t)}if(!(this.isAllowedId()||this.property()&&this.property().nameId()==O.Universe10.RAMLLanguageElement.properties.annotations.name||this.definition().key()==O.Universe08.GlobalSchema||this.definition().key()==O.Universe10.GlobalSchema)){var o=a(10,"This node does not override any node from master api:"+this.id(),this);t.accept(o)}var p=this.definition();if(this.definition().getAdapter(F.RAMLService).getAllowAny()?this.validateIncludes(t):e.prototype.validate.call(this,t),p instanceof j.AbstractType){var m=p;if(p.isAssignableFrom(O.Universe10.TypeDeclaration.name)){var d=this.elementsOfKind("properties");if(d.length>0){var h=this.attributes("type");h.forEach(function(e){var r=N.getType(n,e.value(),{});if(r instanceof _.NodeClass){var i=r,o=i.getAdapter(F.RAMLService).allRuntimeProperties();o.forEach(function(n){var r=M.find(d,function(e){return e.name()==n.nameId()});if(r){var i=a(10,"overriding property '"+r.name()+"' inherited from "+e.value(),r);t.accept(i)}})}})}var f=this.elementsOfKind("facets");if(f.length>0){var h=this.attributes("type");h.forEach(function(e){var r=N.getType(n,e.value(),{});if(r instanceof _.NodeClass){var i=r,o=i.allProperties();o.forEach(function(n){var r=M.find(f,function(e){return e.name()==n.nameId()});if(r){var i=a(10,"overriding facet "+r.name()+" inhertied from "+e.value(),r);t.accept(i)}})}})}}if(m.getAdapter(F.RAMLService).isRuntime()){var y=m.getFixedFacets();for(var v in y){var g=m.getAdapter(F.RAMLService).getRepresentationOf().facet(v);if(g){var b=g.getFacetValidator();if(b){var S=this.lowLevel().dumpToObject();S=S[this.lowLevel().key()];try{var A=b(S,y[v]);if("string"==typeof A){var o=a(7,""+A,this);t.accept(o)}}catch(T){var o=a(7,T.message,this);t.accept(o)}}}}}}if(s(this,t),"string"==typeof this.value()&&!this.definition().getAdapter(F.RAMLService).allowValue()&&this.parent()){var o=a(9,"node "+this.name()+" can not be a scalar",this);t.accept(o)}if(this.definition().requiredProperties().forEach(function(e){var r=e.range();if(r instanceof _.Array){var i=r;r=i.component}if(r.isValueType()){var o=n.attr(e.nameId());if(!o){var s=a(3,"Missing required property "+e.nameId(),n);t.accept(s)}}else{var u=n.elementsOfKind(e.nameId());if(!u||0==u.length){var s=a(3,"Missing required property "+e.nameId(),n);t.accept(s)}}}),this.definition().getAdapter(F.RAMLService).getContextRequirements().forEach(function(e){n.checkContextValue(e.name,e.value,e.value)||t.accept(a(8,e.name+" should be "+e.value+" to use type "+n.definition().nameId(),n))}),"RAML08"==this.definition().universe().version()){var w={},P=this.directChildren().filter(function(e){return e.isElement()});P.forEach(function(e){if(!e._computed&&e.name()){var n=e.lowLevel().parent()?e.lowLevel().parent().end():"",r=e.name()+n;if(w[r]){var i=a(5,e.name()+" already exists in this context",e);t.accept(i)}else w[r]=1}})}else{var w={},P=this.directChildren().filter(function(e){return e.isElement()});P.forEach(function(e){if(!e._computed&&e.name()&&!G[e.property().nameId()]){var n=e.name()+e.property().nameId();if(w[n]){var r=a(5,e.name()+" already exists in this context",e);t.accept(r)}else w[n]=1}})}var E=this.lowLevel().children(),C=M.groupBy(E,function(e){return e.key()}),I=this.directChildren().filter(function(e){return e.isAttr()}),L=M.groupBy(I,function(e){return e.name()}),k=this.directChildren(),D=M.groupBy(k,function(e){return e.name()}),K=!1;if(Object.keys(C).forEach(function(e){"("==e.charAt(0)&&C[e].length>1&&(K||(K=!0,I.forEach(function(e){if(e.property().isAnnotation()){var t=(e.property().range(),e),n=t.findReferenceDeclaration();if(null!=n){var r=n,i=r.attr("allowMultiple");if(i){var a=i.value();"true"==a&&delete C[t.lowLevel().key()]}}}})))}),Object.keys(C).forEach(function(e){if(e&&C[e].length>1&&!D[e]){var r=a(4,e+" should have a single value",n);r.start=C[e][0].keyStart(),r.end=C[e][0].keyEnd(),t.accept(r)}}),Object.keys(L).forEach(function(e){L[e].length>1&&!L[e][0].property().isMultiValue()&&L[e].forEach(function(e){var n=a(4,e.property().nameId()+" should have a single value",e);t.accept(n)})}),this._def&&this.property()&&"types"==this.property().nameId()){if(W[this.name()]){var o=a(7,"You can not redeclare build in types",this);t.accept(o)}var V=this.attributes("type");if(V){var B=!1;if(V.forEach(function(e){if(e.value()==n.name()){var r=a(7,"Recurrent type definition",n.attr("type")?n.attr("type"):n);return t.accept(r),void(B=!0)}}),B)return}try{var q={};q[this.name()]=this._def,this.traverseDec(this._def,t,0,q)}catch(T){}if(this._associatedDef||M.find(this.definition().allSuperTypes(),function(e){return e.key()==O.Universe10.TypeDeclaration})&&(this._associatedDef=x.typeFromNode(this)),this._associatedDef){var H=this._associatedDef.superTypes(),z={};H.forEach(function(e){z[e.nameId()]=e});var J=[];for(var Y in z)J.push(z[Y]);if(H=J,H.length>1){if(M.find(H,function(e){return n.isPrimitive(e)})&&M.find(H,function(e){return n.isObject(e)})){var o=a(7,"You can not inherit both from types of different kind",this.attr("type")?this.attr("type"):this);return void t.accept(o)}if(M.find(H,function(e){return n.isArray(e)})&&M.find(H,function(e){return!n.isArray(e)})){var o=a(7,"You can not inherit both from types of different kind",this.attr("type")?this.attr("type"):this);return void t.accept(o)}if(M.filter(H,function(e){return n.isPrimitive(e)}).length>1){var o=a(7,"You can not inherit from two primitive types",this.attr("type")?this.attr("type"):this);return void t.accept(o)}}}}}},t.prototype.isPrimitive=function(e){return!this.isArray(e)&&!this.isObject(e)&&!this.isUnion(e)&&e.key()!=O.Universe10.TypeDeclaration;
},t.prototype.isObject=function(e){return e.isAssignableFrom(O.Universe10.ObjectTypeDeclaration.name)},t.prototype.isArray=function(e){return null!=M.find(e.allSuperTypes(),function(e){return e instanceof T.Array})},t.prototype.isUnion=function(e){return null!=M.find(e.allSuperTypes(),function(e){return e instanceof T.Union})},t.prototype.traverseDec=function(e,t,n,r){var i=this;if(void 0===r&&(r={}),e){if(e instanceof _.Array&&n>0){var o=a(7,"Extending from types extending array types is not allowed",this.attr("type")?this.attr("type"):this);return void t.accept(o)}if(e instanceof _.Union&&n>0){var o=a(7,"Extending from types extending union types is not allowed",this.attr("type")?this.attr("type"):this);return void t.accept(o)}if(r[e.nameId()]){var o=a(7,"Recurrent type definition",this.attr("type")?this.attr("type"):this);throw t.accept(o),new Error}r[e.nameId()]=this.definition();try{if(e.nameId()==this.name()&&n>0){var o=a(7,"Recurrent type definition",this.attr("type")?this.attr("type"):this);throw t.accept(o),new Error}if(e.isArray())return void this.traverseDec(e.array().componentType(),t,n+1,r);if(e.isUnion()){var s=n+1,u=n+1,l=e.union();if(l.leftType()&&l.leftType().isUnion()){var c=l.leftType().union();l.getAdapter(F.RAMLService).getDeclaringNode()==c.getAdapter(F.RAMLService).getDeclaringNode()}if(l.rightType()&&l.rightType().isUnion()){var c=l.rightType().union();l.getAdapter(F.RAMLService).getDeclaringNode()==c.getAdapter(F.RAMLService).getDeclaringNode()&&(u=n)}return s==n+1&&this.traverseDec(l.leftType(),t,s,r),void(u==n+1&&this.traverseDec(l.rightType(),t,u,r))}var p=e.allSuperTypes();p.forEach(function(e){if(e instanceof T.AbstractType){var a=e.getDeclaringNode();(a||e instanceof T.Array||e instanceof T.Union)&&i.traverseDec(e,t,n+1,r)}})}finally{delete r[e.nameId()]}}},t.prototype._findNode=function(e,t,n){var r=this;if(null==e)return null;if(e.lowLevel()&&e.lowLevel().start()<=t&&e.lowLevel().end()>=n){var i=e;return e.elements().forEach(function(a){if(a.lowLevel().unit()==e.lowLevel().unit()){var o=r._findNode(a,t,n);o&&(i=o)}}),i}return null},t.prototype.isStub=function(){return!this.lowLevel().unit()||this.lowLevel().unit().isStubUnit()},t.prototype.findInsertionPointLowLevel=function(e,t,n){var r=(this.lowLevel().children(),null),i=t&&t.getAdapter(F.RAMLPropertyService).isEmbedMap();if(i&&M.find(this.lowLevel().children(),function(e){return e.key()==t.nameId()})&&(i=!1),n||i){var a=this.findLastAttribute();r=a?a:A.InsertionPoint.atStart()}return r},t.prototype.findInsertionPoint=function(e){this.isStub()||this.clearChildrenCache();var t=this.children(),n=e.property()&&e.property().getAdapter(F.RAMLPropertyService).isEmbedMap();if(n&&M.find(this.lowLevel().children(),function(t){return t.key()==e.property().nameId()})&&(n=!1),e.isAttr()||n){for(var r=null,i=0;i<t.length&&t[i].isAttr();i++)r=t[i].lowLevel();return null==r&&(r=this.lowLevel()),r}var a=e.property().nameId(),o=this.definition(),s=(o.allProperties(),o.propertyIndex(a));if(0>s)return null;for(var u=this.lowLevel().children(),i=0;i<u.length;i++){var l=u[i];if(l.isMapping()){var c=l.asMapping().key.value,p=o.propertyIndex(c);if(p>s){var m=i-1;return 0>m?null:(console.log("insert to node: "+m),u[m])}}}return null},t.prototype.add=function(e){!this.isStub()&&this.isEmptyRamlFile()&&this.initRamlFile();var t=e.lowLevel();if(this._children||(this._children=[]),!e.property()){var n=e,r=this.definition().allProperties(),i=null;if(r.forEach(function(e){var t=e.range();t==n.definition()&&(i=e);var r=M.find(n.definition().allSuperTypes(),function(e){return e==t});r&&(i=e)}),!i)throw new Error("Unable to find correct child");n._prop=i}var a=this.findInsertionPoint(e),o=new P.CompositeCommand,s=null;if(e.property().getAdapter(F.RAMLPropertyService).isMerged()||e.property().range().isValueType())o.commands.push(P.insertNode(this.lowLevel(),e.lowLevel(),a)),s=this.lowLevel();else{var u=e.property().nameId(),l=this.lowLevel(),c=this.lowLevel().find(u);if(s=c,c)e.property().getAdapter(F.RAMLPropertyService).isEmbedMap()?o.commands.push(P.insertNode(c,e.lowLevel(),a,!0)):o.commands.push(P.insertNode(c,e.lowLevel(),a,!1));else{var p=null;if(e.property().getAdapter(F.RAMLPropertyService).isEmbedMap()){var m="RAML10"==this.definition().universe().version();p=t.isValueMap()&&m?A.createMapNode(u):A.createSeqNode(u),p.addChild(e.lowLevel())}else p=A.createNode(u),p.addChild(e.lowLevel());o.commands.push(P.insertNode(l,p,a)),s=l}}if(this.isStub()){var d=this.findLastAttributeIndex();return 0>d?this._children.push(e):this._children.splice(d,0,e),void o.commands.forEach(function(e){return s.addChild(e.value)})}this.lowLevel().execute(o),this._children.push(e),e.setParent(this)},t.prototype.remove=function(e){if(this.isStub()){if(e instanceof t){var n=e;if(n.isInEdit)return}if(!this._children)return;return void(this._children=this._children.filter(function(t){return t!=e}))}var r=new P.CompositeCommand;if(e instanceof t){var i=e;i.property().getAdapter(F.RAMLPropertyService).isMerged()?r.commands.push(P.removeNode(this.lowLevel(),i.lowLevel())):1==this.elementsOfKind(i.property().nameId()).length?r.commands.push(P.removeNode(this.lowLevel(),i.lowLevel().parent().parent())):r.commands.push(P.removeNode(this.lowLevel(),i.lowLevel()))}else r.commands.push(P.removeNode(this.lowLevel(),e.lowLevel()));this.lowLevel().execute(r),this._children=this._children.filter(function(t){return t!=e})},t.prototype.dump=function(e){return this._node.dump()},t.prototype.patchType=function(e){this._def=e;this._associatedDef;this._associatedDef=null,this._children=null},t.prototype.children=function(){if(this._children){var e=this.getExtractedChildren(),t=this._children.concat(e);return t}if(this._node){this._children=q.process(this,this._node.children()),this._children=this._children.filter(function(e){return null!=e});var e=this.getExtractedChildren(),t=this._children.concat(e);return t}return[]},t.prototype.directChildren=function(){return this._children?this._children:this._node?(this._children=q.process(this,this._node.children()),this._children):[]},t.prototype.resetChildren=function(){this._children=null},t.prototype.findLastAttributeIndex=function(){for(var e=-1,t=this.lowLevel().children(),n=0;n<t.length;n++){var r=t[n];if(r.isMapping()){var i=r.asMapping().key.value,a=this.definition().property(i);a&&(a.isFromParentValue()||a.range().isValueType())&&(e=n)}}return e},t.prototype.findLastAttribute=function(){var e=this.lowLevel().children(),t=this.findLastAttributeIndex();return 0>t?null:e[t]},t.prototype.isEmptyRamlFile=function(){var e=this.lowLevel().root();return e.isScalar()},t.prototype.initRamlFile=function(){var e=(this.lowLevel().root(),new P.CompositeCommand),t=A.createMap([]);e.commands.push(P.initRamlFile(this.lowLevel(),t)),this.lowLevel().execute(e);var n=this.root();n._node=t,n.clearChildrenCache()},t.prototype.createAttr=function(e,t){var n=A.createMapping(e,t);if(this.isStub()){var r=this.findLastAttributeIndex();this._node.addChild(n,r+1)}else{this.isEmptyRamlFile()&&this.initRamlFile();var i=new P.CompositeCommand,a=this.findInsertionPointLowLevel(n,this.definition().property(e),!0);i.commands.push(P.insertNode(this.lowLevel(),n,a)),this.lowLevel().execute(i)}this.clearChildrenCache()},t.prototype.isAttr=function(){return!1},t.prototype.isUnknown=function(){return!1},t.prototype.value=function(){return this._node.value()},t.prototype.valuesOf=function(e){var t=this._def.property(e);return null!=t?this.elements().filter(function(e){return e.property()==t}):[]},t.prototype.attr=function(e){return M.find(this.attrs(),function(t){return t.name()==e})},t.prototype.attrOrCreate=function(e){var t=this.attr(e);return t||this.createAttr(e,""),this.attr(e)},t.prototype.attrValue=function(e){var t=this.attr(e);return t?t.value():null},t.prototype.attributes=function(e){return M.filter(this.attrs(),function(t){return t.name()==e})},t.prototype.attrs=function(){return this.children().filter(function(e){return e.isAttr()})},t.prototype.elements=function(){return this.children().filter(function(e){return!e.isAttr()&&!e.isUnknown()})},t.prototype.element=function(e){var t=this.elementsOfKind(e);return t.length>0?t[0]:null},t.prototype.elementsOfKind=function(e){var t=this.elements().filter(function(t){return t.property().nameId()==e});return t},t.prototype.definition=function(){return this._def},t.prototype.property=function(){return this._prop},t.prototype.isExpanded=function(){return this._expanded},t.prototype.copy=function(){return new t(this.lowLevel().copy(),this.parent(),this.definition(),this.property())},t.prototype.clearChildrenCache=function(){this._children=null},t}(K);t.ASTNodeImpl=H,t.typeFromNode=c,t.createStub0=p,t.createStub=m,t.createResourceStub=d,t.createMethodStub=h,t.createResponseStub=f,t.createBodyStub=y,t.createUriParameterStub=v,t.createQueryParameterStub=g,t.createObjectFieldStub=b;var G={resources:1,queryParameters:1,headers:1,body:1,methods:1,responses:1},W={string:1,date:1,"boolean":1,number:1,integer:1,object:1,array:1,union:1,file:1,value:1,any:1,scalar:1}},function(e,t,n){function r(e){if(null==e)return null;switch(e.kind){case 0:return{errors:[],startPosition:e.startPosition,endPosition:e.endPosition,value:e.value,kind:0,parent:e.parent};case 1:var t=e;return{errors:[],key:r(t.key),value:r(t.value),startPosition:t.startPosition,endPosition:t.endPosition,kind:1,parent:t.parent};case 2:var n=e;return{errors:[],startPosition:e.startPosition,endPosition:e.endPosition,mappings:n.mappings.map(function(e){return r(e)}),kind:2,parent:n.parent}}return e}function i(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function a(e,t){for(var n=i(e),r=[],a=0;a<n.length;a++)0==a?r.push(n[0]):r.push(n[a].substring(t.length));return r.join("")}function o(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function s(e,t){var n=e.substr(t.offset,t.replacementLength);return-1!=n.indexOf("\n")?!0:-1!=t.text.indexOf("\n")?!0:void 0}function u(e){var t=A.newMapping(A.newScalar(e),A.newMap());return new V(t,null,null,null,null)}function l(e){var t=A.newMap(e);return new V(t,null,null,null,null)}function c(e){var t=A.newScalar(e);return new V(t,null,null,null,null)}function p(e,t,n){return new V(e,n,t,null,null)}function m(e){var t=A.newMapping(A.newScalar(e),A.newItems());return new V(t,null,null,null,null)}function d(e){var t=A.newMapping(A.newScalar(e),A.newMap());return new V(t,null,null,null,null)}function h(e,t){var n=A.newMapping(A.newScalar(e),A.newScalar(t));return new V(n,null,null,null,null)}function f(e){if(!(e instanceof V))return null;var t=e,n=new V(t.yamlNode(),t.unit(),null,null,null,!0);return n._errors=t._errors,n}function y(e){if(!(e instanceof V))return null;var t=e,n=new V(t.yamlNode(),t.unit(),null,null,null,!1);return n._errors=t._errors,n}function v(e){var t=e.highLevelNode();if(t)return t.definition();var n=e.parent();if(!n)return null;var r=e.key();if(!r)return null;var i=n.nodeDefinition();if(!i)return null;if(!i.property)return null;var a=i.property(r);return a?a.range():null}function g(e,t){var n={},r={},i=[],a=function(t){for(var o={};t<i.length;){var s=i[t],u=w.dirname(s.absolutePath()),l=s.getIncludeNodes();l.forEach(function(e){var t=e.includePath(),i=b(u,t);if(!n[i]){if(r[i])return void e.errors().push(new C(r[t]));var a=o[i];a||(a=[],o[i]=a),a.push(e)}}),t++}var c=Object.keys(o);if(0==c.length)return Promise.resolve();var p=[];return c.forEach(function(t){p.push(e.unitAsync(t).then(function(e){n[e.absolutePath()]||(n[e.absolutePath()]=!0,i.push(e))},function(e){o[t].forEach(function(t){return t.errors().push(new C(e))}),r[t]=e}))}),Promise.all(p).then(function(e){return a(t)})};return e.unitAsync(t).then(function(e){return i.push(e),n[e.absolutePath()]=!0,a(0)}).then(function(e){return i.length>0?i[0]:null})}function b(e,t){if(S(t))return t;var n;if(S(e)){var r=x.stringEndsWith(e,"/")?e:e+"/";n=L.resolve(r,t)}else n=w.resolve(e,t);return n}function S(e){return x.stringStartsWith(e,"http://")||x.stringStartsWith(e,"https://")}var A=n(25),T=n(26),w=n(10),P=n(4),M=n(27),E=n(57),C=n(30),N=n(58),_=n(22),I=n(59),R=n(64),x=n(66),L=n(2),O=function(){function e(e){this.text="",this.indent=e}return e.prototype.isLastNL=function(){return this.text.length>0&&"\n"==this.text[this.text.length-1]},e.prototype.addWithIndent=function(e,t){this.isLastNL()&&(this.text+=N.indent(e),this.text+=this.indent),this.text+=t},e.prototype.addChar=function(e){this.isLastNL()&&(this.text+=this.indent),this.text+=e},e.prototype.append=function(e){for(var t=0;t<e.length;t++)this.addChar(e[t])},e}();t.MarkupIndentingBuffer=O;var k=function(){function e(e,t,n,r,i){this._path=e,this._content=t,this._tl=n,this._project=r,this._apath=i}return e.prototype.isStubUnit=function(){return this.stu},e.prototype.resolveAsync=function(e){var t=this._project.resolveAsync(this._path,e);return t},e.prototype.getIncludeNodes=function(){var e=this.ast(),t=[];return e.gatherIncludes(t),t},e.prototype.cloneToProject=function(t){var n=new e(this._path,this._content,this._tl,t,this._apath);return n},e.prototype.clone=function(){var t=new e(this._path,this._content,this._tl,this.project(),this._apath);return t},e.prototype.stub=function(){var t=new e(this._path,this._content,this._tl,this.project(),this._apath);return t.stu=!0,t},e.prototype.isDirty=function(){return!1},e.prototype.absolutePath=function(){return this._apath},e.prototype.isRAMLUnit=function(){var e=w.extname(this._path);return".raml"==e||".yaml"==e},e.prototype.contents=function(){return this._content},e.prototype.resolve=function(e){var t=this._project.resolve(this._path,e);return t},e.prototype.path=function(){return this._path},e.prototype.lexerErrors=function(){return null==this.errors&&this.ast(),this.errors},e.prototype.ast=function(){var e=this;if(this._node)return this._node;try{var t=M.load(this._content,{});return this.errors=t.errors,this.errors.forEach(function(t){t.mark&&(t.mark.filePath=e.absolutePath())}),this._node=new V(t,this,null,null,null),this._node._errors=this.errors,this._node}catch(n){return this.errors=[],this.errors.push(new C(n.message)),this._node=null,this._node}},e.prototype.isTopLevel=function(){return this._tl},e.prototype.updateContent=function(e){this._content=e,this.errors=null,this._node=null},e.prototype.updateContentSafe=function(e){this._content=e},e.prototype.project=function(){return this._project},e}();t.CompilationUnit=k;var D=function(){function e(){this.executor=new R.SimpleExecutor}return e.prototype.getResource=function(e){var t=this.executor.execute({method:"get",url:e});if(!t)throw new C("Unable to execute GET "+e);var n=this.toResponse(t,e);return n},e.prototype.getResourceAsync=function(e){var t=this;return this.executor.executeAsync({method:"get",url:e}).then(function(n){if(!n)return Promise.reject(new C("Unable to execute GET "+e));var r=t.toResponse(n,e);return r},function(t){return Promise.reject(new C("Unable to execute GET "+e))})},e.prototype.toResponse=function(e,t){var n=null;e.status>=400&&(n="GET "+t+"\nreturned error: "+e.status,e.statusText&&(n+=" "+e.statusText));var r=null;e.content&&e.content.text&&(r=e.content.text);var i={content:r,errorMessage:n};return i},e}();t.HTTPResolverImpl=D;var U=function(){function e(){}return e.prototype.content=function(e){if(!P.existsSync(e))return null;try{return P.readFileSync(e).toString()}catch(t){return null}},e.prototype.list=function(e){return P.readdirSync(e)},e.prototype.contentAsync=function(e){return new Promise(function(t,n){P.readFile(e,function(e,r){if(null!=e)return n(e);var i=r.toString();t(i)})})},e.prototype.listAsync=function(e){return new Promise(function(t,n){P.readdir(e,function(e,r){return null!=e?t(e):void n(r)})})},e}();t.FSResolverImpl=U;var F=function(e,t,n){if(t&&(t.startPosition>=e&&(t.startPosition+=n),t.endPosition>e&&(t.endPosition+=n),1==t.kind)){var r=t;F(e,r.key,n),F(e,r.value,n)}},j=function(e,t){for(var n="",r=e.start()-1;r>0;){var i=t[r];if(" "!=i&&"-"!=i)break;n=" "+n,r--}return n},K=function(){function e(e,t,n){this.rootPath=e,this.resolver=t,this._httpResolver=n,this.listeners=[],this.tlisteners=[],this.pathToUnit={},null==this.resolver&&(this.resolver=new U),null==this._httpResolver&&(this._httpResolver=new D)}return e.prototype.cloneWithResolver=function(t,n){void 0===n&&(n=null);var r=new e(this.rootPath,t,n?n:this._httpResolver);for(var i in this.pathToUnit)r.pathToUnit[i]=this.pathToUnit[i].cloneToProject(r);return r},e.prototype.setCachedUnitContent=function(e,t,n){void 0===n&&(n=!0);var r=e,i=b(this.rootPath,e),a=new k(r,t,n,this,i);return this.pathToUnit[i]=a,a},e.prototype.resolveAsync=function(e,t){if(!t)return Promise.reject(new C("Unit path is null"));if(S(t)||w.isAbsolute(t))return this.unitAsync(t,!0);if(S(e)||w.isAbsolute(e)){var n=b(w.dirname(e),t);return this.unitAsync(n,!0)}var n=b(w.dirname(b(this.rootPath,e)),t);return this.unitAsync(n,!0)},e.prototype.resolve=function(e,t){if(!t)return null;if(S(t)||w.isAbsolute(t))return this.unit(t,!0);if(S(e)||w.isAbsolute(e)){var n=b(w.dirname(e),t);return this.unit(n,!0)}var n=b(w.dirname(b(this.rootPath,e)),t);return this.unit(n,!0)},e.prototype.units=function(){var e=this;if(!this.resolver.list)throw new C("Provided FSResolver is unable to list files. Please, use ExtendedFSResolver.");var t=this.resolver.list(this.rootPath).filter(function(e){return".raml"==w.extname(e)});return t.map(function(t){return e.unit(t)}).filter(function(e){return e.isTopLevel()})},e.prototype.unitsAsync=function(){var e=this;return this.resolver.listAsync?this.resolver.listAsync(this.rootPath).then(function(t){var n=t.filter(function(e){return".raml"==w.extname(e)}).map(function(t){return e.unitAsync(t).then(function(e){return e.isTopLevel()?e:null},function(e){return null})});return Promise.all(n).then(function(e){return e.filter(function(e){return null!=e})})}):Promise.reject(new C("Provided FSResolver is unable to list files. Please, use ExtendedFSResolver."))},e.prototype.lexerErrors=function(){var e=[];return this.units().forEach(function(t){e=e.concat(t.lexerErrors())}),e},e.prototype.deleteUnit=function(e,t){void 0===t&&(t=!1);var n=null;n=S(e)?e:t?e:b(this.rootPath,e),delete this.pathToUnit[n]},e.prototype.unit=function(e,t){void 0===t&&(t=!1);var n=null,r=e;if(S(e)){if(this.pathToUnit[r])return this.pathToUnit[r];if(this._httpResolver){var i=this._httpResolver.getResource(e);if(i.errorMessage)throw new C(i.errorMessage);n=i.content}else n=I.readFromCacheOrGet(e)}else{"/"!=e.charAt(0)||t||(e=e.substr(1));var r=b(this.rootPath,e);if(this.pathToUnit[r])return this.pathToUnit[r];if(S(r))if(this._httpResolver){var i=this._httpResolver.getResource(r);if(i.errorMessage)throw new C(i.errorMessage);n=i.content}else n=I.readFromCacheOrGet(r);else n=this.resolver.content(r)}if(null==n)return null;var a=x.stringStartsWith(n,"#%RAML"),o=S(this.rootPath)==S(r)?w.relative(this.rootPath,r):r,s=new k(o,n,a,this,r);return this.pathToUnit[r]=s,s},e.prototype.unitAsync=function(e,t){var n=this;void 0===t&&(t=!1);var r=null,i=e;if(S(e)){if(this.pathToUnit[i])return Promise.resolve(this.pathToUnit[i]);if(this._httpResolver){var a=this._httpResolver.getResourceAsync(i);r=a.then(function(e){return e.errorMessage?Promise.reject(new C(e.errorMessage)):e.content})}else r=Promise.resolve(I.readFromCacheOrGet(i))}else{if("/"!=e.charAt(0)||t||(e=e.substr(1)),i=t?e:b(this.rootPath,e),this.pathToUnit[i])return Promise.resolve(this.pathToUnit[i]);if(S(i))if(this._httpResolver){var a=this._httpResolver.getResourceAsync(i);r=a.then(function(e){return e.errorMessage?Promise.reject(new C(e.errorMessage)):e.content})}else r=Promise.resolve(I.readFromCacheOrGet(i));else r=this.resolver.contentAsync(i)}if(null==r)return Promise.resolve(null);var o=S(this.rootPath)==S(i)?w.relative(this.rootPath,i):i;return r.then(function(e){if(!e)return Promise.reject(new C("Can note resolve "+i));var t=x.stringStartsWith(e,"#%RAML"),r=new k(o,e,t,n,i);return n.pathToUnit[i]=r,r})},e.prototype.visualizeNewlines=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];"\r"==r&&(r="\\r"),"\n"==r&&(r="\\n"),t+=r}return t},e.prototype.indent=function(e){var t=e.unit().contents();if(e==e.root())return"";var n=j(e,t),r=i(e.dump());if(r.length>1&&r[1].trim().length>0){var a=o(r[1]);return n+a}return n+"  "},e.prototype.startIndent=function(e){e.unit().contents();if(e==e.root())return"";var t=i(e.dump());if(t.length>0){console.log("FIRST: "+t[0]);var n=o(t[0]);return n+"  "}return""},e.prototype.canWriteInOneLine=function(e){return!1},e.prototype.isOneLine=function(e){return e.text().indexOf("\n")<0},e.prototype.recalcPositionsUp=function(e){for(var t=e;t;)t.recalcEndPositionFromChilds(),t=t.parent()},e.prototype.add2=function(e,t,n,r,i){void 0===i&&(i=!1);var a=e.unit(),o=(e.root(),null);if(r&&(r instanceof V&&(o=r),r instanceof q&&(o=r.point)),e.isValueInclude()){var s=e.children();if(0==s.length)throw new C("not implemented: insert into empty include ref");var u=s[0].parent();return void this.add2(u,t,n,o,i)}var l=(new N.TextRange(a.contents(),t.start(),t.end()),new N.TextRange(a.contents(),e.start(),e.end()),e.unit().contents());3==e.valueKind()&&(e=p(e.valueAsSeq(),e,e.unit()));var i=this.isJson(e),c=i?"":this.indent(e.isSeq()?e.parent():e),m=c,d=c.length,h=e.isSeq()||e.isMapping()&&(e.isValueSeq()||e.isValueScalar()||!e.asMapping().value);n=n,n&&(i||h&&(m+="  ",d+=2));var f=new O(m);t.markupNode(f,t._actualNode(),0,i);var y=f.text;if(n){var v=N.trimEnd(y),g=y.length-v.length;if(g>0){var b=y.length;y=y.substring(0,b-g),t.shiftNodes(b-g,-g)}}n&&!i?(t.highLevelNode(),e.isMapping(),y=e.isSeq()||e.isMapping()&&(e.isValueSeq()||e.isValueScalar()||!e.asMapping().value)?c+"- "+y:c+y):y=c+y;var S=e.end();if(o)o!=e?S=o.end():i&&n||(S=e.keyEnd()+1,S=new N.TextRange(l,S,S).extendAnyUntilNewLines().endpos());else if(i&&n){var A=e.asSeq();A&&(S=A.items.length>0?A.items[A.items.length-1].endPosition:A.endPosition-1)}else if(r&&r instanceof q){var T=r;1==T.type&&(S=e.keyEnd()+1,S=new N.TextRange(l,S,S).extendAnyUntilNewLines().endpos())}var w=new N.TextRange(l,0,S);if(S=w.extendToNewlines().reduceSpaces().endpos(),i&&e.isSeq()){var A=e.asSeq();A.items.length>0&&(y=", "+y,d+=2)}else S>0&&"\n"!=l[S-1]&&(y="\n"+y,d++);var P=0;n&&!i&&(y+="\n",P++);var M=l.substring(0,S)+y+l.substring(S,l.length),E=a;if(E.updateContentSafe(M),this.executeReplace(new N.TextRange(l,S,S),y,E),e.root().shiftNodes(S,d+(t.end()-t.start())+P),o){for(var s=e.children(),_=-1,I=0;I<s.length;I++){var R=s[I];if(R.start()==o.start()&&R.end()==o.end()){_=I;break}}_>=0?e.addChild(t,_+1):e.addChild(t)}else e.addChild(t);t.shiftNodes(0,S+d),this.recalcPositionsUp(e),t.setUnit(e.unit()),t.visit(function(t){var n=t;return n.setUnit(e.unit()),!0})},e.prototype.isJsonMap=function(e){if(!e.isMap())return!1;var t=e.text().trim();return t.length>=2&&"{"==t[0]&&"}"==t[t.length-1]},e.prototype.isJsonSeq=function(e){if(!e.isSeq())return!1;var t=e.text().trim();return t.length>=2&&"["==t[0]&&"]"==t[t.length-1]},e.prototype.isJson=function(e){return this.isJsonMap(e)||this.isJsonSeq(e)},e.prototype.remove=function(e,t,n){var r=n.parent();if(n._oldText=n.dump(),this.isOneLine(n)&&n.isMapping()&&n.parent().isMap()){var i=n.parent();if(1==i.asMap().mappings.length&&null!=i.parent())return void this.remove(e,i.parent(),i)}if(this.isOneLine(n)&&n.isScalar()&&n.parent().isSeq()){var a=n.parent(),o=a.asSeq();if(1==o.items.length)return void this.remove(e,a.parent(),a)}if(t.isMapping()&&n.isSeq()){var s=t.parent();return void this.remove(e,s,t)}var u=new N.TextRange(e.contents(),n.start(),n.end()),l=(new N.TextRange(e.contents(),t.start(),t.end()),new N.TextRange(e.contents(),r.start(),r.end()),u.startpos());if(t.isSeq()){var c=n.isSeq()?n:n.parentOfKind(3);u=c&&this.isJson(c)?u.extendSpaces().extendCharIfAny(",").extendSpaces():u.extendToStartOfLine().extendAnyUntilNewLines().extendToNewlines()}t.isMap()&&(u=u.trimEnd().extendAnyUntilNewLines().extendToNewlines(),u=u.extendToStartOfLine().extendUntilNewlinesBack()),1==t.kind()&&(this.isJson(n)&&this.isOneLine(n)||(u=u.extendSpacesUntilNewLines(),u=u.extendToNewlines(),u=u.extendToStartOfLine().extendUntilNewlinesBack())),n.isSeq()&&(u=u.reduceSpaces());var p=e;p.updateContentSafe(u.remove()),this.executeReplace(u,"",p),n.parent().removeChild(n);var m=-u.len();t.root().shiftNodes(l,m),this.recalcPositionsUp(t)},e.prototype.changeKey=function(e,t,n){var r=new N.TextRange(t.unit().contents(),t.keyStart(),t.keyEnd());if(1==t.kind()){var i=t._actualNode().key;i.value=n,i.endPosition=i.startPosition+n.length}var a=e;this.executeReplace(r,n,a);var o=n.length-r.len();t.root().shiftNodes(r.startpos(),o,t),this.recalcPositionsUp(t)},e.prototype.executeReplace=function(e,t,n){var r=new T.TextChangeCommand(e.startpos(),e.endpos()-e.startpos(),t,n);n.project();try{this.tlisteners.forEach(function(e){return e(r)})}catch(i){return!1}var a=e.replace(t);return n.updateContentSafe(a),!0},e.prototype.changeValue=function(e,t,n){var r,i=new N.TextRange(t.unit().contents(),t.start(),t.end()),a=0,o=0,s=null,u=null;if(0==t.kind()){if("string"!=typeof n)throw new C("not implemented");t.asScalar().value=n,r=n}else if(1==t.kind()){if(u=t.asMapping(),t.isValueInclude()){var c=t.valueAsInclude(),p=c.value,m=t.unit().resolve(p);if(null==m)return void console.log("attr.setValue: couldn't resolve: "+p);if(m.isRAMLUnit())return;return void m.updateContent(n)}if(i=u.value?i.withStart(t.valueStart()).withEnd(t.valueEnd()):i.withStart(t.keyEnd()+1).withEnd(t.keyEnd()+1),i=i.reduceNewlinesEnd(),null==n)r="",u.value=null;else if("string"==typeof n||null==n){var d=n,h=this.indent(t);if(d&&N.isMultiLine(d)&&(d=""+N.makeMutiLine(d,h.length/2)),r=d,u.value){if(3==u.value.kind){console.log("seq value");u.value.items[0];throw"assign value!!!"}if(0==u.value.kind){var f=u.value,y=f.value;f.value=d,u.value.endPosition=u.value.startPosition+d.length,u.endPosition=u.value.endPosition,o+=d.length-y.length}}else if(console.log("no value"),u.value=A.newScalar(d),u.value.startPosition=t.keyEnd()+1,u.value.endPosition=u.value.startPosition+d.length,u.endPosition=u.value.endPosition,e.contents().length>t.keyEnd()+1){var v=t.keyEnd()+1;":"==e.contents()[v-1]&&(r=" "+r,u.value.startPosition++,u.value.endPosition++,u.endPosition++,o++)}}else{var g=n;if(g.isMapping())n=l([g.asMapping()]),g=n;else if(!g.isMap())throw new C("only MAP/MAPPING nodes allowed as values");var b=new O("");g.markupNode(b,g._actualNode(),0,!0),r=""+b.text,g.shiftNodes(0,i.startpos()+o),s=g}}else console.log("Unsupported change value case: "+t.kindName());var S=e;this.executeReplace(i,r,S);var T=r.length-i.len();t.root().shiftNodes(i.endpos()+a,T,t),s&&(u.value=s._actualNode()),this.recalcPositionsUp(t)},e.prototype.initWithRoot=function(e,t){var n=e.end();t.markup(!1),t._actualNode().startPosition=n,t._actualNode().endPosition=n,t.setUnit(e.unit())},e.prototype.execute=function(e){var t=this;e.commands.forEach(function(e){switch(e.kind){case 4:var n=e.target,r=n.value();r||(r="");var i=e.value;if("string"==typeof r&&"string"==typeof i)r!=i&&t.changeValue(n.unit(),n,i);else if("string"==typeof r&&"string"!=typeof i)t.changeValue(n.unit(),n,i);else if("string"!=typeof r&&"string"==typeof i){var a=e.value;if(1!=r.kind())throw new C("unsupported case: attribute value conversion: "+typeof r+" ==> "+typeof i+" not supported");N.isMultiLine(a)?(n.children().forEach(function(e){t.remove(n.unit(),n,e)}),t.changeValue(n.unit(),n,a)):t.changeKey(n.unit(),r,a)}else{if("string"==typeof r||"string"==typeof i)throw new C("shouldn't be this case: attribute value conversion "+typeof r+" ==> "+typeof i+" not supported");var o=i;if(o.isMapping()&&(i=l([o.asMapping()])),r==i)break;var s=i;s.asMap();n.children().forEach(function(e){t.remove(n.unit(),n,e)}),s.children().forEach(function(e){}),t.changeValue(n.unit(),n,i)}return;case 3:var n=e.target;return void t.changeKey(n.unit(),n,e.value);case 0:var n=e.target,u=e.value;return void t.add2(n,u,e.toSeq,e.insertionPoint);case 1:var c=e.target,s=e.value;return void t.remove(c.unit(),c,s);case 5:var p=e.target,m=e.value;return void t.initWithRoot(p,m);default:return void console.log("UNSUPPORTED COMMAND: "+T.CommandKind[e.kind])}})},e.prototype.replaceYamlNode=function(e,t,n,r,i){var a=M.load(t,{});this.updatePositions(e.start(),a),e.root().shiftNodes(n,r);var o=e.parent(),s=e._actualNode(),u=s.parent;if(a.parent=u,o&&2==o.kind()){var l=o._actualNode();l.mappings=l.mappings.map(function(e){return e!=s?e:a})}e.updateFrom(a),this.recalcPositionsUp(e)},e.prototype.executeTextChange2=function(e){var t=e.unit,n=t.contents(),r=e.target;if(r){var i=n.substring(r.start(),r.end());n=n.substr(0,e.offset)+e.text+n.substr(e.offset+e.replacementLength);var a=i.substr(0,e.offset-r.start())+e.text+i.substr(e.offset-r.start()+e.replacementLength);if(t.updateContentSafe(n),e.offset>r.start())try{var o=e.text.length-e.replacementLength,s=e.offset;r.unit().project().replaceYamlNode(r,a,s,o,e.unit)}catch(u){console.log("New node contents (causes error below): \n"+a),console.log("Reparse error: "+u.stack)}}else n=n.substr(0,e.offset)+e.text+n.substr(e.offset+e.replacementLength);t.updateContent(n),this.listeners.forEach(function(e){e(null)}),this.tlisteners.forEach(function(t){t(e)})},e.prototype.executeTextChange=function(e){(new Date).getTime();try{var t=e.unit.contents(),n=e.target;null==n&&(n=this.findNode(e.unit.ast(),e.offset,e.offset+e.replacementLength));var i=e.unit;if(n){var a=t.substring(n.start(),n.end()),o=t;t=t.substr(0,e.offset)+e.text+t.substr(e.offset+e.replacementLength);var u=a.substr(0,e.offset-n.start())+e.text+a.substr(e.offset-n.start()+e.replacementLength);i.updateContentSafe(t);s(o,e);if(e.offset>n.start())try{var l=M.load(u,{});this.updatePositions(n.start(),l);var c=e.text.length-e.replacementLength;if(e.unit.ast().shiftNodes(e.offset,c),null!=l&&2==l.kind){var p=l.mappings[0],m=n._actualNode(),d=m.parent,h=new T.ASTDelta,f=e.unit;if(h.commands=[new T.ASTChangeCommand(4,new V(r(m),f,null,null,null),new V(p,f,null,null,null),0)],d&&2==d.kind){var y=d;y.mappings=y.mappings.map(function(e){return e!=m?e:p})}return p.parent=d,this.recalcPositionsUp(n),n.updateFrom(p),this.listeners.forEach(function(e){e(h)}),void this.tlisteners.forEach(function(t){t(e)})}}catch(v){console.log("New node contents (causes error below): \n"+u),console.log("Reparse error: "+v.stack)}}else t=t.substr(0,e.offset)+e.text+t.substr(e.offset+e.replacementLength);(new Date).getTime();i.updateContent(t),this.listeners.forEach(function(e){e(null)}),this.tlisteners.forEach(function(t){t(e)})}finally{(new Date).getTime()}},e.prototype.updatePositions=function(e,t){var n=this;if(null!=t)switch(-1==t.startPosition?t.startPosition=e:t.startPosition=e+t.startPosition,t.endPosition=e+t.endPosition,t.kind){case 2:var r=t;r.mappings.forEach(function(t){return n.updatePositions(e,t)});break;case 1:var i=t;this.updatePositions(e,i.key),this.updatePositions(e,i.value);break;case 0:break;case 3:var a=t;a.items.forEach(function(t){return n.updatePositions(e,t)})}},e.prototype.findNode=function(e,t,n){var r=this;if(null==e)return null;var i=e;if(e.start()<=t&&e.end()>=n){var a=e;return i.directChildren().forEach(function(e){var i=r.findNode(e,t,n);i&&(a=i)}),a}return null},e.prototype.addTextChangeListener=function(e){this.tlisteners.push(e)},e.prototype.removeTextChangeListener=function(e){this.tlisteners=this.tlisteners.filter(function(t){return t!=e})},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e}();t.Project=K;var V=function(){function e(e,t,n,r,i,a,o){void 0===a&&(a=!1),void 0===o&&(o=!1),this._node=e,this._unit=t,this._parent=n,this._anchor=r,this._include=i,this.cacheChildren=a,this._includesContents=o,this._errors=[],null==e&&console.log("null")}return e.prototype.actual=function(){return this._node;
},e.prototype.yamlNode=function(){return this._node},e.prototype.includesContents=function(){return this._includesContents},e.prototype.setIncludesContents=function(e){this._includesContents=e},e.prototype.gatherIncludes=function(t,n,r,i){var a=this;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!0),null!=this._node){var o=this._node.kind;if(0!=o)if(2==o){var s=this._node;1!=s.mappings.length||i?s.mappings.map(function(t){return new e(t,a._unit,a,r?r:a._anchor,n?n:a._include,a.cacheChildren)}).forEach(function(e){return e.gatherIncludes(t)}):new e(s.mappings[0].value,this._unit,this,n,r,this.cacheChildren).gatherIncludes(t)}else if(1==o){var u=this._node;null==u.value||new e(u.value,this._unit,this,r?r:this._anchor,n?n:this._include,this.cacheChildren).gatherIncludes(t)}else if(3==o){var l=this._node;l.items.filter(function(e){return null!=e}).map(function(t){return new e(t,a._unit,a,r?r:a._anchor,n?n:a._include,a.cacheChildren)}).forEach(function(e){return e.gatherIncludes(t)})}else 5==o&&this._unit&&t.push(this)}},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.start=function(){return this._node.startPosition},e.prototype.errors=function(){return this._errors},e.prototype.parent=function(){return this._parent},e.prototype.recalcEndPositionFromChilds=function(){var e=(this.children(),this.children()[0]),t=this.children()[this.children().length-1];if(this.isMapping()){var n=this.asMapping();if(n.value)if(2==n.value.kind){var r=n.value;r.startPosition<0&&e&&(r.startPosition=e.start()),t&&(this._node.endPosition=t._node.endPosition),this._node.endPosition=Math.max(this._node.endPosition,n.value.endPosition)}else if(3==n.value.kind){var i=n.value;if(i.startPosition<0&&i.items.length>0){var a=i.items[0].startPosition,o=new N.TextRange(this.unit().contents(),a,a);o=o.extendSpacesBack().extendCharIfAnyBack("-"),i.startPosition=o.startpos()}if(i.items.length>0){var s=i.items[i.items.length-1];this._node.endPosition=Math.max(this._node.endPosition,i.endPosition,s.endPosition),i.endPosition=Math.max(this._node.endPosition,i.endPosition,s.endPosition)}}else 0==n.value.kind||t&&(this._node.endPosition=t._node.endPosition)}else t&&(this._node.endPosition=t._node.endPosition)},e.prototype.isValueLocal=function(){if(1==this._node.kind){var e=this._node.value.kind;return 5!=e&&4!=e}return!0},e.prototype.keyStart=function(){return 1==this._node.kind?this._node.key.startPosition:-1},e.prototype.keyEnd=function(){return 1==this._node.kind?this._node.key.endPosition:-1},e.prototype.valueStart=function(){if(1==this._node.kind){var e=this.asMapping();return e.value?e.value.startPosition:e.endPosition}return-1},e.prototype.valueEnd=function(){if(1==this._node.kind){var e=this.asMapping();return e.value.endPosition}return-1},e.prototype.end=function(){return this._node.endPosition},e.prototype.dump=function(){if(this._oldText)return this._oldText;if(this._unit&&this._node.startPosition>0&&this._node.endPosition>0){var e=this._unit.contents().substring(this._node.startPosition,this._node.endPosition);return e=a(e,j(this,this._unit.contents()))}return E.dump(this.dumpToObject(),{})},e.prototype.dumpToObject=function(e){return void 0===e&&(e=!1),this.dumpNode(this._node,e)},e.prototype.dumpNode=function(e,t){var n=this;if(void 0===t&&(t=!1),!e)return null;if(3==e.kind){var r=e,i=[];return r.items.forEach(function(e){return i.push(n.dumpNode(e))}),i}if(1==e.kind){var a=e,o={},s=a.value,u=this.dumpNode(s,t);return o[""+this.dumpNode(a.key,t)]=u,o}if(0==e.kind){var l=e;return l.value}if(2==e.kind){var c=e,p={};return 1==c.mappings.length&&"value"==c.mappings[0].key.value?this.dumpNode(c.mappings[0].value,t):(c.mappings&&c.mappings.forEach(function(e){var r=n.dumpNode(e.value,t);null==r&&(r="!$$$novalue"),((r+"").length>0||t)&&(p[n.dumpNode(e.key,t)+""]=r)}),p)}},e.prototype._actualNode=function(){return this._node},e.prototype.execute=function(e){this.unit()?this.unit().project().execute(e):e.commands.forEach(function(e){switch(e.kind){case 4:var t=e.target,n=e.value,r=t._actualNode();t.start();return void(1==r.kind&&(r.value=A.newScalar(""+n)));case 3:var t=e.target,n=e.value,r=t._actualNode();if(1==r.kind){var i=r.key;i.value=n}return}})},e.prototype.updateFrom=function(e){this._node=e},e.prototype.value=function(){if(!this._node)return"";if(0==this._node.kind)return this._node.value;if(4==this._node.kind){var t=this._node;return new e(t.value,this._unit,this,null,null).value()}if(1==this._node.kind){var n=this._node;return null==n.value?null:new e(n.value,this._unit,this,null,null).value()}if(5==this._node.kind){var r=this._node.value,i=this._unit.resolve(r);if(null==i)return"can not resolve "+r;if(i.isRAMLUnit())return null;var a=i.contents();return N.isMultiLineValue(a)&&(a=N.fromMutiLine(a)),a}if(2==this._node.kind){var o=this._node;if(1==o.mappings.length)return new e(o.mappings[0],this._unit,this,null,null)}if(3==this._node.kind){var s=this._node;if(1==s.items.length)return new e(s.items[0],this._unit,this,null,null).value()}return null},e.prototype.printDetails=function(e){var t="";e||(e="");var n=this.kindName();return 0==this.kind()?t+=e+"["+n+"] "+this.value()+"\n":1==this.kind()&&this._node.value&&0==this._node.value.kind?t+=e+"["+n+"] "+this.key()+" = "+this.value()+"\n":1==this.kind()?(t+=e+"["+n+"] "+this.key()+" = :\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")})):(t+=e+"["+n+"] :\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")})),t},e.prototype.visit=function(e){this.children().forEach(function(t){e(t)&&t.visit(e)})},e.prototype.key=function(){if(!this._node)return"";if(1==this._node.kind){var e=this._node;if(3==e.key.kind){var t=e.key,n="[";return t.items.forEach(function(e){return n+=e.value}),n+"]"}return e.key.value}return null},e.prototype.addChild=function(e,t){void 0===t&&(t=-1);var n=e;if(n._parent=this,this._oldText=null,this.isMap()){var r=this.asMap();(null==r.mappings||void 0==r.mappings)&&(r.mappings=[]),t>=0?r.mappings.splice(t,0,n.asMapping()):r.mappings.push(n.asMapping())}else if(this.isMapping()){var i=this.asMapping(),a=i.value;if(!i.value&&n.isMap())return void(i.value=n._actualNode());if(i.value&&0==i.value.kind&&(i.value=null,a=null),a||(a=n.isScalar()||n.highLevelNode()&&n.highLevelNode().property().getAdapter(_.RAMLPropertyParserService).isEmbedMap()?A.newSeq():A.newMap(),i.value=a),2==a.kind){var r=a;(null==r.mappings||void 0==r.mappings)&&(r.mappings=[]),n.isScalar(),t>=0?r.mappings.splice(t,0,n.asMapping()):r.mappings.push(n.asMapping())}else{if(3!=a.kind)throw new C("Insert into mapping with "+A.Kind[i.value.kind]+" value not supported");var o=a;t>=0?o.items.splice(t,0,n._actualNode()):o.items.push(n._actualNode())}}else{if(!this.isSeq())throw new C("Insert into "+this.kindName()+" not supported");var o=this.asSeq();t>=0?o.items.splice(t,0,n._actualNode()):o.items.push(n._actualNode())}},e.prototype.removeChild=function(e){this._oldText=null;var t,n,r=e;if(3==this.kind()){var i=this.asSeq();t=r._node,n=i.items.indexOf(t),n>-1&&i.items.splice(n,1)}else if(2==this.kind()){var a=this.asMap();t=r.asMapping(),n=a.mappings.indexOf(t),n>-1&&a.mappings.splice(n,1)}else{if(1!=this.kind())throw new C("Delete from "+A.Kind[this.kind()]+" unsupported");var o=this.asMapping();if(r._actualNode()==o.value)o.value=null;else{var a=o.value;t=r.asMapping(),a&&a.mappings&&(n=a.mappings.indexOf(t),n>-1&&a.mappings.splice(n,1))}}},e.prototype.includeErrors=function(){if(1==this._node.kind){var t=this._node;return null==t.value?[]:new e(t.value,this._unit,this,this._anchor,this._include).includeErrors()}var n=[];if(5==this._node.kind){var t=this._node;if(null==t.value)return[];var r=this.includePath(),i=this._unit.resolve(r);if(null==i)return n.push("Can not resolve "+r),n;if(i.isRAMLUnit()){var a=i.ast();if(a)return[];n.push(""+r+" can not be parsed")}}return n},e.prototype.children=function(t,n,r){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=!0),null==this._node)return[];if(this.cacheChildren&&this._children)return this._children;var a,o=this._node.kind;if(0==o)a=[];else if(2==o){var s=this._node;a=1!=s.mappings.length||r?s.mappings.map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include,i.cacheChildren)}):new e(s.mappings[0].value,this._unit,this,t,n,this.cacheChildren).children(null,null,!0)}else if(1==o){var u=this._node;if(null==u.value)a=[];else{var l=new e(u.value,this._unit,this,n?n:this._anchor,t?t:this._include,this.cacheChildren);a=l.children(),l.includesContents()&&this.setIncludesContents(!0)}}else if(3==o){var c=this._node;a=c.items.filter(function(e){return null!=e}).map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include,i.cacheChildren)})}else if(5==o){if(this._unit){var p=this.includePath(),m=this._unit.resolve(p);if(null==m)a=[];else if(m.isRAMLUnit()&&this.canInclude(m)){var d=m.ast();d&&(this.cacheChildren&&(d=f(d)),a=m.ast().children(this,null),this.setIncludesContents(!0))}}a||(a=[])}else{if(4!=o)throw new C("Should never happen; kind : "+A.Kind[this._node.kind]);var h=this._node;a=new e(h.value,this._unit,this,null,null,this.cacheChildren).children()}return this.cacheChildren&&(this._children=a),a},e.prototype.canInclude=function(e){for(var t=this.includedFrom();null!=t;){if(t.unit().absolutePath()==e.absolutePath())return!1;t=t.includedFrom()}return!0},e.prototype.directChildren=function(t,n,r){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=!0),this._node){switch(this._node.kind){case 0:return[];case 2:var a=this._node;return 1!=a.mappings.length||r?a.mappings.map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include)}):new e(a.mappings[0].value,this._unit,this,t,n).directChildren(null,null,!0);case 1:var o=this._node;return null==o.value?[]:new e(o.value,this._unit,this,n?n:this._anchor,t?t:this._include).directChildren();case 3:var s=this._node;return s.items.filter(function(e){return null!=e}).map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include)});case 5:return[];case 4:return[]}throw new C("Should never happen; kind : "+A.Kind[this._node.kind])}return[]},e.prototype.anchorId=function(){return this._node.anchorId},e.prototype.unit=function(){return this._unit},e.prototype.setUnit=function(e){this._unit=e},e.prototype.includePath=function(){if(5==this._node.kind){var t=this._node.value;return t}if(1==this._node.kind){var n=this._node;return null==n.value?null:new e(n.value,this._unit,this,null,null).includePath()}return null},e.prototype.anchoredFrom=function(){return this._anchor},e.prototype.includedFrom=function(){return this._include},e.prototype.kind=function(){return this._actualNode().kind},e.prototype.valueKind=function(){if(1!=this._node.kind)return null;var e=this._node;return e.value?e.value.kind:null},e.prototype.valueKindName=function(){var e=this.valueKind();return void 0!=e?A.Kind[e]:null},e.prototype.kindName=function(){return A.Kind[this.kind()]},e.prototype.indent=function(e,t){void 0===t&&(t="");for(var n="",r=0;e>r;r++)n+="  ";return n+t},e.prototype.replaceNewlines=function(e,t){void 0===t&&(t=null);for(var n="",r=0;r<e.length;r++){var i=e[r];"\r"==i&&(i=null==t?"\\r":t),"\n"==i&&(i=null==t?"\\n":t),n+=i}return n},e.prototype.shortText=function(e,t){void 0===t&&(t=50);var n=this.end()-this.start(),r=n,i=this.unit();!e&&i&&(e=i.contents());var a;if(e){var o=e;a=o?o.substring(this.start(),this.end()):"[no-text]"}else a="[no-unit]";return a="["+this.start()+".."+this.end()+"] "+n+" // "+a+" //",n>r&&(a+="..."),a=this.replaceNewlines(a)},e.prototype.nodeShortText=function(e,t,n){void 0===n&&(n=50);var r=e.endPosition-e.startPosition,i=r,a=this.unit();!t&&a&&(t=a.contents());var o;if(t){var s=t;o=s?s.substring(e.startPosition,e.endPosition):"[no-text]"}else o="[no-unit]";return o="["+e.startPosition+".."+e.endPosition+"] "+r+" // "+o+" //",r>i&&(o+="..."),o=this.replaceNewlines(o)},e.prototype.show=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=null),e&&0==t&&console.log(e);var r=this.children(),i=this.kindName(),a=this._actualNode().value;1==this.kind()&&(i+="["+this._actualNode().key.value+"]"),i+=a?"/"+A.Kind[a.kind]:"",0==r.length?(console.log(this.indent(t)+i+" // "+this.shortText(n)),this.isMapping()&&this.asMapping().value&&console.log(this.indent(t+1)+"// "+this.valueKindName()+": "+this.nodeShortText(this.asMapping().value,n))):(console.log(this.indent(t)+i+" { // "+this.shortText(n)),this.isMapping()&&this.asMapping().value&&console.log(this.indent(t+1)+"// "+this.valueKindName()+": "+this.nodeShortText(this.asMapping().value,n)),r.forEach(function(e){var r=e;r.show(null,t+1,n)}),console.log(this.indent(t)+"}"))},e.prototype.showParents=function(e,t){void 0===t&&(t=0),e&&0==t&&console.log(e);var n=0;if(this.parent()){var r=this.parent();n=r.showParents(null,t+1)}var i=this.kindName(),a=this._actualNode().value;return i+=a?"/"+A.Kind[a.kind]:"/null",console.log(this.indent(n)+i+" // "+this.shortText(null)),n+1},e.prototype.inlined=function(e){return 0==e||5==e},e.prototype.markupNode=function(e,t,n,r){void 0===r&&(r=!1);var a=e.text.length;switch(t.kind){case 2:r&&e.append("{");for(var o=t.mappings,s=0;s<o.length;s++)r&&s>0&&e.append(", "),this.markupNode(e,o[s],n,r);r&&e.append("}");break;case 3:for(var u=t.items,s=0;s<u.length;s++)e.append(this.indent(n,"- ")),this.markupNode(e,u[s],n+1,r);break;case 1:var l=t,c=l.value;if(r){if(e.append(l.key.value),e.append(": "),0==c.kind){var p=c;e.append(p.value)}else{if(2!=c.kind)throw new C("markup not implemented: "+A.Kind[c.kind]);this.markupNode(e,l.value,n+1,r)}break}if(e.addWithIndent(n,l.key.value+":"),!c){e.append("\n");break}if(0==c.kind)var p=c;l.value?(e.append(this.inlined(l.value.kind)?" ":"\n"),this.markupNode(e,l.value,n+1,r)):e.append("\n");break;case 0:var p=t;if(N.isMultiLine(p.value)){e.append("|\n");for(var m=i(p.value),s=0;s<m.length;s++)e.append(this.indent(n,m[s]));e.append("\n")}else e.append(p.value+"\n");break;case 5:var d=t;e.append("!include "+d.value+"\n");break;default:throw new C("Unknown node kind: "+A.Kind[t.kind])}for(;a<e.text.length&&" "==e.text[a];)a++;t.startPosition=a,t.endPosition=e.text.length},e.prototype.markup=function(e){void 0===e&&(e=!1);var t=new O("");return this.markupNode(t,this._actualNode(),0,e),t.text},e.prototype.root=function(){for(var e=this;e.parent();){var t=e.parent();e=t}return e},e.prototype.parentOfKind=function(e){for(var t=this.parent();t;){if(t.kind()==e)return t;t=t.parent()}return null},e.prototype.find=function(e){var t=null;return this.directChildren().forEach(function(n){n.key()&&n.key()==e&&(t||(t=n))}),t},e.prototype.shiftNodes=function(e,t,n){if(this.directChildren().forEach(function(r){if(n&&n.start()==r.start()&&n.end()==r.end());else{r.shiftNodes(e,t,n)}}),n&&n.start()==this.start()&&n.end()==this.end());else{var r=this._actualNode();r&&F(e,r,t)}return null},e.prototype.isMap=function(){return 2==this.kind()},e.prototype.isMapping=function(){return 1==this.kind()},e.prototype.isSeq=function(){return 3==this.kind()},e.prototype.isScalar=function(){return 0==this.kind()},e.prototype.asMap=function(){if(!this.isMap())throw new C("map expected instead of "+this.kindName());return this._actualNode()},e.prototype.asMapping=function(){if(!this.isMapping())throw new C("maping expected instead of "+this.kindName());return this._actualNode()},e.prototype.asSeq=function(){if(!this.isSeq())throw new C("seq expected instead of "+this.kindName());return this._actualNode()},e.prototype.asScalar=function(){if(!this.isScalar())throw new C("scalar expected instead of "+this.kindName());return this._actualNode()},e.prototype.isValueSeq=function(){return 3==this.valueKind()},e.prototype.isValueMap=function(){return 2==this.valueKind()},e.prototype.isValueInclude=function(){return 5==this.valueKind()},e.prototype.isValueScalar=function(){return 0==this.valueKind()},e.prototype.valueAsSeq=function(){if(!this.isMapping())throw new C("mapping expected instead of "+this.kindName());if(3!=this.valueKind())throw new C("mappng/seq expected instead of mapping/"+this.kindName());return this.asMapping().value},e.prototype.valueAsMap=function(){if(!this.isMapping())throw new C("mapping expected instead of "+this.kindName());if(2!=this.valueKind())throw new C("mappng/map expected instead of mapping/"+this.kindName());return this.asMapping().value},e.prototype.valueAsScalar=function(){if(!this.isMapping())throw new C("mapping expected instead of "+this.kindName());if(0!=this.valueKind())throw new C("mappng/scalar expected instead of mapping/"+this.kindName());return this.asMapping().value},e.prototype.valueAsInclude=function(){if(!this.isMapping())throw new C("mapping expected instead of "+this.kindName());if(5!=this.valueKind())throw new C("mappng/include expected instead of mapping/"+this.kindName());return this.asMapping().value},e.prototype.text=function(e){if(void 0===e&&(e=null),!e){if(!this.unit())return"[no-text]";e=this.unit().contents()}return e.substring(this.start(),this.end())},e.prototype.copy=function(){var t=r(this._actualNode());return new e(t,this._unit,this._parent,this._anchor,this._include,this._includesContents)},e.prototype.nodeDefinition=function(){return v(this)},e}();t.ASTNode=V,function(e){e[e.NONE=0]="NONE",e[e.START=1]="START",e[e.END=2]="END",e[e.POINT=3]="POINT"}(t.InsertionPointType||(t.InsertionPointType={}));var B=t.InsertionPointType,q=function(){function e(e,t){void 0===t&&(t=null),this.type=e,this.point=t}return e.after=function(t){return new e(3,t)},e.atStart=function(){return new e(1)},e.atEnd=function(){return new e(2)},e.node=function(){return new e(0)},e.prototype.show=function(e){e?(console.log(e),console.log("  insertion point type: "+B[this.type])):console.log("insertion point type: "+B[this.type]),3==this.type&&this.point&&this.point.show()},e}();t.InsertionPoint=q,t.createNode=u,t.createMap=l,t.createScalar=c,t.createSeq=p,t.createSeqNode=m,t.createMapNode=d,t.createMapping=h,t.toChildCahcingNode=f,t.toIncludingNode=y,t.getDefinitionForLowLevelNode=v,t.fetchIncludesAsync=g},function(e,t){function n(e,t){var n=t?t.endPosition:e.endPosition+1,r={key:e,value:t,startPosition:e.startPosition,endPosition:n,kind:1,parent:null,errors:[]};return r}function r(e,t,n,r){return{errors:[],referencesAnchor:e,value:r,startPosition:t,endPosition:n,kind:4,parent:null}}function i(e){return void 0===e&&(e=""),{errors:[],startPosition:-1,endPosition:-1,value:e,kind:0,parent:null,doubleQuoted:!1}}function a(){return{errors:[],startPosition:-1,endPosition:-1,items:[],kind:3,parent:null}}function o(){return a()}function s(e){return{errors:[],startPosition:-1,endPosition:-1,mappings:e?e:[],kind:2,parent:null}}!function(e){e[e.SCALAR=0]="SCALAR",e[e.MAPPING=1]="MAPPING",e[e.MAP=2]="MAP",e[e.SEQ=3]="SEQ",e[e.ANCHOR_REF=4]="ANCHOR_REF",e[e.INCLUDE_REF=5]="INCLUDE_REF"}(t.Kind||(t.Kind={}));t.Kind;t.newMapping=n,t.newAnchorRef=r,t.newScalar=i,t.newItems=a,t.newSeq=o,t.newMap=s},function(e,t){function n(e,t){return new p(4,e,t,-1)}function r(e,t){return new p(4,e,t.lowLevel(),-1)}function i(e,t){return new p(3,e,t,-1)}function a(e,t){return new p(1,e,t,-1)}function o(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=new p(0,e,t,-1);return i.insertionPoint=n,i.toSeq=r,i}function s(e,t){return new p(5,e,t,-1)}var u=function(){function e(){}return e}();t.ASTDelta=u,function(e){e[e.ADD_CHILD=0]="ADD_CHILD",e[e.REMOVE_CHILD=1]="REMOVE_CHILD",e[e.MOVE_CHILD=2]="MOVE_CHILD",e[e.CHANGE_KEY=3]="CHANGE_KEY",e[e.CHANGE_VALUE=4]="CHANGE_VALUE",e[e.INIT_RAML_FILE=5]="INIT_RAML_FILE"}(t.CommandKind||(t.CommandKind={}));var l=(t.CommandKind,function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.offset=e,this.replacementLength=t,this.text=n,this.unit=r,this.target=i}return e}());t.TextChangeCommand=l;var c=function(){function e(){this.commands=[]}return e}();t.CompositeCommand=c;var p=function(){function e(e,t,n,r){this.toSeq=!1,this.kind=e,this.target=t,this.value=n,this.position=r}return e}();t.ASTChangeCommand=p,t.setAttr=n,t.setAttrStructured=r,t.setKey=i,t.removeNode=a,t.insertNode=o,t.initRamlFile=s},function(e,t,n){"use strict";function r(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var i=n(28),a=n(57);t.Type=n(34),t.Schema=n(33),t.FAILSAFE_SCHEMA=n(37),t.JSON_SCHEMA=n(36),t.CORE_SCHEMA=n(35),t.DEFAULT_SAFE_SCHEMA=n(32),t.DEFAULT_FULL_SCHEMA=n(52),t.load=i.load,t.loadAll=i.loadAll,t.safeLoad=i.safeLoad,t.safeLoadAll=i.safeLoadAll,t.dump=a.dump,t.safeDump=a.safeDump,t.YAMLException=n(30),t.MINIMAL_SCHEMA=n(37),t.SAFE_SCHEMA=n(32),t.DEFAULT_SCHEMA=n(52),t.scan=r("scan"),t.parse=r("parse"),t.compose=r("compose"),t.addConstructor=r("addConstructor")},function(e,t,n){function r(e){return 10===e||13===e}function i(e){return 9===e||32===e}function a(e){return 9===e||32===e||10===e||13===e}function o(e){return 44===e||91===e||93===e||123===e||125===e}function s(e){var t;return e>=48&&57>=e?e-48:(t=32|e,t>=97&&102>=t?t-97+10:-1)}function u(e){return 120===e?2:117===e?4:85===e?8:0}function l(e){return e>=48&&57>=e?e-48:-1}function c(e){return 48===e?"\x00":97===e?"":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"\x0B":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function p(e){return 65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function m(e,t){return new K(t,new V(e.filename,e.input,e.position,e.line-1,e.position-e.lineStart))}function d(e,t){var n=m(e,t),r=n.message+n.mark.position;e.errorMap[r]||(e.errors.push(n),e.errorMap[r]=1);for(var i=e.position;;){if(e.position>=e.input.length-1)return;var a=e.input.charAt(e.position);if("\n"==a)return e.position--,void(e.position==i&&(e.position+=1));if("\r"==a)return e.position--,void(e.position==i&&(e.position+=1));e.position++}}function h(e,t){var n=m(e,t);e.onWarning&&e.onWarning.call(null,n)}function f(e,t,n,r){var i,a,o,s,u=e.result;if(-1==u.startPosition&&(u.startPosition=t),n>t){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;a>i;i+=1)o=s.charCodeAt(i),9===o||o>=32&&1114111>=o||d(e,"expected valid JSON character");u.value+=s,u.endPosition=n}}function y(e,t,n,r,i){if(null!=r){if(null===t&&(t={startPosition:r.startPosition,endPosition:i.endPosition,parent:null,errors:[],mappings:[],kind:2}),"tag:yaml.org,2002:merge"===n)throw new Error("Should not happen");var a=F.newMapping(r,i);return a.parent=t,r.parent=a,null!=i&&(i.parent=a),t.mappings.push(a),t.endPosition=i?i.endPosition:r.endPosition+1,t}}function v(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):d(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function g(e,t,n){for(var a=0,o=e.input.charCodeAt(e.position);0!==o;){for(;i(o);)o=e.input.charCodeAt(++e.position);if(t&&35===o)do o=e.input.charCodeAt(++e.position);while(10!==o&&13!==o&&0!==o);if(!r(o))break;for(v(e),o=e.input.charCodeAt(e.position),a++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==n&&0!==a&&e.lineIndent<n&&h(e,"deficient indentation"),a}function b(e){var t,n=e.position;return t=e.input.charCodeAt(n),45!==t&&46!==t||e.input.charCodeAt(n+1)!==t||e.input.charCodeAt(n+2)!==t||(n+=3,t=e.input.charCodeAt(n),0!==t&&!a(t))?!1:!0}function S(e,t,n){1===n?t.value+=" ":n>1&&(t.value+=j.repeat("\n",n-1))}function A(e,t,n){var s,u,l,c,p,m,d,h,y,v=e.kind,A=e.result,T=F.newScalar();if(e.result=T,y=e.input.charCodeAt(e.position),a(y)||o(y)||35===y||38===y||42===y||33===y||124===y||62===y||39===y||34===y||37===y||64===y||96===y)return!1;if((63===y||45===y)&&(u=e.input.charCodeAt(e.position+1),a(u)||n&&o(u)))return!1;for(e.kind="scalar",l=c=e.position,p=!1;0!==y;){if(58===y){if(u=e.input.charCodeAt(e.position+1),a(u)||n&&o(u))break}else if(35===y){if(s=e.input.charCodeAt(e.position-1),a(s))break}else{if(e.position===e.lineStart&&b(e)||n&&o(y))break;if(r(y)){if(m=e.line,d=e.lineStart,h=e.lineIndent,g(e,!1,-1),e.lineIndent>=t){p=!0,y=e.input.charCodeAt(e.position);continue}e.position=c,e.line=m,e.lineStart=d,e.lineIndent=h;break}}if(p&&(f(e,l,c,!1),S(e,T,e.line-m),l=c=e.position,p=!1),i(y)||(c=e.position+1),y=e.input.charCodeAt(++e.position),e.position>=e.input.length)return!1}return f(e,l,c,!1),-1!=e.result.startPosition?!0:(e.kind=v,e.result=A,!1)}function T(e,t){var n,i,a;if(n=e.input.charCodeAt(e.position),39!==n)return!1;var o=F.newScalar();for(e.kind="scalar",e.result=o,o.startPosition=e.position,e.position++,i=a=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(f(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),o.endPosition=e.position,39!==n)return!0;i=a=e.position,e.position++}else r(n)?(f(e,i,a,!0),S(e,o,g(e,!1,t)),i=a=e.position):e.position===e.lineStart&&b(e)?d(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position,o.endPosition=e.position);d(e,"unexpected end of the stream within a single quoted scalar")}function w(e,t){var n,i,a,o,l,c;if(c=e.input.charCodeAt(e.position),34!==c)return!1;e.kind="scalar";var m=F.newScalar();for(m.doubleQuoted=!0,e.result=m,m.startPosition=e.position,e.position++,n=i=e.position;0!==(c=e.input.charCodeAt(e.position));){if(34===c)return f(e,n,e.position,!0),e.position++,m.endPosition=e.position,!0;if(92===c){if(f(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),r(c))g(e,!1,t);else if(256>c&&re[c])m.value+=ie[c],e.position++;else if((l=u(c))>0){for(a=l,o=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=s(c))>=0?o=(o<<4)+l:d(e,"expected hexadecimal character");m.value+=p(o),e.position++}else d(e,"unknown escape sequence");n=i=e.position}else r(c)?(f(e,n,i,!0),S(e,m,g(e,!1,t)),n=i=e.position):e.position===e.lineStart&&b(e)?d(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}d(e,"unexpected end of the stream within a double quoted scalar")}function P(e,t){var n,r,i,o,s,u,l,c,p,m,h,f=!0,v=e.tag,b=e.anchor;if(h=e.input.charCodeAt(e.position),91===h)o=93,l=!1,r=F.newItems(),r.startPosition=e.position;else{if(123!==h)return!1;o=125,l=!0,r=F.newMap(),r.startPosition=e.position}for(null!==e.anchor&&(r.anchorId=e.anchor,e.anchorMap[e.anchor]=r),h=e.input.charCodeAt(++e.position);0!==h;){if(g(e,!0,t),h=e.input.charCodeAt(e.position),h===o)return e.position++,e.tag=v,e.anchor=b,e.kind=l?"mapping":"sequence",e.result=r,r.endPosition=e.position,!0;if(!f){var S=e.position;d(e,"missed comma between flow collection entries"),e.position=S+1}if(p=c=m=null,s=u=!1,63===h&&(i=e.input.charCodeAt(e.position+1),a(i)&&(s=u=!0,e.position++,g(e,!0,t))),n=e.line,R(e,t,G,!1,!0),p=e.tag,c=e.result,g(e,!0,t),h=e.input.charCodeAt(e.position),!u&&e.line!==n||58!==h||(s=!0,h=e.input.charCodeAt(++e.position),g(e,!0,t),R(e,t,G,!1,!0),m=e.result),l)y(e,r,p,c,m);else if(s){var A=y(e,null,p,c,m);A.parent=r,r.items.push(A)}else c.parent=r,r.items.push(c);r.endPosition=e.position+1,g(e,!0,t),h=e.input.charCodeAt(e.position),44===h?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}d(e,"unexpected end of the stream within a flow collection")}function M(e,t){var n,a,o,s,u=Y,c=!1,p=t,m=0,h=!1;if(s=e.input.charCodeAt(e.position),124===s)a=!1;else{if(62!==s)return!1;a=!0}var y=F.newScalar();for(e.kind="scalar",e.result=y,y.startPosition=e.position;0!==s;)if(s=e.input.charCodeAt(++e.position),43===s||45===s)Y===u?u=43===s?$:X:d(e,"repeat of a chomping mode identifier");else{if(!((o=l(s))>=0))break;0===o?d(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?d(e,"repeat of an indentation width identifier"):(p=t+o-1,c=!0)}if(i(s)){do s=e.input.charCodeAt(++e.position);while(i(s));if(35===s)do s=e.input.charCodeAt(++e.position);while(!r(s)&&0!==s)}for(;0!==s;){for(v(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!c||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>p&&(p=e.lineIndent),r(s))m++;else{if(e.lineIndent<p){u===$?y.value+=j.repeat("\n",m):u===Y&&c&&(y.value+="\n");break}for(a?i(s)?(h=!0,y.value+=j.repeat("\n",m+1)):h?(h=!1,y.value+=j.repeat("\n",m+1)):0===m?c&&(y.value+=" "):y.value+=j.repeat("\n",m):c&&(y.value+=j.repeat("\n",m+1)),c=!0,m=0,n=e.position;!r(s)&&0!==s;)s=e.input.charCodeAt(++e.position);f(e,n,e.position,!1)}}y.endPosition=e.position;for(var g=e.position-1,b=!1;;){var S=e.input[g];if("\r"==S||"\n"==S){b&&g--;break}if(" "!=S&&"	"!=S)break;g--}return y.endPosition=g,!0}function E(e,t){var n,r,i,o=e.tag,s=e.anchor,u=F.newItems(),l=!1;for(null!==e.anchor&&(u.anchorId=e.anchor,e.anchorMap[e.anchor]=u),u.startPosition=e.position,i=e.input.charCodeAt(e.position);0!==i&&45===i&&(r=e.input.charCodeAt(e.position+1),a(r));)if(l=!0,e.position++,g(e,!0,-1)&&e.lineIndent<=t)u.items.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,R(e,t,z,!1,!0),e.result.parent=u,u.items.push(e.result),g(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)d(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return u.endPosition=e.position,l?(e.tag=o,e.anchor=s,e.kind="sequence",e.result=u,u.endPosition=e.position,!0):!1}function C(e,t,n){var o,s,u,l,c=e.tag,p=e.anchor,m=F.newMap(),h=null,f=null,v=null,b=!1,S=!1;for(m.startPosition=e.position,null!==e.anchor&&(m.anchorId=e.anchor,e.anchorMap[e.anchor]=m),l=e.input.charCodeAt(e.position);0!==l;){if(o=e.input.charCodeAt(e.position+1),u=e.line,63!==l&&58!==l||!a(o)){if(!R(e,n,W,!1,!0))break;if(e.line===u){for(l=e.input.charCodeAt(e.position);i(l);)l=e.input.charCodeAt(++e.position);if(58===l)l=e.input.charCodeAt(++e.position),a(l)||d(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(y(e,m,h,f,null),h=f=v=null),S=!0,b=!1,s=!1,h=e.tag,f=e.result;else{if(!S)return e.tag=c,e.anchor=p,!0;d(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!S)return e.tag=c,e.anchor=p,!0;for(d(e,"can not read a block mapping entry; a multiline key may not be an implicit key");e.position>0;)if(l=e.input.charCodeAt(--e.position),r(l)){e.position++;break}}}else 63===l?(b&&(y(e,m,h,f,null),h=f=v=null),S=!0,b=!0,s=!0):b?(b=!1,s=!0):d(e,"incomplete explicit mapping pair; a key node is missed"),e.position+=1,l=o;if((e.line===u||e.lineIndent>t)&&(R(e,t,J,!0,s)&&(b?f=e.result:v=e.result),b||(y(e,m,h,f,v),h=f=v=null),g(e,!0,-1),l=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==l)d(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&y(e,m,h,f,null),S&&(e.tag=c,e.anchor=p,e.kind="mapping",e.result=m),S}function N(e){var t,n,r,i,o=!1,s=!1;if(i=e.input.charCodeAt(e.position),33!==i)return!1;if(null!==e.tag&&d(e,"duplication of a tag property"),i=e.input.charCodeAt(++e.position),60===i?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do i=e.input.charCodeAt(++e.position);while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):d(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!a(i);)33===i&&(s?d(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),te.test(n)||d(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),ee.test(r)&&d(e,"tag suffix cannot contain flow indicator characters")}return r&&!ne.test(r)&&d(e,"tag name cannot contain such characters: "+r),o?e.tag=r:H.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:d(e,'undeclared tag handle "'+n+'"'),!0}function _(e){var t,n;if(n=e.input.charCodeAt(e.position),
38!==n)return!1;for(null!==e.anchor&&d(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!a(n)&&!o(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&d(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function I(e){var t,n,r;e.length,e.input;if(r=e.input.charCodeAt(e.position),42!==r)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!a(r)&&!o(r);)r=e.input.charCodeAt(++e.position);return e.position<=t&&(d(e,"name of an alias node must contain at least one character"),e.position=t+1),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||(d(e,'unidentified alias "'+n+'"'),e.position<=t&&(e.position=t+1)),e.result=F.newAnchorRef(n,t,e.position,e.anchorMap[n]),g(e,!0,-1),!0}function R(e,t,n,r,i){var a,o,s,u,l,c,p,m,f=1,y=!1,v=!1;if(e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=J===n||z===n,r&&g(e,!0,-1)&&(y=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;N(e)||_(e);)g(e,!0,-1)?(y=!0,s=a,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):s=!1;if(s&&(s=y||i),(1===f||J===n)&&(p=G===n||W===n?t:t+1,m=e.position-e.lineStart,1===f?s&&(E(e,m)||C(e,m,p))||P(e,p)?v=!0:(o&&M(e,p)||T(e,p)||w(e,p)?v=!0:I(e)?(v=!0,(null!==e.tag||null!==e.anchor)&&d(e,"alias node should not have any properties")):A(e,p,G===n)&&(v=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result,e.result.anchorId=e.anchor)):0===f&&(v=s&&E(e,m))),null!==e.tag&&"!"!==e.tag)if("!include"==e.tag)e.result||(e.result=F.newScalar(),e.result.startPosition=e.position,e.result.endPosition=e.position,d(e,"!include without value")),e.result.kind=5;else if("?"===e.tag)for(u=0,l=e.implicitTypes.length;l>u;u+=1){c=e.implicitTypes[u];var b=e.result.value;if(c.resolve(b)){e.result.valueObject=c.construct(e.result.value),e.tag=c.tag,null!==e.anchor&&(e.result.anchorId=e.anchor,e.anchorMap[e.anchor]=e.result);break}}else H.call(e.typeMap,e.tag)?(c=e.typeMap[e.tag],null!==e.result&&c.kind!==e.kind&&d(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+c.kind+'", not "'+e.kind+'"'),c.resolve(e.result)?(e.result=c.construct(e.result),null!==e.anchor&&(e.result.anchorId=e.anchor,e.anchorMap[e.anchor]=e.result)):d(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.tag||null!==e.anchor||v}function x(e){var t,n,o,s,u=e.position,l=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(g(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(l=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),o=[],n.length<1&&d(e,"directive name must not be less than one character in length");0!==s;){for(;i(s);)s=e.input.charCodeAt(++e.position);if(35===s){do s=e.input.charCodeAt(++e.position);while(0!==s&&!r(s));break}if(r(s))break;for(t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(t,e.position))}0!==s&&v(e),H.call(se,n)?se[n](e,n,o):(h(e,'unknown document directive "'+n+'"'),e.position++)}return g(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,g(e,!0,-1)):l&&d(e,"directives end mark is expected"),R(e,e.lineIndent-1,J,!1,!0),g(e,!0,-1),e.checkLineBreaks&&Z.test(e.input.slice(u,e.position))&&h(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&b(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,g(e,!0,-1))):void(e.position<e.length-1&&d(e,"end of the stream or a document separator is expected"))}function L(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new oe(e,t);for(Q.test(n.input)&&d(n,"the stream contains non-printable characters"),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;){var r=n.position;if(x(n),n.position<=r)for(;n.position<n.length-1;n.position++){var i=n.input.charAt(n.position);if("\n"==i)break}}return n.documents.forEach(function(e){return e.errors=n.errors}),n.documents}function O(e,t,n){var r,i,a=L(e,n);for(r=0,i=a.length;i>r;r+=1)t(a[r])}function k(e,t){var n=L(e,t);if(0!==n.length){if(1===n.length)return n[0].endPosition=e.length,n[0];var r=new K("expected a single document in the stream, but found more");return r.mark=new V("","",0,0,0),r.mark.position=n[0].endPosition,n[0].errors.push(r),n[0]}}function D(e,t,n){O(e,t,j.extend({schema:B},n))}function U(e,t){return k(e,j.extend({schema:B},t))}for(var F=n(25),j=n(29),K=n(30),V=n(31),B=n(32),q=n(52),H=Object.prototype.hasOwnProperty,G=1,W=2,z=3,J=4,Y=1,X=2,$=3,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uD800-\uDFFF\uFFFE\uFFFF]/,Z=/[\x85\u2028\u2029]/,ee=/[,\[\]\{\}]/,te=/^(?:!|!!|![a-z\-]+!)$/i,ne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,re=new Array(256),ie=new Array(256),ae=0;256>ae;ae++)re[ae]=c(ae)?1:0,ie[ae]=c(ae);var oe=function(){function e(e,t){this.errorMap={},this.errors=[],this.input=e,this.filename=t.filename||null,this.schema=t.schema||q,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}return e}(),se={YAML:function(e,t,n){var r,i,a;null!==e.version&&d(e,"duplication of %YAML directive"),1!==n.length&&d(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&d(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),1!==i&&d(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=2>a,1!==a&&2!==a&&h(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&d(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],te.test(r)||d(e,"ill-formed tag handle (first argument) of the TAG directive"),H.call(e.tagMap,r)&&d(e,'there is a previously declared suffix for "'+r+'" tag handle'),ne.test(i)||d(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};t.loadAll=O,t.load=k,t.safeLoadAll=D,t.safeLoad=U,e.exports.loadAll=O,e.exports.load=k,e.exports.safeLoadAll=D,e.exports.safeLoad=U},function(e,t){"use strict";function n(e){return"undefined"==typeof e||null===e}function r(e){return"object"==typeof e&&null!==e}function i(e){return Array.isArray(e)?e:n(e)?[]:[e]}function a(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;r>n;n+=1)i=a[n],e[i]=t[i];return e}function o(e,t){var n,r="";for(n=0;t>n;n+=1)r+=e;return r}function s(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}t.isNothing=n,t.isObject=r,t.toArray=i,t.extend=a,t.repeat=o,t.isNegativeZero=s},function(e,t){"use strict";var n=function(){function e(e,t){void 0===t&&(t=null),this.name="YAMLException",this.reason=e,this.mark=t,this.message=this.toString(!1)}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t;return t="JS-YAML: "+(this.reason||"(unknown reason)"),!e&&this.mark&&(t+=" "+this.mark.toString()),t},e}();e.exports=n},function(e,t,n){"use strict";var r=n(29),i=function(){function e(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}return e.prototype.getSnippet=function(e,t){void 0===e&&(e=0),void 0===t&&(t=75);var n,i,a,o,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(a="",o=this.position;o<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if(o+=1,o-this.position>t/2-1){a=" ... ",o-=5;break}return s=this.buffer.slice(i,o),r.repeat(" ",e)+n+s+a+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},e.prototype.toString=function(e){void 0===e&&(e=!0);var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},e}();e.exports=i},function(e,t,n){"use strict";var r=n(33),i=new r({include:[n(35)],implicit:[n(45),n(46)],explicit:[n(47),n(49),n(50),n(51)]});e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var i=[];return e.include.forEach(function(e){n=r(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&i.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===i.indexOf(t)})}function i(){function e(e){r[e.tag]=e}var t,n,r={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return r}var a=n(29),o=n(30),s=n(34),u=function(){function e(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}return e.DEFAULT=null,e.create=function(){var t,n;switch(arguments.length){case 1:t=e.DEFAULT,n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(t=a.toArray(t),n=a.toArray(n),!t.every(function(t){return t instanceof e}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every(function(e){return e instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new e({include:t,explicit:n})},e}();e.exports=u},function(e,t,n){"use strict";function r(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function i(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===o.indexOf(t))throw new a('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=r(t.styleAliases||null),-1===s.indexOf(this.kind))throw new a('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var a=n(30),o=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=i},function(e,t,n){"use strict";var r=n(33);e.exports=new r({include:[n(36)]})},function(e,t,n){"use strict";var r=n(33);e.exports=new r({include:[n(37)],implicit:[n(41),n(42),n(43),n(44)]})},function(e,t,n){"use strict";var r=n(33);e.exports=new r({explicit:[n(38),n(39),n(40)]})},function(e,t,n){"use strict";var r=n(34);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var r=n(34);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(34);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function i(){return null}function a(e){return null===e}var o=n(34);e.exports=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function i(e){return"true"===e||"True"===e||"TRUE"===e}function a(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var o=n(34);e.exports=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function i(e){return e>=48&&55>=e}function a(e){return e>=48&&57>=e}function o(e){if(null===e)return!1;var t,n=e.length,o=0,s=!1;if(!n)return!1;if(t=e[o],("-"===t||"+"===t)&&(t=e[++o]),"0"===t){if(o+1===n)return!0;if(t=e[++o],"b"===t){for(o++;n>o;o++)if(t=e[o],"_"!==t){if("0"!==t&&"1"!==t)return!1;s=!0}return s}if("x"===t){for(o++;n>o;o++)if(t=e[o],"_"!==t){if(!r(e.charCodeAt(o)))return!1;s=!0}return s}for(;n>o;o++)if(t=e[o],"_"!==t){if(!i(e.charCodeAt(o)))return!1;s=!0}return s}for(;n>o;o++)if(t=e[o],"_"!==t){if(":"===t)break;if(!a(e.charCodeAt(o)))return!1;s=!0}return s?":"!==t?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(o)):!1}function s(e){var t,n,r=e,i=1,a=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),t=r[0],("-"===t||"+"===t)&&("-"===t&&(i=-1),r=r.slice(1),t=r[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){a.unshift(parseInt(e,10))}),r=0,n=1,a.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)}function u(e){return"[object Number]"===Object.prototype.toString.call(e)&&0===e%1&&!l.isNegativeZero(e)}var l=n(29),c=n(34);e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:o,construct:s,predicate:u,represent:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;return l.test(e)?!0:!1}function i(e){var t,n,r,i;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,i=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:0<=t.indexOf(":")?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)}function a(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(e))return"-0.0";return e.toString(10)}function o(e){return"[object Number]"===Object.prototype.toString.call(e)&&(0!==e%1||s.isNegativeZero(e))}var s=n(29),u=n(34),l=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");e.exports=new u("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a,defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t;return t=s.exec(e),null===t?!1:!0}function i(e){var t,n,r,i,a,o,u,l,c,p,m=0,d=null;if(t=s.exec(e),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],u=+t[6],t[7]){for(m=t[7].slice(0,3);m.length<3;)m+="0";m=+m}return t[9]&&(l=+t[10],c=+(t[11]||0),d=6e4*(60*l+c),"-"===t[9]&&(d=-d)),p=new Date(Date.UTC(n,r,i,a,o,u,m)),d&&p.setTime(p.getTime()-d),p}function a(e){return e.toISOString()}var o=n(34),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");e.exports=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:i,instanceOf:Date,represent:a})},function(e,t,n){"use strict";function r(e){return"<<"===e||null===e}var i=n(34);e.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t,n,r=0,i=e.length,a=l;for(n=0;i>n;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(0>t)return!1;r+=6}return r%8===0}function i(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=l,o=0,u=[];for(t=0;i>t;t++)t%4===0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)),o=o<<6|a.indexOf(r.charAt(t));return n=i%4*6,0===n?(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)):18===n?(u.push(o>>10&255),u.push(o>>2&255)):12===n&&u.push(o>>4&255),s?new s(u):u}function a(e){var t,n,r="",i=0,a=e.length,o=l;for(t=0;a>t;t++)t%3===0&&t&&(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]),i=(i<<8)+e[t];return n=a%3,0===n?(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]):2===n?(r+=o[i>>10&63],r+=o[i>>4&63],r+=o[i<<2&63],r+=o[64]):1===n&&(r+=o[i>>2&63],r+=o[i<<4&63],r+=o[64],r+=o[64]),r}function o(e){return s&&s.isBuffer(e)}var s=n(48).Buffer,u=n(34),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new u("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,a,u=[],l=e;for(t=0,n=l.length;n>t;t+=1){if(r=l[t],a=!1,"[object Object]"!==s.call(r))return!1;for(i in r)if(o.call(r,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==u.indexOf(i))return!1;u.push(i)}return!0}function i(e){return null!==e?e:[]}var a=n(34),o=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new a("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;n>t;t+=1){if(r=s[t],"[object Object]"!==o.call(r))return!1;if(i=Object.keys(r),1!==i.length)return!1;a[t]=[i[0],r[i[0]]]}return!0}function i(e){if(null===e)return[];var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;n>t;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var a=n(34),o=Object.prototype.toString;e.exports=new a("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n=e;for(t in n)if(o.call(n,t)&&null!==n[t])return!1;return!0}function i(e){return null!==e?e:{}}var a=n(34),o=Object.prototype.hasOwnProperty;e.exports=new a("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:i})},function(e,t,n){"use strict";var r=n(33),i=new r({include:[n(32)],explicit:[n(53),n(54),n(55)]});r.DEFAULT=i,e.exports=i},function(e,t,n){"use strict";function r(){return!0}function i(){}function a(){return""}function o(e){return"undefined"==typeof e}var s=n(34);e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1;t=t.slice(1,t.length-r.length-1)}try{new RegExp(t,r);return!0}catch(i){return!1}}function i(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)}function a(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var s=n(34);e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;try{var t="("+e+")",n=s.parse(t,{range:!0});return"Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type?!1:!0}catch(r){return!1}}function i(e){var t,n="("+e+")",r=s.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(e){i.push(e.name)}),t=r.body[0].expression.body.range,new Function(i,n.slice(t[0]+1,t[1]-1))}function a(e){return e.toString()}function o(e){return"[object Function]"===Object.prototype.toString.call(e)}var s=n(56),u=n(34);e.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t){e.exports=require("esprima")},function(e,t,n){"use strict";function r(e,t){var n,r,i,a,o,s,u;if(null===t)return{};for(n={},r=Object.keys(t),i=0,a=r.length;a>i;i+=1)o=r[i],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap[o],u&&I.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[o]=s;return n}function i(e){var t,n,r;if(t=e.toString(16).toUpperCase(),255>=e)n="x",r=2;else if(65535>=e)n="u",r=4;else{if(!(4294967295>=e))throw new E("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+M.repeat("0",r-t.length)+t}function a(e){this.schema=e.schema||C,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=M.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=r(this.schema,e.styles||null),this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function o(e,t){for(var n,r=M.repeat(" ",t),i=0,a=-1,o="",s=e.length;s>i;)a=e.indexOf("\n",i),-1===a?(n=e.slice(i),i=s):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function s(e,t){return"\n"+M.repeat(" ",e.indent*t)}function u(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;r>n;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function l(e){this.source=e,this.result="",this.checkpoint=0}function c(e,t,n){var r,i,a,s,c,m,f,y,v,g,b,S,A,T,w,P,M,E,C,N,_;if(0===t.length)return void(e.dump="''");if(0==t.indexOf("!include"))return void(e.dump=""+t);if(0==t.indexOf("!$$$novalue"))return void(e.dump="");if(-1!==te.indexOf(t))return void(e.dump="'"+t+"'");for(r=!0,i=t.length?t.charCodeAt(0):0,a=O===i||O===t.charCodeAt(t.length-1),(q===i||W===i||z===i||X===i)&&(r=!1),a?(r=!1,s=!1,c=!1):(s=!0,c=!0),m=!0,f=new l(t),y=!1,v=0,g=0,b=e.indent*n,S=80,40>b?S-=b:S=40,T=0;T<t.length;T++){if(A=t.charCodeAt(T),r){if(d(A))continue;r=!1}m&&A===K&&(m=!1),w=ee[A],P=h(A),(w||P)&&(A!==x&&A!==D&&A!==K?(s=!1,c=!1):A===x&&(y=!0,m=!1,T>0&&(M=t.charCodeAt(T-1),M===O&&(c=!1,s=!1)),s&&(E=T-v,v=T,E>g&&(g=E))),A!==D&&(m=!1),f.takeUpTo(T),f.escapeChar())}if(r&&u(e,t)&&(r=!1),C="",(s||c)&&(N=0,t.charCodeAt(t.length-1)===x&&(N+=1,t.charCodeAt(t.length-2)===x&&(N+=1)),0===N?C="-":2===N&&(C="+")),c&&S>g&&(s=!1),y||(c=!1),r)e.dump=t;else if(m)e.dump="'"+t+"'";else if(s)_=p(t,S),e.dump=">"+C+"\n"+o(_,b);else if(c)C||(t=t.replace(/\n$/,"")),e.dump="|"+C+"\n"+o(t,b);else{if(!f)throw new Error("Failed to dump scalar value");f.finish(),e.dump='"'+f.result+'"'}}function p(e,t){var n,r="",i=0,a=e.length,o=/\n+$/.exec(e);for(o&&(a=o.index+1);a>i;)n=e.indexOf("\n",i),n>a||-1===n?(r&&(r+="\n\n"),r+=m(e.slice(i,a),t),i=a):(r&&(r+="\n\n"),r+=m(e.slice(i,n),t),i=n+1);return o&&"\n"!==o[0]&&(r+=o[0]),r}function m(e,t){if(""===e)return e;for(var n,r,i,a=/[^\s] [^\s]/g,o="",s=0,u=0,l=a.exec(e);l;)n=l.index,n-u>t&&(r=s!==u?s:n,o&&(o+="\n"),i=e.slice(u,r),o+=i,u=r+1),s=n+1,l=a.exec(e);return o&&(o+="\n"),o+=u!==s&&e.length-u>t?e.slice(u,s)+"\n"+e.slice(s+1):e.slice(u)}function d(e){return R!==e&&x!==e&&L!==e&&B!==e&&J!==e&&Y!==e&&$!==e&&Z!==e&&U!==e&&j!==e&&V!==e&&k!==e&&Q!==e&&G!==e&&K!==e&&D!==e&&F!==e&&H!==e&&!ee[e]&&!h(e)}function h(e){return!(e>=32&&126>=e||133===e||e>=160&&55295>=e||e>=57344&&65533>=e||e>=65536&&1114111>=e)}function f(e,t,n){var r,i,a="",o=e.tag;for(r=0,i=n.length;i>r;r+=1)S(e,t,n[r],!1,!1)&&(0!==r&&(a+=", "),a+=e.dump);e.tag=o,e.dump="["+a+"]"}function y(e,t,n,r){var i,a,o="",u=e.tag;for(i=0,a=n.length;a>i;i+=1)S(e,t+1,n[i],!0,!0)&&(r&&0===i||(o+=s(e,t)),o+="- "+e.dump);e.tag=u,e.dump=o||"[]"}function v(e,t,n){var r,i,a,o,s,u="",l=e.tag,c=Object.keys(n);for(r=0,i=c.length;i>r;r+=1)s="",0!==r&&(s+=", "),a=c[r],o=n[a],S(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+": ",S(e,t,o,!1,!1)&&(s+=e.dump,u+=s));e.tag=l,e.dump="{"+u+"}"}function g(e,t,n,r){var i,a,o,u,l,c,p="",m=e.tag,d=Object.keys(n);for(i=0,a=d.length;a>i;i+=1)c="",r&&0===i||(c+=s(e,t)),o=d[i],u=n[o],S(e,t+1,o,!0,!0)&&(l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,l&&(c+=e.dump&&x===e.dump.charCodeAt(0)?"?":"? "),c+=e.dump,l&&(c+=s(e,t)),S(e,t+1,u,!0,l)&&(c+=e.dump&&x===e.dump.charCodeAt(0)?":":": ",c+=e.dump,p+=c));e.tag=m,e.dump=p||"{}"}function b(e,t,n){var r,i,a,o,s,u;for(i=n?e.explicitTypes:e.implicitTypes,a=0,o=i.length;o>a;a+=1)if(s=i[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===_.call(s.represent))r=s.represent(t,u);else{if(!I.call(s.represent,u))throw new E("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');r=s.represent[u](t,u)}e.dump=r}return!0}return!1}function S(e,t,n,r,i){e.tag=null,e.dump=n,b(e,n,!1)||b(e,n,!0);var a=_.call(e.dump);r&&(r=0>e.flowLevel||e.flowLevel>t),(null!==e.tag&&"?"!==e.tag||2!==e.indent&&t>0)&&(i=!1);var o,s,u="[object Object]"===a||"[object Array]"===a;if(u&&(o=e.duplicates.indexOf(n),s=-1!==o),s&&e.usedDuplicates[o])e.dump="*ref_"+o;else{if(u&&s&&!e.usedDuplicates[o]&&(e.usedDuplicates[o]=!0),"[object Object]"===a)r&&0!==Object.keys(e.dump).length?(g(e,t,e.dump,i),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(v(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else if("[object Array]"===a)r&&0!==e.dump.length?(y(e,t,e.dump,i),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(f(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new E("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&c(e,e.dump,t)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function A(e,t){var n,r,i=[],a=[];for(T(e,i,a),n=0,r=a.length;r>n;n+=1)t.duplicates.push(i[a[n]]);t.usedDuplicates=new Array(r)}function T(e,t,n){var r,i,a;_.call(e);if(null!==e&&"object"==typeof e)if(i=t.indexOf(e),-1!==i)-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;a>i;i+=1)T(e[i],t,n);else for(r=Object.keys(e),i=0,a=r.length;a>i;i+=1)T(e[r[i]],t,n)}function w(e,t){t=t||{};var n=new a(t);return A(e,n),S(n,0,e,!0,!0)?n.dump+"\n":""}function P(e,t){return w(e,M.extend({schema:N},t))}var M=n(29),E=n(30),C=n(52),N=n(32),_=Object.prototype.toString,I=Object.prototype.hasOwnProperty,R=9,x=10,L=13,O=32,k=33,D=34,U=35,F=37,j=38,K=39,V=42,B=44,q=45,H=58,G=62,W=63,z=64,J=91,Y=93,X=96,$=123,Q=124,Z=125,ee={};ee[0]="\\0",ee[7]="\\a",ee[8]="\\b",ee[9]="\\t",ee[10]="\\n",ee[11]="\\v",ee[12]="\\f",ee[13]="\\r",ee[27]="\\e",ee[34]='\\"',ee[92]="\\\\",ee[133]="\\N",ee[160]="\\_",ee[8232]="\\L",ee[8233]="\\P";var te=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];l.prototype.takeUpTo=function(e){var t;if(e<this.checkpoint)throw t=new Error("position should be > checkpoint"),t.position=e,t.checkpoint=this.checkpoint,t;return this.result+=this.source.slice(this.checkpoint,e),this.checkpoint=e,this},l.prototype.escapeChar=function(){var e,t;return e=this.source.charCodeAt(this.checkpoint),t=ee[e]||i(e),this.result+=t,this.checkpoint+=1,this},l.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},t.dump=w,t.safeDump=P},function(e,t){function n(e){return e&&e.indexOf("\n")>=0}function r(e){return n(e)&&e.length>2&&"|"==e[0]&&("\n"==e[1]||"\r"==e[1]||"\n"==e[2])}function i(e,t){var r="";if(n(e)){r+="|\n";for(var i=p(e),a=0;a<i.length;a++)r+=s(t,i[a])}else r+=e;return r}function a(e){if(!r(e))return e;for(var t=null,n=p(e),i=1;i<n.length;i++){var a=n[i],o=a.substring(2);t?t+=o:t=o}return t}function o(e){if(!e)return e;for(var t=0;t<e.length;){var n=e[t];if("\r"!=n&&"\n"!=n&&" "!=n&&"	"!=n)break;t++}return e.substring(t,e.length)}function s(e,t){void 0===t&&(t="");for(var n="",r=0;e>r;r++)n+="  ";return n+t}function u(e,t){void 0===t&&(t=""),console.log(s(e,t))}function l(e,t){void 0===t&&(t=null);for(var n="",r=0;r<e.length;r++){var i=e[r];"\r"==i&&(i=null==t?"\\r":t),"\n"==i&&(i=null==t?"\\n":t),n+=i}return n}function c(e){for(var t=e.length;t>0;){var n=e[t-1];if(" "!=n&&"	"!=n&&"\r"!=n&&"\n"!=n)break;t--}return e.substring(0,t)}function p(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function m(e,t){if(!e||!t||e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!=t[n])return!1;return!0}function d(e,t){if(!e||!t||e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[e.length-1-n]!=t[t.length-1-n])return!1;return!0}t.isMultiLine=n,t.isMultiLineValue=r,t.makeMutiLine=i,t.fromMutiLine=a,t.trimStart=o,t.indent=s,t.print=u,t.replaceNewlines=l,t.trimEnd=c,t.splitOnLines=p,t.startsWith=m,t.endsWith=d;var h=function(){function e(e,t,n){this.contents=e,this.start=t,this.end=n}return e.prototype.text=function(){return this.contents.substring(this.start,this.end)},e.prototype.startpos=function(){return this.start},e.prototype.endpos=function(){return this.end},e.prototype.len=function(){return this.end-this.start},e.prototype.unitText=function(){return this.contents},e.prototype.withStart=function(t){return new e(this.contents,t,this.end)},e.prototype.withEnd=function(t){return new e(this.contents,this.start,t)},e.prototype.sub=function(e,t){return this.contents.substring(e,t)},e.prototype.trimStart=function(){for(var t=this.start;t<this.contents.length-1;){var n=this.contents[t];if(" "!=n&&"	"!=n)break;t++}return new e(this.contents,t,this.end)},e.prototype.trimEnd=function(){for(var t=this.end;t>0;){var n=this.contents[t-1];if(" "!=n&&"	"!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.extendToStartOfLine=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if("\r"==n||"\n"==n)break;t--}return new e(this.contents,t,this.end)},e.prototype.extendAnyUntilNewLines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if("\r"==r||"\n"==r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpacesUntilNewLines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if(" "!=r||"\r"==r||"\n"==r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpaces=function(){for(var t=this.end;t<this.contents.length-1;){var n=this.contents[t];if(" "!=n)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpacesBack=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if(" "!=n)break;t--}return new e(this.contents,t,this.end)},e.prototype.extendCharIfAny=function(t){var n=this.end;return n<this.contents.length-1&&this.contents[n]==t&&n++,new e(this.contents,this.start,n)},e.prototype.extendCharIfAnyBack=function(t){var n=this.start;return n>0&&this.contents[n-1]==t&&n--,new e(this.contents,n,this.end)},e.prototype.extendToNewlines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];
if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if("\r"!=r&&"\n"!=r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendUntilNewlinesBack=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if("\r"==n||"\n"==n)break;t--}return new e(this.contents,t,this.end)},e.prototype.reduceNewlinesEnd=function(){for(var t=this.end;t>this.start;){var n=this.contents[t-1];if("\r"!=n&&"\n"!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.reduceSpaces=function(){for(var t=this.end;t>this.start;){var n=this.contents[t-1];if(" "!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.replace=function(e){return this.sub(0,this.start)+e+this.sub(this.end,this.unitText().length)},e.prototype.remove=function(){return this.sub(0,this.start)+this.sub(this.end,this.unitText().length)},e}();t.TextRange=h},function(e,t,n){function r(e,t,n){return null}function i(e){var t=s.get(e);if(t)return t==i?null:t;try{var t=r("GET",e,{timeout:3e3,socketTimeout:5e3,retry:!0});return t=new Buffer(t.body.data).toString(),s.set(e,t),t}catch(n){return s.set(e,i),null}}function a(e){return null}n(60);n(61),n(62);var o=n(63),s=o(50);t.readFromCacheOrGet=i,t.readFromCacheOrGetAsync=a},function(e,t){e.exports=require("http-response-object")},function(e,t){e.exports=require("concat-stream")},function(e,t){e.exports=require("then-request")},function(e,t){e.exports=require("lrucache")},function(e,t,n){function r(){var e=new i;return e}var i=n(65).XMLHttpRequest,a=function(){function e(){}return e.prototype.execute=function(e,t){void 0===t&&(t=!0);var n=r(),i=e.url;t&&(i=this.appendParams(e,e.url)),n.open(e.method,i,!1),this.doRequest(e,n);var a=n.status;if(a>300&&400>a){var o=n.getResponseHeader("location");if(o)return e.url=o,this.execute(e,!1)}var s={status:a,statusText:n.statusText,headers:n.getAllResponseHeaders().split("\n").map(function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}),content:{text:n.responseText,mimeType:n.responseType}};return s},e.prototype.appendParams=function(e,t){var n=e.queryString&&e.queryString.length>0;if(n){t+="?";var r=[];n&&(r=r.concat(e.queryString.map(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}))),t+=r.join("&")}return t},e.prototype.log=function(e,t){},e.prototype.executeAsync=function(e,t){void 0===t&&(t=!0);var n=r(),i=e.url;t&&(i=this.appendParams(e,e.url));var a=this;return new Promise(function(t,r){n.open(e.method,i,!0),n.onload=function(){var r=n.status;if(r>300&&400>r){var i=n.getResponseHeader("location");if(i)return e.url=i,a.executeAsync(e,!1)}var o={status:r,statusText:n.statusText,headers:n.getAllResponseHeaders().split("\n").map(function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}),content:{text:n.responseText,mimeType:n.responseType}};t(o)},n.onerror=function(){r(Error("Network Error"))},a.doRequest(e,n)})},e.prototype.doRequest=function(e,t){if(e.headers&&e.headers.forEach(function(e){return t.setRequestHeader(e.name,e.value)}),e.postData)if(e.postData.params){var n=e.postData.params.map(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}).join("&");t.send(n)}else t.send(e.postData.text);else t.send()},e}();t.SimpleExecutor=a},function(e,t){e.exports=require("xmlhttprequest")},function(e,t,n){function r(e){var t={};return e.forEach(function(e){return Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}function i(e,t){return new P(w.find(e||[],t))}function a(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function o(e){var t={};return e.forEach(function(e){return t[e[0]]=e[1]}),t}function s(e,t){return t(e),e}function u(e,t){"object"==typeof e&&Object.keys(e).forEach(function(n){return t(n,e[n])})}function l(e,n,r){void 0===r&&(r=!1);var i={};return e.forEach(function(e){var a=t.shallowCopy(e);r&&delete a[n],i[e[n]]=a}),i}function c(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n}function p(e,t){return e.length-t.length>=0&&e.substring(0,t.length)===t}function m(e){return"_"==e[e.length-1]}function d(e,t,n){var r,i=!1;e[t]=function(){return i||(i=!0,r=n.apply(e)),r}}function h(e,n){void 0===n&&(n=m);for(var r in e)n(r)&&t.ifInstanceOf(e[r],Function,function(t){return 0===t.length?d(e,r,t):null})}function f(e,t){void 0!==e&&t(e)}function y(e){return"string"!=typeof e||""==e?!1:c(e,".raml")}function v(e){for(var t,n=[],r=new RegExp("require\\('([^']+)'\\)","gi");t=r.exec(e);)n.push(t[1]);for(var i=new RegExp('require\\("([^"]+)"\\)',"gi");t=i.exec(e);)n.push(t[1]);return n=w.unique(n).filter(function(e){return""!=e}),n.sort(),n}function g(e){return"undefined"!=typeof e&&null!=e}function b(e){return 0==e.length?e:e.charAt(0).toUpperCase()+e.substr(1)}function S(e,t,n){void 0===n&&(n=!1);var r=Object.keys(t);if(n){var i={};r.forEach(function(e){return i[e]=!0}),Object.keys(e).forEach(function(e){return i[e]=!0}),r=Object.keys(i)}r.forEach(function(n){var r=e[n];r instanceof Object?(t[n]||(t[n]={}),S(r,t[n],!0)):void 0!=r&&(t[n]=e[n])})}function A(e,t){return Object.keys(t).forEach(function(n){return e=T(e,n,t[n])}),e}function T(e,t,n){for(var r="",i=0,a=e.indexOf(t);a<e.length&&a>=0;a=e.indexOf(t,i))r+=e.substring(i,a),r+=n,i=a+t.length;return r+=e.substring(i,e.length)}var w=n(17),P=n(67);t.defined=function(e){return null!==e&&void 0!==e},t.flattenArrayOfObjects=r,t.find=i,t.isInstance=function(e,t){return e instanceof t?[e]:[]},t.ifInstanceOf=function(e,t,n){return e instanceof t?n(e):null},t.toTuples=a,t.fromTuples=o,t.collectInstancesOf=function(e,n){return s([],function(r){return e.forEach(function(e){return t.ifInstanceOf(e,n,function(e){return r.push(e)})})})},t.collectInstancesOfInMap=function(e,t){return Object.keys(e).map(function(t){return[t,e[t]]}).filter(function(e){return e[1]instanceof t}).map(function(e){return e})},t.asArray=function(e){return t.defined(e)?e instanceof Array?e:[e]:[]},t.shallowCopy=function(e){return s({},function(t){return Object.keys(e).forEach(function(n){return t[n]=e[n]})})},t.flatMap=function(e,n){return t.flatten(e.map(n))},t.flatten=function(e){return Array.prototype.concat.apply([],e)},t.takeWhile=function(e,t){return s([],function(n){for(var r=0;r<e.length&&t(e[r]);r++)n.push(e[r])})},t.tap=s,t.kv=u,t.indexed=l,t.stringEndsWith=c,t.stringStartsWith=p,t.lazypropkeyfilter=m,t.lazyprops=h,t.iff=f,t.isRAMLUrl=y,t.getAllRequiredExternalModulesFromCode=v,t.serial=function(){var e=0;return function(){return e++}}(),t.isEssential=g,t.firstToUpper=b,t.updateObject=S,t.replaceMap=A,t.replace=T},function(e,t,n){var r,i=n(68),a=function(e){return null!=e},o=function(){function e(t){var n=this;this._value=t,this._isDefined=!1,this._isEmpty=!0,this._arr=void 0,this.getOrThrow=function(){return i(n._isDefined,"Opt is empty. Use `Opt#getOrElse` or check `Opt#isDefined`."),n._value},this.value=function(){return n._value},this.isDefined=function(){return n._isDefined},this.isEmpty=function(){return n._isEmpty},this.toArray=function(){return n._arr||(n._arr=n._isDefined?[n._value]:[])},this.getOrElse=function(e){return n._isDefined?n._value:e},this.getOrElseF=function(e){return n._isDefined?n._value:e()},this.map=function(t){return n._isEmpty?e.empty():new e(t(n._value))},this.flatMap=function(t){return n.map(t).getOrElse(e.empty())},this.equals=function(t){return i(t instanceof e,"Expected other to be an `Opt`, but got `%s`",typeof t),n._isDefined===t.isDefined()&&n._value===t.value()},a(this._value)&&(this._isDefined=!0,this._isEmpty=!1)}return e.prototype.forEach=function(e){this.isDefined()&&e(this._value)},e.empty=function(){return r||(r=new e)},e}();e.exports=o},function(e,t){e.exports=require("invariant")},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=(n(25),n(70)),a=n(71),o=n(30),s=n(24),u=n(66),l=n(20),c=function(){function e(e,t){this._parent=e,this._transformer=t}return e.prototype.actual=function(){return this._originalNode?this._originalNode.actual():this},e.prototype.transformer=function(){return this._transformer},e.prototype.originalNode=function(){return this._originalNode},e.prototype.start=function(){return this._originalNode.start()},e.prototype.end=function(){return this._originalNode.end()},e.prototype.value=function(){throw new o("The method must be overridden")},e.prototype.includeErrors=function(){return this._originalNode.includeErrors()},e.prototype.includePath=function(){return this._originalNode.includePath()},e.prototype.setKeyOverride=function(e){this._keyOverride=e},e.prototype.key=function(){return this._keyOverride?this._keyOverride:this._originalNode.key()},e.prototype.children=function(){throw new o("The method must be overridden")},e.prototype.parent=function(){return this._parent},e.prototype.unit=function(){return this._originalNode.unit()},e.prototype.anchorId=function(){return this._originalNode.anchorId()},e.prototype.errors=function(){return this._originalNode.errors()},e.prototype.anchoredFrom=function(){return this._originalNode.anchoredFrom()},e.prototype.includedFrom=function(){return this._originalNode.includedFrom()},e.prototype.visit=function(e){e(this)&&this.children().forEach(function(t){return t.visit(e)})},e.prototype.addChild=function(e){},e.prototype.execute=function(e){},e.prototype.dump=function(){return null},e.prototype.dumpToObject=function(){return i.serialize(this)},e.prototype.keyStart=function(){return this._originalNode.keyStart()},e.prototype.keyEnd=function(){return this._originalNode.keyEnd()},e.prototype.valueStart=function(){return this._originalNode.valueStart()},e.prototype.valueEnd=function(){return this._originalNode.valueEnd()},e.prototype.isValueLocal=function(){return this._originalNode.isValueLocal()},e.prototype.kind=function(){return this._originalNode.kind()},e.prototype.valueKind=function(){return this._originalNode.valueKind()},e.prototype.show=function(e){this._originalNode.show(e)},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.text=function(e){throw new o("not implemented")},e.prototype.copy=function(){throw new o("not implemented")},e.prototype.markup=function(e){throw new o("not implemented")},e.prototype.nodeDefinition=function(){return s.getDefinitionForLowLevelNode(this)},e.prototype.includesContents=function(){return this._originalNode.includesContents()},e}();t.LowLevelProxyNode=c;var p=function(e){function t(t,n,r){e.call(this,n,r),this._adoptedNodes=[];var i=this.parent()?this.parent().primaryNode():null;this._originalNode=new m(t,i,r),this._adoptedNodes.push(this.primaryNode())}return r(t,e),t.prototype.adoptedNodes=function(){return this._adoptedNodes},t.prototype.primaryNode=function(){return this._originalNode},t.prototype.parent=function(){return this._parent},t.prototype.adopt=function(e,t){t||(t=this._transformer);var n=this.parent()?this.parent().primaryNode():null,r=new m(e,n,t);this._adoptedNodes.push(r),this._children&&this._children.forEach(function(e){return e._parent=null}),this._children=null,this.highLevelNode()&&this.highLevelNode().resetChildren()},t.prototype.value=function(){var e=this._adoptedNodes.filter(function(e){return null!=e.value()});return e.length>0?e[0].value():this._originalNode.value()},t.prototype.children=function(){var e=this;if(this._children)return this._children;var n=[],r=!1,i=!1;if(this._adoptedNodes.forEach(function(e){e.children()&&e.children().length>0&&(i=!0,e.children()[0].key()&&(r=!0))}),r)n=this.collectChildrenWithKeys();else if(i){n=this.collectChildrenWithKeys();var a={};this._adoptedNodes.forEach(function(r){return r.children().filter(function(e){return!e.key()}).forEach(function(i){var o=r==e.primaryNode(),s=e.buildKey(i);if(o||!a[s]){a[s]=!0;var u=r.transformer()?r.transformer():e.transformer(),l=i instanceof m?i.originalNode():i;n.push(new t(l,e,u))}})})}else n=[];return this._children=n,n},t.prototype.buildKey=function(e){var t=i.serialize(e),n=this.nodeDefinition();if(n&&(n.key()==l.Universe08.TraitRef||n.key()==l.Universe08.ResourceTypeRef||n.key()==l.Universe10.TraitRef||n.key()==l.Universe10.ResourceTypeRef)&&"object"==typeof t){var r=Object.keys(t);r.length>0&&(t=r[0])}return a(t)},t.prototype.collectChildrenWithKeys=function(){var e=this,n=[],r={};return this._adoptedNodes.forEach(function(t){var n=t==e.primaryNode();t.originalNode().children().forEach(function(e){var i=e.key();if(i){u.stringEndsWith(i,"?")&&(i=i.substring(0,i.length-1));var a=r[i];a||(a=[],r[i]=a),a.push({node:e,transformer:t.transformer(),isPrimary:n})}})}),Object.keys(r).forEach(function(i){var a=r[i],o=!0,s=!1;if(a.forEach(function(e){o=o&&u.stringEndsWith(e.node.key(),"?"),s=s||e.isPrimary}),s){var l=[];a.filter(function(e){return e.isPrimary}).forEach(function(n){var r=n.transformer?n.transformer:e.transformer();l.push(new t(n.node,e,r))});var c=l[0];a.filter(function(e){return!e.isPrimary}).forEach(function(e){c.adopt(e.node,e.transformer)}),l.forEach(function(e){return n.push(e)})}else if(!o){for(var p=a[0].transformer?a[0].transformer:e.transformer(),c=new t(a[0].node,e,p),m=1;m<a.length;m++)c.adopt(a[m].node,a[m].transformer);n.push(c)}}),n},t.prototype.valueKind=function(){if(1!=this._originalNode.kind())return null;for(var e=0;e<this._adoptedNodes.length;e++){var t=this._adoptedNodes[e];if(t.value())return t.valueKind()}return null},t.prototype.includePath=function(){for(var e=0;e<this._adoptedNodes.length;e++){var t=this._adoptedNodes[e];if(null!=t.value())return t.includePath()}return null},t.prototype.key=function(){var t=this._adoptedNodes.map(function(e){return e.key()}).filter(function(e){return null!=e&&!u.stringEndsWith(e,"?")});return t.length>0?t[0]:e.prototype.key.call(this)},t}(c);t.LowLevelCompositeNode=p;var m=function(e){function t(t,n,r){e.call(this,n,r),this._originalNode=t}return r(t,e),t.prototype.value=function(){var e=this.originalNode().value(),t=this.transformer();if(t){var n=t.transform(e);e=n.value}return e},t.prototype.children=function(){var e=this;return this.originalNode().children().map(function(n){return new t(n,e,e._transformer)})},t.prototype.parent=function(){return this._parent},t}(c);t.LowLevelValueTransformingNode=m},function(e,t,n){function r(e,t){if(void 0===t&&(t={}),0==e.children().length)return e.value()?e.value():"";if(e.children()[0].key()){var n={};if(e.children().forEach(function(e){n[a(e.key(),t)]=r(e,t)}),t&&t.writeErrors){var o=i(e);null!=o&&o.length>0&&(n.__$errors__=o)}return n}var s=[];return e.children().forEach(function(e){s.push(r(e,t))}),s}function i(e){var t=[].concat(e.errors());return e.children().forEach(function(e){var n=e.children();return 0==n.length?void e.errors().forEach(function(e){return t.push(e)}):void(n[0].key()||n.forEach(function(e){0==e.children().length&&e.errors().forEach(function(e){return t.push(e)})}))}),t}function a(e,t){return t&&e&&t.escapeNumericKeys&&0==e.replace(/\d/g,"").trim().length?"__$EscapedKey$__"+e:e}function o(e,t){return e&&t.escapeNumericKeys&&u.stringStartsWith(e,"__$EscapedKey$__")&&0==e.substring("__$EscapedKey$__".length).replace(/\d/g,"").trim().length?e.substring("__$EscapedKey$__".length):e}var s=n(30),u=(n(25),n(66)),l=n(24),c=function(){function e(e,t,n,r,i,a){void 0===a&&(a={}),this._absolutePath=e,this._path=t,this._content=n,this._project=r,this._isTopoLevel=i,this.serializeOptions=a,this._node=new p(this,JSON.parse(this._content),null,a)}return e.prototype.absolutePath=function(){return this._absolutePath},e.prototype.clone=function(){return null},e.prototype.contents=function(){return this._content},e.prototype.lexerErrors=function(){return[]},e.prototype.path=function(){return this._content},e.prototype.isTopLevel=function(){return this._isTopoLevel},e.prototype.ast=function(){return this._node},e.prototype.isDirty=function(){return!0},e.prototype.getIncludeNodes=function(){return[]},e.prototype.resolveAsync=function(e){return null},e.prototype.isRAMLUnit=function(){return!0},e.prototype.project=function(){return this._project},e.prototype.updateContent=function(e){},e.prototype.ramlVersion=function(){throw new s("not implemented")},e.prototype.resolve=function(e){return null},e}();t.CompilationUnit=c;var p=function(){function e(e,t,n,r,i){var a=this;void 0===r&&(r={}),this._unit=e,this._object=t,this._parent=n,this.options=r,this._key=i,this._object instanceof Object&&Object.keys(this._object).forEach(function(e){var t=o(e,a.options);if(t!=e){var n=a._object[e];delete a._object[e],a._object[t]=n}})}return e.prototype.start=function(){return-1},e.prototype.end=function(){return-1},e.prototype.value=function(){return this._object},e.prototype.actual=function(){return this._object},e.prototype.includeErrors=function(){return[]},e.prototype.includePath=function(){return null},e.prototype.key=function(){return this._key},e.prototype.children=function(){var t=this;return this._object?Array.isArray(this._object)?this._object.map(function(n){return new e(t._unit,n,t,t.options)}):this._object instanceof Object?Object.keys(this._object).map(function(n){return new e(t._unit,t._object[n],t,t.options,n)}):[]:[]},e.prototype.parent=function(){return this._parent},e.prototype.unit=function(){return this._unit},e.prototype.anchorId=function(){return null},e.prototype.errors=function(){return[]},e.prototype.anchoredFrom=function(){return this},e.prototype.includedFrom=function(){return this},e.prototype.visit=function(e){e(this)&&this.children().forEach(function(t){return t.visit(e)})},e.prototype.dumpToObject=function(){return this._object},e.prototype.addChild=function(e){},e.prototype.execute=function(e){},e.prototype.dump=function(){return JSON.stringify(this._object)},e.prototype.keyStart=function(){return-1},e.prototype.keyEnd=function(){return-1},e.prototype.valueStart=function(){return-1},e.prototype.valueEnd=function(){return-1},e.prototype.isValueLocal=function(){return!0},e.prototype.kind=function(){return Array.isArray(this._object)?3:this._object instanceof Object?2:0},e.prototype.valueKind=function(){return null},e.prototype.show=function(e){},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.text=function(e){throw new s("not implemented")},e.prototype.copy=function(){throw new s("not implemented")},e.prototype.markup=function(e){throw new s("not implemented")},e.prototype.nodeDefinition=function(){return l.getDefinitionForLowLevelNode(this)},e.prototype.includesContents=function(){return!1},e}();t.AstNode=p,t.serialize=r},function(e,t){e.exports=require("json-stable-stringify")},function(e,t,n){function r(e,t,n){var r=e.trim();if(r.length>0)try{if("{"==r.charAt(0))return void h.getJSONSchema(e);if("<"==r.charAt(0))return void h.getXMLSchema(e)}catch(i){n.accept(d.createIssue(7,i.message,t))}var a=p.parse(e);u(a,t,n)}function i(e,t,n,r){if(void 0===r&&(r=!1),!t)return e.definition().universe().type("StringTypeDeclaration");if(r&&v[t]){var i=e.definition().universe().type(v[t]);return i}if(y[t]){var a=e.definition().universe().type(y[t]);return a}try{var s=t;if(s=s.trim(),"{"==s.charAt(0))return null;if("<"==s.charAt(0))return null;var u=p.parse(t)}catch(l){return null}return o(e,u,r,n)}function a(e,t,n,r){if(void 0===r&&(r=!1),!t)return e.definition().universe().type("StringTypeDeclaration");if(r&&v[t]){var i=e.definition().universe().type(v[t]);if(i){var a=new l.UserDefinedClass(e.name(),e.definition().universe(),e,"","");return a._superTypes.push(i),a}}if(y[t]){var s=e.definition().universe().type(y[t]);if(s){var a=new l.UserDefinedClass(e.name(),e.definition().universe(),e,"","");return a._superTypes.push(s),a}}try{var u=t;if(u=u.trim(),"{"==u.charAt(0))return null;if("<"==u.charAt(0))return null;var c=p.parse(t)}catch(m){return null}return o(e,c,r,n)}function o(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r={}),"union"==t.type){var i=t,a=o(e,i.first,n,r),s=o(e,i.rest,n,r),u=e.definition().universe().type("UnionTypeDeclaration"),p=new l.Union("Union"+g++,e.definition().universe(),"");return p._superTypes.push(u),p.left=a,p.right=s,p}if("responses"==t.type){var d=t,h=null;return d.codes.forEach(function(t){var i=o(e,t.expr,n,r);if(i)if(h){var a=new l.Union("Union"+g++,e.definition().universe(),"");a.left=h,a.right=i,h=i}else h=i}),h}if("parens"==t.type){var b=t;return o(e,b.expr,n,r)}if("name"==t.type){var S=t,A=S.value,T=A.lastIndexOf("[]");if(-1!=T&&T==A.length-2&&(A=A.substr(0,A.length-2)),S.arr>0){var w=m.subTypesWithLocals(e.definition().universe().type("TypeDeclaration"),e),P=c.find(w,function(e){var t=e.nameId()==A;if(!t&&e instanceof l.AbstractType){var n=e;n.getAdapter(f.RAMLService).getAliases().forEach(function(e){e==A&&(t=!0)})}return t});P||v[A]&&(P=e.definition().universe().type(v[A])),P||(P=new l.ValueType("String",e.definition().universe(),""));var M=e.definition().universe().type("ArrayTypeDeclaration"),E=new l.Array(P.nameId()+"[]",e.definition().universe(),"");return E._superTypes.push(M),E.component=P,E.dimensions=S.arr,E}if(n&&v[A])return e.definition().universe().type(v[A]);if(y[A])return e.definition().universe().type(y[A]);var C=e.definition().universe().type("TypeDeclaration");C||(C=e.definition().universe().type("GlobalSchema"));var N=m.subTypesWithName(A,e,r);return N?N:(C=e.definition().universe().type("GlobalSchema"),m.schemasWithName(A,e,r))}return null}function s(e){if("union"==e.type){var t=e;return s(t.first)+"|"+s(t.rest)}if("responses"==e.type){for(var n=e,r="{",i=0;i<n.codes.length;i++)r+=n.codes[i].code,r+=":",r+=s(n.codes[i].expr),i!=n.codes.length-1&&(r+=",");return r+="}"}if("parens"==e.type){var a=e,o="("+s(a.expr)+")";return a.arr&&(o+="[]"),o}if("name"==e.type){var u=e,l=u.value,o=l;return u.arr&&(o+="[]"),o}}function u(e,t,n){if("union"==e.type){var r=e;u(r.first,t,n),u(r.rest,t,n)}if("responses"==e.type){var i=e;i.codes.forEach(function(e){for(var r=e.code,i=0;i<r.length;i++){var a=r[i];if(!c.find(["0","1","2","3","4","5","6","7","8","9","x","X"],function(e){return e==a}))return void n.accept(d.createIssue(7,"Status code should be 3 digits number with optional 'x' as wildcards",t))}u(e.expr,t,n)})}if("parens"==e.type){var a=e;u(a.expr,t,n)}if("name"==e.type){var o=e,s=o.value;-1!=s.lastIndexOf("[]")&&(s=s.substr(0,s.length-2));var l=t.property();if(l.getAdapter(f.RAMLPropertyService).isValidValue(s,t.parent()))return;var p=l.getAdapter(f.RAMLPropertyService).enumValues(t.parent());if(p=p.map(function(e){var t=e.indexOf("<");return-1!=t?e.substring(0,t):e}),o.params&&o.params.forEach(function(e){u(e,t,n)}),p.push("number"),p.push("integer"),p.push("file"),p.push("boolean"),p.push("any"),p.push("date"),p.push("void"),p.push("string"),p.push("value"),!c.find(p,function(e){return e==s}))return n.accept(d.createIssue(0,"Unresolved reference:"+s,t)),!0}}var l=n(16),c=(n(15),n(17)),p=n(73),m=n(74),d=n(78),h=n(79),f=n(22);t.validate=r,t.getType=i,t.getType2=a;var y={string:"StringTypeDeclaration",number:"NumberTypeDeclaration",integer:"IntegerTypeDeclaration",date:"DateTypeDeclaration",object:"ObjectTypeDeclaration","boolean":"BooleanTypeDeclaration",value:"ValueTypeDeclaration",file:"FileTypeDeclaration"},v={string:"string",number:"number",integer:"integer",date:"date",object:"ObjectTypeDeclaration","boolean":"boolean",value:"string",file:"file"},g=0;t.deriveType=o,t.nodeToString=s,t.validateNode=u},function(e,t){var n=function(){"use strict";function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function n(e){function n(t){var n,r,i=te[t];if(i)return i;for(n=t-1;!te[n];)n--;for(i=te[n],i={line:i.line,column:i.column,seenCR:i.seenCR};t>n;)r=e.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return te[t]=i,i}function r(e,t){var r=n(e),i=n(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function i(e){ne>Z||(Z>ne&&(ne=Z,re=[]),re.push(e))}function a(e,n,r,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&a(n),new t(null!==e?e:o(n,r),n,r,i)}function o(){var t,n,r,a,u,l,c,m;return t=Z,n=p(),n!==f?(r=s(),r!==f?(a=Z,u=p(),u!==f?(124===e.charCodeAt(Z)?(l=g,Z++):(l=f,0===ie&&i(b)),l!==f?(c=p(),c!==f?(m=o(),m!==f?(u=[u,l,c,m],a=u):(Z=a,a=f)):(Z=a,a=f)):(Z=a,a=f)):(Z=a,a=f),a===f&&(a=null),a!==f?(ee=t,n=S(r,a),t=n):(Z=t,t=f)):(Z=t,t=f)):(Z=t,t=f),t}function s(){var t,n,r,a,s,u,l,m,d,h;if(t=Z,40===e.charCodeAt(Z)?(n=A,Z++):(n=f,0===ie&&i(T)),n!==f)if(r=p(),r!==f)if(a=o(),a!==f)if(s=p(),s!==f)if(41===e.charCodeAt(Z)?(u=w,Z++):(u=f,0===ie&&i(P)),u!==f){for(l=[],m=Z,d=p(),d!==f?(e.substr(Z,2)===M?(h=M,Z+=2):(h=f,0===ie&&i(E)),h!==f?(d=[d,h],m=d):(Z=m,m=f)):(Z=m,m=f);m!==f;)l.push(m),m=Z,d=p(),d!==f?(e.substr(Z,2)===M?(h=M,Z+=2):(h=f,0===ie&&i(E)),h!==f?(d=[d,h],m=d):(Z=m,m=f)):(Z=m,m=f);l!==f?(ee=t,n=C(a,l),t=n):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;return t===f&&(t=c()),t}function u(){var t,n,r,a,s;if(t=Z,60===e.charCodeAt(Z)?(n=N,Z++):(n=f,0===ie&&i(_)),n!==f)if(r=o(),r!==f){for(a=[],s=l();s!==f;)a.push(s),s=l();a!==f?(62===e.charCodeAt(Z)?(s=I,Z++):(s=f,0===ie&&i(R)),s!==f?(ee=t,n=x(r,a),t=n):(Z=t,t=f)):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;return t}function l(){var t,n,r;return t=Z,44===e.charCodeAt(Z)?(n=L,Z++):(n=f,0===ie&&i(O)),n!==f?(r=o(),r!==f?(ee=t,n=k(r),t=n):(Z=t,t=f)):(Z=t,t=f),t}function c(){var t,n,r,a,o,s,l;if(ie++,t=Z,n=[],r=m(),r!==f)for(;r!==f;)n.push(r),r=m();else n=f;if(n!==f)if(r=u(),r===f&&(r=null),r!==f){for(a=[],o=Z,s=p(),s!==f?(e.substr(Z,2)===M?(l=M,Z+=2):(l=f,0===ie&&i(E)),l!==f?(s=[s,l],o=s):(Z=o,o=f)):(Z=o,o=f);o!==f;)a.push(o),o=Z,s=p(),s!==f?(e.substr(Z,2)===M?(l=M,Z+=2):(l=f,0===ie&&i(E)),l!==f?(s=[s,l],o=s):(Z=o,o=f)):(Z=o,o=f);a!==f?(ee=t,n=U(n,r,a),t=n):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;return ie--,t===f&&(n=f,0===ie&&i(D)),t}function p(){var t,n;for(ie++,t=[],j.test(e.charAt(Z))?(n=e.charAt(Z),Z++):(n=f,0===ie&&i(K));n!==f;)t.push(n),j.test(e.charAt(Z))?(n=e.charAt(Z),Z++):(n=f,0===ie&&i(K));return ie--,t===f&&(n=f,0===ie&&i(F)),t}function m(){var t;return V.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i(B)),t===f&&(95===e.charCodeAt(Z)?(t=q,Z++):(t=f,0===ie&&i(H)),t===f&&(45===e.charCodeAt(Z)?(t=G,Z++):(t=f,0===ie&&i(W)),t===f&&(46===e.charCodeAt(Z)?(t=z,Z++):(t=f,0===ie&&i(J)),t===f&&(Y.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i(X)),t===f&&($.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i(Q))))))),t}var d,h=arguments.length>1?arguments[1]:{},f={},y={Term:o},v=o,g="|",b={type:"literal",value:"|",description:'"|"'},S=function(e,t){return t?{type:"union",first:e,rest:t[3]}:e},A="(",T={type:"literal",value:"(",description:'"("'},w=")",P={type:"literal",value:")",description:'")"'},M="[]",E={type:"literal",value:"[]",description:'"[]"'},C=function(e,t){return{type:"parens",expr:e,arr:t.length}},N="<",_={type:"literal",value:"<",description:'"<"'},I=">",R={type:"literal",value:">",description:'">"'},x=function(e,t){return[e].concat(t)},L=",",O={type:"literal",value:",",description:'","'},k=function(e){return e},D={type:"other",description:"name"},U=function(e,t,n){return{type:"name",params:t,value:e.join(""),arr:n.length}},F={type:"other",description:"whitespace"},j=/^[ \t\n\r]/,K={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},V=/^[A-Z]/,B={type:"class",value:"[A-Z]",description:"[A-Z]"},q="_",H={type:"literal",value:"_",description:'"_"'},G="-",W={type:"literal",value:"-",description:'"-"'},z=".",J={type:"literal",value:".",description:'"."'},Y=/^[a-z]/,X={type:"class",value:"[a-z]",description:"[a-z]"},$=/^[0-9]/,Q={type:"class",value:"[0-9]",description:"[0-9]"},Z=0,ee=0,te=[{line:1,column:1,seenCR:!1}],ne=0,re=[],ie=0;if("startRule"in h){if(!(h.startRule in y))throw new Error("Can't start parsing from rule \""+h.startRule+'".');v=y[h.startRule]}if(d=v(),d!==f&&Z===e.length)return d;throw d!==f&&Z<e.length&&i({type:"end",description:"end of input"}),a(null,re,ne<e.length?e.charAt(ne):null,ne<e.length?r(ne,ne+1):r(ne,ne))}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t,n){function r(e,n){var r=n.split("."),i=e;return i.definition().getAdapter(L.RAMLService).isAnnotation()&&(i=i.parent()),r.forEach(function(e){if(null!=i){if("$parent"==e)return void(i=i.parent());if("$root"==e)return void(i=i.root());if("$top"==e)return void(i=t.declRoot(i));var n=N.find(i.elements(),function(t){return t.name()==e});i=n}}),i}function i(e){var n=t.declRoot(e);return s(n)}function a(e,t){var n=e.lowLevel();return n=n._node?n._node:n,n.mark?t:(n.mark=t,null)}function o(e){var t=e.lowLevel();t=t._node?t._node:t,delete t.mark}function s(e){var t=[];a(e,t);try{return e.elements().forEach(function(e){e.definition().key()==R.Universe10.Library&&(t=t.concat(s(e))),t.push(e)}),t}finally{o(e)}}function u(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else if("\r"==i||"\n"==i)return n}}function l(e,t,n,r){if(void 0===r&&(r=!0),null==e)return null;if(e.lowLevel()&&e.lowLevel().start()<=t&&e.lowLevel().end()>=n){if(e instanceof I.ASTNodeImpl){for(var i=e,a=r?i.children():i.directChildren(),o=0;o<a.length;o++)if(r||a[o].lowLevel().unit()==e.lowLevel().unit()){var s=l(a[o],t,n,r);if(s)return s}return e}if(e instanceof I.ASTPropImpl){var u=e;if(!u.property().isKey()){var c=u.value();if(c instanceof I.StructuredValue){var p=c,m=p.toHighlevel();if(m&&!r&&m.lowLevel().unit()!=e.lowLevel().unit())return null;var s=l(m,t,n,r);if(s)return s}return u}return null}return e}return null}function c(e,t){for(var n=-1,r=t-1;r>=0;r--){var i=e.charAt(r);if("\r"==i||"\n"==i||" "==i||"	"==i||'"'==i||"'"==i||":"==i){n=r+1;break}}for(var a=-1,r=t;r<e.length;r++){var i=e.charAt(r);if("\r"==i||"\n"==i||" "==i||"	"==i||'"'==i||"'"==i||":"==i){a=r;break}}return-1!=n&&-1!=a?e.substring(n,a):""}function p(e,t){for(var n="",r=t;r>=0;r--){var i=e[r];if(" "==i||"\r"==i||"\n"==i||"|"==i||"["==i||"]"==i||":"==i||"("==i||")"==i)break;n=i+n}for(var r=t+1;r<e.length;r++){var i=e[r];if(" "==i||"\r"==i||"\n"==i||"|"==i||"["==i||"]"==i||":"==i||"("==i||")"==i)break;n+=i}return n}function m(e,t){var n=d(e,t);if(n){if(n instanceof I.ASTNodeImpl){var r=n;return{node:r,results:r.findReferences()}}n instanceof I.ASTPropImpl}var i=l(C.fromUnit(e),t,t,!1);if(i instanceof I.ASTNodeImpl)return{node:i,results:i.findReferences()};if(i instanceof I.ASTPropImpl){var a=i;if(a.property().canBeValue())return{node:a.parent(),
results:a.parent().findReferences()}}return{node:null,results:[]}}function d(e,t){var n=l(C.fromUnit(e),t,t,!1),r=v(e.contents(),t);if(0==r){var i=n;if(n instanceof I.ASTPropImpl){var a=n;if(a&&a.value()){if(!(a.value()instanceof I.StructuredValue))return O(t,e.contents(),a,i);var o=a.value(),s=o.toHighlevel();if(s){var u=N.find(s.attrs(),function(e){return e.lowLevel().start()<t&&e.lowLevel().end()>=t});if(u)return O(t,e.contents(),u,s,a.property())}}}}if(1==r||6==r){var i=n,p=n.property();if(p instanceof E.UserDefinedProp){var m=p;return m.node()}if(n instanceof I.ASTNodeImpl&&i.definition()instanceof E.UserDefinedClass){var d=i.definition();return d.isAssignableFrom("TypeDeclaration")?n:d.getAdapter(L.RAMLService).getDeclaringNode()}if(n instanceof I.ASTPropImpl){var g=n;if(y(g)){var b=h(g);if(b){var S=f(g,b.getAdapter(L.RAMLService).toRuntime());if(S){var n=l(S,t,t);if(p=n.property(),p instanceof E.UserDefinedProp){var m=p;return m.node()}if(n instanceof I.ASTNodeImpl&&i.definition()instanceof E.UserDefinedClass){var d=i.definition();return d.getAdapter(L.RAMLService).getDeclaringNode()}}}}}}if(2==r){var A=c(e.contents(),t);if(A){var T=e.resolve(A);return T}}}function h(e){var t=e.parent();return e.property().nameId()==R.Universe10.ExampleSpec.properties.content.name&&(t=t.parent()),I.typeFromNode(t)}function f(e,t){return e.value()instanceof I.StructuredValue?new I.ASTNodeImpl(e.value().lowLevel(),e.parent(),t,e.property()):null}function y(e){if(!(e instanceof I.ASTPropImpl))return!1;var t=e;if(R.Universe10.ExampleSpec.properties.content.name==t.name()&&t.isString()){if(t.parent()instanceof I.ASTNodeImpl&&(R.Universe10.TypeDeclaration.properties.examples.name==t.parent().property().nameId()||R.Universe10.TypeDeclaration.properties.example.name==t.parent().property().nameId())&&t.parent().parent()instanceof I.ASTNodeImpl&&t.parent().parent().definition().isAssignableFrom(R.Universe10.ObjectTypeDeclaration.name))return!0}else if(R.Universe10.TypeDeclaration.properties.example.name==t.name()&&t.isString()&&t.parent()instanceof I.ASTNodeImpl&&t.parent().definition().isAssignableFrom(R.Universe10.ObjectTypeDeclaration.name))return!0;return!1}function v(e,t){for(var n=!1,r=!1,i=!1,a=t-1;a>=0;a--){var o=e.charAt(a);if("("==o)i=!0;else{if(i){if("\r"==o||"\n"==o){for(var s=!1,l=t-1;l<e.length;l++){var c=e[l];if(")"==c&&(s=!0),"\r"==c||"\n"==c)break;if(":"==c){i=!1;break}}if(i&&s)return 5;break}if(" "==o||"	"==o)continue;break}if("\r"==o||"\n"==o)break;if(":"==o)break}}for(var a=t-1;a>=0;a--){var o=e.charAt(a);if("#"==o)return 0==a?4:7;if(":"==o)return n?3:0;if("\r"==o||"\n"==o){for(var p=!1,m=u(t,e),d=a;d>0;d--){if(o=e.charAt(d),":"==o){if(p){var h=u(d,e);if(h.length<m.length)return 0}break}"|"!=o?(("\r"==o||"\n"==o)&&(p=!1)," "!=o&&"	"!=o&&(p=!1)):p=!0}return r?6:1}if("-"==o&&(r=!0),"!"==o){if(e.indexOf("!include",a)==a)return 2;e.indexOf("!i",a)==a&&(n=!0)}}}function g(e,t){if(!t)return null;for(var n=t.split("/"),r=e,i=0;i<n.length;i++)if("#"!=n[i]){if(r=N.find(r.children(),function(e){return e.key()==n[i]}),!r)return null}else r=e.unit().ast();return r}function b(e,n){var r=e.range();return t.subTypesWithLocals(r,n)}function S(e,n){if(n){if(e.isDescriminator()){var r=e.range(),a=r.getAdapter(L.RAMLService).getRuntimeExtenders();if(a.length>0&&n){var o=[];return a.forEach(function(e){var t=i(n).filter(function(t){return t.definition()==e});o=o.concat(t)}),o}return[]}if(e.isReference())return t.nodesDeclaringType(e.referencesTo(),n);if(e.range().isValueType()){var s=e.range().getAdapter(L.RAMLService);if(s.globallyDeclaredBy&&s.globallyDeclaredBy().length>0){var u=i(n).filter(function(e){return null!=N.find(s.globallyDeclaredBy(),function(t){return t==e.definition()})});return u}}}return this._enumOptions}function A(e){var t=[];return T(e,t),t}function T(e,t){e.children().forEach(function(e){t.push(e),T(e,t)})}function w(e,t,n){e.elements().forEach(function(e){w(e,t,n);e.definition()}),e.attrs().forEach(function(r){var i=r.property(),a=r.value();if(i instanceof E.UserDefinedProp){var o=i.node();o==t?n.push(r):o.lowLevel().start()==t.lowLevel().start()&&o.lowLevel().unit()==t.lowLevel().unit()&&n.push(r)}if(y(r)){var s=h(r);if(s){var u=f(r,s.getAdapter(L.RAMLService).toRuntime());u&&w(u,t,n)}}else if(i.getAdapter(L.RAMLPropertyService).isTypeExpr()&&"string"==typeof a){var l=_.getType(e,""+a,{});k(l,r,t,n);var c=C.getLibraryName(t);if(c&&-1!=a.indexOf(c)){var p=P(r);p&&p.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}if(i.isReference()||i.isDescriminator())if("string"==typeof a){var m=S(i,e);N.find(m,function(e){return e.name()==a&&e==t})&&n.push(r);var c=C.getLibraryName(t);if(c&&-1!=a.indexOf(c)){var p=P(r);p&&p.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}else{var d=a;if(d){var v=d.valueName(),m=S(i,e);N.find(m,function(e){return e.name()==v&&e==t})&&n.push(r);var g=d.toHighlevel();g&&w(g,t,n);var c=C.getLibraryName(t);if(c&&-1!=v.indexOf(c)){var p=P(a);p&&p.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}}else{var m=S(i,e);N.find(m,function(e){return e.name()==a&&e==t})&&n.push(r)}})}function P(e){if(!e.lowLevel)return null;var t=e.lowLevel();if(!t)return null;if(t.key()){var n=Math.floor((t.keyEnd()+t.keyStart())/2),r=M(t.unit(),n);if(r)return r}if(t.value()){var n=Math.floor((t.valueEnd()+t.valueStart())/2),r=M(t.unit(),n);if(r)return r}return null}function M(e,t){var n=d(e,t);if(n&&C.asNode(n))for(var r=C.asNode(n),i=r;i;){if(i.definition().key()==R.Universe10.Library)return i;i=i.parent()}return null}var E=n(16),C=n(15),N=n(17),_=n(72),I=n(23),R=n(20),x=n(75),L=n(22);t.resolveRamlPointer=r,t.declRoot=function(e){for(var t=e;;){if(t.definition().key()==R.Universe10.Library)break;var n=t.parent();if(!n)break;t=n}return t},t.globalDeclarations=i,t.findDeclarations=s,t.extractName=p;var O=function(e,t,n,r,i){void 0===i&&(i=n.property());var a=i.getAdapter(L.RAMLPropertyService).referenceTargets(r),o=p(t,e),s=N.find(a,function(e){return I.qName(e,r)==o});if(s)return s;if(n.property()instanceof E.UserDefinedProp){var u=n.property();return u._node}return null};t.findUsages=m,t.findDeclaration=d,t.findExampleContentType=h,t.parseDocumentationContent=f,t.isExampleNodeContent=y,t.determineCompletionKind=v,function(e){e[e.VALUE_COMPLETION=0]="VALUE_COMPLETION",e[e.KEY_COMPLETION=1]="KEY_COMPLETION",e[e.PATH_COMPLETION=2]="PATH_COMPLETION",e[e.DIRECTIVE_COMPLETION=3]="DIRECTIVE_COMPLETION",e[e.VERSION_COMPLETION=4]="VERSION_COMPLETION",e[e.ANNOTATION_COMPLETION=5]="ANNOTATION_COMPLETION",e[e.SEQUENCE_KEY_COPLETION=6]="SEQUENCE_KEY_COPLETION",e[e.INCOMMENT=7]="INCOMMENT"}(t.LocationKind||(t.LocationKind={}));t.LocationKind;t.resolveReference=g,t.subTypesWithLocals=function(e,n){if(null==e)return[];var r=e.nameId();n=t.declRoot(n);var a=n;if(a._subTypesCache){var o=a._subTypesCache[r];if(o)return o}else a._subTypesCache={};var s=e.allSubTypes();if(e.getAdapter(L.RAMLService).getRuntimeExtenders().length>0&&n){var u=i(n),l=e.getAdapter(L.RAMLService).getRuntimeExtenders();n.root();l.forEach(function(t){var n=u.filter(function(n){var r=n.definition().allSuperTypes();r.push(n.definition());var i=n.definition()==t||null!=N.find(r,function(e){return e==t})||null!=N.find(r,function(t){return t==e});return i});s=s.concat(n.map(function(e){return x.typeFromNode(e)}))})}return s=N.unique(s),a._subTypesCache[r]=s,s},t.subTypesWithName=function(e,n,r){n=t.declRoot(n);var a=i(n),o=N.find(a,function(t){return I.qName(t,n)==e&&t.property()&&t.property().nameId()==R.Universe10.LibraryBase.properties.types.name}),s=x.typeFromNode(o);return s},t.schemasWithName=function(e,n,r){n=t.declRoot(n);var a=i(n),o=N.find(a,function(t){return I.qName(t,n)==e&&t.property()&&t.property().nameId()==R.Universe10.LibraryBase.properties.schemas.name}),s=x.typeFromNode(o);return s},t.nodesDeclaringType=function(e,t){var n=[],r=e.getAdapter(L.RAMLService).getRuntimeExtenders();if(r.length>0&&t){var a=t;r.forEach(function(e){var t=i(a).filter(function(t){return t.definition()==e});n=n.concat(t)})}var o=!e.isValueType();if(o&&e.getAdapter(L.RAMLService).isInlinedTemplates()&&t){var a=t,s=i(a).filter(function(t){return t.definition()==e});n=n.concat(s)}else{var a=t,u={};e.allSubTypes().forEach(function(e){return u[e.nameId()]=!0}),u[e.nameId()]=!0;var s=i(a).filter(function(e){return u[e.definition().nameId()]});n=n.concat(s)}return n},t.findAllSubTypes=b,t.allChildren=A;var k=function(e,t,n,r){if(e instanceof E.UserDefinedClass){var i=e;n.isSameNode(i.getAdapter(L.RAMLService).getDeclaringNode())&&r.push(t)}if(e instanceof E.Array){var a=e;k(a.component,t,n,r)}if(e instanceof E.Union){var o=e;k(o.left,t,n,r),k(o.right,t,n,r)}};t.refFinder=w},function(e,t,n){function r(e,t){var n=e.root().definition().universe();if(e.children().forEach(function(e){return r(e,t)}),e instanceof y.ASTPropImpl){var i=e,a=i.value();if("string"==typeof a){var o=a;S(o,t,i,!1,n)}else e.lowLevel().visit(function(e){if(e.value()){var r=e.value()+"";S(r,t,i,!0,n)}return!0})}else if(e instanceof y.BasicASTNode){var a=e.lowLevel().value();if("string"==typeof a){var o=a;S(o,t,null,!1,n)}else e.lowLevel().visit(function(e){if(e.value()){var r=e.value()+"";S(r,t,null,!0,n)}return!0})}}function i(e){var t=e.definition().universe().type(f.Universe10.ObjectTypeDeclaration.name);return t}function a(e){if(!e)return null;if(e.associatedType())return e.associatedType();var t=e.lowLevel().unit(),n=t?t.path():"";if(e.property()&&e.property().nameId()==f.Universe10.LibraryBase.properties.annotationTypes.name)var a=new m.AnnotationType(e.name(),e.definition().universe(),e,n,"");else var a=new m.UserDefinedClass(e.name(),e.definition().universe(),e,n,"");e.setAssociatedType(a);var o=e.definition();if(o.getAdapter(g.RAMLService).isInlinedTemplates()){var s={};r(e,s),Object.keys(s).forEach(function(t){var n=new m.UserDefinedProp(t);n.withDomain(a);var r=d.unique(s[t]).map(function(e){return e.tp}).filter(function(e){return e&&e.nameId()!=f.Universe08.StringType.name});n.withRange(1==r.length?r[0]:e.definition().universe().type(f.Universe08.StringType.name)),n.withRequired(!0),s[t].length>0&&(n._node=s[t][0].attr),n.unmerge()});var u=new m.UserDefinedProp("key");u.withDomain(a),u.withKey(!0),u._node=e,u.withFromParentKey(!0),u.withRange(e.definition().universe().type(f.Universe08.StringType.name))}else if(o.getAdapter(g.RAMLService).getReferenceIs()){"RAML08"==o.universe().version()&&a.getAdapter(g.RAMLService).withAllowAny();var l=o.property(o.getAdapter(g.RAMLService).getReferenceIs());l&&l.range().properties().forEach(function(e){var t=new m.Property(e.nameId());t.unmerge(),t.withDomain(a),t.withRange(e.range()),t.withMultiValue(e.isMultiValue())})}else{var c=o.getAdapter(g.RAMLService).findMembersDeterminer();if(c){var y=e.elementsOfKind(c.nameId());y.forEach(function(e){var t=p(e);t.withDomain(a)})}var v=e.attributes("type"),b=e.attributes("schema");if(v=v.concat(b),e.definition().key()===f.Universe08.GlobalSchema||e.definition().key()===f.Universe10.GlobalSchema){var S=e.attributes("value");v=v.concat(S)}var A=0!=v.length;v.forEach(function(t){var r=t.value();if("string"==typeof r&&r){if(r=r.trim(),"{"==r.charAt(0)){var o=new m.ExternalType(e.name(),e.definition().universe(),n,"");o.schemaString=r,o.node=e;var s=i(e);s&&a._superTypes.push(s),a._superTypes.push(o)}if("<"==r.charAt(0)){var o=new m.ExternalType(e.name(),e.definition().universe(),n,"");o.schemaString=r,o.node=e;var s=i(e);s&&a._superTypes.push(s),a._superTypes.push(o)}}var u={};u[a.nameId()]=a;var l=null;r!=a.nameId()&&(l=h.getType(e.parent(),r,u)),l&&a._superTypes.push(l)}),a.addRequirement("type",e.name());var T=o.getAdapter(g.RAMLService).getExtendedType();T&&a._superTypes.push(T);var w=d.find(e.lowLevel().children(),function(e){return"properties"==e.key()});if(w){var P=i(e);P&&a._superTypes.push(P)}else{if(e.property()&&e.property().nameId()==f.Universe10.Method.properties.body.name){var P=i(e);P&&a._superTypes.push(P)}else if(!A){var P=e.definition().universe().type(f.Universe10.StringTypeDeclaration.name);P&&e.definition().key()!=f.Universe08.BodyLike&&e.definition().key()!=f.Universe10.AnnotationTypeDeclaration&&a._superTypes.push(P)}if(0==a._superTypes.length){var P=e.definition().universe().type(f.Universe10.TypeDeclaration.name);P&&a._superTypes.push(P)}}var M=i(e);M&&e.lowLevel().children().forEach(function(e){"facets"!=e.key()&&"annotations"!=e.key()&&"parameters"!=e.key()&&(M.property(e.key())||a.fixFacet(e.key(),e))})}return a}function o(e){var t={name:"",regexp:null};if(e.length>2){e=e.substr(1,e.length-2);var n=e.lastIndexOf("#");-1!=n?(t.name=e.substr(n+1),t.regexp=e.substr(0,n)):t.regexp=e}return t}function s(e){var t=e.getAdapter(g.RAMLService).getDeclaringNode(),n=null;if(null!=t){var r=t.parent();if(r){var i=r.attributes("annotations");i.forEach(function(e){var t=e.value();if(t instanceof y.StructuredValue&&"(LibraryLocation)"==t.lowLevel().key()){var i=t.toHighlevel(r);i&&(n=u(i))}})}}return n}function u(e){if(e){var t=e.attr("value");if(t)return t.value()}return null}function l(e,t,n){return new T.Function(e).call(t,n)}function c(e){if(e){var t=A[e];if(t)return t==c?null:t;try{var n=new w;if(l(e,n,[]),n._result)return A[e]=n._result,n._result;A[e]=c}catch(r){A[e]=c}}return null}function p(e,t){void 0===t&&(t=!1);var n=e.name(),r=!1;n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1),r=!0);var i=new m.UserDefinedProp(n);i._node=e;try{var a=e.attr("description");if(a){var l=""+a.value();i.withDescription(l)}var p=e.attr("displayName");if(p){var l=""+p.value();i.withDisplayName(l)}var S=e.attr("example");if(S){var A=(new b.ExampleValidator).parseObject(S,{begin:function(){},end:function(){},accept:function(e){}},!1);i.setDefaultVal(A)}else{var T=e.elementsOfKind("examples");T.forEach(function(e){var t=e.attr("content");if(t){var n=(new b.ExampleValidator).parseObject(t,{begin:function(){},end:function(){},accept:function(e){}},!1);i.setDefaultVal(n)}})}}catch(e){console.log(e)}var w=e.attributes("annotations");if(w.forEach(function(t){var n=t.value();if(n instanceof y.StructuredValue){var r=n.toHighlevel(e);if(r){var a=r.definition();if("FacetInstanceValidator"==a.nameId()){var o=(a.getAdapter(g.RAMLService).getDeclaringNode(),s(a));if("http://raml.org/library/common.raml"==o){var n=u(r),l=c(n);l&&i.setFacetValidator(l)}}}}}),n.length>0)if("["==n[0]){r=!0;var P=o(n);P.regexp?i.withKeyRegexp(P.regexp):i.withKeyRestriction(""),P.name&&i.withDescription(P.name),i.withMultiValue()}else i.unmerge();var M=(e.definition().properties(),e.attr("type"));if(M){var E=M.value();if("any"==E){i.withMultiValue(!0);var C=new m.NodeClass("ObjectTypeDeclaration",e.definition().universe(),"","");C.getAdapter(g.RAMLService).withAllowAny(),i.withRange(C)}else{var N=h.getType(e,E,{},!0);if(N&&(N=N.getAdapter(g.RAMLService).toRuntime(),N instanceof m.Array)){var _=N;_._af={},_.findFacets(e,_._af)}i.withRange(N)}}"value"==n&&e.parent()&&e.parent().definition().isAssignableFrom(f.Universe10.AnnotationTypeDeclaration.name)&&i.withCanBeValue(),e.definition().allProperties().forEach(function(t){if(t.nameId()!=f.Universe10.TypeDeclaration.properties.type.name&&t.describesAnnotation()){var n=t.describedAnnotation(),r=[],a=e.attributes(t.nameId()).map(function(e){return e.value()});1==a.length?r.push(a[0]):r.push(a);var o={name:n,arguments:r};v.recordAnnotation(i,o)}}),r&&i.withRequired(!1);var I=d.find(e.lowLevel().children(),function(e){return"properties"==e.key()});if(I){var R=e.definition().universe().type(f.Universe10.ObjectTypeDeclaration.name),x=new y.ASTNodeImpl(e.lowLevel(),e.parent(),R,i),L=e.lowLevel().unit(),O=new m.UserDefinedClass("",R.universe(),x,L?L.path():"","");O._superTypes.push(R),i.withRange(O.getAdapter(g.RAMLService).toRuntime())}if(null==i.range()&&i.withRange(new m.ValueType("string",e.definition().universe(),"")),i.range().key()==f.Universe10.ObjectTypeDeclaration){var C=new m.NodeClass(f.Universe10.ObjectTypeDeclaration.name,i.range().universe(),"","");C.getAdapter(g.RAMLService).withAllowAny(),i.withRange(C)}return i}var m=n(16),d=n(17),h=n(72),f=n(20),y=n(23),v=n(76),g=n(22),b=n(78),S=function(e,t,n,r,i){for(var a=0;;){var o=e.indexOf("<<",a);if(-1==o)break;var s=e.indexOf(">>",o),u=0==o&&s==e.length-2,l=e.substring(o+2,s);a=o+2;var c=l.indexOf("|");if(-1!=c&&(l=l.substring(0,c)),l=l.trim(),"resourcePathName"!=l&&"methodName"!=l&&"resourcePath"!=l){var p=t[l],m=n?n.property().range():null;n&&(n.property().nameId()==f.Universe10.TypeDeclaration.properties.type.name||n.property().nameId()==f.Universe10.TypeDeclaration.properties.schema.name)&&n.property().domain().key()==f.Universe10.TypeDeclaration&&(m=i.type(f.Universe10.SchemaString.name)),(!u||r)&&(m=i.type(f.Universe10.StringType.name)),p?p.push({tp:m,attr:n}):t[l]=[{tp:m,attr:n}]}}};t.typeFromNode=a,t.parsePropertyName=o,t.libraryLocation=s,t.valueOf=u;var A={},T=n(86),w=function(){function e(){}return e.prototype.register=function(e){this._result=e},e}();t.aquireValidator=c,t.elementToProp=p},function(e,t,n){function r(e,t){"MetaModel.declaresSubTypeOf"==e.name&&t.getAdapter(u.RAMLService).setExtendedTypeName(e.arguments[0]),"MetaModel.nameAtRuntime"==e.name&&t.setNameAtRuntime(e.arguments[0]),"MetaModel.description"==e.name&&t.withDescription(e.arguments[0]),"MetaModel.inlinedTemplates"==e.name&&t.getAdapter(u.RAMLService).setInlinedTemplates(!0),"MetaModel.requireValue"==e.name&&t.getAdapter(u.RAMLService).withContextRequirement(""+e.arguments[0],""+e.arguments[1]),"MetaModel.referenceIs"==e.name&&t.getAdapter(u.RAMLService).withReferenceIs(""+e.arguments[0]),"MetaModel.actuallyExports"==e.name&&t.getAdapter(u.RAMLService).withActuallyExports(""+e.arguments[0]),"MetaModel.convertsToGlobalOfType"==e.name&&t.getAdapter(u.RAMLService).withConvertsToGlobal(""+e.arguments[0]),"MetaModel.allowAny"==e.name&&t.getAdapter(u.RAMLService).withAllowAny(),"MetaModel.allowQuestion"==e.name&&t.getAdapter(u.RAMLService).withAllowQuestion(),"MetaModel.alias"==e.name&&t.getAdapter(u.RAMLService).addAlias(""+e.arguments[0]),"MetaModel.consumesRefs"==e.name&&t.getAdapter(u.RAMLService).setConsumesRefs(!0),"MetaModel.canInherit"==e.name&&t.getAdapter(u.RAMLService).withCanInherit(""+e.arguments[0]),"MetaModel.definingPropertyIsEnough"==e.name&&t.getAdapter(u.RAMLService).definingPropertyIsEnough(""+e.arguments[0])}function i(e,n){t.annotationHandlers[n.name](n,e)}var a=n(16),o=n(77),s=n(17),u=n(22);t.handleTypeAnnotation=r,t.annotationHandlers={key:function(e,t){t.withFromParentKey(),t.withKey(!0)},value:function(e,t){t.withFromParentValue()},canBeValue:function(e,t){t.withCanBeValue()},unmerged:function(e,t){t.unmerge()},startFrom:function(e,t){t.withKeyRestriction(e.arguments[0]),t.merge()},oneOf:function(e,t){t.withEnumOptions(e.arguments[0])},oftenKeys:function(e,t){t.withOftenKeys(e.arguments[0])},embeddedInMaps:function(e,t){t.getAdapter(u.RAMLPropertyParserService).withEmbedMap()},system:function(e,t){t.getAdapter(u.RAMLPropertyParserService).withSystem(!0)},required:function(e,t){"false"!=e.arguments[0]&&t.withRequired(!0)},noDirectParse:function(e,t){"false"!=e.arguments[0]&&t.withNoDirectParse()},setsContextValue:function(e,t){t.addChildValueConstraint(new a.ChildValueConstraint(""+e.arguments[0],""+e.arguments[1]))},defaultValue:function(e,t){t.setDefaultVal(""+e.arguments[0])},facetId:function(e,t){"minItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=Number.parseInt(""+t.value());if(n>e.length)return"array should contain at least "+t.value()+" items"}return null}),"maxItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=Number.parseInt(""+t.value());if(n<e.length)return"array should contain not more then "+t.value()+" items"}return null}),"minProperties"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Object){var n=Number.parseInt(""+t.value());if(n>Object.keys(e).length)return"object should contain at least "+t.value()+" properties"}return null}),"maxProperties"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Object){var n=Number.parseInt(""+t.value());if(n<Object.keys(e).length)return"object should contain not more then "+t.value()+" properties"}return null}),"uniqueItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=s.unique(e).length;if(n<e.length)return"array should contain only unique items"}return null}),"minLength"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=Number.parseInt(""+t.value());if(n>e.length)return"string length should be at least "+n}return null}),"maxLength"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=Number.parseInt(""+t.value());if(n<e.length)return"string length should be not more then "+n}return null}),"minimum"==e.arguments[0]&&t.setFacetValidator(function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){var n=parseFloat(t.value());if(n>e)return"value should be not less then "+n}return null}),"maximum"==e.arguments[0]&&t.setFacetValidator(function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){var n=parseFloat(t.value());if(e>n)return"value should be not more then "+n}return null}),"pattern"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=new RegExp(t.value());if(!n.test(e))return"string should match to "+t.value()}return null})},extraMetaKey:function(e,t){"statusCodes"==e.arguments[0]&&(t.withOftenKeys(o.statusCodes.map(function(e){return e.code})),t.setValueDocProvider(function(e){var t=s.find(o.statusCodes,function(t){return t.code==e});return t?e+":"+t.description:null})),"headers"==e.arguments[0]&&(t.setValueSuggester(function(e){if(e.property()){var t=e.property().getChildValueConstraints();if(s.find(t,function(e){return"location"==e.name&&"Params.ParameterLocation.HEADERS"==e.value}))return o.headers.map(function(e){return e.header});if(e.property()&&"headers"==e.property().nameId())return o.headers.map(function(e){return e.header})}return null}),t.setValueDocProvider(function(e){var t=s.find(o.headers,function(t){return t.header==e});return t?e+":"+t.description:null})),"methods"==e.arguments[0]&&t.setValueDocProvider(function(e){var t=s.find(o.methods,function(t){return t.method==e.toUpperCase()});return t?e+":"+t.description:null})},requireValue:function(e,t){t.withContextRequirement(""+e.arguments[0],""+e.arguments[1])},allowMultiple:function(e,t){t.withMultiValue(!0)},selector:function(e,t){t.setSelector(""+e.arguments[0])},constraint:function(e,t){},newInstanceName:function(e,t){t.withNewInstanceName(""+e.arguments[0])},declaringFields:function(e,t){t.withThisPropertyDeclaresFields()},describesAnnotation:function(e,t){t.withDescribes(e.arguments[0])},allowNull:function(e,t){t.withAllowNull()},descriminatingProperty:function(e,t){t.withDescriminating(!0)},description:function(e,t){t.withDescription(""+e.arguments[0])},inherited:function(e,t){t.withInherited(!0)},selfNode:function(e,t){t.withSelfNode()},grammarTokenKind:function(e,t){t.getAdapter(u.RAMLPropertyService).withPropertyGrammarType(""+e.arguments[0])},canInherit:function(e,t){t.withInheritedContextValue(""+e.arguments[0])},canBeDuplicator:function(e,t){t.setCanBeDuplicator()},hide:function(e,t){0==e.arguments.length?t.getAdapter(u.RAMLPropertyDocumentationService).setHidden(!0):t.getAdapter(u.RAMLPropertyDocumentationService).setHidden(e.arguments[0])},documentationTableLabel:function(e,t){t.getAdapter(u.RAMLPropertyDocumentationService).setDocTableName(""+e.arguments[0])},markdownDescription:function(e,t){t.getAdapter(u.RAMLPropertyDocumentationService).setMarkdownDescription(""+e.arguments[0])},valueDescription:function(e,t){t.getAdapter(u.RAMLPropertyDocumentationService).setValueDescription(null!=e.arguments[0]?""+e.arguments[0]:null)}},t.recordAnnotation=i},function(e,t){e.exports=require("know-your-http-well")},function(e,t,n){function r(e,t,n){return new N.Function(e).call(t,n)}function i(e,t){var n=e.lowLevel().unit().absolutePath(),r=g.dirname(n),i=g.resolve(r,"raml-lint.js");I(i,t,e);var a=g.resolve(r,".raml");if(b.existsSync(a)){var o=b.statSync(a);if(o.isDirectory()){var s=b.readdirSync(a);s.forEach(function(n){-1!=n.indexOf("-lint.js")&&I(g.resolve(a,n),t,e)})}}}function a(e,t,n,r){if(n&&("null"!=n||!e.isAllowNull())){try{if("string"==typeof n){if(e.domain().key()==S.Universe10.TypeDeclaration&&(e.nameId()==S.Universe10.TypeDeclaration.properties.type.name||e.nameId()==S.Universe10.ArrayTypeDeclaration.properties.items.name))return h.validate(n,t,r),!1;if((e.range().key()==S.Universe08.SchemaString||e.range().key()==S.Universe10.SchemaString)&&"RAML10"==e.range().universe().version()&&e.range()instanceof m.ValueType)return h.validate(n,t,r),!1;if(!(e.nameId()!=S.Universe10.TypeDeclaration.properties.schema.name&&e.nameId()!=S.Universe10.TypeDeclaration.properties.type.name||e.domain().key()!=S.Universe08.BodyLike&&e.domain().key()!=S.Universe10.TypeDeclaration)){var i=n.trim();if(i.length>0&&"{"!=i.charAt(0)&&"<"!=i.charAt(0))return h.validate(n,t,r),!1;return}}}catch(a){r.accept(c(0,"Syntax error:"+a.message,t))}var o=e.getAdapter(T.RAMLPropertyService).isValidValue(n,t.parent());return o?!1:"string"==typeof n&&0==n.indexOf("x-")&&e.nameId()==S.Universe10.TypeDeclaration.properties.type.name?!0:(r.accept(c(0,"Unresolved reference:"+n,t)),!0)}}function o(e){return-1!=e.indexOf("json")}function s(e){return-1!=e.indexOf("xml")}function u(e){var t=l(e);if("body"==t){var n=e.root().attr("mediaType");return n?n.value():null}return t}function l(e){if(e.parent()){var t=e.parent().definition();if(t.key()==S.Universe08.BodyLike)return e.parent().name();if(e.parent().parent()){var n=e.parent().parent().definition().key();if(n==S.Universe08.Response||n==S.Universe10.Response)return e.parent().property().nameId()==S.Universe08.Response.properties.headers.name?null:e.parent().name();if(n==S.Universe08.Method||n==S.Universe10.Method)return e.parent().property().nameId()==S.Universe10.Method.properties.queryParameters.name||e.parent().property().nameId()==S.Universe10.Method.properties.headers.name?null:e.parent().name()}}return null}function c(e,t,n,r){void 0===r&&(r=!1);var i=null,a=null;if(n&&(a=n.property(),n.lowLevel().unit()!=n.root().lowLevel().unit())){i=V(n,e,r,t,!0,a);var o=n.lowLevel().unit();for(o&&(t=t+" "+o.path());n.lowLevel().unit()!=n.root().lowLevel().unit();)a=n.property(),n=n.parent()}i&&n.property()&&n.property().nameId()==S.Universe10.LibraryBase.properties.uses.name&&null!=n.parent()&&(a=n.property(),n=n.parent());var s=V(n,e,r,t,!1,a);return i&&s.extras.push(i),s}var p=n(24),m=n(16),d=(n(15),n(17)),h=n(72),f=n(16),y=n(23),v=n(79),g=n(10),b=n(4),S=n(20),A=n(84),T=n(22),w=n(21),P=n(85),M=n(80),E=function(){function e(){this.validateNotStrictExamples=!0}return e}(),C=new E,N=n(86);t.evalInSandbox=r;var _=400,I=function(e,t,n){if(b.existsSync(e))try{var i=b.readFileSync(e).toString(),a=new R(t);r(i,a,null),a.visit(n)}catch(o){console.log("Error in custom linter"),console.log(o)}};t.lintNode=i;var R=function(){function e(e){this.acceptor=e,this.nodes={}}return e.prototype.error=function(e,t){this.acceptor.accept(c(7,t,e.highLevel()))},e.prototype.errorOnProperty=function(e,t,n){var r=e.highLevel().attr(t);this.acceptor.accept(c(7,n,r))},e.prototype.warningOnProperty=function(e,t,n){var r=e.highLevel().attr(t);this.acceptor.accept(c(7,n,r,!0))},e.prototype.warning=function(e,t){this.acceptor.accept(c(7,t,e.highLevel(),!0))},e.prototype.registerRule=function(e,t){var n=this.nodes[e];n||(n=[],this.nodes[e]=n),n.push(t)},e.prototype.visit=function(e){var t=this,n=e.definition();this.process(n,e),n.allSuperTypes().forEach(function(n){return t.process(n,e)}),e.elements().forEach(function(e){return t.visit(e)})},e.prototype.process=function(e,t){var n=this;if(e instanceof f.NodeClass&&!e.getAdapter(T.RAMLService).getDeclaringNode()){var r=this.nodes[e.nameId()];r&&r.forEach(function(e){return e(t.wrapperNode(),n)})}},e}();t.LinterExtensionsImpl=R;var x=function(){function e(){}return e.prototype.toString=function(){return this.prev?this.value+"."+this.prev.toString():this.value},e.prototype.last=function(){return this.prev?this.prev.last():this},e}(),L=function(){function e(e){this.node=e}return e.prototype.validate=function(e,t,n,r,i){if(void 0===i&&(i=0),!(i>=_))if(t instanceof w.Array)this.validateArray(e,t,n,r,i);else if(t instanceof w.Union)this.validateUnion(e,t,n,r,i);else if(t instanceof w.StructuredType)this.validateClass(e,t,n,r,i);else{if(!(t instanceof w.ValueType))throw new Error("Not supported case");this.validateValue(e,t,n,r,i)}},e.prototype.createIssue=function(e,t,n,r){void 0===r&&(r=!1);var i=y.createIssue(e,t,n,r);if(this.stack){var a=this.findNode(this.stack.last(),this.node.lowLevel());a&&a!=n.lowLevel()&&a.unit()==n.root().lowLevel().unit()&&a.keyStart()>0&&a.keyEnd()>0&&(i.start=a.keyStart(),i.end=a.keyEnd())}return i},e.prototype.findNode=function(e,t){var n=""+e.value;if("number"==typeof e.value){var r=t.children();if(r[e.value]){var i=r[e.value];if(e.next)return this.findNode(e.next,i)}return t}var i=d.find(t.children(),function(e){return e.key()==n});return i?e.next?this.findNode(e.next,i):i:t},e.prototype.validateClass=function(e,t,n,r,i){var a=this;if(!(i>=_)){var o=t.allSuperTypes();o.push(t),this.validateFacets(t.getAdapter(T.RAMLService).isRuntime()?t:t.getAdapter(T.RAMLService).toRuntime(),e,n,r,i),o.forEach(function(t){if((t.key()==S.Universe10.StringTypeDeclaration||t.key()==S.Universe08.StringTypeDeclaration)&&"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e&&n.accept(a.createIssue(7,"String is expected",a.node,!r)),(t.key()==S.Universe10.NumberTypeDeclaration||t.key()==S.Universe08.NumberTypeDeclaration)&&"number"!=typeof e&&n.accept(a.createIssue(7,"Number is expected",a.node,!r)),t.key()==S.Universe10.BooleanTypeDeclaration||t.key()==S.Universe08.BooleanTypeDeclaration){var o=1==e||0==e;o||n.accept(a.createIssue(7,"boolean is expected",a.node,!r))}t instanceof f.Array&&a.validate(e,t,n,r,i+1),t instanceof f.Union&&a.validate(e,t,n,r,i+1)});var s=t.getAdapter(T.RAMLService).isRuntime()?t.allProperties():t.getAdapter(T.RAMLService).toRuntime().allProperties();e||(e={});var u={};s.forEach(function(t){if(!t.getAdapter(T.RAMLPropertyService).isMerged()){var o=e[t.nameId()];u[t.nameId()]=1,null==o?t.isRequired()&&n.accept(a.createIssue(7,"Required property:"+t.nameId()+" is missed",a.node,!r)):a.validatePropValue(o,t,n,r,t.nameId(),i+1)}}),s.forEach(function(t){t.getAdapter(T.RAMLPropertyService).isMerged()&&null!=t.getKeyRegexp()&&Object.keys(e).forEach(function(o){if(!u[o])try{var s=new RegExp(t.getKeyRegexp());if(s.test(o)){a.node;a.validatePropValue(e[o],t,n,r,o,i+1),u[o]=1}}catch(l){}})}),s.forEach(function(t){t.getAdapter(T.RAMLPropertyService).isMerged()&&null!=t.keyPrefix()&&Object.keys(e).forEach(function(o){u[o]||(a.validatePropValue(e[o],t,n,r,o,i+1),u[o]=1)})}),"object"==typeof e&&s.length>0&&Object.keys(e).forEach(function(e){if(!u[e])try{a.pushStack(e),n.accept(a.createIssue(7,"Unknown property:"+e,a.node,!r))}finally{a.stack&&(a.stack=a.stack.prev)}})}},e.prototype.validateFacets=function(e,t,n,r,i){if(!(i>=_)){var a=e.getAdapter(T.RAMLService).getRepresentationOf(),o=e.getFixedFacets();a&&(e=a,e instanceof f.UserDefinedClass&&(o=e.getFixedFacets()));for(var s in o){var u=e.facet(s);if(u){var l=o[s],c=u.getFacetValidator();if(c)try{var p=c(t,l);"string"==typeof p&&n.accept(this.createIssue(7,""+p,this.node,!r))}catch(m){n.accept(this.createIssue(7,m.message,this.node,!r))}}}}},e.prototype.validatePropValue=function(e,t,n,r,i,a){if(!(a>=_)){this.pushStack(i);try{this.validate(e,t.range(),n,r,a);var o=t.getAdapter(T.RAMLPropertyService).enumValues(null);o&&("string"==typeof o?o!=e&&n.accept(this.createIssue(7,""+t.nameId()+" should be one of "+o,this.node,!r)):o.length>0&&(d.find(o,function(t){
return t==e})||n.accept(this.createIssue(7,""+t.nameId()+" should be one of "+o,this.node,!r))))}finally{this.stack&&(this.stack=this.stack.prev)}}},e.prototype.pushStack=function(e){if(this.stack){var t=new x;t.prev=this.stack,this.stack.next=t,this.stack=t,this.stack.value=e}else this.stack=new x,this.stack.value=e},e.prototype.validateArray=function(e,t,n,r,i){var a=this;if(!(i>=_)&&(e instanceof Array||(e=[e]),e instanceof Array)){var o=e;this.validateFacets(t,e,n,r,i);var s=0;o.forEach(function(e){try{a.pushStack(s++),a.validate(e,t.component,n,r,i+1)}finally{a.stack&&(a.stack=a.stack.prev)}})}},e.prototype.validateUnion=function(e,t,n,r,i){},e.prototype.validateValue=function(e,t,n,r,i){if(!(i>=_)){if((t.key()==S.Universe08.NumberType||t.key()==S.Universe10.NumberType)&&"number"!=typeof e){var a=parseFloat(e);a||isNaN(a)&&n.accept(this.createIssue(7,"Number is expected",this.node,!r))}(t.key()==S.Universe08.BooleanType||t.key()==S.Universe10.BooleanType)&&"boolean"!=typeof e&&"true"!=e&&"false"!=e&&n.accept(this.createIssue(7,"boolean is expected",this.node,!r))}},e}();t.TypeValidator=L;var O=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value();e.parent().allowsQuestion()&&e.property().getAdapter(T.RAMLPropertyService).isKey()&&null!=n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1));var r=e.property(),i=r.range();if(i instanceof w.AbstractType){var o=i,s=o.getAdapter(T.RAMLService).getRepresentationOf();s&&(o=s);var u=o.getFixedFacets();for(var l in u){var p=o.facet(l);if(p){var m=p.getFacetValidator();if(m)try{var h=n;if(r.range().isArray())try{h=e.parent().lowLevel().dumpToObject()[e.parent().name()][r.nameId()]}catch(f){}var y=m(h,u[l]);"string"==typeof y&&t.accept(c(7,""+y,e))}catch(f){t.accept(c(7,f.message,e))}}}}var v=t,g=r.range().getAdapter(T.RAMLService).isValid(e.parent(),n,r);if(g instanceof Error&&!g.canBeRef)return v.accept(c(7,g.message,e)),void(g=null);if(!g||g instanceof Error)if("value"!=r.nameId()){if(!a(r,e,n,v)){if((r.nameId()==S.Universe10.TypeDeclaration.properties.schema.name||S.Universe10.TypeDeclaration.properties.type.name)&&n&&n.trim()&&(r.domain().key()==S.Universe08.BodyLike||r.domain().key()==S.Universe10.TypeDeclaration)){var b=n.trim().charAt(0);if("{"!=b&&"<"!=b)return}var A=e.findReferencedValue();if(A instanceof Error&&v.accept(c(7,A.message,e)),!A){if(n&&r.nameId()==S.Universe10.TypeDeclaration.properties.schema.name){var P=n.trim();if("{"!=P.charAt(0)&&"<"!=P.charAt(0)&&(-1!=n.indexOf("|")||-1!=n.indexOf("[]")||-1!=n.indexOf("(")))return}if(g instanceof Error&&n)return v.accept(c(7,g.message,e)),void(g=null);v.accept(c(7,"Empty value is not allowed here",e))}}}else{var n=e.value(),M="Invalid value schema:"+n;g instanceof Error&&(M=g.message),v.accept(c(7,M,e))}var E=r.enumOptions();E&&("string"==typeof E?E!=n&&(n&&0==n.indexOf("x-")&&r.nameId()==S.Universe08.SecuritySchema.properties.type.name||v.accept(c(0,"Invalid value:"+n+" allowed values are:"+E,e))):E.length>0&&(d.find(E,function(e){return e==n})||n&&0==n.indexOf("x-")&&r.nameId()==S.Universe08.SecuritySchema.properties.type.name||v.accept(c(0,"Invalid value:"+n+" allowed values are:"+E.join(","),e))))},e}();t.NormalValidator=O;var k=function(){function e(){}return e.prototype.validate=function(e,t){try{(new U).parseUrl(e.value())}catch(n){t.accept(y.createIssue(7,n.message,e,!1))}},e}();t.UriValidator=k;var D=function(){function e(){}return e.prototype.validate=function(e,t){try{var n=e.value();if(!n)return;if("*/*"==n)return;if(n.indexOf("/*")==n.length-2&&(n=n.substring(0,n.length-2)+"/xxx"),"body"==n&&e.parent().parent()){var r=e.parent().parent().definition().key();(r===S.Universe08.Response||r===S.Universe10.Response||e.parent().parent().definition().isAssignableFrom(S.Universe10.MethodBase.name))&&(n=e.parent().computedValue("mediaType"))}var i=P.parse(n),a={application:1,audio:1,example:1,image:1,message:1,model:1,multipart:1,text:1,video:1};a[i.type]||t.accept(y.createIssue(7,"Unknown media type 'type'",e))}catch(o){t.accept(y.createIssue(7,""+o.message,e))}(e.value()&&"multipart/form-data"==e.value()||"application/x-www-form-urlencoded"==e.value())&&e.parent()&&e.parent().parent()&&e.parent().parent().property()&&e.parent().parent().property().nameId()==S.Universe10.MethodBase.properties.responses.name&&t.accept(y.createIssue(7,"Form related media types can not be used in responses",e))},e}();t.MediaTypeValidator=D;var U=function(){function e(){}return e.prototype.checkBaseUri=function(e,t,n,r){var i=t.root().attr("baseUri");if(i){var a=i.value();try{var o=this.parseUrl(a);d.find(o,function(e){return e==n})||r.accept(y.createIssue(7,"Unused url parameter",e))}catch(s){}}else r.accept(y.createIssue(7,"Unused url parameter",e))},e.prototype.parseUrl=function(e){for(var t=[],n="",r=!1,i=0,a=0;a<e.length;a++){var o=e[a];"{"!=o?"}"!=o?r&&(n+=o):(i--,r=!1,t.push(n),n=""):(i++,r=!0)}if(i>0)throw new Error("Unmatched '{'");if(0>i)throw new Error("Unmatched '}'");return t},e.prototype.validate=function(e,t){var n=e.value();if(e.parent().property().nameId()==S.Universe10.Api.properties.baseUri.name){var r=e.parent().parent();return void this.checkBaseUri(e,r,n,t)}var r=e.parent().parent(),i=r.name();if(r.definition().key()===S.Universe10.Api||r.definition().key()===S.Universe08.Api)return void this.checkBaseUri(e,r,n,t);if(r.definition().key()!=S.Universe10.ResourceType&&r.definition().key()!=S.Universe08.ResourceType)try{var a=this.parseUrl(i);d.find(a,function(e){return e==n})||t.accept(y.createIssue(7,"Unused url parameter '"+n+"'",e))}catch(o){}},e}();t.UrlParameterNameValidator=U,t.checkReference=a;var F=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value();if(!(n instanceof y.StructuredValue)){n||(n="");try{h.validate(n,e,t)}catch(r){t.accept(c(0,"Syntax error:"+r.message,e))}}},e}();t.SchemaOrTypeValidator=F;var j=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value(),r=n,i=e.property();if("string"==typeof n){if(a(i,e,n,t),i.range()instanceof m.ReferenceType){var o=(i.range(),p.createNode(""+n));o._actualNode().startPosition=e.lowLevel().valueStart(),o._actualNode().endPosition=e.lowLevel().valueEnd();var s=new y.StructuredValue(o,e.parent(),e.property()),u=s.toHighlevel();u&&u.validate(t)}}else{var l=n;if(l){r=l.valueName();var d=l.valueName();if(!a(i,e,d,t)){var h=l.toHighlevel();h&&h.validate(t)}}else r=null}if(r){var f=i.range().getAdapter(T.RAMLService).isValid(e.parent(),r,i);f instanceof Error&&(t.accept(c(7,f.message,e)),f=null)}},e}();t.DescriminatorOrReferenceValidator=j;var K=function(){function e(){}return e.prototype.validate=function(e,t){var n=this.isStrict(e);if(n||C.validateNotStrictExamples){var r=this.parseObject(e,t,n);if(r){var i=this.aquireSchema(e);i&&i.validate(r,t,n)}}},e.prototype.isExampleNode=function(e){return this.isSingleExampleNode(e)||this.isExampleNodeInMultipleDecl(e)},e.prototype.isSingleExampleNode=function(e){return e.name()==S.Universe10.TypeDeclaration.properties.example.name},e.prototype.isExampleNodeInMultipleDecl=function(e){var t=e.parent();return t?A.isExampleSpecType(t.definition()):!1},e.prototype.findParentSchemaOrTypeAttribute=function(e){var t=e.parent().attr(S.Universe10.TypeDeclaration.properties.schema.name);return t?t:(t=e.parent().attr(S.Universe10.TypeDeclaration.properties.type.name))?t:e.parent()?(t=e.parent().parent().attr(S.Universe10.TypeDeclaration.properties.schema.name))?t:(t=e.parent().parent().attr(S.Universe10.TypeDeclaration.properties.type.name),t?t:null):null},e.prototype.aquireSchema=function(e){var t=e.parent().definition().isAssignableFrom(S.Universe10.TypeDeclaration.name);if(this.isExampleNode(e)){var n=e;if(this.isExampleNodeInMultipleDecl(e)&&(n=e.parent()),n.parent().property().nameId()==S.Universe10.LibraryBase.properties.types.name&&(t=!1),n.parent().parent()){var r=n.parent().parent().definition().key();(r==S.Universe08.Method||r==S.Universe10.Method)&&(n.parent().property().nameId()==S.Universe10.Method.properties.queryParameters.name||(t=!0)),(r==S.Universe08.Response||r==S.Universe10.Response)&&(t=!0)}}if(e.parent().definition().key()==S.Universe08.BodyLike||t){var i=this.findParentSchemaOrTypeAttribute(e);if(i){var a=i.value();if(a instanceof y.StructuredValue)return null;var o=(""+a).trim(),s=null;if("{"==o.charAt(0))try{s=v.getJSONSchema(o)}catch(u){return null}if("<"==o.charAt(0))try{s=v.getXMLSchema(o)}catch(u){return null}if(s)return{validate:function(t,n,r){try{s.validateObject(t)}catch(i){return void n.accept(y.createIssue(7,"Example does not conforms to schema:"+i.message,e,!r))}}};if(o.length>0){var l=h.getType2(e.parent(),o,{});if(l)return{validate:function(t,n,r){new L(e).validate(t,l,n,r)}}}}}return this.getSchemaFromModel(e)},e.prototype.getSchemaFromModel=function(e){var t=e.parent();e.property().nameId()==S.Universe10.ExampleSpec.properties.content.name&&(t=t.parent());var n=y.typeFromNode(t);return n?{validate:function(t,r,i){new L(e).validate(t,n,r,i)}}:null},e.prototype.toObject=function(e,t,n){var r=t.lowLevel().dumpToObject(!0);return this.testDublication(e,t.lowLevel(),n),r.example?r.example:r.content?r.content:void 0},e.prototype.testDublication=function(e,t,n){var r=this,i={};t.children().forEach(function(t){t.key()&&(i[t.key()]&&n.accept(c(5,"Keys should be unique",new y.BasicASTNode(t,e.parent()))),i[t.key()]=t),r.testDublication(e,t,n)})},e.prototype.parseObject=function(e,t,n){var r=null,i=e.value(),a=u(e);if(i instanceof y.StructuredValue)r=this.toObject(e,i,t);else if(a){if(o(a))try{r=JSON.parse(i)}catch(l){return void t.accept(y.createIssue(7,"Can not parse JSON:"+l.message,e,!n))}if(s(a))try{r=M(i)}catch(l){return void t.accept(y.createIssue(7,"Can not parse XML:"+l.message,e,!n))}}else try{r=JSON.parse(i)}catch(l){if(0!=i.trim().indexOf("<"))return i;try{r=M(i)}catch(l){return void t.accept(y.createIssue(7,"Can not parse XML:"+l.message,e,!n))}}return r},e.prototype.isStrict=function(e){var t=!1,n=e.parent().attr("strict");return n&&"true"==n.value()&&(t=!0),t},e}();t.ExampleValidator=K;var V=function(e,t,n,r,i,a){var o=e.lowLevel().start(),s=e.lowLevel().end();if(e.lowLevel().key()&&e.lowLevel().keyStart()){var u=e.lowLevel().keyStart();u>0&&(o=u);var l=e.lowLevel().keyEnd();l>0&&(s=l)}if(o>s&&(s=o+1),a&&!a.getAdapter(T.RAMLPropertyService).isMerged()&&null==e.parent()){var c=d.find(e.lowLevel().children(),function(e){return e.key()==a.nameId()});if(c){var u=c.keyStart(),l=c.keyEnd();u>0&&l>u&&(o=u,s=l)}}return{code:t,isWarning:n,message:r,node:e,start:o,end:s,path:i?e.lowLevel().unit()?e.lowLevel().unit().path():"":null,extras:[],unit:e?e.lowLevel().unit():null}};t.createIssue=c},function(e,t,n){function r(e){var t=p?c.get(e):!1;if(t)return t;var n=new m(e);return c.set(e,n),n}function i(e){var t=p?c.get(e):!1;if(t)return t;var n=new d(e);p&&c.set(e,n)}function a(e){var t=p?c.get(e):!1;if(t)return t;try{var n=new m(e);return p&&c.set(e,n),n}catch(r){try{var n=new d(e);return p&&c.set(e,n),n}catch(r){return p&&c.set(e,new Error("Can not parse schema")),null}}}var o=n(80),s=n(63),u=n(82),l=function(){function e(){}return e}();t.ValidationResult=l;var c=s(400),p=!0,m=function(){function e(e){if(this.schema=e,!e||0==e.trim().length||"{"!=e.trim().charAt(0))throw new Error("Invalid JSON schema content");var t;try{var t=JSON.parse(e)}catch(r){throw new Error("It is not JSON schema")}if(t){try{var i=n(83);t=i.v4(t)}catch(a){throw new Error("Can not parse schema"+e)}delete t.$schema,delete t.required,this.jsonSchema=t}}return e.prototype.getType=function(){return"source.json"},e.prototype.validateObject=function(e){this.validate(JSON.stringify(e))},e.prototype.validate=function(e){var t=e+this.schema,n=c.get(t);if(n){if(n instanceof Error)throw n}else{var r=new u,i=(r.validate(JSON.parse(e),this.jsonSchema),r.getLastErrors());if(i&&i.length>0){var a=new Error("Content is not valid according to schema:"+i.map(function(e){return e.message+" "+e.params}).join(", "));throw a.errors=i,c.set(t,a),a}c.set(t,1)}},e}();t.JSONSchemaObject=m;var d=function(){function e(e){if(this.schema=e,"<"!=e.charAt(0))throw new Error("Invalid JSON schema");o(e)}return e.prototype.getType=function(){return"text.xml"},e.prototype.validate=function(e){o(e)},e.prototype.validateObject=function(e){},e}();t.XMLSchemaObject=d,t.getJSONSchema=r,t.getXMLSchema=i,t.createSchema=a},function(e,t,n){function r(e){var t={};if(1==e.nodeType){if(e.attributes.length>0)for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@"+i.nodeName]=i.nodeValue}}else 3==e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var o=e.childNodes.item(a),s=o.nodeName;if(void 0!=s)if("undefined"==typeof t[s])t[s]=r(o);else{if("undefined"==typeof t[s].push){var u=t[s];t[s]=[],t[s].push(u)}t[s].push(r(o))}}return t}function i(e){for(var t in e)if("object"==typeof e[t]){for(var n in e[t])if("#text"==n){var r=e[t]["#text"];"string"!=typeof r&&(r=r.join("")),r=r.trim(),0==r.length&&delete e[t]["#text"]}i(e[t])}return e}function a(e){for(var t in e)if("object"==typeof e[t]){var n=Object.keys(e[t]);1==n.length&&"#text"==n[0]&&(e[t]=e[t]["#text"]),a(e[t])}return e}function o(e){var t=new s.DOMParser,n=t.parseFromString(e);return a(i(r(n)))}var s=n(81);e.exports=o},function(e,t){e.exports=require("xmldom")},function(e,t){e.exports=require("z-schema")},function(e,t){e.exports=require("json-schema-compatibility")},function(e,t,n){function r(e){return e.nameId()===W.Universe10.Api.properties.documentation.name||e.nameId()===W.Universe08.Api.properties.documentation.name}function i(e){return e.nameId()===W.Universe10.Trait.properties.usage.name||e.nameId()===W.Universe08.Trait.properties.usage.name||e.nameId()===W.Universe10.ResourceType.properties.usage.name||e.nameId()===W.Universe08.ResourceType.properties.usage.name||e.nameId()===W.Universe10.Library.properties.usage.name||e.nameId()===W.Universe10.Overlay.properties.usage.name||e.nameId()===W.Universe10.Extension.properties.usage.name}function a(e){return e.nameId()===W.Universe10.TypeDeclaration.properties.description.name||e.nameId()===W.Universe10.RAMLLanguageElement.properties.description.name||e.nameId()===W.Universe08.RAMLLanguageElement.properties.description.name||"description"===e.nameId()}function o(e){return e.nameId()===W.Universe10.TypeDeclaration.properties.displayName.name||e.nameId()===W.Universe10.RAMLLanguageElement.properties.displayName.name||"displayName"===e.nameId()}function s(e){return e.nameId()===W.Universe10.Api.properties.title.name||e.nameId()===W.Universe08.Api.properties.title.name||e.nameId()===W.Universe10.DocumentationItem.properties.title.name||e.nameId()===W.Universe08.DocumentationItem.properties.title.name||e.nameId()===W.Universe10.Overlay.properties.title.name||e.nameId()===W.Universe10.Extension.properties.title.name}function u(e){return e.nameId()===W.Universe10.Api.properties.annotations.name||e.nameId()===W.Universe10.Method.properties.annotations.name||e.nameId()===W.Universe10.Resource.properties.annotations.name||e.nameId()===W.Universe10.RAMLLanguageElement.properties.annotations.name||e.nameId()===W.Universe10.ExampleSpec.properties.annotations.name||e.nameId()===W.Universe10.TypeDeclaration.properties.annotations.name||e.nameId()===W.Universe10.Response.properties.annotations.name}function l(e){return e.nameId()===W.Universe10.MethodBase.properties.is.name||e.nameId()===W.Universe08.MethodBase.properties.is.name||e.nameId()===W.Universe10.ResourceBase.properties.is.name||e.nameId()===W.Universe08.ResourceType.properties.is.name||e.nameId()===W.Universe08.Resource.properties.is.name}function c(e){return e.nameId()===W.Universe10.Api.properties.securedBy.name||e.nameId()===W.Universe08.Api.properties.securedBy.name||e.nameId()===W.Universe10.MethodBase.properties.securedBy.name||e.nameId()===W.Universe08.MethodBase.properties.securedBy.name||e.nameId()===W.Universe08.ResourceType.properties.securedBy.name||e.nameId()===W.Universe10.Method.properties.securedBy.name||e.nameId()===W.Universe08.Method.properties.securedBy.name||e.nameId()===W.Universe08.Resource.properties.securedBy.name||e.nameId()===W.Universe10.ResourceBase.properties.securedBy.name}function p(e){return e.nameId()===W.Universe10.AbstractSecurityScheme.properties.type.name||e.nameId()===W.Universe08.SecuritySchema.properties.type.name||e.nameId()===W.Universe08.ResourceType.properties.type.name||e.nameId()===W.Universe08.Resource.properties.type.name||e.nameId()===W.Universe08.Parameter.properties.type.name||e.nameId()===W.Universe10.MimeTypeModel.properties.type.name||e.nameId()===W.Universe08.MimeTypeModel.properties.type.name||e.nameId()===W.Universe10.ApiDescription.properties.type.name||e.nameId()===W.Universe10.ResourceBase.properties.type.name||e.nameId()===W.Universe10.TypeDeclaration.properties.type.name}function m(e){return e.nameId()===W.Universe10.Api.properties.protocols.name||e.nameId()===W.Universe08.Api.properties.protocols.name||e.nameId()===W.Universe08.Method.properties.protocols.name||e.nameId()===W.Universe10.MethodBase.properties.protocols.name}function d(e){return e.nameId()===W.Universe10.TypeDeclaration.properties.name.name||e.nameId()===W.Universe10.TypeDeclaration.properties.name.name||e.nameId()===W.Universe08.SecuritySchema.properties.name.name||e.nameId()===W.Universe10.AbstractSecurityScheme.properties.name.name||e.nameId()===W.Universe08.Trait.properties.name.name||e.nameId()===W.Universe10.Trait.properties.name.name||"name"===e.nameId()}function h(e){return e.nameId()===W.Universe10.MethodBase.properties.body.name||e.nameId()===W.Universe08.MethodBase.properties.body.name||e.nameId()===W.Universe10.Response.properties.body.name||e.nameId()===W.Universe08.Response.properties.body.name||e.nameId()===W.Universe10.Method.properties.body.name}function f(e){return e.nameId()===W.Universe08.BodyLike.properties.schema.name||e.nameId()===W.Universe08.XMLBody.properties.schema.name||e.nameId()===W.Universe08.JSONBody.properties.schema.name||e.nameId()===W.Universe10.TypeDeclaration.properties.schema.name}function y(e){return e.nameId()===W.Universe10.Method.properties.signature.name||e.nameId()===W.Universe10.Resource.properties.signature.name}function v(e){return e.nameId()===W.Universe10.Api.properties.resources.name||e.nameId()===W.Universe08.Api.properties.resources.name||e.nameId()===W.Universe10.Resource.properties.resources.name||e.nameId()===W.Universe08.Resource.properties.resources.name}function g(e){return e.nameId()===W.Universe10.LibraryBase.properties.types.name}function b(e){return e.nameId()===W.Universe10.TypeDeclaration.properties.example.name||"example"===e.nameId()}function S(e){return e.nameId()===W.Universe10.GlobalSchema.properties.value.name||e.nameId()===W.Universe08.GlobalSchema.properties.value.name||e.nameId()===W.Universe10.ImportDeclaration.properties.value.name}function A(e){return e.nameId()===W.Universe08.Api.properties.uriParameters.name||e.nameId()===W.Universe08.ResourceType.properties.uriParameters.name||e.nameId()===W.Universe08.Resource.properties.uriParameters.name||e.nameId()===W.Universe10.ResourceBase.properties.uriParameters.name}function T(e){return e.nameId()===W.Universe08.Resource.properties.baseUriParameters.name||e.nameId()===W.Universe08.Api.properties.baseUriParameters.name||e.nameId()===W.Universe10.Api.properties.baseUriParameters.name}function w(e){return e.nameId()===W.Universe10.LibraryBase.properties.uses.name||e.nameId()===W.Universe10.Trait.properties.uses.name||e.nameId()===W.Universe10.ResourceType.properties.uses.name||e.nameId()===W.Universe10.ResourceTypeOrTrait.properties.uses.name}function P(e){return e.key()==W.Universe10.Method||e.key()==W.Universe08.Method}function M(e){return e.key()==W.Universe10.Api||e.key()==W.Universe08.Api}function E(e){return e.key()==W.Universe10.BooleanType||e.key()==W.Universe08.BooleanType}function C(e){return e.key()==W.Universe10.MarkdownString||e.key()==W.Universe08.MarkdownString}function N(e){return e.key()==W.Universe10.Resource||e.key()==W.Universe08.Resource}function _(e){return e.key()==W.Universe10.Trait||e.key()==W.Universe08.Trait}function I(e){return e.key()==W.Universe10.GlobalSchema||e.key()==W.Universe08.GlobalSchema}function R(e){return e.key()==W.Universe10.AbstractSecurityScheme||e.key()==W.Universe08.SecuritySchema}function x(e){return e.key()==W.Universe10.TypeDeclaration}function L(e){return e.key()==W.Universe10.Response||e.key()==W.Universe08.Response}function O(e){return e.key()==W.Universe08.BodyLike}function k(e){return e.key()==W.Universe10.Overlay}function D(e){return e.key()==W.Universe10.AnnotationTypeDeclaration}function U(e){return e.key()==W.Universe10.ResourceType||e.key()==W.Universe08.ResourceType}function F(e){return e.key()==W.Universe10.SchemaString||e.key()==W.Universe08.SchemaString}function j(e){return e.key()==W.Universe10.MethodBase||e.key()==W.Universe08.MethodBase}function K(e){return e.key()==W.Universe10.pointer}function V(e){return!1}function B(e){return e.key()==W.Universe10.RAMLSelector}function q(e){return e.key()==W.Universe10.Library}function H(e){return e.key()==W.Universe10.StringType||e.key()==W.Universe08.StringType}function G(e){return e.key()==W.Universe10.ExampleSpec}var W=n(20);t.isDocumentationProperty=r,t.isUsageProperty=i,t.isDescriptionProperty=a,t.isDisplayNameProperty=o,t.isTitleProperty=s,t.isAnnotationsProperty=u,t.isIsProperty=l,t.isSecuredByProperty=c,t.isTypeProperty=p,t.isProtocolsProperty=m,t.isNameProperty=d,t.isBodyProperty=h,t.isSchemaProperty=f,t.isSignatureProperty=y,t.isResourcesProperty=v,t.isTypesProperty=g,t.isExampleProperty=b,t.isValueProperty=S,t.isUriParametersProperty=A,t.isBaseUriParametersProperty=T,t.isUsesProperty=w,t.isMethodType=P,t.isApiType=M,t.isBooleanTypeType=E,t.isMarkdownStringType=C,t.isResourceType=N,t.isTraitType=_,t.isGlobalSchemaType=I,t.isSecuritySchemaType=R,t.isTypeDeclarationType=x,t.isResponseType=L,t.isBodyLikeType=O,t.isOverlayType=k,t.isAnnotationTypeType=D,t.isResourceTypeType=U,t.isSchemaStringType=F,t.isMethodBaseType=j,t.isPointerType=K,t.isRamlExpressionType=V,t.isRamlSelectorType=B,t.isLibraryType=q,t.isStringTypeType=H,t.isExampleSpecType=G},function(e,t){e.exports=require("media-typer")},function(e,t){e.exports=require("loophole")},function(e,t,n){function r(e){if(y>20)return[];y++;try{var t=[],n=e.leftType();n&&t.push(n);var i=e.rightType();if(i)if(i.isUnion()){var a=r(i.union());t=t.concat(a)}else t.push(i);return t}finally{y--}}function i(e,t,n){var r=n.attr("type");if(r){var i={},a=new c.NodeClass(n.name(),n.definition().universe(),"");a.getAdapter(h.RAMLService).setDeclaringNode(n),a._superTypes.push(n.definition().universe().type(d.Universe10.TypeDeclaration.name)),i[r.value()]=a;var o=l.getType(t?t:n,r.value(),i);return o instanceof c.Array&&o.getAdapter(h.RAMLService).setDeclaringNode(n),o}return e&&("body"==e.nameId()||u.find(n.lowLevel().children(),function(e){return"properties"==e.key()}))?n.definition().universe().type(d.Universe10.ObjectTypeDeclaration.name):n.definition().universe().type(d.Universe10.StringTypeDeclaration.name)}function a(e){return o(e.property(),e.parent(),e)}function o(e,t,n){var r=n.lowLevel();e&&e.nameId()==d.Universe10.LibraryBase.properties.uses.name&&e.range().nameId()==d.Universe10.Library.name;var a=e?e.range().nameId():n.definition().nameId();if(r._node&&r._node.descriminate)return null;r._node&&(r._node.descriminate=1);try{if(a==d.Universe10.TypeDeclaration.name){var o=i(e,t,n);if(e&&null!=o&&("body"==e.nameId()||"headers"==e.nameId()||"queryParameters"==e.nameId())){var u=new s.UserDefinedClass(n.lowLevel().key(),o.universe(),n,n.lowLevel().unit()?n.lowLevel().unit().path():"","");return u._superTypes.push(o),u}if(o)return o}var l=null;if(e&&t){var c=m.findAllSubTypes(e,t);return c.length>0&&c.forEach(function(e){l||e.getAdapter(h.RAMLService).match(n,l)&&(l=e)}),l}}finally{r._node&&delete r._node.descriminate}}var s=n(16),u=n(17),l=(n(25),n(72)),c=n(16),p=n(23),m=n(74),d=n(20),h=n(22),f=function(){function e(e){this._props=e,this.parentValue=u.find(e,function(e){return e.isFromParentValue()}),this.parentKey=u.find(e,function(e){return e.isFromParentKey()}),this.canBeValue=u.find(e,function(e){return e.canBeValue()})}return e.prototype.match=function(e){var t=this,n=null,r="";return this._props.forEach(function(i){i.getAdapter(h.RAMLPropertyService).isSystem()||i!=t.parentValue&&i!=t.parentKey&&i.matchKey(e)&&(null!=i.keyPrefix()?i.keyPrefix().length>=r.length&&(r=i.keyPrefix(),n=i):(n=i,r=i.nameId()))}),n},e}(),y=0,v=0,g=function(){function e(){this.shouldDescriminate=!1}return e.prototype.process=function(e,t){var n=this,i=e.lowLevel(),o=i._node?i._node:i;try{if(o.currentChildren)return o.currentChildren;if(!e.definition())return;if(null==e.parent()&&!this.shouldDescriminate){this.shouldDescriminate=!0;try{var s=this.process(e,t),u=e;u._children=s;var l=a(e);l&&u.patchType(l);var s=this.process(e,t);u._children=s}finally{this.shouldDescriminate=!1}}if(e.definition().isUnion()&&e.definition().getAdapter(h.RAMLService).isRuntime()){var m=r(e.definition().union()),y=null,g=null,b=null,S=1e3,A=e;if(m.forEach(function(r){if(!y&&!r.isUnion()){A.patchType(r);if(0==v){v++;try{for(var i=n.process(e,t),a=0,o=0;o<i.length;o++)i[o].isUnknown()&&a++;0==a&&(y=i),S>a&&(S=a,g=i,b=r)}finally{v--}}}}),y)return y;g&&A.patchType(b)}var T=new f(e.definition().allProperties()),w=e,P=w._allowQuestion||e.definition().getAdapter(h.RAMLService).getAllowQuestion(),M=[];if(T.parentKey&&e.lowLevel().key()&&M.push(new p.ASTPropImpl(e.lowLevel(),e,T.parentKey.range(),T.parentKey,!0)),e.lowLevel().value()){if(T.parentValue)M.push(new p.ASTPropImpl(e.lowLevel(),e,T.parentValue.range(),T.parentValue));else if(T.canBeValue){var E=e.lowLevel().value();"string"==typeof E&&E.trim().length>0&&(T.canBeValue.nameId()==d.Universe10.Resource.properties.signature.name?"("==E.trim().charAt(0)&&M.push(new p.ASTPropImpl(e.lowLevel(),e,T.canBeValue.range(),T.canBeValue)):M.push(new p.ASTPropImpl(e.lowLevel(),e,T.canBeValue.range(),T.canBeValue)))}}else if(T.canBeValue&&T.canBeValue.range()instanceof c.NodeClass){var C=new p.ASTNodeImpl(e.lowLevel(),w,T.canBeValue.range(),T.canBeValue);return[C]}if(w._children=M,w.definition().getAdapter(h.RAMLService).isUserDefined())M=this.processChildren(t,w,M,P,T);else if(w.definition().key()==d.Universe08.Api||w.definition().key()==d.Universe10.Api){var N=t.filter(function(e){return"uses"==e.key()});M=this.processChildren(N,w,M,P,T);var _=t.filter(function(e){return"types"==e.key()});M=this.processChildren(_,w,M,P,T);var I=t.filter(function(e){return"types"!=e.key()&&"uses"!=e.key()});M=this.processChildren(I,w,M,P,T)}else M=this.processChildren(t,w,M,P,T);return w._children=M,M}finally{C&&delete o.currentChildren}},e.prototype.processChildren=function(e,t,n,r,i){return e.forEach(function(e){var a=e.key();r&&null!=a&&"?"==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1));var l=null!=a?i.match(a):null;if(null!=l){var m=l.range();if(l.isAnnotation()&&"annotations"!=a){var f=new p.ASTPropImpl(e,t,m,l);return void n.push(f)}var y=!1,v=l.isMultiValue();if(m instanceof c.Array){var g=m;v=!0,m=g.component,y=!0}else m.isArray()&&(v=!0,y=!0);if(m.isValueType()){var b=e.children(),S=3==e.valueKind();return void((S&&b.length>0||b.length>1)&&v?b.forEach(function(e){var r=new p.ASTPropImpl(e,t,m,l);n.push(r)}):(l.isInherited()&&t.setComputed(l.nameId(),e.value()),n.push(new p.ASTPropImpl(e,t,m,l))))}var A=[];if(t._children=n,l.isMerged()){var T=new p.ASTNodeImpl(e,t,m,l);T._allowQuestion=r,A.push(T)}else if(v)if(l.getAdapter(h.RAMLPropertyService).isEmbedMap()){var w=e.children();if(0==w.length&&e.value()){var P=new p.BasicASTNode(e,t);P.knownProperty=l,n.push(P)}w.forEach(function(e){var i=e.children();if(e.key()||1!=i.length)if("RAML10"==t.universe().version()){var a=new p.ASTNodeImpl(e,t,m,l);a._allowQuestion=r,A.push(a)}else{var o=new p.BasicASTNode(e,t);n.push(o),e.key()&&(o.needSequence=!0)}else{var a=new p.ASTNodeImpl(i[0],t,m,l);a._allowQuestion=r,A.push(a)}})}else{var M={},E=[];if(m instanceof s.NodeClass){var C=m;C.getAdapter(h.RAMLService).getCanInherit().length>0&&C.getAdapter(h.RAMLService).getCanInherit().forEach(function(n){var i=t.computedValue(n);if(i&&l.nameId()==d.Universe10.Response.properties.body.name&&!u.find(e.children(),function(e){return e.key()==i})){var a=t.parent().definition().key(),s=new p.ASTNodeImpl(e,t,m,l);(a==d.Universe10.MethodBase||a==d.Universe08.MethodBase)&&s.setComputed("form","true");var c=o(l,t,s);c&&s.patchType(c);var f=s.children();s._children=f.filter(function(e){return!e.isUnknown()}),s._allowQuestion=r,E.push(s),s.children().forEach(function(e){if(e.property().getAdapter(h.RAMLPropertyService).isKey()){var t=e;return void(t._computed=!0)}if(e.isElement()&&(e.property().getAdapter(h.RAMLPropertyService).isMerged()||(M[e.property().nameId()]=!0)),e.property().isAnnotation()){var t=e,n=t.value(),r="";r=n instanceof p.StructuredValue?n.valueName():""+n,M["("+r+")"]=!0}else M[e.name()]=!0}),s._computed=!0}})}var N=[];e.children().forEach(function(e){if(!M[e.key()]){var n=new p.ASTNodeImpl(e,t,m,l),i=l.domain().key();"body"!=l.nameId()||i!=d.Universe08.MethodBase&&i!=d.Universe10.MethodBase||n.setComputed("form","true"),n._allowQuestion=r,N.push(n)}}),N.length>0?N.forEach(function(e){return A.push(e)}):E.forEach(function(e){return A.push(e)})}else A.push(new p.ASTNodeImpl(e,t,m,l));t._children=t._children.concat(A),n=n.concat(A),A.forEach(function(e){var n=o(l,t,e);n&&n!=e.definition()&&e.patchType(n),e._associatedDef=null,l.childRestrictions().forEach(function(t){e.setComputed(t.name,t.value)});e.definition()})}else n.push(new p.BasicASTNode(e,t))}),n},e}();t.BasicNodeBuilder=g,t.doDescrimination=a},function(e,t,n){function r(e){var t=e.definition().universe().version();return"RAML10"==t?i.buildWrapperNode(e):"RAML08"==t?a.buildWrapperNode(e):null}var i=n(89),a=n(90);t.buildWrapperNode=r},function(e,t,n){function r(e){var t=e.definition().nameId(),n=a[t];if(!n){for(var r=e.definition().allSuperTypes(),i=null,o=0;o<r.length;o++){var s=r[o].nameId();if(n=a[s],"DataElement"!=s){if("RAMLLanguageElement"!=s&&n)break}else i=s}n||(i=s)}return n||(n=a.RAMLLanguageElement),n(e)}var i=n(14);t.buildWrapperNode=r;var a={AbstractSecurityScheme:function(e){return new i.AbstractSecuritySchemeImpl(e)},AnnotationRef:function(e){return new i.AnnotationRefImpl(e)},AnnotationTarget:function(e){return new i.AnnotationTargetImpl(e)},AnnotationTypeDeclaration:function(e){return new i.AnnotationTypeDeclarationImpl(e)},Api:function(e){return new i.ApiImpl(e)},ApiDescription:function(e){return new i.ApiDescriptionImpl(e)},ArrayTypeDeclaration:function(e){return new i.ArrayTypeDeclarationImpl(e)},BasicSecurityScheme:function(e){return new i.BasicSecuritySchemeImpl(e)},BooleanType:function(e){return new i.BooleanTypeImpl(e)},BooleanTypeDeclaration:function(e){return new i.BooleanTypeDeclarationImpl(e)},CallbackAPIDescription:function(e){return new i.CallbackAPIDescriptionImpl(e)},ContentType:function(e){return new i.ContentTypeImpl(e)},CustomSecurityScheme:function(e){return new i.CustomSecuritySchemeImpl(e)},DataElementRef:function(e){return new i.DataElementRefImpl(e)},DateFormatSpec:function(e){return new i.DateFormatSpecImpl(e)},DateTypeDeclaration:function(e){return new i.DateTypeDeclarationImpl(e)},DigestSecurityScheme:function(e){return new i.DigestSecuritySchemeImpl(e)},DocumentationItem:function(e){return new i.DocumentationItemImpl(e)},ExampleSpec:function(e){return new i.ExampleSpecImpl(e)},ExampleString:function(e){return new i.ExampleStringImpl(e)},Extension:function(e){return new i.ExtensionImpl(e)},FileTypeDeclaration:function(e){return new i.FileTypeDeclarationImpl(e)},FixedUriString:function(e){return new i.FixedUriStringImpl(e)},FullUriTemplateString:function(e){return new i.FullUriTemplateStringImpl(e)},FunctionalInterface:function(e){
return new i.FunctionalInterfaceImpl(e)},GlobalSchema:function(e){return new i.GlobalSchemaImpl(e)},HasNormalParameters:function(e){return new i.HasNormalParametersImpl(e)},ImportDeclaration:function(e){return new i.ImportDeclarationImpl(e)},IntegerTypeDeclaration:function(e){return new i.IntegerTypeDeclarationImpl(e)},JSonSchemaString:function(e){return new i.JSonSchemaStringImpl(e)},Library:function(e){return new i.LibraryImpl(e)},LibraryBase:function(e){return new i.LibraryBaseImpl(e)},LocationKind:function(e){return new i.LocationKindImpl(e)},MarkdownString:function(e){return new i.MarkdownStringImpl(e)},Method:function(e){return new i.MethodImpl(e)},MethodBase:function(e){return new i.MethodBaseImpl(e)},MimeType:function(e){return new i.MimeTypeImpl(e)},ModelLocation:function(e){return new i.ModelLocationImpl(e)},NumberType:function(e){return new i.NumberTypeImpl(e)},NumberTypeDeclaration:function(e){return new i.NumberTypeDeclarationImpl(e)},OAuth1SecurityScheme:function(e){return new i.OAuth1SecuritySchemeImpl(e)},OAuth1SecuritySchemeSettings:function(e){return new i.OAuth1SecuritySchemeSettingsImpl(e)},OAuth2SecurityScheme:function(e){return new i.OAuth2SecuritySchemeImpl(e)},OAuth2SecuritySchemeSettings:function(e){return new i.OAuth2SecuritySchemeSettingsImpl(e)},ObjectTypeDeclaration:function(e){return new i.ObjectTypeDeclarationImpl(e)},Overlay:function(e){return new i.OverlayImpl(e)},PassThroughSecurityScheme:function(e){return new i.PassThroughSecuritySchemeImpl(e)},PassThroughSecuritySchemeSettings:function(e){return new i.PassThroughSecuritySchemeSettingsImpl(e)},RAMLExpression:function(e){return new i.RAMLExpressionImpl(e)},RAMLLanguageElement:function(e){return new i.RAMLLanguageElementImpl(e)},RAMLPointer:function(e){return new i.RAMLPointerImpl(e)},RAMLPointerElement:function(e){return new i.RAMLPointerElementImpl(e)},RAMLProject:function(e){return new i.RAMLProjectImpl(e)},RAMLSelector:function(e){return new i.RAMLSelectorImpl(e)},RAMLSimpleElement:function(e){return new i.RAMLSimpleElementImpl(e)},Reference:function(e){return new i.ReferenceImpl(e)},RelativeUriString:function(e){return new i.RelativeUriStringImpl(e)},Resource:function(e){return new i.ResourceImpl(e)},ResourceBase:function(e){return new i.ResourceBaseImpl(e)},ResourceType:function(e){return new i.ResourceTypeImpl(e)},ResourceTypeRef:function(e){return new i.ResourceTypeRefImpl(e)},Response:function(e){return new i.ResponseImpl(e)},SchemaElement:function(e){return new i.SchemaElementImpl(e)},SchemaString:function(e){return new i.SchemaStringImpl(e)},ScriptHookElement:function(e){return new i.ScriptHookElementImpl(e)},ScriptSpec:function(e){return new i.ScriptSpecImpl(e)},SecuritySchemaType:function(e){return new i.SecuritySchemaTypeImpl(e)},SecuritySchemePart:function(e){return new i.SecuritySchemePartImpl(e)},SecuritySchemeRef:function(e){return new i.SecuritySchemeRefImpl(e)},SecuritySchemeSettings:function(e){return new i.SecuritySchemeSettingsImpl(e)},StatusCodeString:function(e){return new i.StatusCodeStringImpl(e)},StringType:function(e){return new i.StringTypeImpl(e)},StringTypeDeclaration:function(e){return new i.StringTypeDeclarationImpl(e)},Trait:function(e){return new i.TraitImpl(e)},TraitRef:function(e){return new i.TraitRefImpl(e)},TypeDeclaration:function(e){return new i.TypeDeclarationImpl(e)},UnionTypeDeclaration:function(e){return new i.UnionTypeDeclarationImpl(e)},UriTemplate:function(e){return new i.UriTemplateImpl(e)},ValidityExpression:function(e){return new i.ValidityExpressionImpl(e)},ValueType:function(e){return new i.ValueTypeImpl(e)},ValueTypeDeclaration:function(e){return new i.ValueTypeDeclarationImpl(e)},XMLSchemaString:function(e){return new i.XMLSchemaStringImpl(e)},pointer:function(e){return new i.pointerImpl(e)}}},function(e,t,n){function r(e){var t=e.definition().nameId(),n=a[t];if(!n){for(var r=e.definition().allSuperTypes(),i=null,o=0;o<r.length;o++){var s=r[o].nameId();if(n=a[s],"DataElement"!=s){if("RAMLLanguageElement"!=s&&n)break}else i=s}n||(i=s)}return n||(n=a.RAMLLanguageElement),n(e)}var i=n(91);t.buildWrapperNode=r;var a={Api:function(e){return new i.ApiImpl(e)},BodyLike:function(e){return new i.BodyLikeImpl(e)},BooleanType:function(e){return new i.BooleanTypeImpl(e)},BooleanTypeDeclaration:function(e){return new i.BooleanTypeDeclarationImpl(e)},DateTypeDeclaration:function(e){return new i.DateTypeDeclarationImpl(e)},DocumentationItem:function(e){return new i.DocumentationItemImpl(e)},ExampleString:function(e){return new i.ExampleStringImpl(e)},FileTypeDeclaration:function(e){return new i.FileTypeDeclarationImpl(e)},FixedUri:function(e){return new i.FixedUriImpl(e)},FullUriTemplateString:function(e){return new i.FullUriTemplateStringImpl(e)},GlobalSchema:function(e){return new i.GlobalSchemaImpl(e)},HasNormalParameters:function(e){return new i.HasNormalParametersImpl(e)},IntegerTypeDeclaration:function(e){return new i.IntegerTypeDeclarationImpl(e)},JSONBody:function(e){return new i.JSONBodyImpl(e)},JSONExample:function(e){return new i.JSONExampleImpl(e)},JSonSchemaString:function(e){return new i.JSonSchemaStringImpl(e)},MarkdownString:function(e){return new i.MarkdownStringImpl(e)},Method:function(e){return new i.MethodImpl(e)},MethodBase:function(e){return new i.MethodBaseImpl(e)},MimeType:function(e){return new i.MimeTypeImpl(e)},NumberType:function(e){return new i.NumberTypeImpl(e)},NumberTypeDeclaration:function(e){return new i.NumberTypeDeclarationImpl(e)},OAuth1SecuritySchemeSettings:function(e){return new i.OAuth1SecuritySchemeSettingsImpl(e)},OAuth2SecuritySchemeSettings:function(e){return new i.OAuth2SecuritySchemeSettingsImpl(e)},Parameter:function(e){return new i.ParameterImpl(e)},ParameterLocation:function(e){return new i.ParameterLocationImpl(e)},RAMLLanguageElement:function(e){return new i.RAMLLanguageElementImpl(e)},RAMLSimpleElement:function(e){return new i.RAMLSimpleElementImpl(e)},Reference:function(e){return new i.ReferenceImpl(e)},RelativeUriString:function(e){return new i.RelativeUriStringImpl(e)},Resource:function(e){return new i.ResourceImpl(e)},ResourceType:function(e){return new i.ResourceTypeImpl(e)},ResourceTypeRef:function(e){return new i.ResourceTypeRefImpl(e)},Response:function(e){return new i.ResponseImpl(e)},SchemaString:function(e){return new i.SchemaStringImpl(e)},SecuritySchema:function(e){return new i.SecuritySchemaImpl(e)},SecuritySchemaPart:function(e){return new i.SecuritySchemaPartImpl(e)},SecuritySchemaRef:function(e){return new i.SecuritySchemaRefImpl(e)},SecuritySchemaSettings:function(e){return new i.SecuritySchemaSettingsImpl(e)},StatusCodeString:function(e){return new i.StatusCodeStringImpl(e)},StringType:function(e){return new i.StringTypeImpl(e)},StringTypeDeclaration:function(e){return new i.StringTypeDeclarationImpl(e)},Trait:function(e){return new i.TraitImpl(e)},TraitRef:function(e){return new i.TraitRefImpl(e)},UriTemplate:function(e){return new i.UriTemplateImpl(e)},ValueType:function(e){return new i.ValueTypeImpl(e)},XMLBody:function(e){return new i.XMLBodyImpl(e)},XMLExample:function(e){return new i.XMLExampleImpl(e)},XMLSchemaString:function(e){return new i.XMLSchemaStringImpl(e)}}},function(e,t,n){function r(e){var t=R.universeProvider("RAML08"),n=t.type("Api"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function i(e){var t=R.universeProvider("RAML08"),n=t.type("SecuritySchema"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function a(e){var t=R.universeProvider("RAML08"),n=t.type("SecuritySchemaPart"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function o(e){var t=R.universeProvider("RAML08"),n=t.type("GlobalSchema"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function s(e){var t=R.universeProvider("RAML08"),n=t.type("DocumentationItem"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function u(e){var t=R.universeProvider("RAML08"),n=t.type("SecuritySchemaSettings"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function l(e){var t=R.universeProvider("RAML08"),n=t.type("OAuth1SecuritySchemeSettings"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function c(e){var t=R.universeProvider("RAML08"),n=t.type("OAuth2SecuritySchemeSettings"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function p(e){var t=R.universeProvider("RAML08"),n=t.type("ResourceType"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function m(e){var t=R.universeProvider("RAML08"),n=t.type("Method"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function d(e){var t=R.universeProvider("RAML08"),n=t.type("MethodBase"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function h(e){var t=R.universeProvider("RAML08"),n=t.type("HasNormalParameters"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function f(e){var t=R.universeProvider("RAML08"),n=t.type("Parameter"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function y(e){var t=R.universeProvider("RAML08"),n=t.type("StringTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function v(e){var t=R.universeProvider("RAML08"),n=t.type("BooleanTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function g(e){var t=R.universeProvider("RAML08"),n=t.type("NumberTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function b(e){var t=R.universeProvider("RAML08"),n=t.type("IntegerTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function S(e){var t=R.universeProvider("RAML08"),n=t.type("DateTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function A(e){var t=R.universeProvider("RAML08"),n=t.type("FileTypeDeclaration"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function T(e){var t=R.universeProvider("RAML08"),n=t.type("Response"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function w(e){var t=R.universeProvider("RAML08"),n=t.type("BodyLike"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function P(e){var t=R.universeProvider("RAML08"),n=t.type("XMLBody"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function M(e){var t=R.universeProvider("RAML08"),n=t.type("JSONBody"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function E(e){var t=R.universeProvider("RAML08"),n=t.type("Trait"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function C(e){var t=R.universeProvider("RAML08"),n=t.type("Resource"),r=n.getAdapter(x.RAMLService).createStubNode(null,e);return r}function N(e,t,n){return O.loadApi(e,t,n).getOrElse(null)}function _(e,t,n){return O.loadApiAsync(e,t,n)}var I=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},R=n(15),x=n(22),L=n(92),O=n(93),k=n(108),D=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"RAMLLanguageElementImpl"},t.prototype.getKind=function(){return"RAMLLanguageElement"},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new re(e)})},t}(L.BasicNodeImpl);t.RAMLLanguageElementImpl=D;var U=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"ValueTypeImpl"},t.prototype.getKind=function(){return"ValueType"},t.prototype.value=function(){return this.attr.value()},t}(L.AttributeNodeImpl);t.ValueTypeImpl=U;var F=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeImpl"},t.prototype.getKind=function(){return"NumberType"},t}(U);t.NumberTypeImpl=F;var j=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeImpl"},t.prototype.getKind=function(){return"BooleanType"},t}(U);t.BooleanTypeImpl=j;var K=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"ReferenceImpl"},t.prototype.getKind=function(){return"Reference"},t.prototype.value=function(){return L.toStructuredValue(this.attr)},t}(L.AttributeNodeImpl);t.ReferenceImpl=K;var V=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeRefImpl"},t.prototype.getKind=function(){return"ResourceTypeRef"},t}(K);t.ResourceTypeRefImpl=V;var B=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"TraitRefImpl"},t.prototype.getKind=function(){return"TraitRef"},t}(K);t.TraitRefImpl=B;var q=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaRefImpl"},t.prototype.getKind=function(){return"SecuritySchemaRef"},t}(K);t.SecuritySchemaRefImpl=q;var H=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"StringTypeImpl"},t.prototype.getKind=function(){return"StringType"},t}(U);t.StringTypeImpl=H;var G=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"UriTemplateImpl"},t.prototype.getKind=function(){return"UriTemplate"},t}(H);t.UriTemplateImpl=G;var W=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"RelativeUriStringImpl"},t.prototype.getKind=function(){return"RelativeUriString"},t}(G);t.RelativeUriStringImpl=W;var z=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"FullUriTemplateStringImpl"},t.prototype.getKind=function(){return"FullUriTemplateString"},t}(G);t.FullUriTemplateStringImpl=z;var J=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"FixedUriImpl"},t.prototype.getKind=function(){return"FixedUri"},t}(H);t.FixedUriImpl=J;var Y=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"SchemaStringImpl"},t.prototype.getKind=function(){return"SchemaString"},t}(H);t.SchemaStringImpl=Y;var X=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"JSonSchemaStringImpl"},t.prototype.getKind=function(){return"JSonSchemaString"},t}(Y);t.JSonSchemaStringImpl=X;var $=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"XMLSchemaStringImpl"},t.prototype.getKind=function(){return"XMLSchemaString"},t}(Y);t.XMLSchemaStringImpl=$;var Q=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"ExampleStringImpl"},t.prototype.getKind=function(){return"ExampleString"},t}(H);t.ExampleStringImpl=Q;var Z=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"JSONExampleImpl"},t.prototype.getKind=function(){return"JSONExample"},t}(Q);t.JSONExampleImpl=Z;var ee=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"XMLExampleImpl"},t.prototype.getKind=function(){return"XMLExample"},t}(Q);t.XMLExampleImpl=ee;var te=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"StatusCodeStringImpl"},t.prototype.getKind=function(){return"StatusCodeString"},t}(H);t.StatusCodeStringImpl=te;var ne=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"MimeTypeImpl"},t.prototype.getKind=function(){return"MimeType"},t}(H);t.MimeTypeImpl=ne;var re=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"MarkdownStringImpl"},t.prototype.getKind=function(){return"MarkdownString"},t}(H);t.MarkdownStringImpl=re;var ie=function(e){function t(t){e.call(this,"string"==typeof t?i(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaImpl"},t.prototype.getKind=function(){return"SecuritySchema"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new re(e)})},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(D);t.SecuritySchemaImpl=ie;var ae=function(e){function t(){e.apply(this,arguments)}return I(t,e),t.prototype.wrapperClassName=function(){return"RAMLSimpleElementImpl"},t.prototype.getKind=function(){return"RAMLSimpleElement"},t}(L.BasicNodeImpl);t.RAMLSimpleElementImpl=ae;var oe=function(e){function t(t){e.call(this,"string"==typeof t?o(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"GlobalSchemaImpl"},t.prototype.getKind=function(){return"GlobalSchema"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.attribute.call(this,"value",function(e){return new Y(e)})},t}(ae);t.GlobalSchemaImpl=oe;var se=function(e){function t(t){e.call(this,"string"==typeof t?s(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"DocumentationItemImpl"},t.prototype.getKind=function(){return"DocumentationItem"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",function(e){return new re(e)})},t}(ae);t.DocumentationItemImpl=se;var ue=function(e){function t(t){e.call(this,"string"==typeof t?u(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaSettingsImpl"},t.prototype.getKind=function(){return"SecuritySchemaSettings"},t}(ae);t.SecuritySchemaSettingsImpl=ue;var le=function(e){function t(t){e.call(this,"string"==typeof t?l(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"OAuth1SecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"OAuth1SecuritySchemeSettings"},t.prototype.requestTokenUri=function(){return e.prototype.attribute.call(this,"requestTokenUri",function(e){return new J(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new J(e)})},t.prototype.tokenCredentialsUri=function(){return e.prototype.attribute.call(this,"tokenCredentialsUri",function(e){return new J(e)})},t}(ue);t.OAuth1SecuritySchemeSettingsImpl=le;var ce=function(e){function t(t){e.call(this,"string"==typeof t?c(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"OAuth2SecuritySchemeSettingsImpl"},t.prototype.getKind=function(){return"OAuth2SecuritySchemeSettings"},t.prototype.accessTokenUri=function(){return e.prototype.attribute.call(this,"accessTokenUri",function(e){return new J(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new J(e)})},t.prototype.authorizationGrants=function(){return e.prototype.attributes.call(this,"authorizationGrants",this.toString)},t.prototype.setAuthorizationGrants=function(e){return this.highLevel().attrOrCreate("authorizationGrants").setValue(""+e),this},t.prototype.scopes=function(){return e.prototype.attributes.call(this,"scopes",this.toString)},t.prototype.setScopes=function(e){return this.highLevel().attrOrCreate("scopes").setValue(""+e),this},t}(ue);t.OAuth2SecuritySchemeSettingsImpl=ce;var pe=function(e){function t(t){e.call(this,"string"==typeof t?a(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaPartImpl"},t.prototype.getKind=function(){return"SecuritySchemaPart"},t}(ae);t.SecuritySchemaPartImpl=pe;var me=function(e){function t(t){e.call(this,"string"==typeof t?p(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeImpl"},t.prototype.getKind=function(){return"ResourceType"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new B(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new V(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new q(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t}(D);t.ResourceTypeImpl=me;var de=function(e){function t(t){e.call(this,"string"==typeof t?h(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"HasNormalParametersImpl"},t.prototype.getKind=function(){return"HasNormalParameters"},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t}(D);t.HasNormalParametersImpl=de;var he=function(e){function t(t){e.call(this,"string"==typeof t?f(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"ParameterImpl"},t.prototype.getKind=function(){return"Parameter"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.location=function(){return e.prototype.attribute.call(this,"location",function(e){return new fe(e)})},t.prototype.required=function(){return e.prototype.attribute.call(this,"required",this.toBoolean)},t.prototype.setRequired=function(e){return this.highLevel().attrOrCreate("required").setValue(""+e),this},t.prototype["default"]=function(){return e.prototype.attribute.call(this,"default",this.toString)},t.prototype.setDefault=function(e){return this.highLevel().attrOrCreate("default").setValue(""+e),this},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",this.toString)},t.prototype.setExample=function(e){return this.highLevel().attrOrCreate("example").setValue(""+e),this},t.prototype.repeat=function(){return e.prototype.attribute.call(this,"repeat",this.toBoolean)},t.prototype.setRepeat=function(e){return this.highLevel().attrOrCreate("repeat").setValue(""+e),this},t}(D);t.ParameterImpl=he;var fe=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ParameterLocationImpl"},e.prototype.getKind=function(){return"ParameterLocation"},e}();t.ParameterLocationImpl=fe;var ye=function(e){function t(t){e.call(this,"string"==typeof t?y(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"StringTypeDeclarationImpl"},t.prototype.getKind=function(){return"StringTypeDeclaration"},t.prototype.pattern=function(){return e.prototype.attribute.call(this,"pattern",this.toString)},t.prototype.setPattern=function(e){return this.highLevel().attrOrCreate("pattern").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString)},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t}(he);t.StringTypeDeclarationImpl=ye;var ve=function(e){function t(t){e.call(this,"string"==typeof t?v(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeDeclarationImpl"},t.prototype.getKind=function(){return"BooleanTypeDeclaration"},t}(he);t.BooleanTypeDeclarationImpl=ve;var ge=function(e){function t(t){e.call(this,"string"==typeof t?g(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeDeclarationImpl"},t.prototype.getKind=function(){return"NumberTypeDeclaration"},t.prototype.minimum=function(){return e.prototype.attribute.call(this,"minimum",this.toNumber)},t.prototype.setMinimum=function(e){return this.highLevel().attrOrCreate("minimum").setValue(""+e),this},t.prototype.maximum=function(){return e.prototype.attribute.call(this,"maximum",this.toNumber)},t.prototype.setMaximum=function(e){return this.highLevel().attrOrCreate("maximum").setValue(""+e),this},t}(he);t.NumberTypeDeclarationImpl=ge;var be=function(e){function t(t){e.call(this,"string"==typeof t?b(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"IntegerTypeDeclarationImpl"},t.prototype.getKind=function(){return"IntegerTypeDeclaration"},t}(ge);t.IntegerTypeDeclarationImpl=be;var Se=function(e){function t(t){e.call(this,"string"==typeof t?S(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"DateTypeDeclarationImpl"},t.prototype.getKind=function(){return"DateTypeDeclaration"},t}(he);t.DateTypeDeclarationImpl=Se;var Ae=function(e){function t(t){e.call(this,"string"==typeof t?A(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"FileTypeDeclarationImpl"},t.prototype.getKind=function(){return"FileTypeDeclaration"},t}(he);t.FileTypeDeclarationImpl=Ae;var Te=function(e){function t(t){e.call(this,"string"==typeof t?d(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"MethodBaseImpl"},t.prototype.getKind=function(){return"MethodBase"},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new B(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new q(e)})},t}(de);t.MethodBaseImpl=Te;var we=function(e){function t(t){e.call(this,"string"==typeof t?T(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"ResponseImpl"},t.prototype.getKind=function(){return"Response"},t.prototype.code=function(){return e.prototype.attribute.call(this,"code",function(e){return new te(e)})},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.isOkRange=function(){return k.isOkRange(this)},t}(D);t.ResponseImpl=we;var Pe=function(e){function t(t){e.call(this,"string"==typeof t?w(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"BodyLikeImpl"},t.prototype.getKind=function(){return"BodyLike"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new Y(e)})},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",function(e){return new Q(e)})},t.prototype.formParameters=function(){return e.prototype.elements.call(this,"formParameters")},t}(D);t.BodyLikeImpl=Pe;var Me=function(e){function t(t){e.call(this,"string"==typeof t?P(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"XMLBodyImpl"},t.prototype.getKind=function(){return"XMLBody"},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new $(e)})},t}(Pe);t.XMLBodyImpl=Me;var Ee=function(e){function t(t){e.call(this,"string"==typeof t?M(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"JSONBodyImpl"},t.prototype.getKind=function(){return"JSONBody"},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new X(e)})},t}(Pe);t.JSONBodyImpl=Ee;var Ce=function(e){function t(t){e.call(this,"string"==typeof t?E(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"TraitImpl"},t.prototype.getKind=function(){return"Trait"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t}(Te);t.TraitImpl=Ce;var Ne=function(e){function t(t){e.call(this,"string"==typeof t?m(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"MethodImpl"},t.prototype.getKind=function(){return"Method"},t.prototype.method=function(){return e.prototype.attribute.call(this,"method",this.toString)},t.prototype.setMethod=function(e){return this.highLevel().attrOrCreate("method").setValue(""+e),this},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new q(e)})},t.prototype.parentResource=function(){return k.parentResource(this)},t.prototype.ownerApi=function(){return k.ownerApi(this)},t.prototype.methodId=function(){return k.methodId(this)},t}(Te);t.MethodImpl=Ne;var _e=function(e){function t(t){e.call(this,"string"==typeof t?C(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"ResourceImpl"},t.prototype.getKind=function(){return"Resource"},t.prototype.relativeUri=function(){return e.prototype.attribute.call(this,"relativeUri",function(e){return new W(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new V(e)})},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new B(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){
return new q(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t.prototype.completeRelativeUri=function(){return k.completeRelativeUri(this)},t.prototype.absoluteUri=function(){return k.absoluteUri(this)},t.prototype.parentResource=function(){return k.parent(this)},t.prototype.getChildResource=function(e){return k.getChildResource(this,e)},t.prototype.getChildMethod=function(e){return k.getChildMethod(this,e)},t.prototype.ownerApi=function(){return k.ownerApi(this)},t.prototype.allUriParameters=function(){return k.uriParameters(this)},t.prototype.absoluteUriParameters=function(){return k.absoluteUriParameters(this)},t}(D);t.ResourceImpl=_e;var Ie=function(e){function t(t){e.call(this,"string"==typeof t?r(t):t),this.nodeOrKey=t}return I(t,e),t.prototype.wrapperClassName=function(){return"ApiImpl"},t.prototype.getKind=function(){return"Api"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.version=function(){return e.prototype.attribute.call(this,"version",this.toString)},t.prototype.setVersion=function(e){return this.highLevel().attrOrCreate("version").setValue(""+e),this},t.prototype.baseUri=function(){return e.prototype.attribute.call(this,"baseUri",function(e){return new z(e)})},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.mediaType=function(){return e.prototype.attribute.call(this,"mediaType",function(e){return new ne(e)})},t.prototype.schemas=function(){return e.prototype.elements.call(this,"schemas")},t.prototype.traits=function(){return e.prototype.elements.call(this,"traits")},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new q(e)})},t.prototype.securitySchemes=function(){return e.prototype.elements.call(this,"securitySchemes")},t.prototype.resourceTypes=function(){return e.prototype.elements.call(this,"resourceTypes")},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.documentation=function(){return e.prototype.elements.call(this,"documentation")},t.prototype.expand=function(){return k.expandTraitsAndResourceTypes(this)},t.prototype.allTraits=function(){return k.allTraits(this)},t.prototype.allResourceTypes=function(){return k.allResourceTypes(this)},t.prototype.getChildResource=function(e){return k.getChildResource(this,e)},t.prototype.allResources=function(){return k.allResources(this)},t.prototype.allBaseUriParameters=function(){return k.baseUriParameters(this)},t}(D);t.ApiImpl=Ie,t.loadApi=N,t.loadApiAsync=_},function(e,t,n){function r(e){var t=e.value();if("string"==typeof t){var n=a.createNode(t.toString());n._actualNode().startPosition=e.lowLevel().valueStart(),n._actualNode().endPosition=e.lowLevel().valueEnd();var r=new i.StructuredValue(n,e.parent(),e.property());return r}return t}var i=n(23),a=n(24),o=n(22),s=n(70),u=function(){function e(e){this._node=e,e.setWrapperNode(this)}return e.prototype.wrapperClassName=function(){return"BasicNodeImpl"},e.prototype.getKind=function(){return"BasicNode"},e.prototype.parent=function(){var e=this._node.parent();return e?e.wrapperNode():null},e.prototype.highLevel=function(){return this._node},e.prototype.attributes=function(e,t){var n=this._node.attributes(e);return n?t?n.map(function(e){return t(e)}):n.map(function(e){return e.value()}):null},e.prototype.attribute=function(e,t){var n=this._node.attr(e);return n?t?t(n):n.value():null},e.prototype.elements=function(e){var t=this._node.elementsOfKind(e);return t?t.map(function(e){return e.wrapperNode()}):null},e.prototype.element=function(e){var t=this._node.element(e);return t?t.wrapperNode():null},e.prototype.add=function(e){this.highLevel().add(e.highLevel())},e.prototype.addToProp=function(e,t){var n=e.highLevel(),r=this.highLevel().definition().property(t);n._prop=r,this.highLevel().add(n)},e.prototype.remove=function(e){this.highLevel().remove(e.highLevel())},e.prototype.dump=function(){return this.highLevel().dump("yaml")},e.prototype.toString=function(e){var t=e.value();return null!=t?t.toString():t},e.prototype.toBoolean=function(e){var t=e.value();return null!=t?"true"==t.toString():t},e.prototype.toNumber=function(e){var t=e.value();if(!t)return t;try{var n=parseFloat(t.toString());return n}catch(r){}return Number.MAX_VALUE},e.prototype.errors=function(){var e=[];null!=this._node.errors()&&(e=e.concat(this._node.errors())),this._node.attrs().filter(function(e){return null!=e.errors()}).forEach(function(t){return e=e.concat(t.errors())});var t=e.map(function(e){return{code:e.code,message:e.message,path:e.path,start:e.start,end:e.end,isWarning:e.isWarning}});return t},e.prototype.definition=function(){return this.highLevel().definition()},e.prototype.runtimeDefinition=function(){return this.highLevel().definition().getAdapter(o.RAMLService).toRuntime()},e.prototype.toJSON=function(e){return s.serialize(this.highLevel().lowLevel(),e)},e}();t.BasicNodeImpl=u;var l=function(){function e(e){this.attr=e}return e.prototype.highLevel=function(){return this.attr},e.prototype.wrapperClassName=function(){return"AttributeNodeImpl"},e.prototype.getKind=function(){return"AttributeNode"},e}();t.AttributeNodeImpl=l,t.toStructuredValue=r},function(e,t,n){function r(e,t,n){var r=Array.isArray(t),i=r?t:n,u=r?n:t;if(u=u||{},i&&i.length>0)throw new Error("Applying of extensions and overlays is not implemented yet.");var l,c=a(e,u),d=p.basename(e),h=c.unit(d);if(h&&(l=o(h,i,u)),u.rejectOnErrors&&l&&l.errors().length)throw s(l);return new m(l)}function i(e,t,n){var r=Array.isArray(t),i=r?t:n,u=r?n:t;if(u=u||{},i&&i.length>0)return Promise.reject(new Error("Applying of extensions and overlays is not implemented yet."));var l=a(e,u),c=p.basename(e);return f.fetchIncludesAsync(l,c).then(function(e){try{var t=o(e,i,u);return u.rejectOnErrors&&t&&t.errors().length?Promise.reject(s(t)):t}catch(n){return Promise.reject(n)}})}function a(e,t){t=t||{};var n=t.fsResolver,r=t.httpResolver,i=p.dirname(e),a=new d.Project(i,n,r);return a}function o(e,t,n){if(!e)return null;var r,i=e.contents(),a=i.match(/^#%RAML\s+(\d\.\d)\s*(\w*)\s*$/m);if(!a)return null;var o,s,u,p=a[1],m=a[2];if("0.8"==p?u="RAML08":"1.0"==p&&(u="RAML10"),!u)return null;if("RAML08"==u&&null!=t&&t.length>0)throw new Error("Extensions and overlays are not supported in RAML 0.8.");m&&""!==m.trim()?"Overlay"===m?(s=l.OverlayImpl,o=v.Universe10.Overlay.name):"Extension"===m&&(s=l.ExtensionImpl,o=v.Universe10.Extension.name):"0.8"==p?(o=v.Universe08.Api.name,s=c.ApiImpl):"1.0"==p&&(o=v.Universe10.Api.name,s=l.ApiImpl);var d=g(u),f=d.type(o);return r=new s(new h.ASTNodeImpl(e.ast(),null,f,null))}function s(e){var t=new Error("Api contains errors.");return t.parserErrors=e.errors(),t}function u(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r=g("RAML10"),i=r.type(v.Universe10.Api.name),a=new d.Project(e),o=[];return a.units().forEach(function(e){var r=e.ast();t&&(r=f.toChildCahcingNode(r));var a=new l.ApiImpl(new h.ASTNodeImpl(r,null,i,null));n&&(a=y.expandTraitsAndResourceTypes(a)),o.push(a)}),o}var l=n(14),c=n(91),p=n(10),m=n(67),d=n(24),h=n(23),f=n(24),y=n(94),v=n(20),g=n(100);t.loadApi=r,t.loadApiAsync=i,t.toError=s,t.loadApis1=u},function(e,t,n){function r(e){return e instanceof u.ApiImpl||e instanceof l.ApiImpl?(new d).expandTraitsAndResourceTypes(e):null}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=(n(15),n(23)),o=n(66),s=n(69),u=n(14),l=n(91),c=n(95),p=n(99),m=n(100);t.expandTraitsAndResourceTypes=r;var d=function(){function e(){}return e.prototype.expandTraitsAndResourceTypes=function(e){var t=this,n=e instanceof u.ApiImpl,r=e,i=c.allTraits(r),o=c.allResourceTypes(r),p=r.highLevel().lowLevel();this.ramlVersion=e.highLevel().definition().universe().version();var d=new s.LowLevelCompositeNode(p,null,null),h=n?m("RAML10").type("Api"):m("RAML08").type("Api"),f=new a.ASTNodeImpl(d,null,h,null),y=n?new u.ApiImpl(f):new l.ApiImpl(f);this.traitMap={},this.resourceTypeMap={},i&&i.forEach(function(e){return t.traitMap[c.qName(e)]=e}),o&&o.forEach(function(e){return t.resourceTypeMap[c.qName(e)]=e});var v=y.resources();return v.forEach(function(e){return t.processResource(e)}),y},e.prototype.processResource=function(e){var t=this,n=this.collectResourceData(e);if(e instanceof u.ResourceImpl);var r=e.highLevel().lowLevel();n.filter(function(e){return null!=e.resourceType}).forEach(function(t){var n=t.resourceType.node.highLevel().lowLevel(),i=new f(e,t.resourceType.transformer);r.adopt(n,i)});var i=e.methods();i.forEach(function(e){var t=e.highLevel().lowLevel(),r=e.method();n.forEach(function(n){var i=n.methodTraits[r];i&&i.forEach(function(n){var r=n.node.highLevel().lowLevel(),i=new f(e,n.transformer);t.adopt(r,i)});var a=n.traits;a&&a.forEach(function(n){var r=n.node.highLevel().lowLevel(),i=new f(e,n.transformer);t.adopt(r,i)})})});var a=e.resources();a.forEach(function(e){return t.processResource(e)})},e.prototype.collectResourceData=function(e,t,n){var r=this;void 0===t&&(t=[]);var i=this.extractTraits(e),a={},o=e.methods();o.forEach(function(e){var t=r.extractTraits(e);t&&t.length>0&&(a[e.method()]=t)});var s,u=e.type();return u&&(s=this.readGenerictData(u,this.resourceTypeMap,"resource type",n)),t.push({resourceType:s,traits:i,methodTraits:a}),s&&this.collectResourceData(s.node,t,s.transformer),t},e.prototype.extractTraits=function(e,t,n){var r=this;void 0===n&&(n={});for(var i=[],a=-1;a<i.length;a++){var o=0>a?null:i[a],s=o?o.node:e,l=o?o.transformer:t;s.is().forEach(function(e){var t=r.readGenerictData(e,r.traitMap,"trait",l);if(t){var a=t.name;n[a]||(n[a]=!0,i.push(t))}})}if(e instanceof u.MethodImpl);return i},e.prototype.readGenerictData=function(e,t,n,r){var i=e.value();if("string"==typeof i){r&&(i=r.transform(i).value);var o=t[i];if(o)return{name:i,transformer:null,node:o}}else if(i instanceof a.StructuredValue){var s=i,u=s.valueName(),l={},o=t[u];if(o)return"RAML08"==this.ramlVersion&&r?s.children().forEach(function(e){return l[e.valueName()]=r.transform(e.lowLevel().value()).value}):s.children().forEach(function(e){return l[e.valueName()]=e.lowLevel().value()}),{name:u,transformer:new h(n,u,l),node:o}}return null},e}(),h=function(){function e(e,t,n){this.templateKind=e,this.templateName=t,this.params=n}return e.prototype.transform=function(e){var t={},n=[];if("string"==typeof e){for(var r=e,i="",a=0,o=r.indexOf("<<");o>=0;o=r.indexOf("<<",a)){i+=r.substring(a,o);var s=o;o+="<<".length,a=r.indexOf(">>",o);var u=r.substring(o,a);a+=">>".length;var l,c,m=r.substring(s,a);if(u.match(/\|\s*!\s*singularize\s*$/)){var d=u.lastIndexOf("|");c=u.substring(0,d).trim(),l=this.params[c],l&&(l=p.singular(l))}else if(u.match(/\|\s*!\s*pluralize\s*$/)){var d=u.lastIndexOf("|");c=u.substring(0,d).trim(),l=this.params[c],l&&(l=p.plural(l))}else c=u.trim(),l=this.params[c];l||(t[c]=!0,l=m),i+=l}var h=Object.keys(t);if(h.length>0){var f=h.join(", ").trim(),y="Undefined "+this.templateKind+" parameter"+(h.length>1?"s":"")+": "+f,v={code:3,isWarning:!1,message:y,node:null,start:-1,end:-1,path:null};n.push(v)}return i+=r.substring(a,r.length),{value:i,errors:n}}return{value:e,errors:n}},e}(),f=function(e){function t(t,n){e.call(this,n.templateKind,n.templateName,null),this.owner=t,this.delegate=n}return i(t,e),t.prototype.transform=function(t){if(null==t)return{value:t,errors:[]};var n={value:t,errors:[]},r=!1;y.forEach(function(e){return r=r||t.toString().indexOf("<<"+e)>=0}),r&&(this.initParams(),n=e.prototype.transform.call(this,t));var i=this.delegate.transform(n.value);return i},t.prototype.initParams=function(){for(var e,t,n="",r=this.owner.highLevel().lowLevel().originalNode().originalNode();r;){var i=r.key();null!=i&&(o.stringStartsWith(i,"/")?(t||(t=i.replace(/[\/\{\}]/g,"")),n=i+n):e=i),r=r.parent()}this.params={resourcePath:n,resourcePathName:t},e&&(this.params.methodName=e)},t}(h),y=["resourcePath","resourcePathName","methodName"]},function(e,t,n){function r(e){var t=U.typeFromNode(e.highLevel());return t.getAdapter(q.RAMLService).toRuntime()}function i(e){var t=U.typeFromNode(e.highLevel());return t.getAdapter(q.RAMLService).toRuntimeWithInheritance()}function a(e){var t=new V.Project(B.dirname(e)),n=t.unit(B.basename(e));return n&&n.isRAMLUnit()?x.fromUnit(n).wrapperNode():null}function o(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);return t}function s(e){var t=e.highLevel().lowLevel();return t instanceof j.LowLevelProxyNode?e:F.expandTraitsAndResourceTypes(e)}function u(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);t=t.replace(/\/\//g,"/");var r=n.baseUri(),i=r?r.value():"";return i=i?i:"",D.stringEndsWith(i,"/")&&(t=t.substring(1)),t=i+t}function l(e){return L.qName(e.highLevel(),e.highLevel().root())}function c(e){return K.globalDeclarations(e.highLevel()).filter(function(e){return e.definition().key()==O.Universe08.Trait||e.definition().key()==O.Universe10.Trait}).map(function(e){return e.wrapperNode()})}function p(e){return K.globalDeclarations(e.highLevel()).filter(function(e){return e.definition().key()==O.Universe08.ResourceType||e.definition().key()==O.Universe10.ResourceType}).map(function(e){return e.wrapperNode()})}function m(e){var t=[],n=e;do e=n,t.push(e.relativeUri().value()),n=e.parent();while(n.relativeUri);return t.reverse()}function d(e){return e.parent()instanceof I.ResourceImpl?e.parent():null}function h(e){var t=e.parent();return b(t)?null:t}function f(e,t){if(null==e)return null;var n=e.resources();return n?(n=n.filter(function(e){return e.relativeUri().value()==t}),0==n.length?null:n[0]):null}function y(e,t){if(!e)return null;for(var n=null,r=0;r<t.length;r++){if(n=f(e,t[r]),!n)return null;e=n}return n}function v(e,t){return e?e.methods().filter(function(e){return e.method()==t}):null}function g(e,t,n){var r=y(e,t);return r?v(r,n):null}function b(e){return e.title&&e.version&&e.baseUri}function S(e){for(var t=e;!b(t);)t=t.parent();return t}function A(e){var t=e.parent();if(t instanceof I.ResourceImpl)return o(t)+" "+e.method().toLowerCase();if(t instanceof I.ResourceTypeImpl)return t.name()+" "+e.method().toLowerCase();throw new Error("Method is supposed to be owned by Resource or ResourceType")}function T(e){return parseInt(e.code().value())<400}function w(e){var t=[],n=function(e){t.push(e),e.resources().forEach(function(e){return n(e)})};return e.resources().forEach(function(e){return n(e)}),t}function P(e,t){for(var n={};null!=t;)E(t).forEach(function(e){return n[e.name()]=new J(e)}),t=h(t);var r=R(o(t),n,{})(e);return r?new k(Object.keys(r.params).map(function(e){return new z(e,r.params[e])})):k.empty()}function M(e,t){var n=e.schema();if(!n)return k.empty();var r=n,i=!1;H.forEach(function(e){try{i=i||r.indexOf(e)>=0}catch(t){}});var a;if(i)a=new W(r);else{var o=t.schemas().filter(function(e){return e.key()==r});if(!(o.length>0))return k.empty();a=new W(o[0].value().value(),o[0].key())}return new k(a)}function E(e){var t=e.relativeUri().value(),n=e.uriParameters();return _(n,t,e)}function C(e){var t=e.baseUri()?e.baseUri().value():"",n=e.baseUriParameters();return _(n,t,e)}function N(e){var t=[],n=e;do{e=n;var r=e.relativeUri().value(),i=e.uriParameters();t=_(i,r,e).concat(t),n=e.parent()}while(n.relativeUri);var a=n,o=a.baseUri().value(),s=a.baseUriParameters();return t=_(s,o,a).concat(t)}function _(e,t,n){if(!t)return[];var r={};e.forEach(function(e){return r[e.name()]=e});for(var i=[],a=0,o=t.indexOf("{");o>=0;o=t.indexOf("{",a)){a=t.indexOf("}",++o);var s=t.substring(o,a);r[s]?i.push(r[s]):i.push(new G(s,n))}return i}var I=n(14),R=n(96),x=n(15),L=n(23),O=n(20),k=n(67),D=n(66),U=n(75),F=n(94),j=n(69),K=n(74),V=n(24),B=n(10),q=n(22);t.resolveType=r,t.runtimeType=i,t.load=a,t.completeRelativeUri=o,t.expandTraitsAndResourceTypes=s,t.absoluteUri=u,t.qName=l,t.allTraits=c,t.allResourceTypes=p,t.relativeUriSegments=m,t.parentResource=d,t.parent=h,t.getChildResource=f,t.getResource=y,t.getChildMethod=v,t.getMethod=g,t.ownerApi=S,t.methodId=A,t.isOkRange=T,t.allResources=w,t.matchUri=P;var H=["{","<"];t.schema=M,t.uriParameters=E,t.baseUriParameters=C,t.absoluteUriParameters=N;var G=function(){function e(e,t){this._name=e,this._parent=t}return e.prototype.wrapperClassName=function(){return"HelperUriParam"},e.prototype.getKind=function(){return"HelperUriParam"},e.prototype.name=function(){return this._name},e.prototype.type=function(){return["string"]},e.prototype.location=function(){return{wrapperClassName:function(){return"HelperModelLocation"},getKind:function(){return"HelperModelLocation"}}},e.prototype.locationKind=function(){return{wrapperClassName:function(){return"HelperLocationKind"},getKind:function(){return"HelperLocationKind"}}},e.prototype["default"]=function(){return null},e.prototype.xml=function(){return null},e.prototype.runtimeType=function(){return null},e.prototype.sendDefaultByClient=function(){return!1},e.prototype.example=function(){return""},e.prototype.schema=function(){return null},e.prototype.formParameters=function(){return[]},e.prototype.examples=function(){return[]},e.prototype.repeat=function(){return!1},e.prototype["enum"]=function(){return[]},e.prototype.collectionFormat=function(){return"multi"},e.prototype.required=function(){return!0},e.prototype.readOnly=function(){return!1},e.prototype.facets=function(){return[]},e.prototype.scope=function(){return[]},e.prototype.displayName=function(){return this._name},e.prototype.description=function(){return null},e.prototype.annotations=function(){return[]},e.prototype.usage=function(){return null},e.prototype.parent=function(){return this._parent},e.prototype.highLevel=function(){return null},e.prototype.errors=function(){return[]},e.prototype.definition=function(){return null},e.prototype.runtimeDefinition=function(){return null},e.prototype.toJSON=function(){return{name:this.name()}},e}();t.HelperUriParam=G;var W=function(){function e(e,t){this._content=e,this._name=t}return e.prototype.name=function(){return this._name},e.prototype.content=function(){return this._content},e}();t.SchemaDef=W;var z=function(){function e(e,t){this.key=e,this.value=t}return e}();t.ParamValue=z;var J=function(){function e(e){this._param=e,this.description=e.description()?e.description().value():this.description,this.displayName=e.displayName(),this.type=e.type().length>0?e.type()[0]:"string",this.example=e.example(),this.repeat=e.repeat(),this.required=e.required(),this["default"]=e["default"]()}return e}()},function(e,t,n){function r(e,t,n,r){var i=r.end!==!1,a=r.strict,o="";r.sensitive||(o+="i");var s=e.replace(p,function(e,r,i,a){if(a)return"\\"+a;n.push({name:i,prefix:r||"/"}),r=r?"\\"+r:"";var o=t[i],s=o&&l[o.type]||"[^"+(r||"\\/")+"]+",u=o&&o.required===!1;return Array.isArray(o["enum"])&&o["enum"].length&&(s="(?:"+o["enum"].map(function(e){return String(e).replace(c,"\\$1")}).join("|")+")"),r+"("+s+")"+(u?"?":"")}),u="/"===e.charAt(e.length-1);return a||(s=(u?s.slice(0,-2):s)+"(?:\\/(?=$))?"),s+=i?"$":a&&u?"":"(?=\\/|$)",new RegExp("^"+s+(i?"$":""),o)}function i(e){try{return decodeURIComponent(e)}catch(t){var n=new Error('Failed to decode param "'+e+'"');throw n.status=400,n}}function a(e,t,n){if(n=n||{},"/"===e&&n.end===!1)return o;t=t||{};var a=[],l=r(e,t,a,n),c=s()(t),p=u()(t);return function(e){var n=l.exec(e);if(!n)return!1;if(t.mediaTypeExtension&&n.length>1&&!n[n.length-1]){var r=n[n.length-2],o=r.lastIndexOf(".");o>=0&&(n[n.length-2]=r.substring(0,o),n[n.length-1]=r.substring(o))}for(var s=n[0],u={},m=1;m<n.length;m++){var d=a[m-1],h=n[m];u[d.name]=null==h?h:i(h)}return u=c(u),p(u).valid?{path:s,params:u}:!1}}function o(e){return{path:"",params:{}}}var s=n(97),u=n(98),l={number:"[-+]?\\d+(?:\\.\\d+)?",integer:"[-+]?\\d+",date:"(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} (?:[0-1]\\d|2[0-3]):[0-5]\\d:[0-5]\\d GMT","boolean":"(?:true|false)"},c=/([.*+?=^!:${}()|[\]\/\\])/g,p=new RegExp(["([.\\/])?\\{([^}]+)\\}",c.source].join("|"),"g");e.exports=a},function(e,t){function n(e){return null==e}function r(e){return n(e)?"":String(e)}function i(e){return-1===[0,!1,"","0","false"].indexOf(e)}function a(e){return isFinite(e)?Number(e):null}function o(e){return e%1===0?Number(e):null}function s(e){return isNaN(Date.parse(e))?null:new Date(e)}function u(e,t,r){var i=Array.isArray(e)?e:[e],a=i.map(function(e){function i(e,t,n){for(var r=0;r<a.length;r++){var i=a[r],e=i(e,t,n);if(null!=e)return e}return null}var a=[],o=r[e.type];return"function"==typeof o&&a.push(o),Object.keys(e).filter(function(e){return"type"!==e&&"repeat"!==e&&"default"!==e}).forEach(function(n){var r=t[n];"function"==typeof r&&a.push(r(e[n],n))}),function(t,r,a){if(n(t))return null!=e["default"]?i(e["default"],r,a):e.repeat&&!e.required?[]:t;if(e.repeat){var o=Array.isArray(t)?t:[t];return o=o.map(function(e){return i(e,r,a)}),o.some(n)?null:t}if(Array.isArray(t)){if(t.length>1)return null;t=t[0]}return i(t,r,a)}});return function(e,t,n){for(var r=0;r<a.length;r++){var i=a[r],o=i(e,t,n);if(null!=o)return o}return e}}function l(){function e(e){return u(e,n,l)}var t,n={},l={string:r,number:a,integer:o,"boolean":i,date:s},c=function(e){if(!e)return function(){return{}};var t={};return Object.keys(e).forEach(function(n){t[n]=c.rule(e[n])}),function(e){e=e||{};var n={};return Object.keys(t).forEach(function(r){var i=e[r],a=t[r];Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=a(i,r,e))}),n}};return t=c,t.rule=e,t.TYPES=l,t.RULES=n,t}e.exports=l},function(e,t){function n(e){return"[object Date]"===v.call(e)&&!isNaN(e.getTime())}function r(e){return"boolean"==typeof e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e&&e%1===0}function o(e){return"number"==typeof e&&isFinite(e)}function s(e){return function(t){return t>=e}}function u(e){return function(t){return e>=t}}function l(e){return function(t){return Buffer.byteLength(t)>=e}}function c(e){return function(t){return Buffer.byteLength(t)<=e}}function p(e){return e&&0!=e.length?function(t){return e.indexOf(t)>-1}:function(e){return!0}}function m(e){var t="string"==typeof e?new RegExp(e):e;return t.test.bind(t)}function d(e,t,n,r,i){return{valid:e,rule:r,attr:i,value:n,key:t}}function h(e,t){var n=[];return Object.keys(e).forEach(function(r){var i=t[r];if(i){var a=e[r];n.push([r,i(a,r),a])}}),function(e,t,r){for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1],u=a[2],l=s(e,t,r);if(!l)return d(!1,t,e,o,u)}return d(!0,t,e)}}function f(e,t,n){var r=Array.isArray(e)?e:[e],i=!r.length,a=[],o=[];return r.forEach(function(e){var n=[e.type||"string",h(e,t)];e.required||(i=!0),e.repeat?o.push(n):a.push(n)}),function(e,t,r){if(null==e)return d(i,t,e,"required",!i);var s=Array.isArray(e),u=s?e:[e],l=s?o:a;if(!l.length)return d(!1,t,e,"repeat",!s);var c=null,p=e;return l.some(function(e){var i=u.every(function(i){var a=e[0],o=n[a]&&n[a](i,t,r);return o||(c=d(!1,t,p,"type",a)),o});return i?(u.every(function(n){var r=e[1];return c=r(n,t),c.valid}),!0):!1}),c}}function y(){function e(e){return f(e,h,d)}var t,d={date:n,number:o,integer:a,"boolean":r,string:i},h={minimum:s,maximum:u,minLength:l,maxLength:c,"enum":p,pattern:m},y=function(t){if(!t)return function(e){return{valid:!0,errors:[]}};var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),function(e){e=e||{};var t=Object.keys(n).map(function(t){var r=e[t],i=n[t];return i(r,t,e)}).filter(function(e){return!e.valid});return{valid:0===t.length,errors:t}}};return t=y,t.rule=e,t.TYPES=d,t.RULES=h,t}var v=Object.prototype.toString;e.exports=y},function(e,t){e.exports=require("pluralize")},function(e,t,n){function r(e){if(m[e])return a(m[e]);var t=s.resolve(__dirname,p[e]),n=o.readFileSync(t).toString(),r=u.parseStruct(n,{},t),l=i(r),c=s.resolve(s.resolve(s.dirname(t),"../artifacts"),e+".json");return o.writeFileSync(c,JSON.stringify(l,null,2)),r=a(l)}function i(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var r=e.name;if(!t[r]){t[r]=e,n.push(e);var a=e.imports;return Object.keys(a).forEach(function(e){var r=a[e],o=r.name;a[e]=o,i(r,t,n)}),n}}function a(e){var t=e[0],n={};return e.forEach(function(e){return n[e.name]=e}),e.forEach(function(e){var t=e.imports;Object.keys(t).forEach(function(e){var r=t[e];t[e]=n[r]})}),t}var o=n(4),s=n(10),u=n(101),l=n(105),c={},p={RAML10:"../spec-1.0/api.ts",RAML08:"../spec-0.8/api.ts"},m={RAML10:n(106),RAML08:n(107)},d=function(){var e=function(e){if(c[e])return c[e];var t=r(e),i=l.toDefSystem(t);i&&(i.setUniverseVersion(e),c[e]=i);var a=n(85);return global.mediaTypeParser=a,i};return e.availableUniverses=function(){return Object.keys(p)},e.clean=function(){Object.keys(m).forEach(function(e){m[e]=null,c[e]=null,o.writeFileSync(s.resolve(__dirname,"../artifacts/"+e+".json"),"null")})},e}();e.exports=d},function(e,t,n){function r(e){return v.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function i(e,t){return{name:e,methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:t,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}}function a(e,t,n){var s=r(e),u={classes:[],aliases:[],enumDeclarations:[],imports:{},name:n};t[n]=u;var l=null;return g.Matching.visit(s,function(r){if(189==r.kind){var s=r;l=s.name.text}if(191==r.kind){var c=r,p=c.name.text;if("RamlWrapper"==p)return;if(193!=c.moduleReference.kind)throw new Error("Only external module references are supported now");var m=c.moduleReference;if(7!=m.expression.kind)throw new Error("Only string literals are supported in module references ");var d=m.expression,h=d.text,y=b.resolve(b.dirname(n)+"/",h)+".ts";if(!S.existsSync(y))throw new Error("Path "+h+" resolve to "+y+"do not exists");if(!t[y]){var v=S.readFileSync(y).toString();a(v,t,y)}u.imports[p]=t[y]}if(187==r.kind){var T=r,w=T.name.text,P=f(T.type,n);u.aliases.push({name:w,type:P})}if(188==r.kind){var M=r,E=[];M.members.forEach(function(e){E.push(e.name.text)}),u.enumDeclarations.push({name:M.name.text,members:E})}var C=186==r.kind,N=185==r.kind;if(C||N){var _=r;if(_){var I={},R=i(_.name.text,C);return R.moduleName=l,u.classes.push(R),_.members.forEach(function(t){if(125==t.kind){var r=t,i=r.name.text,a=e.substring(r.pos,r.end);R.methods.push({name:i,start:r.pos,end:r.end,text:a})}var s=A.doMatch(t);if(s){var u=o(s,n);if("$"==u.name)R.annotations=u.annotations;else if("$"!=u.name.charAt(0)||"$ref"==u.name)I[u.name]=u,R.fields.push(u);else{var l=u.name.substr(1),c=I[l];if(c)c.annotations=u.annotations;else if("$$"!=u.name){var p=R.annotationOverridings[l];p||(p=[]),R.annotationOverridings[l]=p.concat(u.annotations)}}}}),_.typeParameters&&_.typeParameters.forEach(function(e){R.typeParameters.push(e.name.text),null==e.constraint?R.typeParameterConstraint.push(null):R.typeParameterConstraint.push(e.constraint.typeName.text)}),_.heritageClauses&&_.heritageClauses.forEach(function(e){e.types.forEach(function(t){if(77==e.token)R["extends"].push(f(t,n));else{if(100!=e.token)throw new Error("Unknown token class heritage");R["implements"].push(f(t,n))}})}),g.Matching.SKIP}}}),u}function o(e,t){return{name:e.name.text,type:f(e.type,t),annotations:"$"==e.name.text.charAt(0)?u(e.initializer):[],valueConstraint:"$"!=e.name.text.charAt(0)?s(e.initializer):null,optional:null!=e.questionToken}}function s(e){return null==e?null:145==e.kind?{isCallConstraint:!0,value:l(e)}:{isCallConstraint:!1,value:c(e)}}function u(e){if(null==e)return[];if(141==e.kind){var t=e,n=[];return t.elements.forEach(function(e){n.push(l(e))}),n}throw new Error("Only Array Literals supported now")}function l(e){if(145==e.kind){var t=e,n=p(t.expression),r={name:n,arguments:[]};return t.arguments.forEach(function(e){r.arguments.push(c(e))}),r}throw new Error("Only call expressions may be annotations")}function c(e){if(7==e.kind){var t=e;return t.text}if(9==e.kind){var n=e;return n.text}if(141==e.kind){var r=e,i=[];return r.elements.forEach(function(e){i.push(c(e))}),i}if(93==e.kind)return!0;if(143==e.kind){var a=e;return c(a.expression)+"."+c(a.name)}if(63==e.kind){var o=e;return o.text}if(78==e.kind)return!1;if(6==e.kind){var s=e;return s.text}if(157==e.kind){var u=e;if(u.operator=32)return c(u.left)+c(u.right)}throw new Error("Unknown value in annotation")}function p(e){if(63==e.kind)return e.text;if(143==e.kind){var t=e;return p(t.expression)+"."+p(t.name)}throw new Error("Only simple identifiers are supported now")}function m(e,t){var n=e.indexOf("."),r=-1!=n?e.substring(0,n):"",i=-1!=n?e.substring(n+1):e;return{typeName:e,nameSpace:r,basicName:i,typeKind:0,typeArguments:[],modulePath:t}}function d(e){return{base:e,typeKind:1}}function h(e){return{options:e,typeKind:2}}function f(e,t){if(null==e)return null;if(118==e.kind)return m("string",null);if(116==e.kind)return m("number",null);if(110==e.kind)return m("boolean",null);if(109==e.kind)return m("any",null);if(132==e.kind){var n=e,r=m(y(n.typeName),t);return n.typeArguments&&n.typeArguments.forEach(function(e){r.typeArguments.push(f(e,t))}),r}if(137==e.kind){var i=e;return d(f(i.elementType,t))}if(139==e.kind){var a=e;return h(a.types.map(function(e){return f(e,t)}))}throw new Error("Case not supported"+e.kind)}function y(e){if(63==e.kind)return e.text;var t=e;return y(t.left)+"."+y(t.right)}var v=n(102),g=n(103),b=n(10),S=n(4),A=(n(104),g.Matching.field());g.Matching.classDeclaration();t.classDecl=i,t.parseStruct=a,t.buildType=f},function(e,t){e.exports=require("typescript")},function(e,t,n){var r,i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(102);!function(e){function t(n,r){var i=r(n);if(i)return i==e.SKIP?null:i;var o=a.forEachChild(n,function(e){var n=t(e,r);return n?n:void 0});return o}function n(e,t){void 0===t&&(t=function(e){return!0});for(var n=e.split("."),i=null,a=0;a<n.length;a++){var s=n[a],u=s.indexOf("(*)"),l=!1;-1!=u&&(s=s.substr(0,u),l=!0),i=null==i?"*"==s?o():r(s):new P(i,"*"==s?o():r(s),t),l&&(i=new A(i,t))}return i}function r(e){return new b(e)}function o(){return new S}function s(e,t){return void 0===t&&(t=function(e){return!0}),new A(e,t)}function u(e,t){return void 0===t&&(t=function(e){return!0}),new g(e,t)}function l(e,t,n){return void 0===n&&(n=function(e){return!0}),new y(e,t,n)}function c(e,t,n){return void 0===n&&(n=function(e){return!0}),new v(e,t,n)}function p(){return new f}function m(){return new h}var d=function(){function e(){}return e.prototype.match=function(e){throw new Error},e.prototype.nodeType=function(){throw new Error},e.prototype.doMatch=function(e){return e?this.nodeType()==e.kind?this.match(e):void 0:null},e}(),h=function(e){function t(){e.call(this)}return i(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return 185},t}(d),f=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return 124},t}(d),y=function(e){function t(t,n,r){
e.call(this),this.left=t,this.right=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return 51==e.operator&&this.left.doMatch(e.left)&&this.right.doMatch(e.right)?this.tr(e):null},t.prototype.nodeType=function(){return 157},t}(d),v=function(e){function t(t,n,r){e.call(this),this.left=t,this.right=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return this.left.doMatch(e.name)&&this.right.doMatch(e.initializer)?this.tr(e):void 0},t.prototype.nodeType=function(){return 183},t}(d),g=function(e){function t(t,n){e.call(this),this.expression=t,this.tr=n}return i(t,e),t.prototype.match=function(e){var t=this.expression.doMatch(e.expression);if(t){var n=this.tr(e.expression);return 1==n?t:n}return null},t.prototype.nodeType=function(){return 166},t}(d),b=function(e){function t(t){e.call(this),this.val=t}return i(t,e),t.prototype.match=function(e){return e.text==this.val?!0:null},t.prototype.nodeType=function(){return 63},t}(d),S=function(){function e(){}return e.prototype.doMatch=function(e){return!0},e.prototype.nodeType=function(){return null},e}(),A=function(e){function t(t,n){e.call(this),this.calleeMatcher=t,this.tr=n}return i(t,e),t.prototype.match=function(e){return this.calleeMatcher.doMatch(e.expression)?this.tr(e):null},t.prototype.nodeType=function(){return 145},t}(d);e.SKIP={},e.visit=t;var T=function(){function e(e,t){this._base=t,this.arguments=null,this.name=e}return e}(),w=function(){function e(e,t){this._baseNode=t,this.path=[],this.base=e}return e.prototype.start=function(){return this._baseNode.pos},e.prototype.startLocation=function(){return this._baseNode.getSourceFile().getLineAndCharacterFromPosition(this.start())},e.prototype.endLocation=function(){return this._baseNode.getSourceFile().getLineAndCharacterFromPosition(this.end())},e.prototype.end=function(){var e=this.path[this.path.length-1]._callExpression;return e?e.end:this.start()},e.prototype.toString=function(){return this.path.map(function(e){return e.name}).join(".")},e}();e.CallPath=w;var P=function(e){function t(t,n,r){e.call(this),this.objectMatcher=t,this.propertyMatcher=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return this.objectMatcher.doMatch(e.expression)&&this.propertyMatcher.doMatch(e.name)?this.tr(e):null},t.prototype.nodeType=function(){return 143},t}(d);e.memberFromExp=n;var M=function(){function e(e){this.rootMatcher=e}return e.prototype.doMatch=function(e){if(145==e.kind){var t=e,n=this.doMatch(t.expression);if(n)return n.path.length>0&&null==n.path[n.path.length-1].arguments?(n.path[n.path.length-1].arguments=t.arguments,n.path[n.path.length-1]._callExpression=t,n):null}else if(143==e.kind){var r=e,i=this.doMatch(r.expression);if(i)return 63==r.name.kind?(i.path.push(new T(r.name.text,r.name)),i):null}else if(63==e.kind){var a=e;if(this.rootMatcher.doMatch(a))return new w(a.text,a)}return null},e.prototype.nodeType=function(){return null},e}();e.CallBaseMatcher=M,e.ident=r,e.anyNode=o,e.call=s,e.exprStmt=u,e.assign=l,e.varDecl=c,e.field=p,e.classDeclaration=m}(r=t.Matching||(t.Matching={}))},function(e,t){var n=function(){function e(){}return e}();t.EnumDeclaration=n,function(e){e[e.BASIC=0]="BASIC",e[e.ARRAY=1]="ARRAY",e[e.UNION=2]="UNION"}(t.TypeKind||(t.TypeKind={}));t.TypeKind},function(e,t,n){function r(e){var t=new o.Universe(""),n={};return A(e,t,{},n),Object.keys(n).forEach(function(e){g(n[e],t)}),Object.keys(n).forEach(function(e){b(n[e],t)}),Object.keys(n).forEach(function(e){S(n[e],t)}),t.types().forEach(function(e){if(e instanceof o.NodeClass){var n=e;if(n.properties().forEach(function(e){var t=e.range(),n=e;t.isValueType()||t.properties().forEach(function(e){if(e.getAdapter(l.RAMLPropertyService).isKey()){var t=e.keyPrefix();t&&(n.withKeyRestriction(t),n.merge());var r=e.enumOptions();r&&(n.withEnumOptions(r),n.merge())}})}),n.getAdapter(l.RAMLService).isGlobalDeclaration()){if(n.getAdapter(l.RAMLService).getActuallyExports()&&"$self"!=n.getAdapter(l.RAMLService).getActuallyExports()){var r=n.property(n.getAdapter(l.RAMLService).getActuallyExports()).range();if(r.isValueType()){var i=r.getAdapter(l.RAMLService);i.setGloballyDeclaredBy(n)}}if(n.getAdapter(l.RAMLService).getConvertsToGlobal()){var r=t.type(n.getAdapter(l.RAMLService).getConvertsToGlobal());if(r.isValueType()){var i=r.getAdapter(l.RAMLService);i.setGloballyDeclaredBy(n)}}}}}),t}function i(e,t,n,r){var i=o.prop(e.name(),"",t,n);e.isMultiValue()&&i.withMultiValue(!0),i.unmerge(),n.isValueType()||n.properties().forEach(function(e){if(e.getAdapter(l.RAMLPropertyService).isKey()){var t=e.keyPrefix();t&&(i.withKeyRestriction(t),i.merge());var n=e.enumOptions();n&&(i.withEnumOptions(n),i.merge())}}),T(e,i,r)}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=(n(104),n(16)),s=n(17),u=n(76),l=n(22),c=function(){function e(e,t){this._field=e,this._clazz=t}return e.prototype.name=function(){return this._field.name},e.prototype.range=function(){return this._clazz.getModule().typeFor(this._field.type,this._clazz)},e.prototype.isMultiValue=function(){return 1==this._field.type.typeKind},e.prototype.isKey=function(){return null!=s.find(this._field.annotations,function(e){return"MetaModel.key"==e.name})},e.prototype.isSimpleValue=function(){return null!=s.find(this._field.annotations,function(e){return"MetaModel.value"==e.name})},e.prototype.annotations=function(){return this._field.annotations},e}(),p=function(){function e(e,t){this._field=e,this._clazz=t}return e.prototype.name=function(){return this._field.name},e.prototype.value=function(){return this._field.valueConstraint},e}(),m=function(){function e(e,t){this._clazz=e,this.mw=t}return e.prototype.typeMeta=function(){return this._clazz.annotations},e.prototype.path=function(){return this.mw.path()},e.prototype.getModule=function(){return this.mw},e.prototype.typeArgs=function(){return this._clazz.typeParameters},e.prototype.typConstraints=function(){var e=this;return this._clazz.typeParameterConstraint.map(function(t){return t?e.mw.classForName(t):null})},e.prototype.methods=function(){return this._clazz.methods},e.prototype.name=function(){return this._clazz.name},e.prototype.members=function(){var e=this;return this._clazz.fields.filter(function(e){return null==e.valueConstraint}).map(function(t){return new c(t,e)})},e.prototype.constraints=function(){var e=this;return this._clazz.fields.filter(function(e){return null!=e.valueConstraint}).map(function(t){return new p(t,e)})},e.prototype.isSubTypeOf=function(e){if(this==e)return!0;var t=!1;return this.getAllSuperTypes().forEach(function(n){t||(t=t||n.isSubTypeOf(e))}),t},e.prototype.getExtendsClauses=function(){return this._clazz["extends"]},e.prototype.getSuperTypes=function(){var e=this,t=[];return this._clazz["extends"].forEach(function(n){var r=e.mw.classForName(n.typeName);r&&t.push(r)}),t},e.prototype.getAllSuperTypes=function(){var e=this,t=[];return this._clazz["extends"].forEach(function(n){var r=e.mw.classForName(n.typeName);if(r){var i=r.getAllSuperTypes();t.push(r),t.concat(i)}}),s.unique(t)},e.prototype.annotationOverridings=function(){return this._clazz.annotationOverridings},e}(),d=function(){function e(){}return e.prototype.members=function(){return[]},e.prototype.methods=function(){return[]},e.prototype.isSubTypeOf=function(e){return!1},e.prototype.getSuperTypes=function(){return[]},e.prototype.getAllSuperTypes=function(){return[]},e.prototype.name=function(){return null},e.prototype.constraints=function(){return[]},e.prototype.typeMeta=function(){return[]},e.prototype.getModule=function(){throw new Error("Not implemented")},e.prototype.annotationOverridings=function(){return{}},e}(),h=function(e){function t(t,n){e.call(this),this._clazz=t,this.mw=n}return a(t,e),t.prototype.getModule=function(){return this.mw},t.prototype.values=function(){return this._clazz.members},t.prototype.name=function(){return this._clazz.name},t}(d),f=function(e){function t(t,n){e.call(this),this._clazz=t,this.mw=n}return a(t,e),t.prototype.elements=function(){return this._clazz},t.prototype.name=function(){return this._clazz.map(function(e){return e.name()}).join("|")},t}(d),y=function(){function e(e){var t=this;this._univers=e,this.name2Class={},this.namespaceToMod={},this._classes=[],e.classes.forEach(function(e){var n=new m(e,t);t._classes.push(n),t.name2Class[e.name]=n,e.moduleName&&(t.name2Class[e.moduleName+"."+e.name]=n)}),e.enumDeclarations.forEach(function(e){var n=new h(e,t);t._classes.push(n),t.name2Class[e.name]=n})}return e.prototype.typeFor=function(e,t){var n=this;switch(e.typeKind){case 0:var r=e,i=r.typeName;"string"==i&&(i="StringType"),"number"==i&&(i="NumberType"),"boolean"==i&&(i="BooleanType");var a=s.indexOf(t.typeArgs(),i);if(-1!=a){var o=t.typConstraints()[a];return o?o:this.classForName("ValueType")}return this.classForName(i);case 2:var u=e;return new f(u.options.map(function(e){return n.typeFor(e,t)}),this);case 1:var l=e;return this.typeFor(l.base,t)}return null},e.prototype.path=function(){return this._univers.name},e.prototype.classForName=function(e,t){var n=this;if(void 0===t&&(t={}),!e)return null;var r=this.name2Class[e];if(!r&&!t[this.path()]){t[this.path()]=this;var i=e.indexOf(".");if(-1!=i){var a=this.namespaceToMod[e.substring(0,i)];if(!a)throw new Error;return a.classForName(e.substring(i+1),t)}Object.keys(this.namespaceToMod).forEach(function(i){if("MetaModel"!=i){var a=n.namespaceToMod[i].classForName(e,t);a&&(r=a)}})}return r},e.prototype.classes=function(){return this._classes},e}(),v=function(e,t){if(e){var n;if(e instanceof f){throw new Error("Union type support was removed from definition system")}return n=t.type(e.name())}},g=function(e,t){var n=e.classForName("ValueType");e.classes().forEach(function(e){if(e instanceof h){var r=new o.EnumType(e.name(),t,e.getModule().path());return r.values=e.values(),void t.register(r)}if(e.isSubTypeOf(n)){var i=e.getAllSuperTypes();i.push(e);var a=null;if(i.forEach(function(e){var t=e.getExtendsClauses();t.forEach(function(e){if(0==e.typeKind){var t=e;if("Reference"==t.basicName){var n=t.typeArguments[0];a=n.typeName}}})}),a){var s=new o.ReferenceType(e.name(),e.getModule().path(),a,t);t.register(s)}var u=new o.ValueType(e.name(),t,e.getModule().path());t.register(u)}else{var l=new o.NodeClass(e.name(),t,e.getModule().path());t.register(l)}})},b=function(e,t){e.classes().forEach(function(e){e.getSuperTypes().forEach(function(n){var r=t.type(e.name()),i=t.type(n.name());if(!r||!i){var r=t.type(e.name()),i=t.type(n.name());throw new Error}t.registerSuperClass(r,i)})})},S=function(e,t){e.classes().forEach(function(e){var n=t.type(e.name());e.typeMeta().forEach(function(n){var r=v(e,t);u.handleTypeAnnotation(n,r)}),e.members().forEach(function(e){var r=e.range(),a=v(r,t);null==a&&console.log(r+":"+e.name()),i(e,n,a)}),Object.keys(e.annotationOverridings()).forEach(function(r){var a=[].concat(e.annotationOverridings()[r]),o={};a.forEach(function(e){return o[e.name]=!0});for(var s,u=e.getSuperTypes(),l={},c=0;c<u.length;c++){var p=u[c];if(!l[p.name()]){l[p.name()]=!0,p.getSuperTypes().forEach(function(e){return u.push(e)});var m=p.annotationOverridings()[r];if(m)m.filter(function(e){return!o[e.name]}).forEach(function(e){o[e.name]=!0,a.push(e)});else for(var d=p.members(),h=0;h<d.length;h++){var f=d[h];if(f.name()==r){s=f;break}}if(s){var y=s.annotations();y.filter(function(e){return!o[e.name]}).forEach(function(e){o[e.name]=!0,a.push(e)});break}}}if(s){var g=s.range(),b=v(g,t);null==b&&console.log(g+":"+e.name()),i(s,n,b,a)}}),e.methods().forEach(function(e){}),e.constraints().forEach(function(e){if(e.value().isCallConstraint)throw new Error;var t=e.value();n.addRequirement(e.name(),""+t.value)})}),t.types().forEach(function(e){var n=e;n.getAdapter(l.RAMLService).getAliases().forEach(function(e){return t.registerAlias(e,n)})})},A=function(e,t,n,r){if(-1==e.name.indexOf("metamodel.ts")){if(r[e.name])return r[e.name];var i=new y(e);return n[e.name]=i,r[e.name]=i,Object.keys(e.imports).forEach(function(a){var o=e.imports[a];if(n[o.name])return void(i.namespaceToMod[a]=n[o.name]);var s=A(o,t,n,r);i.namespaceToMod[a]=s}),n[e.name]=null,i}};t.toDefSystem=r;var T=function(e,t,n){n||(n=e.annotations()),n.forEach(function(e){var n=e.name.substring(e.name.lastIndexOf(".")+1);u.annotationHandlers[n]||console.log("Can not find handler for:"),u.annotationHandlers[n](e,t)})}},function(e,t){e.exports=[{classes:[{name:"GlobalSchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the global schema, used to refer on schema content"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the schema"]},{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.value",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.actuallyExports",arguments:["value"]},{name:"MetaModel.description",arguments:["Content of the schema"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ImportDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name prefix (without dot) used to refer imported declarations"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Library",nameSpace:"",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the declared namespace"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Library",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why library exist"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"LibraryBase",nameSpace:"",basicName:"LibraryBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"LibraryBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1},{name:"schemas",type:{base:{typeName:"GlobalSchema",nameSpace:"",basicName:"GlobalSchema",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:['Alias for the equivalent "types" property, for compatibility with RAML 0.8. Deprecated - API definitions should use the "types" property, as the "schemas" alias for that property name may be removed in a future RAML version. The "types" property allows for XML and JSON schemas.']}],valueConstraint:null,optional:!1},{name:"types",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.MODELS"]},{name:"MetaModel.description",arguments:["Declarations of (data) types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of (data) types for use within this API. See [[raml-10-spec-types|Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map type names to type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"traits",type:{base:{typeName:"RM.Trait",nameSpace:"RM",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of traits used in this API"]},{name:"MetaModel.description",arguments:["Declarations of traits for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of traits for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map trait names to trait declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"resourceTypes",type:{base:{typeName:"RM.ResourceType",nameSpace:"RM",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declaration of resource types used in this API"]},{name:"MetaModel.description",arguments:["Declarations of resource types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of resource types for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map resource type names to resource type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"annotationTypes",type:{base:{typeName:"Decls.AnnotationTypeDeclaration",nameSpace:"Decls",basicName:"AnnotationTypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of annotation types for use by annotations"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of annotation types for use by annotations. See [[raml-10-spec-declaring-annotation-types|Annotation Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map annotation type names to annotation type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"securitySchemaTypes",type:{base:{typeName:"RM.SecuritySchemaType",nameSpace:"RM",basicName:"SecuritySchemaType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas types declarations"]}],valueConstraint:null,optional:!1},{name:"securitySchemes",type:{base:{typeName:"RM.AbstractSecurityScheme",nameSpace:"RM",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas declarations"]},{name:"MetaModel.description",arguments:["Declarations of security schemes for use within this API."]},{name:"MetaModel.markdownDescription",arguments:["Declarations of security schemes for use within this API. See [[raml-10-spec-security|Security Schemes]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map security scheme names to security scheme declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"Library",nameSpace:"",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Importing libraries"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries or a single library"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.internalClass",arguments:[]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Overlay",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why overlay exist"]}],valueConstraint:null,optional:!1},{name:"masterRef",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1},{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Extension",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why extension exist"]}],valueConstraint:null,optional:!1},{name:"masterRef",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1},{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Api",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1},{name:"version",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['The version of the API, e.g. "v1"']}],valueConstraint:null,optional:!1},{name:"baseUri",type:{typeName:"Sys.FullUriTemplateString",nameSpace:"Sys",basicName:"FullUriTemplateString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["A URI that's to be used as the base of all the resources' URIs. Often used as the base of the URL of each resource, containing the location of the API. Can be a template URI."]}],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.BURI"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.description",arguments:["Named parameters used in the baseUri (template)"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["The protocols supported by the API"]},{name:"MetaModel.valueDescription",arguments:['Array of strings, with each being "HTTP" or "HTTPS", case-insensitive']}],valueConstraint:null,optional:!1},{name:"mediaType",type:{typeName:"Bodies.MimeType",nameSpace:"Bodies",basicName:"MimeType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]},{name:"MetaModel.description",arguments:['The default media type to use for request and response bodies (payloads), e.g. "application/json"']},{name:"MetaModel.inherited",arguments:[]},{name:"MetaModel.valueDescription",arguments:["Media type string"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"RM.SecuritySchemeRef",nameSpace:"RM",basicName:"SecuritySchemeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["The security schemes that apply to every resource and method in the API"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"RM.Resource",nameSpace:"RM",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.documentationTableLabel",arguments:["/&lt;relativeUri&gt;"]},{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:["The resources of the API, identified as relative URIs that begin with a slash (/). Every property whose key begins with a slash (/), and is either at the root of the API definition or is the child property of a resource property, is a resource property, e.g.: /users, /{groupId}, etc"]}],valueConstraint:null,optional:!1},{name:"documentation",type:{base:{typeName:"DocumentationItem",nameSpace:"",basicName:"DocumentationItem",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Additional overall documentation for the API"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"LibraryBase",nameSpace:"",basicName:"LibraryBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],name:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the API"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this API. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}],securitySchemaTypes:[{name:"MetaModel.hide",arguments:[]}]}},{name:"DocumentationItem",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Title of documentation section"]},{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of documentation section"]},{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ScriptSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"language",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ApiDescription",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"apiFiles",type:{base:{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"script",type:{base:{typeName:"ScriptSpec",nameSpace:"",basicName:"ScriptSpec",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1
},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["endpoint","callback"]]},{name:"MetaModel.descriminatingProperty",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"CallbackAPIDescription",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"callback"},optional:!1},{name:"callbackFor",type:{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"ApiDescription",nameSpace:"",basicName:"ApiDescription",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLProject",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"relatedProjects",type:{base:{typeName:"RAMLProject",nameSpace:"",basicName:"RAMLProject",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"declaredApis",type:{base:{typeName:"ApiDescription",nameSpace:"",basicName:"ApiDescription",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"license",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"overview",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"url",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",RM:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts",Decls:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts",Params:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts",Bodies:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts",models:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},{classes:[{name:"SpecPartMetaData",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts"},{classes:[{name:"ValueType",methods:[{name:"parse",start:87,end:252,text:"\n    /**\n     * parses inner structure of value type if value type has invalid value you should throw error\n     * with descriptive message\n     */\n    parse():any{}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"StringType",methods:[{name:"value",start:339,end:367,text:" value():string{return null}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["string"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["number"]},{name:"MetaModel.alias",arguments:["integer"]},{name:"MetaModel.alias",arguments:["number"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["boolean"]},{name:"MetaModel.alias",arguments:["boolean"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"Referencable",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Reference",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DeclaresDynamicType",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[{typeName:"Referencable",nameSpace:"",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"T",nameSpace:"",basicName:"T",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"UriTemplate",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This type currently serves both for absolute and relative urls"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"StatusCodeString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RelativeUriString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes relative uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FullUriTemplateString",methods:[{name:"validate",start:2345,end:3275,text:"\n    //parse():string[]{\n    //    var value=this.value();\n    //    var result=[]\n    //    var temp=\"\";\n    //    var inPar=false;\n    //    var count=0;\n    //    for (var a=0;a<value.length;a++){\n    //        var c=value[a];\n    //        if (c=='{'){\n    //            count++;\n    //            inPar=true;\n    //            continue;\n    //        }\n    //        if (c=='}'){\n    //            count--;\n    //            inPar=false;\n    //            result.push(temp);\n    //            temp=\"\";\n    //            continue;\n    //        }\n    //        if (inPar){\n    //            temp+=c;\n    //        }\n    //    }\n    //    if (count>0){\n    //        throw new Error(\"Unmatched '{'\")\n    //    }\n    //    if (count<0){\n    //        throw new Error(\"Unmatched '}'\")\n    //    }\n    //    return result;\n    //}\n\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes absolute uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FixedUriString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes fixed uris"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ContentType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ValidityExpression",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"MarkdownString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["markdown"]},{name:"MetaModel.description",arguments:["[GitHub Flavored Markdown](https://help.github.com/articles/github-flavored-markdown/)"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateFormatSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FunctionalInterface",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaString",methods:[{name:"validate",start:4052,end:4235,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Schema at this moment only two subtypes are supported (json schema and xsd)"]},{name:"MetaModel.alias",arguments:["schema"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ExampleString",methods:[{name:"validate",start:4389,end:4572,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Examples at this moment only two subtypes are supported (json  and xml)"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSonSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["json"]},{name:"MetaModel.description",arguments:["JSON schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["xsd"]},{name:"MetaModel.description",arguments:["XSD schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLPointer",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLSelector",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"},{classes:[{name:"ResourceTypeRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"TraitRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemePart",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{headers:[{name:"MetaModel.markdownDescription",arguments:["Optional array of headers, documenting the possible headers that could be accepted. See [[raml-10-spec-headers|Headers]] section."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the request header names and whose values describe the values."]}],queryParameters:[{name:"MetaModel.markdownDescription",arguments:["Query parameters, used by the schema in order to authorize the request. Mutually exclusive with queryString. See [[raml-10-spec-query-parameters-in-a-query-string|Query Parameters]] section."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the query parameter names and whose values describe the values."]}],queryString:[{name:"MetaModel.description",arguments:["Specifies the query string, used by the schema in order to authorize the request. Mutually exclusive with queryParameters."]},{name:"MetaModel.valueDescription",arguments:["Type name or type declaration"]}],responses:[{name:"MetaModel.description",arguments:["Optional array of responses, describing the possible responses that could be sent. See [[raml-10-spec-responses|Responses]] section."]}],is:[{name:"MetaModel.hide",arguments:[]}],securedBy:[{name:"MetaModel.hide",arguments:[]}],displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the security scheme part"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the security scheme part"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.description",arguments:['Annotations to be applied to this security scheme part. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See [[raml-10-spec-annotations|the section on annotations]].']}]}},{name:"SecuritySchemaType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requiredSettings",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["You may declare settings needed to use this type of security security schemas"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.DECLARATIONS"]},{name:"MetaModel.declaringFields",arguments:[]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemePart",nameSpace:"",basicName:"SecuritySchemePart",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The describedBy attribute MAY be used to apply a trait-like structure to a security scheme mechanism so as to extend the mechanism, such as specifying response codes, HTTP headers or custom documentation.\n        This extension allows API designers to describe security schemes. As a best practice, even for standard security schemes, API designers SHOULD describe the security schemes' required artifacts, such as headers, URI parameters, and so on. Including the security schemes' description completes an API's documentation."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.declaresSubTypeOf",arguments:["SecuritySchemeSettings"]},{name:"MetaModel.description",arguments:["Security schema type allows you to contribute your own security schema type with settings and optinal configurator for plugging into client sdks auth mechanism"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"OAuth1SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requestTokenUri",type:{typeName:"Sys.FixedUriString",nameSpace:"Sys",basicName:"FixedUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Temporary Credential Request endpoint as defined in RFC5849 Section 2.1"]},{name:"MetaModel.valueDescription",arguments:["FixedUriString"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUriString",nameSpace:"Sys",basicName:"FixedUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Resource Owner Authorization endpoint as defined in RFC5849 Section 2.2"]},{name:"MetaModel.valueDescription",arguments:["FixedUriString"]}],valueConstraint:null,optional:!1},{name:"tokenCredentialsUri",type:{typeName:"Sys.FixedUriString",nameSpace:"Sys",basicName:"FixedUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Request endpoint as defined in RFC5849 Section 2.3"]},{name:"MetaModel.valueDescription",arguments:["FixedUriString"]}],valueConstraint:null,optional:!1},{name:"signatures",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HMAC-SHA1","RSA-SHA1","PLAINTEXT"]]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 1.0'"]}],"extends":[{typeName:"SecuritySchemeSettings",nameSpace:"",basicName:"SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.hide",arguments:[]}],annotations:[{name:"MetaModel.hide",arguments:[]}],authentificationConfigurator:[{name:"MetaModel.hide",arguments:[]}]}},{name:"OAuth2SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"accessTokenUri",type:{typeName:"Sys.FixedUriString",nameSpace:"Sys",basicName:"FixedUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Endpoint as defined in RFC6749 [RFC6748] Section 3.2. Not required forby implicit grant type."]},{name:"MetaModel.valueDescription",arguments:["FixedUriString"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUriString",nameSpace:"Sys",basicName:"FixedUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Authorization Endpoint as defined in RFC6749 [RFC6748] Section 3.1. Required forby authorization_code and implicit grant types."]},{name:"MetaModel.valueDescription",arguments:["FixedUriString"]}],valueConstraint:null,optional:!1},{name:"authorizationGrants",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.markdownDescription",arguments:["A list of the Authorization grants supported by the API as defined in RFC6749 [RFC6749] Sections 4.1, 4.2, 4.3 and 4.4, can be any of:<br>* authorization_code<br>* password<br>* client_credentials<br>* implicit<br>* refresh_token."]}],valueConstraint:null,optional:!1},{name:"scopes",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of scopes supported by the security scheme as defined in RFC6749 [RFC6749] Section 3.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"SecuritySchemeSettings",nameSpace:"",basicName:"SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.hide",arguments:[]}],annotations:[{name:"MetaModel.hide",arguments:[]}],authentificationConfigurator:[{name:"MetaModel.hide",arguments:[]}]}},{name:"PassThroughSecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameterName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"headerName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"SecuritySchemeSettings",nameSpace:"",basicName:"SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemeRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"AbstractSecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.startFrom",arguments:[""]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.oneOf",arguments:[["OAuth 1.0","OAuth 2.0","Basic Authentication","DigestSecurityScheme Authentication","Pass Through","x-{other}"]]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["The securitySchemes property MUST be used to specify an API's security mechanisms, including the required settings and the authentication methods that the API supports. one authentication method is allowed if the API supports them."]},{name:"MetaModel.valueDescription",arguments:["string<br><br>The value MUST be one of<br>* OAuth 1.0,<br>* OAuth 2.0,<br>* BasicSecurityScheme Authentication<br>* DigestSecurityScheme Authentication<br>* Pass Through<br>* x-&lt;other&gt;"]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute MAY be used to describe a security schemes property."]},{name:"MetaModel.description",arguments:["The description MAY be used to describe a securityScheme."]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemePart",nameSpace:"",basicName:"SecuritySchemePart",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["A description of the request components related to Security that are determined by the scheme: the headers, query parameters or responses. As a best practice, even for standard security schemes, API designers SHOULD describe these properties of security schemes.\nIncluding the security scheme description completes an API documentation."]}],valueConstraint:null,optional:!1},{name:"settings",type:{typeName:"SecuritySchemeSettings",nameSpace:"",basicName:"SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The settings attribute MAY be used to provide security scheme-specific information. The required attributes vary depending on the type of security scheme is being declared.\nIt describes the minimum set of properties which any processing application MUST provide and validate if it chooses to implement the security scheme. Processing applications MAY choose to recognize other properties for things such as token lifetime, preferred cryptographic algorithms, and more."]
}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth2SecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"OAuth 2.0"},optional:!1},{name:"settings",type:{typeName:"OAuth2SecuritySchemeSettings",nameSpace:"",basicName:"OAuth2SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth1SecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"OAuth 1.0"},optional:!1},{name:"settings",type:{typeName:"OAuth1SecuritySchemeSettings",nameSpace:"",basicName:"OAuth1SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"PassThroughSecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"Pass Through"},optional:!1},{name:"settings",type:{typeName:"PassThroughSecuritySchemeSettings",nameSpace:"",basicName:"PassThroughSecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"BasicSecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"Basic Authentication"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"DigestSecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"DigestSecurityScheme Authentication"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"CustomSecurityScheme",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"x-{other}"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"AbstractSecurityScheme",nameSpace:"",basicName:"AbstractSecurityScheme",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"MethodBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"responses",type:{base:{typeName:"Bodies.Response",nameSpace:"Bodies",basicName:"Response",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["response","true"]},{name:"MetaModel.newInstanceName",arguments:["New Response"]},{name:"MetaModel.description",arguments:["Information about the expected responses to a request"]},{name:"MetaModel.valueDescription",arguments:["An object whose keys are the HTTP status codes of the responses and whose values describe the responses."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["Some method verbs expect the resource to be sent as a request body. For example, to create a resource, the request must include the details of the resource to create.\nResources CAN have alternate representations. For example, an API might support both JSON and XML representations.\nA method's body is defined in the body property as a hashmap, in which the key MUST be a valid media type."]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["A method can override the protocols specified in the resource or at the API root, by employing this property."]},{name:"MetaModel.valueDescription",arguments:["array of strings of value HTTP or HTTPS, or a single string of such kind, case-insensitive"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemeRef",nameSpace:"",basicName:"SecuritySchemeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Params.HasNormalParameters",nameSpace:"Params",basicName:"HasNormalParameters",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Trait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the trait"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this trait"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries or a single library"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Methods that are part of this resource type definition"]},{name:"MetaModel.markdownDescription",arguments:["The methods available on this resource. See [[raml-10-spec-methods|the section on method properties]]."]},{name:"MetaModel.documentationTableLabel",arguments:["get?<br>patch?<br>put?<br>post?<br>delete?<br>options?<br>head?"]},{name:"MetaModel.valueDescription",arguments:["Object describing the method"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of the traits to apply to all methods declared (implicitly or explicitly) for this resource. See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section. Individual methods may override this declaration"]},{name:"MetaModel.valueDescription",arguments:["array, which can contain each of the following elements:<br>* name of unparametrized trait<br>* a key-value pair with trait name as key and a map of trait parameters as value<br>* inline trait declaration<br><br>(or a single element of any above kind)"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The resource type which this resource inherits. . See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section."]},{name:"MetaModel.valueDescription",arguments:["one of the following elements:<br>* name of unparametrized resource type<br>* a key-value pair with resource type name as key and a map of its parameters as value<br>* inline resource type declaration"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemeRef",nameSpace:"",basicName:"SecuritySchemeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:["The security schemes that apply to all methods declared (implicitly or explicitly) for this resource."]},{name:"MetaModel.valueDescription",arguments:["array of security scheme names or a single security scheme name"]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.URI"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["Detailed information about any URI parameters of this resource"]},{name:"MetaModel.valueDescription",arguments:["object whose property names are the URI parameter names and whose values describe the values"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the resource type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this resource type"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"ResourceBase",nameSpace:"",basicName:"ResourceBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceTypeOrTrait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Instructions on how and when to use this resource type in a RAML spec"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this trait"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries"]}],valueConstraint:null,optional:!1},{name:"parameters",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Optional declaration of the parameters that the resource type employs."]},{name:"MetaModel.valueDescription",arguments:["An object whose property names are the parameter names and whose property values describe the parameter data types."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Method",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"signature",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"method",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["methods"]},{name:"MetaModel.oneOf",arguments:[["get","put","post","delete","options","head","patch"]]},{name:"MetaModel.description",arguments:["Method that can be called"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the method (in the resource's context)."]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the method (in the resource's context)"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],queryString:[{name:"MetaModel.description",arguments:["Specifies the query string needed by this method. Mutually exclusive with queryParameters."]},{name:"MetaModel.valueDescription",arguments:["Type name or type declaration"]}],queryParameters:[{name:"MetaModel.description",arguments:["Detailed information about any query parameters needed by this method. Mutually exclusive with queryString."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the query parameter names and whose values describe the values."]}],headers:[{name:"MetaModel.description",arguments:["Detailed information about any request headers needed by this method."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the request header names and whose values describe the values."]}],body:[{name:"MetaModel.description",arguments:["Some methods admit request bodies, which are described by this property."]},{name:"MetaModel.valueDescription",arguments:["Object whose properties are either<br>1) media types and whose values are type objects describing the request body for that media type, or<br>2) a type object describing the request body for the default media type specified in the root mediaType property"]}],is:[{name:"MetaModel.description",arguments:["A list of the traits to apply to this method. See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section."]},{name:"MetaModel.valueDescription",arguments:["array, which can contain each of the following elements:<br>* name of unparametrized trait<br>* a key-value pair with trait name as key and a map of trait parameters as value<br>* inline trait declaration<br><br>(or a single element of any above kind)"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this method. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}],securedBy:[{name:"MetaModel.description",arguments:["The security schemes that apply to this method"]},{name:"MetaModel.valueDescription",arguments:["Array of security scheme names or a  single security scheme name"]}]}},{name:"Resource",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"signature",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"relativeUri",type:{typeName:"Sys.RelativeUriString",nameSpace:"Sys",basicName:"RelativeUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.startFrom",arguments:["/"]},{name:"MetaModel.description",arguments:["Relative URL of this resource from the parent resource"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"Resource",nameSpace:"",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:['A nested resource is identified as any property whose name begins with a slash ("/") and is therefore treated as a relative URI.']},{name:"MetaModel.documentationTableLabel",arguments:["/&lt;relativeUri&gt;"]},{name:"MetaModel.valueDescription",arguments:["object describing the nested resource"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"ResourceBase",nameSpace:"",basicName:"ResourceBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the resource."]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the resource."]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this resource. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",Params:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts",Bodies:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts",Declarations:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts",models:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts",auth:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/auth.ts",api:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/api.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/methodsAndResources.ts"},{classes:[{name:"FileTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"file"},optional:!1},{name:"fileTypes",type:{base:{typeName:"Sys.ContentType",nameSpace:"Sys",basicName:"ContentType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["It should also include a new property: fileTypes, which should be a list of valid content-type strings for the file. The file type */* should be a valid value."]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The minLength attribute specifies the parameter value's minimum number of bytes."]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The maxLength attribute specifies the parameter value's maximum number of bytes."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["(Applicable only to Form properties) Value is a file. Client generators SHOULD use this type to handle file uploads correctly."]}],"extends":[{typeName:"datamodel.TypeDeclaration",nameSpace:"datamodel",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"HasNormalParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameters",type:{base:{typeName:"datamodel.TypeDeclaration",nameSpace:"datamodel",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.QUERY"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.newInstanceName",arguments:["New query parameter"]},{name:"MetaModel.description",arguments:["An APIs resources MAY be filtered (to return a subset of results) or altered (such as transforming a response body from JSON to XML format) by the use of query strings. If the resource or its method supports a query string, the query string MUST be defined by the queryParameters property"]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"datamodel.TypeDeclaration",nameSpace:"datamodel",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.HEADERS"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.description",arguments:["Headers that allowed at this position"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]}],valueConstraint:null,optional:!1},{name:"queryString",type:{typeName:"datamodel.TypeDeclaration",nameSpace:"datamodel",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts",datamodel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/parameters.ts"},{classes:[{name:"RAMLLanguageElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The displayName attribute specifies the $self's display name. It is a friendly name used only for display or documentation purposes. If displayName is not specified, it defaults to the element's key (the name of the property itself)."]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,
typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute describes the intended use or meaning of the $self. This value MAY be formatted using Markdown [MARKDOWN]"]}],valueConstraint:null,optional:!1},{name:"annotations",type:{base:{typeName:"Decls.AnnotationRef",nameSpace:"Decls",basicName:"AnnotationRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts"},typeKind:1},annotations:[{name:"MetaModel.noDirectParse",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.ANNOTATION"]},{name:"MetaModel.description",arguments:["Most of RAML model elements may have attached annotations decribing additional meta data about this element"]},{name:"MetaModel.documentationTableLabel",arguments:["(&lt;annotationName&gt;)"]},{name:"MetaModel.valueDescription",arguments:["A value corresponding to the declared type of this annotation."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"RAMLSimpleElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",Decls:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts"},{classes:[{name:"AnnotationTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"AnnotationTypeDeclaration",nameSpace:"",basicName:"AnnotationTypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of this annotation type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Instructions on how and when to use this annotation in a RAML spec."]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],valueConstraint:null,optional:!1},{name:"parameters",type:{base:{typeName:"datamodel.TypeDeclaration",nameSpace:"datamodel",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.ANNOTATION"]},{name:"MetaModel.description",arguments:["Declarations of parameters allowed in this annotation type"]},{name:"MetaModel.valueDescription",arguments:["An object whose property names are the parameter names the annotation expects and whose values are their data types."]}],valueConstraint:null,optional:!1},{name:"allowMultiple",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Whether multiple instances of annotations of this type may be applied simultaneously at the same location"]}],valueConstraint:null,optional:!1},{name:"allowedTargets",type:{base:{typeName:"AnnotationTarget",nameSpace:"",basicName:"AnnotationTarget",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["API","DocumentationItem","Resource","Method","Response","RequestBody","ResponseBody","TypeDeclaration","NamedExample","ResourceType","Trait","SecurityScheme","SecuritySchemeSettings","AnnotationTypeDeclaration","Library","Overlay","Extension"]]},{name:"MetaModel.description",arguments:["Restrictions on where annotations of this type can be applied. If this property is specified, annotations of this type may only be applied on a property corresponding to one of the target names specified as the value of this property."]},{name:"MetaModel.valueDescription",arguments:["An array of names (or a single name) from the list of Target Names in the [[raml-10-spec-target-locations-table|Target Locations table]]  below. "]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.declaresSubTypeOf",arguments:["Annotation"]}],"extends":[{typeName:"common.RAMLLanguageElement",nameSpace:"common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the annotation"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the annotation"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}]}},{name:"AnnotationRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Annotations allow you to attach information to your API"]},{name:"MetaModel.tags",arguments:[["annotations"]]}],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"AnnotationTypeDeclaration",nameSpace:"",basicName:"AnnotationTypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{}},{name:"AnnotationTarget",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Elements to which this Annotation can be applied (enum)"]},{name:"MetaModel.tags",arguments:[["annotations"]]}],"extends":[{typeName:"Sys.ValueType",nameSpace:"Sys",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{}},{name:"Annotation",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",datamodel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts",common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"},{classes:[{name:"ExampleSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"content",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selfNode",arguments:[]},{name:"MetaModel.description",arguments:["The example itself"]},{name:"MetaModel.required",arguments:[]},{name:"MetaModel.valueDescription",arguments:["* Valid value for this type<br>* String representing the serialized version of a valid value"]}],valueConstraint:null,optional:!1},{name:"strict",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["By default, examples are validated against any type declaration. Set this to false to allow examples that need not validate."]}],valueConstraint:null,optional:!1},{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the example"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the example"]},{name:"MetaModel.valueDescription",arguments:["markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this example. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}},{name:"DataElementProperty",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ModelLocation",nameSpace:"",basicName:"ModelLocation",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"locationKind",type:{typeName:"LocationKind",nameSpace:"",basicName:"LocationKind",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Kind of location"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Provides default value for a property"]},{name:"MetaModel.valueDescription",arguments:["any"]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["Sets if property is optional or not"]},{name:"MetaModel.describesAnnotation",arguments:["required"]},{name:"MetaModel.valueDescription",arguments:["boolean = true"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"TypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"facets",type:{base:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.description",arguments:["When extending from a type you can define new facets (which can then be set to concrete values by subtypes)."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"schema",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['Alias for the equivalent "type" property, for compatibility with RAML 0.8. Deprecated - API definitions should use the "type" property, as the "schema" alias for that property name may be removed in a future RAML version. The "type" property allows for XML and JSON schemas.']},{name:"MetaModel.valueDescription",arguments:["Single string denoting the base type or type expression"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.allowMultiple",arguments:[]},{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.defaultValue",arguments:["string"]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["A base type which the current type extends, or more generally a type expression."]},{name:"MetaModel.valueDescription",arguments:["string denoting the base type or type expression"]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ModelLocation",nameSpace:"",basicName:"ModelLocation",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"locationKind",type:{typeName:"LocationKind",nameSpace:"",basicName:"LocationKind",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Kind of location"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Provides default value for a property"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selfNode",arguments:[]},{name:"MetaModel.description",arguments:["An example of an instance of this type. This can be used, e.g., by documentation generators to generate sample values for an object of this type. Cannot be present if the examples property is present."]},{name:"MetaModel.valueDescription",arguments:["* Valid value for this type<br>* String representing the serialized version of a valid value"]}],valueConstraint:null,optional:!1},{name:"examples",type:{base:{typeName:"ExampleSpec",nameSpace:"",basicName:"ExampleSpec",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["An object containing named examples of instances of this type. This can be used, e.g., by documentation generators to generate sample values for an object of this type. Cannot be present if the examples property is present."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map example names to Example objects (see [[raml-10-spec-examples|Examples]] section); or an array of Example objects."]}],valueConstraint:null,optional:!1},{name:"repeat",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["The repeat attribute specifies that the parameter can be repeated. If the parameter can be used multiple times, the repeat parameter value MUST be set to 'true'. Otherwise, the default value is 'false' and the parameter may not be repeated."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["Sets if property is optional or not"]},{name:"MetaModel.describesAnnotation",arguments:["required"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.canInherit",arguments:["mediaType"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the type"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the type"]},{name:"MetaModel.valueDescription",arguments:["markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this type. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}},{name:"ScalarElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"facets",type:{base:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.description",arguments:["When extending from a scalar type you can define new facets (which can then be set to concrete values by subtypes)."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map facets names to their types."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["Enumeration of possible values for this primitive type. Cannot be used with the file type."]},{name:"MetaModel.valueDescription",arguments:["Array containing string representations of possible values, or a single string if there is only one possible value."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"ArrayTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"array"},optional:!1},{name:"uniqueItems",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["uniqueItems"]},{name:"MetaModel.description",arguments:["Should items in array be unique"]}],valueConstraint:null,optional:!1},{name:"items",type:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.description",arguments:["Array component type."]},{name:"MetaModel.valueDescription",arguments:["Inline type declaration or type name."]}],valueConstraint:null,optional:!1},{name:"minItems",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minItems"]},{name:"MetaModel.description",arguments:["Minimum amount of items in array"]},{name:"MetaModel.valueDescription",arguments:["integer ( >= 0 ). Defaults to 0"]}],valueConstraint:null,optional:!1},{name:"maxItems",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxItems"]},{name:"MetaModel.description",arguments:["Maximum amount of items in array"]},{name:"MetaModel.valueDescription",arguments:["integer ( >= 0 ). Defaults to undefined."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.alias",arguments:["array"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"UnionTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"discriminator",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selector",arguments:["*.DataElement"]},{name:"MetaModel.description",arguments:["Type property name to be used as a discriminator or boolean"]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"union"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.MODELS"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"DataElementRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ObjectTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"properties",type:{base:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["The properties that instances of this type may or must have."]},{name:"MetaModel.valueDescription",arguments:["An object whose keys are the properties' names and whose values are property declarations."]}],valueConstraint:null,optional:!1},{name:"minProperties",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minProperties"]},{name:"MetaModel.description",arguments:["The minimum number of properties allowed for instances of this type."]}],valueConstraint:null,optional:!1},{name:"maxProperties",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxProperties"]},{name:"MetaModel.description",arguments:["The maximum number of properties allowed for instances of this type."]}],valueConstraint:null,optional:!1},{name:"additionalProperties",type:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.description",arguments:["JSON schema style syntax for declaring maps"]},{name:"MetaModel.markdownDescription",arguments:["JSON schema style syntax for declaring maps. See [[raml-10-spec-map-types|Map Types]]."]},{name:"MetaModel.valueDescription",arguments:["Inline type declaration or typename"]}],valueConstraint:null,optional:!1},{name:"patternProperties",type:{base:{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["JSON schema style syntax for declaring key restricted maps"]},{name:"MetaModel.markdownDescription",arguments:["JSON schema style syntax for declaring key restricted maps. See [[raml-10-spec-map-types|Map Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map regular expressions (which are regarded as defining ranges for property names) to types of properties expressed as Inline type declaration or typename."]}],valueConstraint:null,optional:!1},{name:"discriminator",type:{typeName:"pointer",nameSpace:"",basicName:"pointer",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.selector",arguments:["*.DataElement"]},{name:"MetaModel.description",arguments:["Type property name to be used as discriminator, or boolean"]}],valueConstraint:null,optional:!1},{name:"discriminatorValue",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The value of discriminator for the type."]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[{name:"MetaModel.hide",arguments:[]}],valueConstraint:{isCallConstraint:!1,value:"object"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.definingPropertyIsEnough",arguments:["properties"]},{name:"MetaModel.setsContextValue",arguments:["field","true"]},{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"StringTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"pattern",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["pattern"]},{name:"MetaModel.description",arguments:["Regular expression that this string should path"]},{name:"MetaModel.valueDescription",arguments:["regexp"]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minLength"]},{name:"MetaModel.description",arguments:["Minimum length of the string"]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxLength"]},{name:"MetaModel.description",arguments:["Maximum length of the string"]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"string"},optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a string"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"boolean"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ValueTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"value"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",
basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"number"},optional:!1},{name:"minimum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minimum"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The minimum attribute specifies the parameter's minimum value."]}],valueConstraint:null,optional:!1},{name:"maximum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maximum"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The maximum attribute specifies the parameter's maximum value."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"format",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["int32","int64","int","long","float","double","int16","int8"]]},{name:"MetaModel.description",arguments:["Value format"]}],valueConstraint:null,optional:!1},{name:"multipleOf",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['A numeric instance is valid against "multipleOf" if the result of the division of the instance by this keyword\'s value is an integer.']}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a number. Indicate floating point numbers as defined by YAML."]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"IntegerTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"integer"},optional:!1},{name:"format",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["int32","int64","int","long","int16","int8"]]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a integer."]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"NumberTypeDeclaration",nameSpace:"",basicName:"NumberTypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLPointerElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"pointer"},optional:!1},{name:"target",type:{typeName:"Sys.RAMLSelector",nameSpace:"Sys",basicName:"RAMLSelector",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"pointer",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.ValueType",nameSpace:"Sys",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLExpression",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"ramlexpression"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.requireValue",arguments:["location","ModelLocation.ANNOTATION"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ScriptHookElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"script"},optional:!1},{name:"declaredIn",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Typescript file defining interface which this scrip should comply to"]}],valueConstraint:null,optional:!1},{name:"interfaceName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Name of the interface which scripts should comply to"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.requireValue",arguments:["location","ModelLocation.ANNOTATION"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"schema"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.nameAtRuntime",arguments:["SchemaString"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"date"},optional:!1},{name:"dateFormat",type:{typeName:"Sys.DateFormatSpec",nameSpace:"Sys",basicName:"DateFormatSpec",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a string representation of a date as defined in RFC2616 Section 3.3 [RFC2616]. or according to specified date format"]},{name:"MetaModel.declaresSubTypeOf",arguments:["TypeDeclaration"]}],"extends":[{typeName:"TypeDeclaration",nameSpace:"",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"ModelLocation",members:["QUERY","HEADERS","URI","FORM","BURI","ANNOTATION","MODEL","SECURITYSCHEMATYPE"]},{name:"LocationKind",members:["APISTRUCTURE","DECLARATIONS","MODELS"]}],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",Bodies:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts",Declarations:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/declarations.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts"},{classes:[{name:"MimeTypeModel",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"tree",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"subtype",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"suffix",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"parameters",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"MimeType",methods:[{name:"isForm",start:401,end:626,text:"\n    isForm(){\n        if (this.value()==\"application/x-www-form-urlencoded\"||this.value()=='multipart/form-data'){\n            return true;\n        }\n        //TODO USE PARSE\n        return false;//more smart code here\n    }"},{name:"isXML",start:626,end:797,text:'\n\n    isXML(){\n        //TODO USE PARSE\n\n        if (this.value()=="application/xml"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"isJSON",start:797,end:970,text:'\n\n    isJSON(){\n        //TODO USE PARSE\n\n        if (this.value()=="application/json"){\n            return true;\n        }\n        return false;//more smart code here\n    }'}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This sub type of the string represents mime types"]}],"extends":[{typeName:"Sys.StringType",nameSpace:"Sys",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"Response",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"Sys.StatusCodeString",nameSpace:"Sys",basicName:"StatusCodeString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["statusCodes"]},{name:"MetaModel.description",arguments:["Responses MUST be a map of one or more HTTP status codes, where each status code itself is a map that describes that status code."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.HEADERS"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.description",arguments:["Detailed information about any response headers returned by this method"]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the response header names and whose values describe the values."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"models.TypeDeclaration",nameSpace:"models",basicName:"TypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["The body of the response: a body declaration"]},{name:"MetaModel.valueDescription",arguments:["Object whose properties are either<br>* Media types and whose values are type objects describing the request body for that media type, or<br>* a type object describing the request body for the default media type specified in the root mediaType property."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the response"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the response"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this response. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts",models:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/datamodel.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/common.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/bodies.ts"},{classes:[{name:"Status",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"StatusCode",nameSpace:"",basicName:"StatusCode",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/auth.ts"},annotations:[],valueConstraint:null,optional:!1},{name:"message",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationState",methods:[{name:"testAccessControl",start:435,end:564,text:"\n\n    /**\n     * allows to test if method can be accessed\n     * @param req\n     */\n    testAccessControl(req:har.Request):Status"},{name:"testAccessControl",start:564,end:622,text:"\n\n\n    testAccessControl(method:RamlWrapper.Method):Status"},{name:"status",start:622,end:644,text:"\n\n    status():Status;"},{name:"schemeId",start:644,end:667,text:"\n\n    schemeId():string"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthData",methods:[{name:"api",start:754,end:780,text:"\n    api():RamlWrapper.Api"},{name:"apiUrl",start:780,end:801,text:"\n    apiUrl():string;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"authentificationParameters",type:{typeName:"AuthentificationParameters",nameSpace:"",basicName:"AuthentificationParameters",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/auth.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"ParameterSpec",methods:[{name:"name",start:887,end:905,text:"\n    name():string"},{name:"required",start:905,end:929,text:"\n    required():boolean;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"PromptSpec",methods:[{name:"name",start:1031,end:1049,text:"\n    name():string"},{name:"description",start:1049,end:1074,text:"\n    description():string"},{name:"toPrompt",start:1074,end:1106,text:"\n    toPrompt():ParameterSpec[];"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"UserResponse",methods:[{name:"isCancelled",start:1157,end:1183,text:"\n    isCancelled():boolean"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"QueryListener",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"EndPoint",methods:[{name:"endpointUrl",start:1265,end:1290,text:"\n    endpointUrl():string"},{name:"addListener",start:1290,end:1331,text:"\n    addListener(listener:QueryListener);"},{name:"removeListener",start:1331,end:1374,text:"\n    removeListener(listenr:QueryListener);"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"EndPointSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"url",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"needToSendResponse",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityEnvironment",methods:[{name:"executeHTTPRequest",start:1481,end:1635,text:"\n\n    /**\n     * execute authentification step to external service\n     * @param reg\n     */\n    executeHTTPRequest(reg:har.Request):Promise<har.Response>"},{name:"askForExtraData",start:1635,end:1822,text:"\n\n\n    /**\n     * asks for extra parameters( stored in cfg file or asked in dialog)\n     * @param parameterSpec\n     */\n    askForExtraData(parameterSpec:PromptSpec):Promise<UserResponse>"},{name:"getOrCreateEndPoint",start:1822,end:1894,text:"\n\n\n    // create\n    getOrCreateEndPoint(EndPointSpec):Promise<EndPoint>"},{name:"hasEndpoints",start:1894,end:1923,text:"\n\n    hasEndpoints():boolean;"},{name:"isInteractive",start:1923,end:1952,text:"\n    isInteractive():boolean;"},{name:"isGraphical",start:1952,end:1978,text:"\n    isGraphical():boolean"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationManager",methods:[{name:"supports",start:2016,end:2067,text:"\n\n    supports(client:SecurityEnvironment):boolean;"},{name:"doAuth",start:2067,end:2318,text:"\n\n    /**\n     * performs authentification\n     * everything may happen here even sending horse rider to a new city\n     * or flight to moon\n     * @param env\n     */\n    doAuth(env:SecurityEnvironment,authData:AuthData):Promise<AuthentificationState>"},{name:"doLogout",start:2318,end:2540,text:"\n\n    /**\n     * performs log out\n     * if it is needed to blow a nuke to logout it is possible\n     * @param env\n     */\n    doLogout(env:SecurityEnvironment,authData:AuthentificationState):Promise<AuthentificationState>"},{name:"addAuthDataToRequest",start:2540,end:2780,text:"\n\n\n    /**\n     * performs arbitrary request transform (as a sample might change actual url)\n     * or do complex encoding\n     * @param req\n     */\n    addAuthDataToRequest(req:har.Request,state:AuthentificationState):Promise<har.Response>"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SchemeInfo",methods:[{name:"name",start:2838,end:2856,text:"\n    name():string"},{name:"description",start:2856,end:2881,text:"\n    description():string"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"parameterSpec",type:{base:{typeName:"ParameterSpec",nameSpace:"",basicName:"ParameterSpec",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/auth.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityScheme",methods:[{name:"info",start:2909,end:2932,text:"\n\n    info():SchemeInfo"},{name:"id",start:2932,end:2948,text:"\n    id():string"},{name:"needsEndpoints",start:2948,end:2978,text:"\n    needsEndpoints():boolean;"},{name:"isInteractive",start:2978,end:3007,text:"\n    isInteractive():boolean;"},{name:"isGraphical",start:3007,end:3126,text:"\n    /***\n     * means that you potentially need to have graphical display to pass it\n     */\n    isGraphical():boolean"},{name:"createAuthManager",start:3126,end:3176,text:"\n\n    createAuthManager():AuthentificationManager;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityAwareApiClient",methods:[{name:"api",start:3213,end:3239,text:"\n    api():RamlWrapper.Api"},{name:"securitySchemes",start:3239,end:3279,text:"\n\n    securitySchemes():SecurityScheme[]"},{name:"getOrCreateAuthManager",start:3279,end:3349,text:"\n\n    getOrCreateAuthManager(s:SecurityScheme):AuthentificationManager"},{name:"doAuth",start:3349,end:3415,text:"\n\n    doAuth(scheme:SecurityScheme):Promise<AuthentificationState>"},{name:"doAuthSync",start:3415,end:3475,text:"\n    doAuthSync(scheme:SecurityScheme):AuthentificationState"},{name:"setCurrentAuthData",start:3475,end:3531,text:"\n\n\n\n    setCurrentAuthData(state:AuthentificationState);"},{name:"getCurrentAuthData",start:3531,end:3605,text:"//needed for multiple users\n    getCurrentAuthData():AuthentificationState"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemeHook",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"StatusCode",members:["OK","WARNING","ERROR","UNKNOWN","CANCELLED"]}],imports:{Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/systemTypes.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-1.0/auth.ts"}]},function(e,t){e.exports=[{classes:[{name:"GlobalSchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"}],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the global schema, used to refer on schema content"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the schema"]},{name:"MetaModel.value",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.actuallyExports",arguments:["value"]},{name:"MetaModel.description",arguments:["Content of the schema"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}},{name:"Api",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The title property is a short plain text description of the RESTful API. The title property's value SHOULD be suitable for use as a title for the contained user documentation."]}],valueConstraint:null,optional:!1},{name:"version",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['If the RAML API definition is targeted to a specific API version, the API definition MUST contain a version property. The version property is OPTIONAL and should not be used if:\nThe API itself is not versioned.\nThe API definition does not change between versions. The API architect can decide whether a change to user documentation elements, but no change to the API\'s resources, constitutes a version change.\nThe API architect MAY use any versioning scheme so long as version numbers retain the same format. For example, "v3", "v3.0", and "V3" are all allowed, but are not considered to be equal.']}],valueConstraint:null,optional:!1},{name:"baseUri",type:{typeName:"Sys.FullUriTemplateString",nameSpace:"Sys",basicName:"FullUriTemplateString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["(Optional during development; Required after implementation) A RESTful API's resources are defined relative to the API's base URI. The use of the baseUri field is OPTIONAL to allow describing APIs that have not yet been implemented. After the API is implemented (even a mock implementation) and can be accessed at a service endpoint, the API definition MUST contain a baseUri property. The baseUri property's value MUST conform to the URI specification [RFC2396] or a Level 1 Template URI as defined in RFC 6570 [RFC6570].\n            The baseUri property SHOULD only be used as a reference value. API client generators MAY make the baseUri configurable by the API client's users.\n            If the baseUri value is a Level 1 Template URI, the following reserved base URI parameters are available for replacement:"]}],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["Base uri parameters are named parameters which described template parameters in the base uri"]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["URI parameters can be further defined by using the uriParameters property. The use of uriParameters is OPTIONAL. The uriParameters property MUST be a map in which each key MUST be the name of the URI parameter as defined in the baseUri property. The uriParameters CANNOT contain a key named version because it is a reserved URI parameter name. The value of the uriParameters property is itself a map that specifies  the property's attributes as named parameters"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["A RESTful API can be reached HTTP, HTTPS, or both. The protocols property MAY be used to specify the protocols that an API supports. If the protocols property is not specified, the protocol specified at the baseUri property is used. The protocols property MUST be an array of strings, of values `HTTP` and/or `HTTPS`."]}],valueConstraint:null,optional:!1},{name:"mediaType",type:{typeName:"Bodies.MimeType",nameSpace:"Bodies",basicName:"MimeType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]},{name:"MetaModel.description",arguments:["(Optional) The media types returned by API responses, and expected from API requests that accept a body, MAY be defaulted by specifying the mediaType property. This property is specified at the root level of the API definition. The property's value MAY be a single string with a valid media type:\nOne of the following YAML media types:\ntext/yaml\ntext/x-yaml\napplication/yaml\napplication/x-yaml*\nAny type from the list of IANA MIME Media Types, http://www.iana.org/assignments/media-types\nA custom type that conforms to the regular expression, \"application/[A-Za-z.-0-1]*+?(json|xml)\"\nFor any combination of resource and operation in the API, if a media type is specified as a key of the body property for that resource and operation, or if a media type is specified in the mediaType property, the body MUST be in the specified media types. Moreover, if the client specifies an Accepts header containing multiple media types that are allowed by the specification for the requested resource and operation, the server SHOULD return a body using the media type in the Accepts header's mediaType list.\n"]
},{name:"MetaModel.inherited",arguments:[]}],valueConstraint:null,optional:!1},{name:"schemas",type:{base:{typeName:"GlobalSchema",nameSpace:"",basicName:"GlobalSchema",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["To better achieve consistency and simplicity, the API definition SHOULD include an OPTIONAL schemas property in the root section. The schemas property specifies collections of schemas that could be used anywhere in the API definition. The value of the schemas property is an array of maps; in each map, the keys are the schema name, and the values are schema definitions. The schema definitions MAY be included inline or by using the RAML !include user-defined data type."]}],valueConstraint:null,optional:!1},{name:"traits",type:{base:{typeName:"RM.Trait",nameSpace:"RM",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of traits used in this API"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"RM.SecuritySchemaRef",nameSpace:"RM",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of the security schemas to apply to all methods, these must be defined in the securitySchemes declaration."]}],valueConstraint:null,optional:!1},{name:"securitySchemes",type:{base:{typeName:"RM.SecuritySchema",nameSpace:"RM",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas that can be applied with securedBy"]}],valueConstraint:null,optional:!1},{name:"resourceTypes",type:{base:{typeName:"RM.ResourceType",nameSpace:"RM",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declaration of resource types used in this API"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"RM.Resource",nameSpace:"RM",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:['Resources are identified by their relative URI, which MUST begin with a slash (/).\nA resource defined as a root-level property is called a top-level resource. Its property\'s key is the resource\'s URI relative to the baseUri.\nA resource defined as a child property of another resource is called a nested resource, and its property\'s key is its URI relative to its parent resource\'s URI.\nEvery property whose key begins with a slash (/), and is either at the root of the API definition or is the child property of a resource property, is a resource property. The key of a resource, i.e. its relative URI, MAY consist of multiple URI path fragments separated by slashes; e.g. "/bom/items" may indicate the collection of items in a bill of materials as a single resource. However, if the individual URI path fragments are themselves resources, the API definition SHOULD use nested resources to describe this structure; e.g. if "/bom" is itself a resource then "/items" should be a nested resource of "/bom", while "/bom/items" should not be used.']}],valueConstraint:null,optional:!1},{name:"documentation",type:{base:{typeName:"DocumentationItem",nameSpace:"",basicName:"DocumentationItem",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["The API definition can include a variety of documents that serve as a user guides and reference documentation for the API. Such documents can clarify how the API works or provide business context.\n            Documentation-generators MUST include all the sections in an API definition's documentation property in the documentation output, and they MUST preserve the order in which the documentation is declared.\n            To add user documentation to the API, include the documentation property at the root of the API definition. The documentation property MUST be an array of documents. Each document MUST contain title and content attributes, both of which are REQUIRED. If the documentation property is specified, it MUST include at least one document.\n            Documentation-generators MUST process the content field as if it was defined using Markdown [MARKDOWN].\n\n        This example shows an API definition with a single user document."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}},{name:"DocumentationItem",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["title of documentation section"]}],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of documentation section"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts",RM:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts",Params:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts",Bodies:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/api.ts"},{classes:[{name:"SpecPartMetaData",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts"},{classes:[{name:"ValueType",methods:[{name:"parse",start:87,end:253,text:"\n\n    /**\n     * parses inner structure of value type if value type has invalid value you should throw error\n     * with descriptive message\n     */\n    parse():any{}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"StringType",methods:[{name:"value",start:339,end:367,text:" value():string{return null}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["string"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["number"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["boolean"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"Referencable",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Reference",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DeclaresDynamicType",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[{typeName:"Referencable",nameSpace:"",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"T",nameSpace:"",basicName:"T",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"UriTemplate",methods:[{name:"templateArguments",start:1091,end:1529,text:'\n\n    templateArguments():string[]{\n        var pos=0;\n        var str=this.value();\n        var result=[];\n        while(true){\n            var start=str.indexOf("{",pos)\n            if (start!=-1){\n                var end=str.indexOf("}",start+1);\n                result.push(str.substring(start+1,end))\n                pos=end;\n            }\n            else{\n                break;\n            }\n        }\n        return result;\n    }'},{name:"validate",start:1529,end:1629,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This type currently serves both for absolute and relative urls"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RelativeUriString",methods:[{name:"parse",start:1760,end:2554,text:"\n    parse():string[]{\n        //FIXME INHERITANCE\n        var value=this.value();\n        var result=[]\n        var temp=\"\";\n        var inPar=false;\n        var count=0;\n        for (var a=0;a<value.length;a++){\n            var c=value[a];\n            if (c=='{'){\n                count++;\n                inPar=true;\n                continue;\n            }\n            if (c=='}'){\n                count--;\n                inPar=false;\n                result.push(temp);\n                temp=\"\";\n                continue;\n            }\n            if (inPar){\n                temp+=c;\n            }\n        }\n        if (count>0){\n            throw new Error(\"Unmatched '{'\")\n        }\n        if (count<0){\n            throw new Error(\"Unmatched '}'\")\n        }\n        return result;\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes relative uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FullUriTemplateString",methods:[{name:"parse",start:2689,end:3474,text:"\n    parse():string[]{//FIXME INHERITANCE\n        var value=this.value();\n        var result=[]\n        var temp=\"\";\n        var inPar=false;\n        var count=0;\n        for (var a=0;a<value.length;a++){\n            var c=value[a];\n            if (c=='{'){\n                count++;\n                inPar=true;\n                continue;\n            }\n            if (c=='}'){\n                count--;\n                inPar=false;\n                result.push(temp);\n                temp=\"\";\n                continue;\n            }\n            if (inPar){\n                temp+=c;\n            }\n        }\n        if (count>0){\n            throw new Error(\"Unmatched '{'\")\n        }\n        if (count<0){\n            throw new Error(\"Unmatched '}'\")\n        }\n        return result;\n    }"},{name:"validate",start:3474,end:3573,text:"\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes absolute uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FixedUri",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes fixed uris"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"MarkdownString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["markdown"]},{name:"MetaModel.description",arguments:["Mardown string is a string which can contain markdown as an extension this markdown should support links with RAML Pointers since 1.0"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaString",methods:[{name:"validate",start:4110,end:4293,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Schema at this moment only two subtypes are supported (json schema and xsd)"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSonSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType&&this.mediaType.isJSON()"]},{name:"MetaModel.description",arguments:["JSON schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["xml"]},{name:"MetaModel.description",arguments:["XSD schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ExampleString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"StatusCodeString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSONExample",methods:[{name:"parse",start:4831,end:5233,text:"\n\n    parse():any{\n        try {\n            JSON.parse(this.value());\n        } catch (e){\n            var ne=new Error(\"Warning: Can not parse JSON:\"+e.message);\n            throw ne\n        }\n        var a=this.$$.parent().attr('schema');\n        if (a) {\n          var sm=  a.findReferencedValue()\n          if (sm&&sm.validate){\n              sm.validate(this.value());\n          }\n        }\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType.isJSON()"]}],"extends":[{typeName:"ExampleString",nameSpace:"",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLExample",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType.isXML()"]}],"extends":[{typeName:"ExampleString",nameSpace:"",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"},{classes:[{name:"ResourceTypeRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"TraitRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaPart",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.allowAny",arguments:[]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.allowAny",arguments:[]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth1SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requestTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Temporary Credential Request endpoint as defined in RFC5849 Section 2.1"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Resource Owner Authorization endpoint as defined in RFC5849 Section 2.2"]}],valueConstraint:null,optional:!1},{name:"tokenCredentialsUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Request endpoint as defined in RFC5849 Section 2.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 1.0'"]},{name:"MetaModel.allowAny",arguments:[]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth2SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"accessTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Endpoint as defined in RFC6749 [RFC6748] Section 3.2"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Authorization Endpoint as defined in RFC6749 [RFC6748] Section 3.1"]}],valueConstraint:null,optional:!1},{name:"authorizationGrants",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["A list of the Authorization grants supported by the API As defined in RFC6749 [RFC6749] Sections 4.1, 4.2, 4.3 and 4.4, can be any of: code, token, owner or credentials."]}],valueConstraint:null,optional:!1},{name:"scopes",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of scopes supported by the API as defined in RFC6749 [RFC6749] Section 3.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 2.0'"]},{name:"MetaModel.allowAny",arguments:[]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.oneOf",arguments:[["OAuth 1.0","OAuth 2.0","Basic Authentication","DigestSecurityScheme Authentication","x-{other}"]]},{name:"MetaModel.description",arguments:["The securitySchemes property MUST be used to specify an API's security mechanisms, including the required settings and the authentication methods that the API supports. one authentication method is allowed if the API supports them."]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute MAY be used to describe a securitySchemes property."]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemaPart",nameSpace:"",basicName:"SecuritySchemaPart",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The describedBy attribute MAY be used to apply a trait-like structure to a security scheme mechanism so as to extend the mechanism, such as specifying response codes, HTTP headers or custom documentation.\n        This extension allows API designers to describe security schemes. As a best practice, even for standard security schemes, API designers SHOULD describe the security schemes' required artifacts, such as headers, URI parameters, and so on. Including the security schemes' description completes an API's documentation."]}],valueConstraint:null,optional:!1},{name:"settings",type:{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The settings attribute MAY be used to provide security schema-specific information. Depending on the value of the type parameter, its attributes can vary.\n        The following lists describe the minimum set of properties which any processing application MUST provide and validate if it chooses to implement the Security Scheme type. Processing applications MAY choose to recognize other properties for things such as token lifetime, preferred cryptographic algorithms, an so on."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referenceable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"MethodBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"responses",type:{base:{typeName:"Bodies.Response",nameSpace:"Bodies",basicName:"Response",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Response"]},{name:"MetaModel.description",arguments:["Resource methods MAY have one or more responses. Responses MAY be described using the description property, and MAY include example attributes or schema properties.\n"]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"Bodies.BodyLike",nameSpace:"Bodies",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["Some method verbs expect the resource to be sent as a request body. For example, to create a resource, the request must include the details of the resource to create.\nResources CAN have alternate representations. For example, an API might support both JSON and XML representations.\nA method's body is defined in the body property as a hashmap, in which the key MUST be a valid media type."]
}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:["A list of the security schemas to apply, these must be defined in the securitySchemes declaration.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme.\nSecurity schemas may also be applied to a resource with securedBy, which is equivalent to applying the security schemas to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Params.HasNormalParameters",nameSpace:"Params",basicName:"HasNormalParameters",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Trait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the trait"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the resource type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Methods that are part of this resource type definition"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed resource type"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.URI"]},{name:"MetaModel.description",arguments:["Uri parameters of this resource"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Method",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"method",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["methods"]},{name:"MetaModel.oneOf",arguments:[["get","put","post","delete","patch","options","head"]]},{name:"MetaModel.description",arguments:["Method that can be called"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["A method can override an API's protocols value for that single method by setting a different value for the fields."]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Method object allows description of http methods"]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Resource",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"relativeUri",type:{typeName:"Sys.RelativeUriString",nameSpace:"Sys",basicName:"RelativeUriString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.startFrom",arguments:["/"]},{name:"MetaModel.description",arguments:["Relative URL of this resource from the parent resource"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed resource type"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.URI"]},{name:"MetaModel.description",arguments:["Uri parameters of this resource"]}],valueConstraint:null,optional:!1},{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Method"]},{name:"MetaModel.description",arguments:["Methods that can be called on this resource"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"Resource",nameSpace:"",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:["Children resources"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["A resource or a method can override a base URI template's values. This is useful to restrict or change the default or parameter selection in the base URI. The baseUriParameters property MAY be used to override any or all parameters defined at the root level baseUriParameters property, as well as base URI parameters not specified at the root level."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts",Params:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts",Bodies:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/methodsAndResources.ts"},{classes:[{name:"Parameter",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.defaultValue",arguments:["string"]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["The type attribute specifies the primitive type of the parameter's resolved value. API clients MUST return/throw an error if the parameter's resolved value does not match the specified type. If type is not specified, it defaults to string."]},{name:"MetaModel.canBeDuplicator",arguments:[]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ParameterLocation",nameSpace:"",basicName:"ParameterLocation",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Set to true if parameter is required"]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The default attribute specifies the default value to use for the property if the property is omitted or its value is not specified. This SHOULD NOT be interpreted as a requirement for the client to send the default attribute's value if there is no other value to send. Instead, the default attribute's value is the value the server uses if the client does not send a value."]}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional) The example attribute shows an example value for the property. This can be used, e.g., by documentation generators to generate sample values for the property."]}],valueConstraint:null,optional:!1},{name:"repeat",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The repeat attribute specifies that the parameter can be repeated. If the parameter can be used multiple times, the repeat parameter value MUST be set to 'true'. Otherwise, the default value is 'false' and the parameter may not be repeated."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"StringTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"pattern",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The pattern attribute is a regular expression that a parameter of type string MUST match. Regular expressions MUST follow the regular expression specification from ECMA 262/Perl 5. The pattern MAY be enclosed in double quotes for readability and clarity."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The minLength attribute specifies the parameter value's minimum number of characters."]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The maxLength attribute specifies the parameter value's maximum number of characters."]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"string"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a string"]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"boolean"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"number"},optional:!1},{name:"minimum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The minimum attribute specifies the parameter's minimum value."]}],valueConstraint:null,optional:!1},{name:"maximum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The maximum attribute specifies the parameter's maximum value."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a number. Indicate floating point numbers as defined by YAML."]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"IntegerTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"integer"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a integer."]}],"extends":[{typeName:"NumberTypeDeclaration",nameSpace:"",basicName:"NumberTypeDeclaration",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"date"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a string representation of a date as defined in RFC2616 Section 3.3 [RFC2616]. "]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"FileTypeDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"file"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["location","ParameterLocation.FORM"]},{name:"MetaModel.description",arguments:["(Applicable only to Form properties) Value is a file. Client generators SHOULD use this type to handle file uploads correctly."]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"HasNormalParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameters",type:{base:{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","ParameterLocation.QUERY"]},{name:"MetaModel.newInstanceName",arguments:["New query parameter"]},{name:"MetaModel.description",arguments:["An APIs resources MAY be filtered (to return a subset of results) or altered (such as transforming a response body from JSON to XML format) by the use of query strings. If the resource or its method supports a query string, the query string MUST be defined by the queryParameters property"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","ParameterLocation.HEADERS"]},{name:"MetaModel.description",arguments:["Headers that allowed at this position"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"ParameterLocation",members:["QUERY","HEADERS","URI","FORM","BURI"]}],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts"},{classes:[{name:"RAMLLanguageElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute describes the intended use or meaning of the $self. This value MAY be formatted using Markdown [MARKDOWN]"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"RAMLSimpleElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts"},{classes:[{name:"MimeTypeModel",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"tree",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"subtype",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"suffix",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"parameters",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"MimeType",methods:[{name:"isForm",start:448,end:649,text:"\n    isForm(){\n        if (this.value()==\"application/x-www-form-urlencoded\"||this.value()=='multipart/form-data'){\n            return true;\n        }\n\n        return false;//more smart code here\n    }"},{name:"isXML",start:649,end:794,text:'\n\n    isXML(){\n        if (this.value()=="application/xml"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"isJSON",start:794,end:941,text:'\n\n    isJSON(){\n        if (this.value()=="application/json"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"parse",start:1024,end:1566,text:'\n    parse(){\n        /**\n         * top-level type name / subtype name [ ; parameters ]\n         *\n         * top-level type name / [ tree. ] subtype name [ +suffix ] [ ; parameters ]\n         */\n        var v=this.value();\n        if (v=="*/*"){\n            return\n        }\n        var res= mediaTypeParser.parse(v);\n        var types={application:1, audio:1, example:1, image:1, message:1, model:1, multipart:1, text:1, video:1}\n        if (!types[res.type]){\n            throw new Error("Unknown media type \'type\' value")\n        }\n    }'}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This sub type of the string represents mime types"]}],"extends":[{typeName:"Sys.StringType",nameSpace:"Sys",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"BodyLike",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Mime type of the request or response body"]},{name:"MetaModel.canInherit",arguments:["mediaType"]},{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]}],valueConstraint:null,optional:!1},{name:"schema",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.requireValue",arguments:["this.name.isForm()","false"]},{name:"MetaModel.description",arguments:["\n    The structure of a request or response body MAY be further specified by the schema property under the appropriate media type.\n\nThe schema key CANNOT be specified if a body's media type is application/x-www-form-urlencoded or multipart/form-data.\n\nAll parsers of RAML MUST be able to interpret JSON Schema [JSON_SCHEMA] and XML Schema [XML_SCHEMA].\n\nSchema MAY be declared inline or in an external file. However, if the schema is sufficiently large so as to make it difficult for a person to read the API definition, or the schema is reused across multiple APIs or across multiple miles in the same API, the !include user-defined data type SHOULD be used instead of including the content inline.\nAlternatively, the value of the schema field MAY be the name of a schema specified in the root-level schemas property (see Named Parameters, or it MAY be declared in an external file and included by using the by using the RAML !include user-defined data type."]
}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"Sys.ExampleString",nameSpace:"Sys",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.description",arguments:["Documentation generators MUST use body properties' example attributes to generate example invocations.\nThis example shows example attributes for two body property media types."]}],valueConstraint:null,optional:!1},{name:"formParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.FORM"]},{name:"MetaModel.description",arguments:["Web forms REQUIRE special encoding and custom declaration.\nIf the API's media type is either application/x-www-form-urlencoded or multipart/form-data, the formParameters property MUST specify the name-value pairs that the API is expecting.\nThe formParameters property is a map in which the key is the name of the web form parameter, and the value is itself a map the specifies the web form parameter's attributes"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.canInherit",arguments:["mediaType"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLBody",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"schema",type:{typeName:"Sys.XMLSchemaString",nameSpace:"Sys",basicName:"XMLSchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.description",arguments:["XSD Schema"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mime.isXML()"]},{name:"MetaModel.description",arguments:["Needed to set connection between xml related mime types and xsd schema"]}],"extends":[{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSONBody",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"schema",type:{typeName:"Sys.JSonSchemaString",nameSpace:"Sys",basicName:"JSonSchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.description",arguments:["JSON Schema"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mime.isJSON()"]},{name:"MetaModel.description",arguments:["Needed to set connection between json related mime types and json schema"]}],"extends":[{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"Response",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"Sys.StatusCodeString",nameSpace:"Sys",basicName:"StatusCodeString",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["statusCodes"]},{name:"MetaModel.description",arguments:["Responses MUST be a map of one or more HTTP status codes, where each status code itself is a map that describes that status code."]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.HEADERS"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.description",arguments:["An API's methods may support custom header values in responses. The custom, non-standard HTTP headers MUST be specified by the headers property.\n        API's may include the the placeholder token {?} in a header name to indicate that any number of headers that conform to the specified format can be sent in responses. This is particularly useful for APIs that allow HTTP headers that conform to some naming convention to send arbitrary, custom data.\n\nIn the following example, the header x-metadata-{?} is used to send metadata that has been saved with the media."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:['Each response MAY contain a body property, which conforms to the same structure as request body properties (see Body). Responses that can return more than one response code MAY therefore have multiple bodies defined.\nFor APIs without a priori knowledge of the response types for their responses, "*/*" MAY be used to indicate that responses that do not matching other defined data types MUST be accepted. Processing applications MUST match the most descriptive media type first if "*/*" is used.']}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/definition-system/metamodel.ts",Sys:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/systemTypes.ts",Params:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/parameters.ts",Common:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/common.ts"},name:"/Users/blakeembrey/Projects/mulesoft-labs/api-workbench-2/src/raml1/spec-0.8/bodies.ts"}]},function(e,t,n){function r(e){var t=new L.Project(O.dirname(e)),n=t.unit(O.basename(e));return n&&n.isRAMLUnit()?C.fromUnit(n).wrapperNode():null}function i(e){var t=e.highLevel().lowLevel();return t instanceof I.LowLevelProxyNode?e:_.expandTraitsAndResourceTypes(e)}function a(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);return t}function o(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);t=t.replace(/\/\//g,"/");var r=n.baseUri(),i=r?r.value():"";return i=i?i:"",R.stringEndsWith(i,"/")&&(t=t.substring(1)),t=i+t}function s(e){return N.qName(e.highLevel(),e.highLevel().root())}function u(e){return x.globalDeclarations(e.highLevel()).filter(function(e){return"Trait"==e.definition().nameId()}).map(function(e){return e.wrapperNode()})}function l(e){return x.globalDeclarations(e.highLevel()).filter(function(e){return"ResourceType"==e.definition().nameId()}).map(function(e){return e.wrapperNode()})}function c(e){var t=[],n=e;do e=n,t.push(e.relativeUri().value()),n=e.parent();while(n.relativeUri);return t.reverse()}function p(e){return e.parent()instanceof E.ResourceImpl?e.parent():null}function m(e){var t=e.parent();return v(t)?null:t}function d(e,t){if(null==e)return null;var n=e.resources();return n?(n=n.filter(function(e){return e.relativeUri().value()==t}),0==n.length?null:n[0]):null}function h(e,t){if(!e)return null;for(var n=null,r=0;r<t.length;r++){if(n=d(e,t[r]),!n)return null;e=n}return n}function f(e,t){return e?e.methods().filter(function(e){return e.method()==t}):null}function y(e,t,n){var r=h(e,t);return null==r?null:f(r,n)}function v(e){return e.title&&e.version&&e.baseUri}function g(e){for(var t=e;!v(t);)t=t.parent();return t}function b(e){var t=e.parent();if(t instanceof E.ResourceImpl)return a(t)+" "+e.method().toLowerCase();if(t instanceof E.ResourceTypeImpl)return t.name()+" "+e.method().toLowerCase();throw new Error("Method is supposed to be owned by Resource or ResourceType")}function S(e){return parseInt(e.code().value())<400}function A(e){var t=[],n=function(e){t.push(e),e.resources().forEach(function(e){return n(e)})};return e.resources().forEach(function(e){return n(e)}),t}function T(e){var t=e.relativeUri().value(),n=e.uriParameters();return M(n,t,e)}function w(e){var t=e.baseUri()?e.baseUri().value():"",n=e.baseUriParameters();return M(n,t,e)}function P(e){var t=[],n=e;do{e=n;var r=e.relativeUri().value(),i=e.uriParameters();t=M(i,r,e).concat(t),n=e.parent()}while(n.relativeUri);var a=n,o=a.baseUri().value(),s=a.baseUriParameters();return t=M(s,o,a).concat(t)}function M(e,t,n){if(!t)return[];var r={};e.forEach(function(e){return r[e.name()]=e});for(var i=[],a=0,o=t.indexOf("{");o>=0;o=t.indexOf("{",a)){a=t.indexOf("}",++o);var s=t.substring(o,a);r[s]?i.push(r[s]):i.push(new k(s,n))}return i}var E=n(91),C=n(15),N=n(23),_=n(94),I=n(69),R=n(66),x=n(74),L=n(24),O=n(10);t.load=r,t.expandTraitsAndResourceTypes=i,t.completeRelativeUri=a,t.absoluteUri=o,t.qName=s,t.allTraits=u,t.allResourceTypes=l,t.relativeUriSegments=c,t.parentResource=p,t.parent=m,t.getChildResource=d,t.getResource=h,t.getChildMethod=f,t.getMethod=y,t.ownerApi=g,t.methodId=b,t.isOkRange=S,t.allResources=A;t.uriParameters=T,t.baseUriParameters=w,t.absoluteUriParameters=P;var k=function(){function e(e,t){this._name=e,this._parent=t}return e.prototype.wrapperClassName=function(){return"HelperUriParam"},e.prototype.getKind=function(){return"HelperUriParam"},e.prototype.name=function(){return this._name},e.prototype.type=function(){return"string"},e.prototype.location=function(){return{wrapperClassName:function(){return"HelperModelLocation"},getKind:function(){return"HelperModelLocation"}}},e.prototype["default"]=function(){return null},e.prototype.xml=function(){return null},e.prototype.sendDefaultByClient=function(){return!1},e.prototype.example=function(){return""},e.prototype.schema=function(){return null},e.prototype.repeat=function(){return!1},e.prototype["enum"]=function(){return[]},e.prototype.collectionFormat=function(){return"multi"},e.prototype.required=function(){return!0},e.prototype.readOnly=function(){return!1},e.prototype.facets=function(){return[]},e.prototype.scope=function(){return[]},e.prototype.displayName=function(){return this._name},e.prototype.description=function(){return null},e.prototype.usage=function(){return null},e.prototype.parent=function(){return this._parent},e.prototype.highLevel=function(){return null},e.prototype.errors=function(){return[]},e.prototype.definition=function(){return null},e.prototype.runtimeDefinition=function(){return null},e.prototype.toJSON=function(){return{name:this.name()}},e}();t.HelperUriParam=k},function(e,t,n){function r(e){for(var t="",n=0,r=0;r<e.length;r++){var i=e.charAt(r);0==n&&(t+=i),"{"==i&&n++,"}"==i&&n--}return t}var i=(n(15),n(17)),a=n(78),o=n(95),s=function(){function e(){this.holder={},this.conflicting={}}return e.prototype.validateApi=function(e,t){var n=this;e.resources().forEach(function(e){n.acceptResource(e),e.resources().forEach(function(e){return n.acceptResource(e)})});for(var r in this.conflicting){var o=this.conflicting[r],s={},u={},l=[];o.forEach(function(e){e.queryParameters().forEach(function(t){var n=t.name();if(t.required()){var r=s[n];r||(r=[],s[n]=r),r.push(e),l.push(e)}}),e.headers().forEach(function(t){var n=t.name();if(t.required()){var r=u[n];r||(r=[],u[n]=r),r.push(e),l.push(e)}})});var c=o.filter(function(e){return!i.find(l,function(t){return t==e})});c.length>0&&c.forEach(function(e){t.accept(a.createIssue(5,"method overloading is ambiguous",e.highLevel(),!0))});for(var p in s){var m=s[p];if(m.length>1){var d={},h=[];m.forEach(function(e){var t=i.find(e.queryParameters(),function(e){return e.name()==p});if(t["enum"]){var n=t["enum"]();n&&n.length>0&&n.forEach(function(t){var n=d[t];n||(n=[],d[t]=n),n.push(e),h.push(e)})}});var f=m.filter(function(e){return!i.find(h,function(t){return t==e})});f.length>0&&f.forEach(function(e){t.accept(a.createIssue(5,"method overloading is ambiguous no domain restrictions",e.highLevel(),!0))});for(var y in d){var v=d[y];v.length>1&&v.forEach(function(e){return t.accept(a.createIssue(5,"method overloading is ambiguous ( enum value "+y+")",e.highLevel(),!0))})}}}}},e.prototype.acceptResource=function(e){var t=this;e.methods().forEach(function(n){t.acceptMethod(e,n)})},e.prototype.acceptMethod=function(e,t){var n=r(o.absoluteUri(e))+t.method(),i=this.holder[n];i||(i=[],this.holder[n]=i),i.push(t),i.length>1&&(this.conflicting[n]=i)},e}();t.OverloadingValidator=s},function(e,t,n){function r(e,t){for(var n=t.resources(),i=0;i<n.length;i++){var a=n[i],o=a.relativeUri();if(o===e)return a;if(e.substr(0,o.length)===o&&"/"===e[o.length]){var s=r(e.substr(o.length),a);if(s)return s}}}function i(e,t){for(var n=t.methods(),r=0;r<n.length;r++){var i=n[r];if(i.method()===e)return i}}function a(e,t){var n=e.api(),r=e.resource();t=d({queryParameters:{},uriParameters:{},headers:{},baseUriParameters:{}},t);var i=p(t.baseUri||n.baseUri().getOrElse(""),t.baseUriParameters,c(n.baseUriParameters())).replace(/\/$/,""),a=p(r.absoluteUri(),t.uriParameters,c(r.absoluteUriParameters())),o=m.stringify(t.queryParameters);return{url:i+a+(o?"?"+o:""),method:e.method(),postData:{text:t.body},queryString:Object.keys(t.queryParameters).map(function(e){return{name:e,value:t.queryParameters[e]}}),headers:Object.keys(t.headers).map(function(e){return{name:e,value:t.headers[e]}})}}function o(e){var t={url:e.url,method:e.method,body:e.postData&&e.postData.text,parse:!1,headers:{}};return e.headers.forEach(function(e){t.headers[e.name]=e.value}),t}function s(e){var t={status:e.status,headers:[],content:{text:e.body,mimeType:e.get("Content-Type")}};return Object.keys(e.headers).forEach(function(n){t.headers.push({name:e.name(n),value:e.get(n)})}),t}function u(e,t){var n={};return e&&t.forEach(function(t){var r=t.name();null!=e[r]&&(n[r]=e[r])}),n}function l(e,t){var n={};return e&&t.forEach(function(t){var r=t.name().toLowerCase();"content-type"!=r&&null!=e[r]&&(n[r]=e[r])}),n}function c(e){var t={};return e.forEach(function(e){var n=e.definitions().reduce(function(e,t){return e||t["default"]().getOrElse(void 0)||t["enum"]().getOrElse(void 0)},void 0);null!=n&&(t[e.name()]=n)}),t}function p(e,t,n){return e.replace(/\{([^{}]+)\}/g,function(e,r){return t&&null!=t[r]?t[r]:n&&null!=n[r]?n[r]:""})}var m=n(111),d=n(9);t.findResource=r,t.findMethod=i,t.request=a,t.toPopsicleRequest=o,t.fromPopsicleResponse=s,t.extractParameters=u,t.extractHeaders=l,t.extractDefaultParameters=c,t.template=p},function(e,t){e.exports=require("querystring")},function(e,t,n){function r(e,t,n){return 1===e?t:n}function i(e,t){for(var n=Object.keys(e),r=t.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()===r)return e[n[i]]}function a(e){var t=e instanceof f.ASTPropImpl?e.value():e.name();if("string"!=typeof t&&(t=t.valueName()),!t&&e instanceof f.ASTNodeImpl){var n=e.wrapperNode();if(n instanceof h.DocumentationItemImpl)return n.title();if(n instanceof h.ApiImpl)return"Home"}return t}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(113),u=n(6),l=n(9),c=n(114),p=n(115),m=n(116),d=n(95),h=n(14),f=n(23),y=n(12),v="",g={get:"btn-primary","get?":"btn-primary",post:"btn-success","post?":"btn-success","delete":"btn-error","delete?":"btn-error",put:"btn-warning","put?":"btn-warning",patch:"btn-info","patch?":"btn-info"},b=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.isSupportedNode=function(e){return!(e instanceof h.ObjectTypeDeclarationImpl||e instanceof h.ResponseImpl||e instanceof h.TypeDeclarationImpl||e instanceof h.LibraryImpl||e instanceof h.SecuritySchemePartImpl||e instanceof h.OAuth2SecuritySchemeSettingsImpl||e instanceof h.OAuth1SecuritySchemeSettingsImpl)},t.prototype.renderNode=function(e){var t=l(this.props,{node:e});return e instanceof h.TraitImpl?u.createElement(E,t):e instanceof h.ResourceTypeImpl?u.createElement(R,t):e instanceof h.AbstractSecuritySchemeImpl?u.createElement(x,t):e instanceof h.GlobalSchemaImpl?u.createElement(P,t):e instanceof h.ResourceImpl?u.createElement(L,t):e instanceof h.DocumentationItemImpl?u.createElement(U,t):e instanceof h.MethodImpl?u.createElement(j,t):e instanceof h.AbstractSecuritySchemeImpl?u.createElement(x,t):e instanceof h.ApiImpl?u.createElement(A,t):u.createElement(J,null,u.createElement(C,{title:"404"}),u.createElement(J,null,"How did you get here? You shouldn't be here! Please ",u.createElement("a",{href:"https://github.com/mulesoft-labs/api-workbench/issues"},"report me immediately"),"."),u.createElement(J,null,u.createElement("strong",null,"Reference: "+e.constructor.name)))},t.prototype.renderBreadcrumb=function(e,t){var n=this,r=[],i=[],o=e;if(this.props.errors.length)r.push(u.createElement("span",{key:"errors"},"Errors"));else{do i.unshift(o);while(o=o.parent());i.forEach(function(e,o){var s=o===i.length-1;e instanceof f.ASTNodeImpl&&n.isSupportedNode(e.wrapperNode())&&e.wrapperNode()!==t?r.push(u.createElement("a",{key:e.id(),onClick:function(){return n.props.navigate(e.id())}},a(e))):r.push(u.createElement("span",{key:"value"+o},a(e))),s||r.push(u.createElement("span",{key:"sep"+o}," "+v+" "))})}return u.createElement(J,{className:"padded",style:{margin:0,flex:"0 0 auto"}},r)},t.prototype.getCurrentNode=function(){var e=this.props.raml,t=this.props.state;if(!e)return null;if(t.view.id){var n=e.highLevel().findById(t.view.id);if(n)return n}return e.highLevel()},t.prototype.wrapBody=function(e){return u.createElement(J,{id:"raml-console-view",className:"padded",style:{overflow:"auto",height:"100%"}},e)},t.prototype.wrapContent=function(e,t){return u.createElement(J,{style:{height:"100%",display:"flex",flexDirection:"column"}},e,this.wrapBody(t))},t.prototype.render=function(){if(!this.props.loaded)return u.createElement(M);var e,t=this.getCurrentNode();if(this.props.errors.length)return this.wrapBody(u.createElement(S,{errors:this.props.errors}));if(t instanceof f.ASTPropImpl){var n=t.findReferencedValue();if(!n)return this.wrapContent(this.renderBreadcrumb(t),u.createElement(w,l(this.props,{highLevelNode:t})));e=n.wrapperNode()}else e=t.wrapperNode();for(;!this.isSupportedNode(e);)e=e.parent();return this.wrapContent(this.renderBreadcrumb(t,e),this.renderNode(e))},t}(m);t.Console=b;var S=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){return u.createElement(J,null,u.createElement(C,{title:"Errors"}),u.createElement("ul",null,this.props.errors.map(function(e,t){return u.createElement("li",{key:t},e.message)})))},t}(m),A=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.node;return u.createElement("div",null,u.createElement(C,{title:t.title()}),u.createElement(z,this.props),t.documentation().length?u.createElement(Y,null,u.createElement("h3",{style:{marginTop:0}},"Documentation"),u.createElement("ul",null,t.documentation().map(function(t){var n=t.highLevel().id();return u.createElement("li",{key:n},u.createElement("a",{onClick:function(){return e.props.navigate(n)}},t.title()))}))):null,u.createElement(D,this.props))},t}(m),T=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.method.method();return u.createElement("div",{onClick:function(){return e.props.navigate(e.props.method.highLevel().id())},className:c("btn inline-block",g[t])},t.toUpperCase())},t}(m),w=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.highLevelNode;return u.createElement(J,null,u.createElement(C,{title:"Missing Reference"}),"Unable to resolve reference: ",u.createElement("strong",null,e.id()))},t}(m),P=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node;return u.createElement(J,null,u.createElement(C,{node:e,title:e.key(),type:"Schema"}),u.createElement(G,{content:e.value().value()}))},t}(m),M=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){return u.createElement(J,null,u.createElement("div",{className:"loading-spinner-medium inline-block"}),u.createElement("span",{className:"inline-block"},"Loading RAML"))},t}(m),E=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return u.createElement(J,null,u.createElement(C,{node:e,title:e.name(),type:"Trait"}),u.createElement(N,{text:e.usage(),title:"Usage"}),u.createElement(F,this.props),u.createElement(_,{references:t,navigate:this.props.navigate}))},t}(m),C=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.title;return u.createElement("h1",{style:{marginTop:0}},this.props.node?u.createElement(X,{node:this.props.node},e):e,this.props.type?u.createElement("small",null," ("+this.props.type+")"):null)},t}(m),N=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.text;return e?u.createElement(J,null,u.createElement("strong",null,""+this.props.title+": "),e):null},t}(m),_=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.formatNode=function(e){var t=[];do t.unshift(a(e));while(e=e.parent());return t.join(" "+v+" ")},t.prototype.render=function(){var e=this,t=this.props.references;return t.length?u.createElement(Y,null,u.createElement("h3",null,"References ("+t.length+" Found)"),u.createElement("ul",null,t.map(function(t){var n=t.id(),r=t.parent();return u.createElement("li",{key:n},u.createElement("a",{onClick:function(){return e.props.navigate(r.id())}},e.formatNode(r)))}))):null},t}(m),I=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.node,n=this.props.navigate,r=t.methods(),i=t.uriParameters();return u.createElement(J,null,u.createElement(z,this.props),u.createElement($,{content:t.description()}),r.length?u.createElement(J,null,r.map(function(t){return u.createElement(T,{key:t.method(),method:t,navigate:e.props.navigate})})):null,u.createElement(k,{parameters:i,title:"URI Parameters",navigate:n}))},t}(m),R=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return u.createElement(J,null,u.createElement(C,{node:e,title:e.name(),type:"Resource Type"}),u.createElement(N,{text:e.usage(),title:"Usage"}),u.createElement(I,this.props),u.createElement(_,{references:t,navigate:this.props.navigate}))},t}(m),x=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return u.createElement(J,null,u.createElement(C,{node:e,title:e.name(),type:"Security Scheme"}),u.createElement(N,{title:"Type",text:e.type()}),u.createElement(N,{title:"Display Name",text:e.displayName()}),u.createElement($,{content:e.description()}),u.createElement(F,l(this.props,{node:e.describedBy()})),u.createElement(_,{references:t,navigate:this.props.navigate}))},t}(m),L=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node;return u.createElement(J,null,u.createElement(C,{node:e,title:e.relativeUri().value(),type:"Resource"}),u.createElement(I,this.props),u.createElement(D,this.props))},t}(m),O=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.renderDefinition=function(e,t){return u.createElement(J,null,t?u.createElement(J,null,u.createElement("span",{className:"highlight"},e.nameId())):null,e.superTypes().length?u.createElement(J,null,u.createElement(J,null,u.createElement("strong",null,"Super Types:")),e.superTypes().map(function(e){return u.createElement("span",{className:"highlight",style:{marginRight:5}},e.nameId())})):null,e.allProperties().length?u.createElement(J,null,u.createElement("h5",null,"Properties"),e.allProperties().map(function(e){return u.createElement(J,{key:e.nameId()},u.createElement(J,null,u.createElement("strong",null,e.nameId()),e.isRequired()?" (required)":""),u.createElement(J,null,e.description()))})):null,e.isUnion()?u.createElement(J,null,u.createElement(J,null,u.createElement("strong",null,"Left: ")),this.renderDefinition(e.union().leftType(),!0),u.createElement(J,null,u.createElement("strong",null,"Right: ")),this.renderDefinition(e.union().rightType(),!0)):null,e.isArray()?u.createElement(J,null,u.createElement(J,null,u.createElement("strong",null,"Item: ")),this.renderDefinition(e.array().componentType(),!0)):null)},t.prototype.render=function(){var e=this.props.node;return null==e?null:u.createElement(J,null,u.createElement(J,null,e.type().map(function(e){return u.createElement("span",{key:e,className:"highlight",style:{marginRight:5}},e)})),this.renderDefinition(e.runtimeDefinition(),!1))},t}(m),k=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.summary=function(e){var t=[];return e instanceof h.FileTypeDeclarationImpl&&(e.fileTypes()&&t.push("fileTypes: "+e.fileTypes()),e.minLength()&&t.push("minLength: "+e.minLength()),e.maxLength()&&t.push("maxLength: "+e.maxLength())),e instanceof h.IntegerTypeDeclarationImpl&&(null!=e.minimum()&&t.push("minimum: "+e.minimum()),null!=e.maximum()&&t.push("maximum: "+e.maximum())),e.required()&&t.push("required"),e.repeat()&&t.push("repeat"),t.join(", ")},t.prototype.render=function(){var e=this;if(!this.props.parameters.length)return null;this.props.navigate;return u.createElement(J,null,u.createElement("h3",null,this.props.title),this.props.parameters.map(function(t){return u.createElement(J,{key:t.name()},u.createElement("h4",null,u.createElement(X,{node:t},t.name())),u.createElement(O,{node:t}),u.createElement(J,null,u.createElement("strong",null,e.summary(t))),u.createElement($,{content:t.description()}))}))},t}(m),D=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.node;return u.createElement(J,null,t.resources().map(function(t){var n=t.highLevel().id(),i=t.resources().length;return u.createElement(Y,{key:n},u.createElement("h4",null,u.createElement(X,{node:t},d.completeRelativeUri(t))," ",i?u.createElement("small",null,u.createElement("a",{onClick:function(){return e.props.navigate(n)}},"View "+i+" more "+r(i,"resource","resources"))):null),u.createElement($,{content:t.description()}),u.createElement(J,null,t.methods().map(function(t){return u.createElement(T,{key:t.method(),method:t,navigate:e.props.navigate})})))}))},t}(m),U=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.node;return u.createElement(J,null,u.createElement(C,{node:e,title:e.title(),type:"Documentation"}),u.createElement($,{content:this.props.node.content()}))},t}(m),F=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.renderBody=function(e){var t=d.schema(e,this.props.raml).getOrElse(void 0);return u.createElement(J,{key:e.name()},u.createElement("h4",null,u.createElement(X,{node:e},e.name())),u.createElement(O,{node:e}),t?u.createElement(H,{key:void 0,content:t.content(),title:"Schema",mime:e.name(),name:t.name()}):null,e.examples().map(function(t){return u.createElement(H,{key:t.displayName(),content:t.content(),title:t.displayName(),name:void 0,mime:e.name()})}),u.createElement(H,{content:e.example(),title:"Example",mime:e.name()}))},t.prototype.render=function(){var e=this,t=this.props.node,n=this.props.navigate;return t?u.createElement(J,null,u.createElement($,{content:t.description()}),t.queryParameters().length?u.createElement(Y,null,u.createElement(k,{parameters:t.queryParameters(),title:"Query Parameters",navigate:n})):null,u.createElement(k,{parameters:t.headers(),title:"Headers",navigate:n}),t.body().length?u.createElement(Y,null,u.createElement("h3",null,"Body"),t.body().map(function(t){return e.renderBody(t)})):null,t.responses().length?u.createElement(Y,null,u.createElement("h3",null,"Responses"),t.responses().map(function(t){return u.createElement(J,{key:t.code().value()},u.createElement("h4",null,u.createElement(X,{node:t.code()},t.code().value())),u.createElement($,{content:t.description()}),u.createElement(k,{parameters:t.headers(),title:"Headers",navigate:n}),t.body().map(function(t){return e.renderBody(t)}))})):null):null},t}(m),j=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.node,n=e.state.view.demo,r="ResourceImpl"===t.parent().wrapperClassName();return u.createElement(J,null,u.createElement(C,{node:t,title:t.method().toUpperCase(),type:"Method"}),u.createElement(z,e),r?u.createElement(J,null,u.createElement("div",{className:"btn btn-primary",onClick:function(){return e.navigate({demo:!n})}},n?"Read Documentation":"Make an API Request")):null,r&&n?u.createElement(K,e):u.createElement(F,e))},t}(m),K=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.node,n=t.method(),r=this.props.state.body,i=this.props.pageState.requestProgress,a=t.body().map(function(e){return e.name()});return u.createElement(J,null,u.createElement(B,{title:"Base URI Parameters",parameters:t.ownerApi().allBaseUriParameters(),values:this.props.state.baseUriParameters,change:function(t,n){return e.props.setParameter("baseUriParameters",t,n)}}),null,u.createElement(B,{title:"URI Parameters",parameters:t.parent().allUriParameters(),values:this.props.state.uriParameters,change:function(t,n){return e.props.setParameter("uriParameters",t,n)}}),u.createElement(B,{title:"Query Parameters",parameters:t.queryParameters(),values:this.props.state.queryParameters,change:function(t,n){return e.props.setParameter("queryParameters",t,n)}}),u.createElement(B,{title:"Headers",parameters:t.headers(),values:this.props.state.headers,change:function(t,n){return e.props.setParameter("headers",t,n)}}),a.length?u.createElement(J,null,u.createElement("h3",null,"Body"),u.createElement(J,null,u.createElement("select",{onChange:function(t){return e.props.setState({body:t.target.value})},className:"form-control",value:r},a.map(function(e){return u.createElement("option",{key:e},e)}))),u.createElement(q,{mini:!1,value:this.props.state.bodies[r],onChange:function(t){return e.props.setParameter("bodies",r,t)}})):null,u.createElement(J,null,u.createElement("div",{className:c("btn inline-block",g[n]),onClick:function(){return e.props.execRequest()}},n.toUpperCase()),null==i?null:u.createElement("progress",{style:{marginLeft:5},className:"inline-block",max:isNaN(i)?null:"1",value:isNaN(i)?null:String(i)})),u.createElement(V,this.props))},t}(m),V=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.pageState.requestError,t=this.props.pageState.requestResponse;
if(e)return u.createElement(J,{className:"text-error"},e);if(t){var n=i(t.headers,"content-type"),r=y.getGrammerFromMime(n);return u.createElement(J,null,u.createElement("h3",null,"Response"),u.createElement(J,null,u.createElement("div",null,u.createElement("strong",null,"Status Code: "),t.status),u.createElement("div",null,u.createElement("strong",null,"URL: "),t.url)),u.createElement(J,null,u.createElement("h4",null,"Headers"),u.createElement(J,null,Object.keys(t.headers).map(function(e){var n=p(t.headers[e]);return u.createElement("div",{key:e},n.map(function(t,n){return u.createElement("div",{key:n},u.createElement("strong",null,""+e+": "),t)}))}))),t.body?u.createElement(J,null,u.createElement("h4",null,"Body"),u.createElement(q,{value:t.body,grammar:r,gutter:!1,readonly:!0})):null)}return null},t}(m),B=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.values||{},n=this.props.parameters;return n.length?u.createElement(J,null,u.createElement("h3",{className:"sub-title"},this.props.title),n.map(function(n){var r,i=n.name(),a=t[i];return r=u.createElement(q,{mini:!0,value:a,placeholder:n["default"](),onChange:function(t){return e.props.change(i,t)}}),u.createElement(J,{key:i},u.createElement("label",null,i,n.required()?" *":""),r)})):null},t}(m),q=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=document.createElement("atom-text-editor"),n=t.getModel();n.setMini(this.props.mini),n.setPlaceholderText(this.props.placeholder),this.refs.container.getDOMNode().appendChild(t),this.props.value&&n.setText(this.props.value),this.props.readonly&&t.removeAttribute("tabindex"),this.props.gutter===!1&&t.setAttributeNode(document.createAttribute("gutter-hidden")),this.props.grammar&&n.setGrammar(this.props.grammar),this.props.onChange&&(this.disposable=n.onDidChange(function(){e.props.onChange(n.getText())}))},t.prototype.componentWillUnmount=function(){this.disposable&&this.disposable.dispose()},t.prototype.render=function(){return u.createElement("div",{ref:"container"})},t}(m),H=function(e){function t(){e.apply(this,arguments),this.state={visible:!1}}return o(t,e),t.prototype.render=function(){var e=this;if(!this.props.content)return null;var t=this.state.visible;return u.createElement(J,null,u.createElement("a",{onClick:function(){return e.setState({visible:!t})}},""+(t?"Hide":"Show")+" "+this.props.title),this.props.name?" ("+this.props.name+")":null,t?u.createElement("div",{style:{marginTop:5}},u.createElement(G,this.props)):null)},t}(m),G=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this;return u.createElement(J,{ref:function(t){var n=u.findDOMNode(t);if(n){var r=y.getGrammerFromMime(e.props.mime),i=y.codeToEditorElement(e.props.content.replace(/\r?\n$/,""),r);n.innerHTML="",n.appendChild(i)}}})},t}(m),W=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.getName=function(e){var t=e.value();return"string"==typeof t?t:t.valueName()},t.prototype.render=function(){var e=this.props.node;if(null==e.value())return null;var t=this.props.navigate,n=this.props.title,r=e.highLevel().id();return u.createElement("span",{className:"highlight",style:{margin:"0 5px 5px 0",cursor:"pointer",display:"inline-block"},onClick:function(){return t(r)}},u.createElement("strong",null,""+n+": "),this.getName(e))},t}(m),z=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=[],t=this.props.node,n=this.props.navigate;return t instanceof h.ResourceImpl&&t.type()&&e.push(u.createElement(W,{title:"Type",key:"type",node:t.type(),navigate:n})),(t instanceof h.ResourceImpl||t instanceof h.MethodImpl)&&t.is().forEach(function(t,r){e.push(u.createElement(W,{title:"Trait",key:"is:"+r,node:t,navigate:n}))}),t.securedBy().forEach(function(t,r){e.push(u.createElement(W,{title:"Secured By",key:"securedBy:"+r,node:t,navigate:n}))}),u.createElement(J,null,e)},t}(m),J=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){return u.createElement("div",l(this.props,{className:c(this.props.className,"block")}),this.props.children)},t}(m),Y=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){return u.createElement(J,null,u.createElement("atom-panel",null,u.createElement("div",{className:"padded"},this.props.children)))},t}(m),X=(function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){return u.createElement("i",{className:c("icon icon-"+this.props.name,this.props.className)})},t}(m),function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.openInEditor=function(e){function t(e){var t=e.getBuffer().positionForCharacterIndex(i);e.setCursorBufferPosition(t)}var n,r=(atom.workspace.getTextEditors(),e.unit().absolutePath()),i=e.start();if(atom.config.get("api-workbench.openConsoleInSplitPane")){var a=atom.workspace.getPanes(),o=atom.workspace.getActivePane();1===a.length?(n="left",o.splitLeft({})):n=o===a[0]?"right":"left"}atom.workspace.open(r,{searchAllPanes:!0,split:n}).then(t)},t.prototype.render=function(){var e=this,t=this.props.node.highLevel().lowLevel(),n=null!=t.unit();return n?u.createElement("a",{onClick:function(){return e.openInEditor(t)}},this.props.children):u.createElement("span",null,this.props.children)},t}(m)),$=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.render=function(){var e=this.props.content;return null==e||null==e.value()?null:u.createElement(J,{dangerouslySetInnerHTML:{__html:s(e.value())}})},t}(m)},function(e,t){e.exports=require("marked")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("arrify")},function(e,t){e.exports=require("react-pure-render/component")},function(e,t,n){function r(e){try{var t=P.parse(e),n=t.protocol.substring(0,t.protocol.lastIndexOf(":")),r=(t.host,t.pathname),i=t.query}catch(a){return}var o;if("ramlscript-report"==n){try{r=decodeURI(r||"").substr(1)}catch(a){return}o={protocol:n,filePath:r}}else{if("har-validation-report"!=n)return;try{r=decodeURI(r||"").substr(1);var s=i.substring(i.indexOf("=")+1);o={protocol:n,filePath:"/"+r,apiPath:s}}catch(a){return}}return f(o)}function i(e){var t=3,n=e.join(",");return e.forEach(function(e){(200>e||e>299)&&(t=5)}),_.label(n,null,null,t)}function a(e){var t=2;return("post"==e.toLowerCase()||"put"==e.toLowerCase())&&(t=3),"delete"==e.toLowerCase()&&(t=5),_.label(e,null,null,t)}function o(e,t){var n=t.methodFailures(e);return n&&0!=n.length?_.label("",19,7,null).pad(5,0):_.label("",null,null,null)}function s(e,t){for(var n=E.readFileSync(e).toString().split("\n"),r=0,i=[],a=t;a<n.length;a++)if(r+=u(n[a]),i.push(n[a]),0==r)return i;return i}function u(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);"("==r&&t++,")"==r&&t--}return t}function l(e,t){return R.highlight(e,t)}function c(e,t,n){var r=!1;t--;var i=atom.workspace.getEditors();i.forEach(function(i){i.getPath()==e&&(r=!0,i.setSelectedBufferRange({start:{row:t,column:0},end:{row:t+n,column:0}},{}))}),r||atom.workspace.openSync(e)}function p(e,t,n,r,i,a){function o(e,t){var n=f.setParameter(e,""+t,0);y.setText(l(n,"source.ts")),c=n}function s(e,t){var n=_.section(e,null,!0,!0);return t.forEach(function(e){var t=f.getParameterValueAsString(e),r=N.createInputField(T.toFieldSpec(e),t);r.getBinding().addListener(function(t){var n=r.getBinding().status();2!=n.code?(o(e,t),m.setText(""),m.setIcon(0)):(m.setText(n.message),m.setIcon(19))}),n.addChild(r)}),n}var u=null,c=r,p=l(r,"source.ts"),m=_.label("",null,7),d=U(a,i),h=new S.StaticCallsInfo(e,new b.Config,r),f=h.calls()[0],y=_.html(p),v=s("URI Parameters",d.resource().uriParameters()),g=s("Query Parameters",d.queryParameters()),A=s("Header Parameters",d.headers()),w=_.section(d.id().value(),57,!1,!1,m,_.checkBox("Parameters are expressions"),v,g,A,_.section("Call:",null,!1,!1,y),_.button("Close",2,1,null,function(t){var n=atom.workspace.getEditors();n.forEach(function(t){t.getPath()==e&&t.setText(t.getText().replace(r,c))}),u.destroy()}));u=atom.workspace.addModalPanel({item:w.renderUI()})}function m(e,t,n,r,o,u){void 0===u&&(u=!0),t.addChild(N.h2("",a(r.request.method.toUpperCase()),_.label(r.request.url).pad(10,10),i([r.response.status])));var m=u?new N.TabFolder:new N.Panel;t.addChild(m),t=m;var h=U(n,r);if(o&&h){var f=_.a("Open in console for complete reference",function(e){I.openView(h.api(),{resource:h.resource().id().value(),method:h.method()})});t.addChild(_.section("Documentation",116,!0,!0,_.vc(_.label(h.description().map(function(e){return e.value()}).getOrElse("Nothing found")),_.vc(f))))}if(r.filePath&&(r.filePath=r.filePath.replace(".ts.l.js",".ts")),r.lineNumber){var y=s(r.filePath,r.lineNumber-1);if(y){var v=l(y.join("\n"),"source.ts"),g=_.html(v);g.setDisplay(D),t.addChild(_.section("Called from:",33,!0,!0,_.hc(_.button("Got to source",2,1,null,function(e){return c(r.filePath,r.lineNumber,y.length)}),_.button("Edit call",2,1,null,function(e){return p(r.filePath,r.lineNumber,y.length,y.join("\n"),r,n)}),_.a(r.filePath+" "+r.lineNumber+";"+r.columnNumber,function(e){D=!D,g.setDisplay(D)}).pad(10,10)),g))}}if(r.request.queryString){var b=N.listSection("Query parameters",18,r.request.queryString.map(function(e){return new K(e.name,e.value,null)}),new V);t.addChild(b)}if(r.request.headers){var b=N.listSection("Request Headers",18,r.request.headers.map(function(e){return new K(e.name,e.value,null)}),new V);t.addChild(b)}if(r.request.postData){var S=_.treeViewerSection("Request body",18,JSON.parse(r.request.postData.text),d,new V);t.addChild(S)}if(r.response.content&&r.response.content.text){var A={error:"Can not parse response text",text:r.response.content.text};try{A=JSON.parse(r.response.content.text)}catch(T){try{A=x(r.response.content.text)}catch(T){}}var S=_.treeViewerSection("Response body",18,A,d,new V);t.addChild(S)}var w=n.stepFailures(r);if(w&&w.length>0){var b=N.listSection("Errors",1,w.map(function(e){return e.message}),new B(h,e)),P=new N.BasicViewer(new F);_.masterDetails(b.children()[0],P),b.addChild(P),t.addChild(b)}}function d(e){var t=null;e instanceof K&&(t=e,e=e.value);var n=typeof e;if("string"==n||"number"==n||"boolean"==n)return[];var r=[];return Object.keys(e).forEach(function(n){return r.push(new K(n,e[n],t))}),r}function h(e){return e instanceof k}function f(e){return new k(e)}function y(){return{searchAllPanes:!0,split:atom.config.get("api-workbench.openConsoleInSplitPane")?"right":void 0}}function v(e,n){var r=y(),i=atom.workspace.getActivePane();return atom.workspace.open(e,r).then(function(e){return h(e)&&i.activate(),t.afterReport&&(t.afterReport(),t.afterReport=null),e.setState(n),e})}var g=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},b=n(118),S=n(127),A=(n(128),n(130)),T=n(138),w=n(7),P=n(2),M=n(180),E=n(4),C=n(10),N=n(150),_=n(151),I=n(1),R=n(195),x=n(80),L=n(138),O=n(17);t.opener=r;var k=function(e){function t(t){e.call(this),this._options=t,this.isAttached=!1,this.markers=[],this.filePath=t.filePath,this.state=t.state,this.protocol=t.protocol,this.apiPath=t.apiPath}return g(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.serialize=function(){return{protocol:this.protocol,deserializer:"RAMLReportView",filePath:this.filePath,state:this.state,apiPath:this.apiPath}},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.detached=function(){for(var e=document.getElementsByTagName("atom-text-editor"),t=0;t<e.length;t++){var n=e.item(t);n.onclick=n.oldOnClick}this.markers.forEach(function(e){return e.destroy()})},t.prototype.load=function(){var e=this;if(this._options.reportObject)return void this.show(this._options.reportObject);var t,n=this.filePath;if("ramlscript-report"==this.protocol){var r=A.getReportManager().getLatestReportFor(n);this.report=r,this.show(r)}else{if("har-validation-report"!=this.protocol)return;t=M.loadAndWrapApi(this.apiPath).then(function(t){return A.getReportManager().getReportObjectForApis(e.filePath,[t])}),t.then(function(t){e.report=t,e.show(t)})}},t.prototype.show=function(e){var t=N.list(e.coveredMethods(),function(t){return _.hc(a(t.method()),_.label(t.resource().id().value()).pad(5,5),i(e.statuses(t)),o(t,e))});t.setBasicLabelFunction(function(e){return e.resource().id().value()+e.method()}),this.listViewer=t;var n=new N.BasicViewer(new j(e,this.apiPath)),r=_.hc();r.addChild(_.label("Used APIs:")),e.apis().map(function(e){return _.a(e.title().getOrElse("Untitled API"),function(t){I.openView(e,{})}).pad(5,5)}).forEach(function(e){return r.addChild(e)});var s=_.filterField(t),u=_.vc(_.hc(s.setPercentWidth(85)).setPercentWidth(100)),l=_.toggleFilter(t,19,function(t){return e.methodFailures(t).length>0},e.failures().length>0).margin(5,2);s.renderUI(),s.addChild(l);var c=_.vc(N.h2("",r),_.label("Total coverage:"+100*e.procent+"% of API methods",null,6),u,_.masterDetailsPanel(t,n)).pad(10,10);t.setSelection(e.coveredMethods()[0]),this.html(c.renderUI()),this.addListeners(e)},t.prototype.addListeners=function(e){var t=this,n=atom.workspace.getTextEditors();n.forEach(function(n){try{var r=n.getPath();e.coveredMethods().forEach(function(i){e.steps(i).forEach(function(e){var i=e.lineNumber-1;if(r==e.filePath){var a=n.markBufferPosition([i,0],{});t.markers.push(a),n.decorateMarker(a,{type:"line-number","class":"ramlscript"})}})})}catch(i){console.log(i)}});for(var r=document.getElementsByTagName("atom-text-editor"),i=0;i<r.length;i++){var a=r.item(i);a.onclick=function(e){var n=e.path;if(n&&n.length>1&&n[1].classList.contains("ramlscript")){for(var r=null,i=null,o=0;o<n.length;o++){for(var s=n[o],u=0;u<n[1].classList.length;u++){var l=n[1].classList[u];if(0==l.indexOf("line-number-")){var c=l=l.substring("line-number-".length);r=Number(c)}}if("ATOM-TEXT-EDITOR"==s.tagName){var p=s.component.editor.buffer.file.path;i=p}}r&&i&&t.focusOn(r,i)}a.oldOnclick&&a.oldOnclick(e)}}},t.prototype.focusOn=function(e,t){var n=this.report.findSteps(e,t);this.focusOnSteps(n)},t.prototype.focusOnSteps=function(e){var t=this,n=_.vc().pad(10,10);n.addChild(_.a(">Back to full mode",function(e){return t.show(t.report)})),e.forEach(function(e){return m(t.apiPath,n,t.report,e,!0,!1)}),this.html(n.renderUI())},t.prototype.setState=function(e){e.stepIds&&this.focusOnSteps(this.report.stepsFromIds(e.stepIds))},t.prototype.getTitle=function(){return"Execution Report"},t}(w.ScrollView);t.ReportView=k;var D=!1,U=function(e,t){var n=null;return e.coveredMethods().forEach(function(r){O.find(e.steps(r),function(e){return e==t})&&(n=r)}),n};t.renderExecutionStep=m;var F=function(){function e(){}return e.prototype.render=function(e){var t=_.vc();return t.setPercentWidth(100),e.extras&&e.extras.forEach(function(e){var n=_.treeViewer(d,new V);n.setInput(e),t.addChild(n)}),t},e}(),j=function(){function e(e,t){this.fp=t,this.report=e}return e.prototype.render=function(e){var t=this,n=_.hc();return n.setPercentWidth(100),this.report.steps(e).forEach(function(e){m(t.fp,n,t.report,e,!0)}),n},e.prototype.openInConsole=function(e){return _.button("Open in console",2,1,14,function(t){return I.openView(e.api(),{resource:e.resource().id().value(),method:e.method()})})},e}(),K=function(){function e(e,t,n){this.key=e,this.value=t,this.parent=n,this.key=e,this.value=t}return e.prototype.id=function(){return this.parent?this.parent.id()+"/"+this.key:this.key},e.prototype.filterLabel=function(){return this.key+JSON.stringify(this.value)},e}(),V=function(){function e(){}return e.prototype.render=function(e){return _.hc(_.label(e.key+":",167),this.summary(e.value))},e.prototype.summary=function(e){var t=2;"string"==typeof e&&(t=7),"number"==typeof e&&(t=5),"boolean"==typeof e&&(t=3);var n="";return Array.isArray(e)?(n="array(length: "+e.length+")",t=6):n="Object"==typeof n?"object:"+JSON.stringify(e):JSON.stringify(e),n.length>60&&(n=n.substr(0,60)+" ..."),_.label(" "+n,null,t).pad(5,0)},e}(),B=function(){function e(e,t){this._method=e,this.path=t}return e.prototype.render=function(e){var t=this,n=_.hc(_.label("",19),_.label(e.message.toString(),null,6),_.a("",function(n){if(1==e.code){console.log(t.path);var r=L.findRamlWithTitle(t._method.api().title().getOrElse(""),t.path);t._method.responses().forEach(function(n){return n.bodies().forEach(function(n){var i=n.schema().getOrElse(null);if(i)for(var a=i.name(),o=E.readFileSync(r).toString(),s=0;;){var u=o.indexOf(a,s);if(s=u+a.length,-1==u)break;var l=o.indexOf("\n",u+1),c=o.substring(u,l);if(-1!=c.indexOf("!include")){var p=c.lastIndexOf(" "),m=C.resolve(C.dirname(t.path),c.substring(p).trim());-1==m.indexOf("xml")&&(console.log(m),console.log(e),atom.workspace.open(m).then(function(t){var n=""+e.extras[0].path,r=atom.workspace.getActiveEditor(),i=r.getText().indexOf(n.substring(2));if(-1!=i){var a=r.getBuffer().positionForCharacterIndex(i),o=r.getBuffer().rangeForRow(a.row);r.setSelectedBufferRange(o,{})}}))}}})})}},10).pad(5,5));return n},e}();atom.deserializers.add({name:"RAMLReportView",deserialize:function(e){return e?f(e):void 0}}),t.isReportView=h,t.createReportView=f,t.afterReport,t.open=v},function(e,t,n){function r(e,t){void 0===t&&(t=new v);var n=new w(t).buildConversion()(e),r=new N(e,t).buildConversion()(n),r="export function createApi("+i(e)+"):Api{\n    return new ApiImpl("+a(e)+");\n}\n"+r+"\n";return r}function i(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function a(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name())}),t.join(",")}function o(e){var t=e.getOrElse(new d.MarkdownString("")).value().match(/[^\r\n]+/g);if(null!=t&&t.length>1){var n="";return t.forEach(function(e){return n+=" "+e}),n}return e.getOrElse(new d.MarkdownString("")).value()}function s(e){return e=0==e.indexOf("/")?e.substring(1):e,e=e.replace(/[\{\}]/g,""),e=p.escapeToIdentifier(e),e=e.replace(t.MEDIA_TYPE_SUFFIX,""),e=e.replace(t.MEDIA_TYPE_EXTENSION,"")}function u(e){return 0==e.length?e:e.charAt(0).toUpperCase()+e.substr(1)}function l(e,n){return e.collapseMediaTypes?n.name()!=t.MEDIA_TYPE_SUFFIX&&n.name()!=t.MEDIA_TYPE_EXTENSION:!0}var c=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},p=n(119),m=n(66),d=n(120),h=n(121),f=n(123),y=n(124),v=function(){function e(){this.numberIsString=!0,this.createTypesForResources=!0,this.queryParametersSecond=!0,this.collapseGet=!1,this.collapseOneMethod=!1,this.collapseMediaTypes=!1,this.methodNamesAsPrefixes=!1,this.storeHarEntry=!0,this.createTypesForParameters=!0,this.reuseTypeForParameters=!0,this.createTypesForSchemaElements=!0,this.reuseTypesForSchemaElements=!0,this.throwExceptionOnIncorrectStatus=!1,this.async=!1,this.debugOptions={generateImplementation:!0,generateSchemas:!0,generateInterface:!0,schemaNameFilter:function(e){return!0},resourcePathFilter:null},this.overwriteModules=!0}return e}();t.Config=v,t.HAR_ENTRY_FIELD_NAME="__$harEntry__",t.MEDIA_TYPE_SUFFIX="mediaTypeSuffix",t.MEDIA_TYPE_EXTENSION="mediaTypeExtension",t.raml2ts=r;var g=function(e){function t(t,n,r){e.call(this,t,n),this.originalResource=r}return c(t,e),t.prototype.absolutePath=function(){return this.originalResource.completeRelativeUri()},t.prototype.commentCode=function(){return"\n        /**\n         * "+o(this.originalResource.description())+"\n         * @ramlpath "+this.absolutePath()+"\n         **/\n\n\n         "},t}(h.TSAPIElementDeclaration),b=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r.resource()),this.returnStr=function(){if(i.rangeType){var e=i.rangeType.serializeToString();return i.isFunction()&&i._config&&i._config.async?":Promise<"+e+">":":"+e}return""},this.originalMethod=r}return c(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * "+o(this.originalMethod.description())+"\n         * @ramlpath "+this.absolutePath()+"  "+this.originalMethod.method()+"\n         **/\n         "},t}(g);t.escapedName=s;var S=function(e){function t(t,n){e.call(this,t,n.module,n.cfg),this.owner=n}return c(t,e),t.prototype.createTypeDeclaration=function(e){for(var t=u(s(this.name))+u(s(e.name)),n=t,r=0;this.module.getInterface(n).isDefined();)r++,n=t+r;return new h.TSInterface(this.module,n)},t.prototype.replace=function(t){return this.owner.cfg.reuseTypesForSchemaElements?this.owner.collapseToTypeAliasOrAdd(t):this.module.addChild(t),e.prototype.replace.call(this,t)},t}(f.JSONSchematToTS),A=function(e){function t(t,n){e.call(this,t,n.name),this._resourceInterface=n}return c(t,e),t.prototype.resourceInterface=function(){return this._resourceInterface},t.prototype.isFunctor=function(){return this._resourceInterface.isFunctor()},t.prototype.getFunctor=function(){return this._resourceInterface.getFunctor()},t.prototype.children=function(){return this._resourceInterface.children()},t}(h.TSSimpleTypeReference),T=function(e){function t(t,n,r){e.call(this,t,n),this._resource=r}return c(t,e),t.prototype.resource=function(){return this._resource},t.prototype.toReference=function(){return new A(h.Universe,this)},t}(h.TSInterface);t.emitParameter=l;var w=function(){function e(e){var t=this;this.inlinable=function(e,t){return 1===e.methods().length},this.schemas=[],this.schemaContentToSchema={},this.schemaNameToSchema={},this.typeHashToType={},this.num=0,this.raml2TSModel=function(e){var n=new h.TSAPIModule(h.Universe,t.cfg);if(t.module=n,t.cfg.debugOptions.generateSchemas){var r=e.schemas();t.cfg.debugOptions.schemaNameFilter&&(r=r.filter(function(e){return t.cfg.debugOptions.schemaNameFilter(e.name())})),r.forEach(function(e){try{var n=t.cfg.createTypesForSchemaElements?new S(e.name(),t):new f.JSONSchematToTS(e.name(),t.module),r=n.parse(e.content());t.addSchema(r,e.name(),e.content())}catch(i){}})}var i=h.Universe.getConfig();if(h.Universe.setConfig(t.cfg),t.cfg.debugOptions.generateInterface){var a=new h.TSInterface(n,"Api");t.processChildResources(a,e)}return h.Universe.setConfig(i),n},this.typesMap={integer:"number",string:"string","boolean":"boolean",number:"number",file:"string",date:"string"},this.cfg=e}return e.prototype.processResource=function(e,n,r){var i=this,a=n.uriParameters().filter(function(e){return i.collapse(e)}).map(function(e){var n,r=e.name();if(r==t.MEDIA_TYPE_SUFFIX||r==t.MEDIA_TYPE_EXTENSION){var a={};e.definitions().filter(function(e){return e["enum"]().isDefined()}).forEach(function(e){return e["enum"]().getOrThrow().map(function(e){return e.toString()}).forEach(function(e){e.toLowerCase().indexOf("json")>=0?a.json=e:e.toLowerCase().indexOf("xml")>=0?a.xml=e:a["default"]=e})}),["default","xml","json"].forEach(function(e){a[e]&&(n=a[e])})}return new h.Param(l,e.name(),0,i.getParamType(e),n)}),o=!0;if(this.cfg.methodNamesAsPrefixes&&(n.methods().sort(this.methodComparator).forEach(function(t){return i.customizeMethod(e,t,!1,a)}),o=n.resources().length>0),o){if(!r){var u=n.relativeUri();if(1==u.length)r=e;else{var l=new g(e,s(u),n);r=this.createResourceType(l),l.rangeType=r.toReference(),l.parameters=a}}this.processChildResources(r,n)}return!this.cfg.methodNamesAsPrefixes&&r&&n.methods().sort(this.methodComparator).forEach(function(e){return i.customizeMethod(r,e,i.inlinable(n,r))}),r},e.prototype.methodComparator=function(e,t){var n={options:1,"delete":2,patch:3,put:4,post:5,get:6},r=n[e.method()],i=n[t.method()];return r=r?r:0,i=i?i:0,i-r},e.prototype.processChildResources=function(e,n){var r=this,i={};n.resources().forEach(function(e){var n=e.relativeUri(),r=n.replace("{"+t.MEDIA_TYPE_EXTENSION+"}","").replace("{"+t.MEDIA_TYPE_SUFFIX+"}",""),a=i[r];a||(a=[],i[r]=a),n!=r?i[r]=[e].concat(a):a.push(e)}),Object.keys(i).forEach(function(t){for(var n=i[t],a=r.processResource(e,n[0]),o=1;o<n.length;o++)r.processResource(e,n[o],a)})},e.prototype.createResourceType=function(e){if(this.cfg.createTypesForResources){var t=e.name;t||(t="Unknown");for(var n=u(t)+"Resource",r=n,i=0;this.module.getInterface(r).isDefined();)i++,r=n+i;return new T(this.module,r,e)}return new h.TSStructuralTypeReference(e)},e.prototype.collapse=function(e){return l(this.cfg,e)},e.prototype.convertTypeName=function(e){return"integer"==e?"number;":this.cfg.numberIsString&&"string"==e?"string|number|boolean;":e},e.prototype.addSchema=function(e,t,n){this.schemas.push(e),this.schemaContentToSchema[n]=e,this.schemaNameToSchema[t]=e},e.prototype.createSchema=function(e,t,n,r){void 0===r&&(r=!1);try{if(this.cfg.debugOptions.schemaNameFilter&&!this.cfg.debugOptions.schemaNameFilter(t))return new h.TSInterface(h.Universe,"Dummy").toReference();var i,a=s(e);return n.indexOf("json")>=0?i=new f.JSONSchematToTS(a,this.module,this.cfg).parse(t,r):n.indexOf("xml")>=0&&(i=new y.XMLSchematToTS(a,this.module,this.cfg).parse(t,r)),this.addSchema(i,e,t),i}catch(o){console.log(o.stack)}},e.prototype.schemas2ts=function(e,t){var n=this,r=new h.AnyType,i=e.filter(function(e){return e.mediaType().indexOf("json")>=0}).map(function(e){return e.schema()}).filter(function(e){return e.isDefined()}).map(function(e){return e.value()});if(i.length>0&&(i.forEach(function(e){return r=r.union(n.schema2ts(e,"json",t))}),this.cfg&&this.cfg.collapseMediaTypes))return r;var a=e.filter(function(e){return e.mediaType().indexOf("xml")>=0}).map(function(e){return e.schema()}).filter(function(e){return e.isDefined()}).map(function(e){return e.value()});return a.forEach(function(e){return r=r.union(n.schema2ts(e,"xml",t))}),r},e.prototype.schema2ts=function(e,t,n){return void 0===n&&(n=!1),this.schemaNameToSchema[e.name()]||this.schemaContentToSchema[e.content()]||this.createSchema(e.name(),e.content(),t,n)},e.prototype.customizeMethod=function(e,t,n,r){var i=this,a=s(t.method());this.cfg.methodNamesAsPrefixes?a+=u(s(t.resource().relativeUri())):("get"===t.method()&&this.cfg.collapseGet||n&&this.cfg.collapseOneMethod)&&(a="");var o=new b(e,a,t),l=new h.TSStructuralTypeReference(o);if(this.cfg.createTypesForParameters)if(e.parent()instanceof g){var c=u(e.parent().name)+u(o.name)+"Options";l=new h.TSInterface(h.Universe,c)}else{var c=u(e.name)+u(o.name)+"Options";l=new h.TSInterface(h.Universe,c)}this.processParameters(l,t.queryParameters(),""),this.processParameters(l,t.headers(),"header_"),t.bodies()&&t.bodies().forEach(function(e){return i.processParameters(l,e.formParameters(),"form_")}),this.cfg.reuseTypeForParameters&&this.collapseToTypeAliasOrAdd(l);var p=[];t.responses().filter(function(e){return e.isOkRange()}).forEach(function(e){return p=p.concat(e.bodies())});var m=this.schemas2ts(p,!0),d=this.schemas2ts(t.bodies(),!1),f=new h.Param(o,"options",2,l.toReference());f.optional=l.canBeOmmited(),o.parameters.push(f),d instanceof h.AnyType||o.parameters.push(new h.Param(o,"payload",1,d)),this.cfg.queryParametersSecond&&(o.parameters=o.parameters.reverse()),r&&(o.parameters=r.concat(o.parameters)),o.rangeType=m},e.prototype.generateFormSchema=function(e,t){for(var n="",r=t.resource().completeRelativeUri().split("/"),i=r.length-1;i>=0;i--){var a=r[i];if(0!=a.trim().length){var o=a.indexOf("{");if(0!=o){0>o&&(o=a.length),n=a.substring(0,o);break}}}for(var l=u(s(n))+u(t.method())+"Form",c=l,i=1;this.module.getInterface(c).isDefined();)c=l+i++;var m=new h.TSInterface(this.module,c);return e.formParameters().forEach(function(e){var t=new h.TSAPIElementDeclaration(m,e.name());t.optional=!e.required();var n=e.definitions();if(1==n.length){var r=p.ramlType2TSType(n[0].type());t.rangeType=new h.TSSimpleTypeReference(t,r)}else t.rangeType=new h.AnyType,n.forEach(function(e){var n=p.ramlType2TSType(e.type()),r=new h.TSSimpleTypeReference(t,n);t.rangeType.union(r)})}),m.toReference()},e.prototype.collapseToTypeAliasOrAdd=function(e){var t=e.hash(),n=e,r=this.typeHashToType[t];if(r){for(var i=n.name,a=i,o=0;this.module.getInterface(a).isDefined();)o++,a=i+o;new h.TSTypeAssertion(this.module,a,r.toReference())}else this.typeHashToType[t]=n,this.module.addChild(n)},e.prototype.processParameters=function(e,t,n){var r=this;t.forEach(function(t){var i=new h.TSAPIElementDeclaration(e,n+t.name());i.rangeType=r.getParamType(t),i.optional=!t.required()})},e.prototype.buildConversion=function(){return this.raml2TSModel},e.prototype.getParamType=function(e){var t=this,n=new h.AnyType;return e.definitions().forEach(function(e){return n=n.union(new h.TSSimpleTypeReference(h.Universe,t.mapRamlType(e.type())))}),n},e.prototype.mapRamlType=function(e){var t=this.typesMap[e];return t||(t="string"),t},e}(),P=function(){function e(){this.strings=[]}return e.prototype.append=function(e){this.strings.push(e)},e.prototype.getResult=function(){return this.strings.join("")},e}(),M=function(){function e(e){this.generatedDeclarations=[],this.generatedCode=[],this.isInP=!1,this.level=0,this.isInPatch=!1,this.isInFunct=!1,this.isInFunction=!1,this.cfg=e}return e.prototype.betweenElements=function(){this.level>1&&this.generatedCode.push(",\n")},e.prototype.getResult=function(){return this.generatedCode.join("")},e.prototype.startTypeDeclaration=function(e){var t=this;return this.generatedCode.push("\n{\n"),this.isInP=this.isInPatch,this.isInPatch=!1,0==this.level&&(this.generateDeclarations(),this.level++,e.children().forEach(function(e){return t.writePatchPart(e,"(<any>this)",!1)}),this.generatedCode.push("}\n"),this.level--),this.level++,!0},e.prototype.genInvoke=function(){},e.prototype.generateConstructorParameters=function(){return"op:any={}"},e.prototype.generateOpAssignment=function(){return"this.options=op;"},e.prototype.generateDeclarations=function(){this.generatedCode.push("\n            private inv:invoker\n            private options:any\n            "+this.genInvoke()+"\n            constructor("+this.generateConstructorParameters()+"inv:invoker=null/*fixme*/){\n\n            "+this.generateOpAssignment()+"\n            ")},e.prototype.endTypeDeclaration=function(e){this.generatedCode.push("\n /* type ending */ }\n"),this.level--,this.isInPatch=this.isInP},e.prototype.startVisitElement=function(e){if(this.isInPatch||this.generatedCode.push(""+e.name),null!=e.rangeType&&e.rangeType.isFunctor())return this.generateFunctionInline(e),!1;if(e.isFunction()){if(this.isInPatch||this.isInFunction||this.generatedCode.push(this.level>1?":":this.isInFunct?":any =":"="),this.generatedCode.push(e.paramStr(!0)),this.generatedCode.push("=>{\n"),this.generatedCode.push("var res=<any> \n"),!e.rangeType)throw new Error("Range type is not defined");(e.rangeType instanceof h.TSSimpleTypeReference||e.rangeType instanceof h.TSUnionTypeReference)&&(e.rangeType instanceof A?e.rangeType instanceof A&&this.subResourceProxyCreation(e,e.rangeType):this.generateCall(e))}else{if(!(e.rangeType instanceof A))throw new Error("Should not happen");var t=e.rangeType;if(t.resourceInterface().isFunctor()){var n=this.isInFunct;this.isInFunct=!0;var r=t.resourceInterface().getFunctor();return r.visit(this),this.isInFunct=n,!1}this.isInPatch||this.generatedCode.push("="),this.subResourceProxyCreation(e,t)}return!0},e.prototype.subResourceProxyCreation=function(e,t){var n=this;this.generatedCode.push("new "+t.name+"Impl("),e.parameters.forEach(function(e){return n.generatedCode.push(e.name+",")}),this.generatedCode.push("this)\n");var r=null;this.genSubResource(e,r,t)},e.prototype.genSubResource=function(e,t,n){var r=new C(e,t,this.cfg);n.resourceInterface&&n.resourceInterface().visit(r),this.generatedDeclarations=this.generatedDeclarations.concat(r.generatedDeclarations),this.generatedDeclarations.push("class "+n.name+"Impl\n"+r.getResult())},e.prototype.generateFunctionInline=function(e){var t=this.isInFunct,n=this.isInFunction;
this.isInFunct=!0,e.isFunction()&&(this.generatedCode.push(e.paramStr()+":any"+(this.isInPatch?"=>":"")+"{\n"),this.generatedCode.push("var result:any= "),this.isInFunction=!0);var r=e.rangeType.getFunctor();null!=r?r.visit(this):this.generatedCode.push("{}\n"),e.isFunction()&&(this.writePatchPart(e,"result",!0),this.generatedCode.push("return result\n"),this.generatedCode.push("}\n")),this.isInFunct=t,this.isInFunction=n},e.prototype.generateCall=function(e){if(!(e instanceof b))throw new Error("Should never happen");var n=e,r=n.originalResource.completeRelativeUri();this.cfg.collapseMediaTypes&&(r=r.replace("{"+t.MEDIA_TYPE_SUFFIX+"}","JSON"),r=r.replace("{"+t.MEDIA_TYPE_EXTENSION+"}",".json"));var i=this.urlTemplate(r,e);this.generatedCode.push("this.invoke("+i+",'"+n.originalMethod.method()+"',{\n"),this.generatedCode.push(n.parameters.filter(function(e){return!e.isEmpty()}).map(function(e){return'"'+e.name+'":'+e.name+"\n"}).join(", ")),this.generatedCode.push("});\n")},e.prototype.urlTemplate=function(e,t){for(var n="`",r=0;r<e.length;r++){var i=e.charAt(r);"{"==i&&(n+="$"),n+=i}return n+="`"},e.prototype.writePatch=function(e,t){var n=this;e.rangeType&&e.rangeType.children().forEach(function(e){null!=e.rangeType&&e.rangeType.isFunctor()&&e.rangeType.children().forEach(function(r){if(!r.isAnonymousFunction()){var i=t+"."+e.name+"."+r.name;n.generatedCode.push(i+"="),n.writePatchDetails(r),n.writePatchPart(r,i,!1)}})})},e.prototype.writePatchDetails=function(e){var t=this.isInPatch;this.isInPatch=!0,e.visit(this),this.isInPatch=t,this.generatedCode.push(";\n")},e.prototype.writePatchPart=function(e,t,n){var r=this;null==e.rangeType||!e.rangeType.isFunctor()||e.isFunction()&&!n||e.rangeType.children().forEach(function(i){if(!i.isAnonymousFunction()){var a=t+"."+(n?"":e.name+".")+i.name;r.generatedCode.push(a+"="),r.writePatchDetails(i)}})},e.prototype.endVisitElement=function(e){e.isFunction()&&(this.writePatch(e,"res"),this.generatedCode.push("return res;/*d*"+e.name+"*/}"),this.generatedCode.push("\n"))},e}(),E=function(e){function t(t,n){e.call(this,n),this._api=t}return c(t,e),t.prototype.generateDeclarations=function(){var e=(this._api.baseUri().isDefined()?this._api.baseUri().value():null).trim();m.stringEndsWith(e,"/")&&(e=e.substring(0,e.length-1)),this.generatedCode.push("private baseUrl:string='"+e+"'\n"),this.generatedCode.push("private cfgEncoded=/*CONFIGENCODEDSTART*/"+JSON.stringify(this.cfg)+";/*CONFIGENCODEDEND*/\n"),this.generatedCode.push("private apiEncoded=/*APIENCODEDSTART*/"+JSON.stringify(this._api)+";/*APIENCODEDEND*/\n"),this.generatedCode.push("declaration():RamlWrapper.Api{var api : RamlWrapper.Api = new RamlWrapper.Api(<any>this.apiEncoded.data); endpoints.setApi(api); return api;}\n"),this.generatedCode.push("authentificate(schemaName:string, options?:any){}\n"),this.generateAuthentification(),this.generateBaseUrlResolveCall(),this.generatedCode.push("\n            private inv:executor.APIExecutor\n            private options:any\n            "+this.genInvoke()+"\n            authenticate(schemaName?:string,options?:any):any{return null;}\n            constructor("+this.generateConstructorParameters()+"){\n            this.inv=new executor.APIExecutor(this.declaration(),this.baseUrlResolved(),<any>this.cfgEncoded);\n            "+this.generateOpAssignment()+"\n            ")},t.prototype.genInvoke=function(){var e=this.cfg&&this.cfg.async?"executeAsync":"execute";return"\n        invoke(path:string,method:string,obj:any){\n            env.registerApi(this.declaration())\n            return this.inv."+e+"(this.baseUrlResolved()+path,method,obj)\n        }"},t.prototype.generateParameterReplace=function(){var e=this,t="";return this._api.baseUriParameters().forEach(function(n){t="version"==n.name()?t+"burl=burl.replace('{"+n.name()+"}','"+(e._api.version().isDefined()?e._api.version().value():1)+"')\n":t+"burl=burl.replace('{"+n.name()+"}',this._"+n.name()+")\n"}),t},t.prototype.generateOpAssignment=function(){return""},t.prototype.generateBaseUrlResolveCall=function(){this.generatedCode.push("baseUrlResolved():string{\n        var burl=this.baseUrl;\n        "+this.generateParameterReplace()+"\n        return burl;\n        }")},t.prototype.generateConstructorParameters=function(){var e=[];return this._api.baseUriParameters().forEach(function(t){"version"!=t.name()&&e.push("private _"+t.name()+":string")}),e.join(",")},t.prototype.generateAuthentification=function(){this.generatedCode.push("log(vName:string,val:any){this.inv.log(vName,val);return val;}")},t}(M),C=function(e){function n(t,n,r){e.call(this,r),this._decl=t,this._parent=n}return c(n,e),n.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&t.parameters.forEach(function(e){0===e.location&&(n[e.name]=!0)});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},n.prototype.subResourceProxyCreation=function(e,n){var r=this;this.generatedCode.push("new "+n.name+"Impl(");for(var i=this,a=[];i;)i._decl.parameters&&i._decl.parameters.length>0&&a.push(i._decl),i=i._parent;a.reverse().forEach(function(e){return e.parameters.filter(function(e){return e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX}).forEach(function(e){return r.generatedCode.push("this."+e.name+",")})}),e.parameters.forEach(function(e){return r.generatedCode.push(e.name+",")}),this.generatedCode.push("this)\n");var o=this;this.genSubResource(e,o,n)},n.prototype.extraParams=function(){for(var e=this,n=[],e=this;e;e=e._parent)n.push(e._decl);var r="";return n.reverse().forEach(function(e,i){return e.parameters.forEach(function(e){var a=e.name,o=a==t.MEDIA_TYPE_EXTENSION||a==t.MEDIA_TYPE_SUFFIX;o&&i<n.length-1||(r+="private "+a+", ")})}),r},n.prototype.generateDeclarations=function(){var e=this.extraParams(),t="";e.indexOf("mediaTypeExtension")>=0&&(t='if(this.mediaTypeExtension){\n                if(this.mediaTypeExtension.length>0){\n                    this.mediaTypeExtension = ("." + this.mediaTypeExtension).replace("..",".")\n                }\n            }'),this.generatedCode.push("\n\n            invoke(path:string,method:string,obj:any){return this._parent.invoke(path,method,obj)}\n            constructor("+e+" private _parent:{invoke(path:string,method:string,obj:any):void}){\n                "+t+"\n            ")},n}(M),N=(function(e){function t(){e.apply(this,arguments)}return c(t,e),t.prototype.startTypeDeclaration=function(e){return this.append("{/*ts*/"),!0},t.prototype.endTypeDeclaration=function(e){this.append("}")},t.prototype.betweenElements=function(){this.append(",")},t.prototype.startVisitElement=function(e){return e.isFunction(),!0},t.prototype.endVisitElement=function(e){this.append("}")},t}(P),function(){function e(e,n){var r=this;this._api=e,this.tsModule2Src=function(e){var n=new E(r._api,r.cfg);r.cfg.debugOptions.generateImplementation&&e.getInterface("Api").value().visit(n),e.getInterface("Api").getOrThrow().addCode("declaration():RamlWrapper.Api"),e.getInterface("Api").getOrThrow().addCode("authenticate(schemaName?:string,options?:any):any"),e.getInterface("Api").value().addCode("log(vName:string,val:any)");var i="\n            "+(r.cfg.storeHarEntry?"export interface UnknownResponse{ "+t.HAR_ENTRY_FIELD_NAME+" : har.Entry }":"")+"\n            export interface payloadType{}\n            export interface responseType{}\n            export interface invoker{ (url:String,method:string,options:any):any; }\n            export class ApiImpl implements Api "+n.getResult()+"\n            ",a="";return e.children().forEach(function(e){return a+=e.serializeToString()}),i=n.generatedDeclarations.join("")+a+i,i+="\n var meta={}",'import RamlWrapper=require("../Raml08Wrapper")\n        import executor=require("./executor")\n        import env=require("./executionEnvironment")\n        import endpoints=require("./endpoints")\n\n        env.setPath(__dirname);\n        env.getReportManager().setLogPath(__dirname);\n\n            '+i},this.cfg=n}return e.prototype.buildConversion=function(){return this.tsModule2Src},e}())},function(e,t,n){function r(e){return i(e)?e:JSON.stringify(e)}function i(e){if(e=e.trim(),0==e.length)return!1;if(c.indexOf(e)>=0)return!1;if(v[e.charAt(0)])return!1;for(var t=0;t<e.length;t++)if(!g[e.charAt(t)])return!1;return!0}function a(e){e=e.trim();var t="";e.length>0&&v[e.charAt(0)]&&(t+="_");for(var n=0;n<e.length;n++){var r=e.charAt(n);t+=g[r]?r:"_"}return t}function o(e){function t(e){var t=new l.formatting.RulesProvider;return t.ensureUpToDate(e),t}function n(e,t){for(var n=e,r=t.length-1;r>=0;r--){var i=t[r],a=n.slice(0,i.span.start()),o=n.slice(i.span.start()+i.span.length());n=a+i.newText+o}return n}function r(){return{IndentSize:4,TabSize:4,NewLineCharacter:"\n",ConvertTabsToSpaces:!0,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,PlaceOpenBraceOnNewLineForFunctions:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1}}function i(e){function t(e){e.parent=n;var r=n;n=e,l.forEachChild(e,t),n=r}var n=e;l.forEachChild(e,t)}var a=r(),o=l.createSourceFile("file.ts",e,2,"0");i(o);var s=l.formatting.formatDocument(o,t(a),a);return n(e,s)}function s(e){var t=A[e];return t||(t="any"),t}function u(e){return e=a(e),t.javaReservedWords[e]?e+"_":e}var l=n(102);t.escapeTypescriptPropertyName=r;for(var c="type class interface break case catch continue debugger default delete do else finally for function if in instanceof new return switch this throw try typeof var void while with".split(" "),p="0".charCodeAt(0),m="9".charCodeAt(0),d="a".charCodeAt(0),h="z".charCodeAt(0),f="A".charCodeAt(0),y="Z".charCodeAt(0),v={},g={},b=p,S=m;S>=b;b++)v[String.fromCharCode(b)]=!0,g[String.fromCharCode(b)]=!0;for(var b=d,S=h;S>=b;b++)g[String.fromCharCode(b)]=!0;for(var b=f,S=y;S>=b;b++)g[String.fromCharCode(b)]=!0;"_ $".split(" ").forEach(function(e){return g[e]=!0}),t.isValidTypescriptIdentifier=i,t.escapeToIdentifier=a,t.format=o;var A={string:"string",integer:"number",number:"number","boolean":"boolean",file:"string",date:"string",NumberType:"number"};t.ramlType2TSType=s,t.escapeToJavaIdentifier=u,t.tsToJavaTypeMap={number:"Double",string:"String","boolean":"Boolean",any:"Object"},t.javaReservedWords={"abstract":!0,"continue":!0,"for":!0,"new":!0,"switch":!0,assert:!0,"default":!0,"goto":!0,"package":!0,"synchronized":!0,"boolean":!0,"do":!0,"if":!0,"private":!0,"this":!0,"break":!0,"double":!0,"implements":!0,"protected":!0,"throw":!0,"byte":!0,"else":!0,"import":!0,"public":!0,"throws":!0,"case":!0,"enum":!0,"instanceof":!0,"return":!0,"transient":!0,"catch":!0,"extends":!0,"int":!0,"short":!0,"try":!0,"char":!0,"final":!0,"interface":!0,"static":!0,"void":!0,"class":!0,"finally":!0,"long":!0,strictfp:!0,"volatile":!0,"const":!0,"float":!0,"native":!0,"super":!0,"while":!0}},function(e,t,n){function r(e){return new s(e)}function i(e){return new m(e)}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=n(66),s=n(67),u=n(17),l=n(96);t.wrap=i;var c=function(){function e(){o.lazyprops(this,function(e){return!0})}return e.prototype.allDirectChildren=function(){return[]},e.prototype.visit=function(e){e(this),this.allDirectChildren().forEach(function(t){return t.visit(e)})},e.prototype.visitAndCollectInstancesOf=function(e){var t=[];return this.visit(function(n){return o.ifInstanceOf(n,e,function(e){return t.push(e)})}),t},e}();t.AbstractNode=c;var p=function(){function e(e,t){var n=this;this._name=e,this._content=t,this.name=function(){return n._name},this.content=function(){return n._content},this.wrapped=function(){return null}}return e}();t.SchemaDef=p;var m=(function(){function e(){}return e}(),function(){function e(){}return e}(),function(){function e(){}return e}(),function(e){function t(t){var n=this;e.call(this),this.data=t,this.title=function(){return r(n.data.title)},this.version=function(){return r(n.data.version)},this.baseUri=function(){return r(n.data.baseUri)},this.baseUriParameters=function(){return M.build(3,n.data.baseUriParameters)},this.uriParameters=function(){return M.build(2,n.data.uriParameters)},this.protocols=function(){return P.build(n.data.protocols)},this.resources=function(){return o.asArray(n.data.resources).map(function(e){return new g(e,n)})},this.mediaType=function(){return r(n.data.mediaType)},this.schemas=function(){var e=o.flattenArrayOfObjects(n.data.schemas||[]);return o.toTuples(e).map(function(e){return new p(e[0],e[1])})},this.securitySchemas=function(){var e=o.flattenArrayOfObjects(n.data.securitySchemes||[]);return o.toTuples(e).map(function(e){return new f(e[0],e[1],n)})},this.documentation=function(){return y.build(n.data.documentation)},this.allResources=function(){return n.visitAndCollectInstancesOf(g)},this.allMethods=function(){return n.visitAndCollectInstancesOf(S)},this.findResourceById=function(e){return r(u.find(n.allResources(),function(t){return e.equals(t.id())}))},this.findMethodById=function(e){return r(u.find(n.allMethods(),function(t){return e.equals(t.id())}))},this.findSchemaByName=function(e){return new s(u.find(n.schemas(),function(t){return t.name()==e}))},this.findSchemaByContent=function(e){return new s(u.find(n.schemas(),function(t){return t.content()==e}))}}return a(t,e),t.prototype.allDirectChildren=function(){return[].concat(this.resources())},t.prototype.securedBy=function(){return this.data.securedBy?this.data.securedBy.map(function(e){return r("string"==typeof e?e:e&&Object.keys(e)[0])}):[]},t}(c));t.Api=m;var d=function(){function e(e){var t=this;this._data=e,this.type=function(){return new s(t._data.type)},this.queryParameters=function(){return M.build(0,t._data.describedBy?t._data.describedBy.queryParameters:void 0)},this.headers=function(){return M.build(4,t._data.describedBy?t._data.describedBy.headers:void 0)}}return e}();t.SecuritySchemaType=d;var h=function(e){function t(t){e.call(this,t)}return a(t,e),t}(d);t.BasicSecuritySchemaType=h;var f=function(){function e(e,t,n){var r=this;this._name=e,this._data=t,this._api=n,this.name=function(){return r._name},this.type=function(){return"Basic Authentication"==r._data.type.trim()?new h(r._data):new d(r._data)}}return e.prototype.settings=function(){return this._data.settings||{}},e.prototype.describedBy=function(){return this._data.describedBy||{}},e.prototype.api=function(){return this._api},e}();t.SecuritySchemaDef=f;var y=function(){function e(e){var t=this;this.data=e,this.title=function(){return t.data.title},this.content=function(){return new w(t.data.content)}}return e.build=function(t){return o.asArray(t).map(function(t){return new e(t)})},e}();t.DocumentationItem=y;var v=function(){function e(e,t){this.key=e,this.value=t}return e}();t.ParamValue=v;var g=function(e){function t(n,i,a){var c=this;e.call(this),this.data=n,this._api=i,this._parent=a,this.id=function(){return new b(c.completeRelativeUri())},this.api=function(){return c._api},this.relativeUri=function(){return c.data.relativeUri},this.description=function(){return r(c.data.description).map(function(e){return new w(e)})},this.parent=function(){return r(c._parent)},this.methods=function(){return(c.data.methods||[]).map(function(e){return new S(e,c)})},this.resources=function(){return o.asArray(c.data.resources).map(function(e){return new t(e,c.api(),c)})},this.uriParameters=function(){return u.sortBy(M.build(2,c.data.uriParameters),function(e){return c.relativeUri().indexOf(e.name())})},this.baseUriParameters=function(){return M.build(3,c.data.baseUriParameters)},this.completeRelativeUri=function(){return c.parent().map(function(e){return e.completeRelativeUri()}).getOrElse("")+c.relativeUri()},this.matchUri=function(e){for(var t={},n=c;;){var i=n.data.uriParameters;if(i&&Object.keys(i).forEach(function(e){return t[e]=i[e]}),!n.parent().isDefined())break;n=n.parent().getOrThrow()}var a=l(c.completeRelativeUri(),t,{})(e);return a?r(Object.keys(a.params).map(function(e){return new v(e,a.params[e])})):s.empty()},this.segments=function(){var e=[],t=c;do e.push(t),t=t.parent().getOrElse(null);while(t);return e=e.reverse()}}return a(t,e),t.prototype.resourceType=function(){var e=this.data.type;return new s("string"==typeof e?e:e&&Object.keys(e)[0])},t.prototype.allDirectChildren=function(){return[].concat(this.methods(),this.resources())},t.prototype.absoluteUri=function(){return this.parent().map(function(e){return e.absoluteUri()}).getOrElse("")+this.relativeUri()},t.prototype.absoluteUriParameters=function(){return this.parent().map(function(e){return e.absoluteUriParameters()}).getOrElse([]).concat(this.uriParameters())},t}(c);t.Resource=g;var b=function(){function e(e){var t=this;this._value=e,this.value=function(){return t._value},this.equals=function(e){return t.value()===e.value()}}return e}();t.RamlId=b;var S=function(e){function t(t,n){var i=this;e.call(this),this.data=t,this._resource=n,this.id=function(){return new b(i.resource().completeRelativeUri()+" "+i.method().toLowerCase())},this.api=function(){return i._resource.api()},this.resource=function(){return i._resource},this.method=function(){return i.data.method},this.description=function(){return r(i.data.description).map(function(e){return new w(e)})},this.protocols=function(){return P.build(i.data.protocols)},this.queryParameters=function(){return M.build(0,i.data.queryParameters)},this.headers=function(){return M.build(4,i.data.headers)},this.responses=function(){return Object.keys(i.data.responses||{}).map(function(e){return new A(i,e,i.data.responses[e])})},this.bodies=function(){return Object.keys(i.data.body||{}).map(function(e){return new T(i,e,i.data.body[e])})},this.getConsolidatedParameterList=function(e){return void 0===e&&(e=!1),[]}}return a(t,e),t.prototype.traits=function(){return this.data.is?this.data.is.map(function(e){return"string"==typeof e?e:Object.keys(e)[0]}):[]},t.prototype.securedBy=function(){return this.data.securedBy?this.data.securedBy.map(function(e){return r("string"==typeof e?e:e&&Object.keys(e)[0])}):[]},t}(c);t.Method=S;var A=function(e){function t(t,n,r){var i=this;e.call(this),this._method=t,this._code=n,this._data=r,this.code=function(){return i._code},this.isOkRange=function(){return Number(i.code())<300&&Number(i.code())>=200},this.bodies=function(){return Object.keys(i._data?i._data.body||{}:{}).map(function(e){return new T(i._method,e,i._data.body[e])})}}return a(t,e),t}(c);t.Response=A;var T=function(e){function t(t,n,i){var a=this;e.call(this),this._method=t,this._mediaType=n,this._data=i,this.example=function(){return r(a._data&&a._data.example)},this.formParameters=function(){return a._formData&&a._formData.formParameters?M.build(1,a._formData.formParameters):[]},this._formData=this._data}return a(t,e),t.prototype.mediaType=function(){return this._mediaType},t.prototype.schema=function(){if(null!=this._data&&this._data.schema){var e=this._method.api().findSchemaByName(this._data.schema);if(e.isDefined())return e;if(e=this._method.api().findSchemaByContent(this._data.schema),e.isDefined())return e;var t=new p(this._data.schema,this._data.schema);return r(t)}return r()},t}(c);t.Body=T;var w=function(){function e(e){var t=this;this._value=e,this.value=function(){return t._value}}return e}();t.MarkdownString=w,function(e){e[e.query=0]="query",e[e.form=1]="form",e[e.uri=2]="uri",e[e.baseUri=3]="baseUri",e[e.header=4]="header"}(t.ParamLocation||(t.ParamLocation={}));t.ParamLocation;!function(e){e[e.HTTP=0]="HTTP",e[e.HTTPS=1]="HTTPS"}(t.Protocol||(t.Protocol={}));var P;t.Protocol;!function(e){function t(e){return(e=e?e:[]).map(function(e){return n[e.toUpperCase()]})}var n={HTTP:0,HTTPS:1};e.build=t}(P||(P={}));var M=function(e){function t(t,n,r){var i=this;if(e.call(this),this._location=t,this._name=n,this._data=r,this.name=function(){return i._name},this.location=function(){return i._location},this.definitions=function(){return i._data.map(function(e){return E.build(i,e)})},this.required=function(){return i.definitions().every(function(e){return e.required()})},this.validate=function(e){return!1},0===this.definitions().length)throw new Error("Parameter with no definitions")}return a(t,e),t.build=function(e,n){return Object.keys(n||{}).map(function(r){return new t(e,r,o.asArray(n[r]))})},t}(c);t.Param=M;var E=function(){function e(e,t){var n=this;this._param=e,this._data=t,this.param=function(){return n._param},this.type=function(){return n._data.type||"string"},this.required=function(){return n._data.required===!0},this["enum"]=function(){return r(n._data["enum"])}}return e.prototype.description=function(){return r(this._data.description).map(function(e){return new w(e)})},e.prototype.displayName=function(){return this._data.displayName},e.prototype["default"]=function(){return r(this._data["default"])},e.prototype.example=function(){return r(this._data.example)},e.prototype.repeat=function(){return this._data.repeat===!0},e.prototype.min=function(){return r(this._data.minimum)},e.prototype.max=function(){return r(this._data.maximum)},e.prototype.minLength=function(){return r(this._data.minLength)},e.prototype.maxLength=function(){return r(this._data.maxLength)},e.prototype.pattern=function(){return r(this._data.pattern)},e.build=function(t,n){return new e(t,n)},e.constructors={string:C,"boolean":N,integer:_,number:I},e}();t.ParamDef=E;var C=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(E);t.ParamDef_string=C;var N=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(E);t.ParamDef_boolean=N;var _=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(E);t.ParamDef_number=_;var I=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(_);t.ParamDef_integer=I},function(e,t,n){function r(e){var t=this;if(!(e instanceof S))return[e];var n={},r=[];return e.children().forEach(function(e){return t.flattenUnionType(e).forEach(function(e){if(e instanceof A){var t=e,i=t.name;n[i]=t}else r.push(e)})}),r.concat(s.sortBy(Object.keys(n).map(function(e){return n[e]}),"name"))}function i(e,t){for(var n="",r=0;t>r;r++)n+="    ";return"\n"+n+"/**\n"+e.replace(/\*\//g,"* /").replace(/\r\n/g,"\n").split("\n").map(function(e){return n+" * "+e.trim()}).join("\n")+"\n"+n+" **/\n"}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=n(119),s=n(17),u=n(122),l=n(67);t.MODEL_CLASS_MODEL_ELEMENT="$resource-model-element",t.MODEL_CLASS_TYPE_DECLARATION="$type-declaration",t.MODEL_CLASS_INTERFACE="$interface-declaration",t.MODEL_CLASS_CLASS_DECLARATION="$class-declaration",t.MODEL_CLASS_ANNOTATION_DECLARATION="$annotation-declaration",t.MODEL_CLASS_ENUM_DECLARATION="$enum-declaration",t.MODEL_CLASS_TYPE_ASSERTION="$type-assertion",t.MODEL_CLASS_API_MODULE="$api-module",t.MODEL_CLASS_UNIVERSE="$universe",t.MODEL_CLASS_MEMBER="$member",t.MODEL_CLASS_UNION_TYPE_REFERENCE="$union-type-reference",t.MODEL_CLASS_SIMPLE_TYPE_REFERENCE="$simple-type-reference",t.MODEL_CLASS_FUNCTION_REFERENCE="$function-reference",t.MODEL_CLASS_ARRAY_REFERENCE="$array-reference",t.MODEL_CLASS_DECLARED_INTERFACE_REFERENCE="$declared-interface-reference",t.MODEL_CLASS_ANY_TYPE_REFERENCE="$any-type-reference",t.MODEL_CLASS_STRUCTURAL_TYPE_REFERENCE="$structural-type-reference",t.MODEL_CLASS_PARAM="$param",t.MODEL_CLASS_STRING_VALUE="$string-value",t.MODEL_CLASS_ARRAY_VALUE="$array-value",t.MODEL_CLASS_API_ELEMENT_DECLARATION="$api-element-declaration",t.MODEL_CLASS_CONSTRUCTOR="$constructor";var c=function(){function e(e,n){void 0===e&&(e=t.Universe),this.meta={},this._annotations=[],this._parent=e,this._config=n?n:e._config,this._children=[],u(e,"Should never be null"),this._parent.addChild(this)}return e.prototype.annotations=function(){return this._annotations},e.prototype.patchParent=function(e){this._parent=e},e.prototype.isEmpty=function(){return 0==this._children.length},e.prototype.parent=function(){return this._parent},e.prototype.children=function(){return this._children},e.prototype.comment=function(){return this._comment},e.prototype.root=function(){return this._parent==t.Universe?this:this._parent.root()},e.prototype.removeChild=function(e){e._parent==this&&(this._children=this._children.filter(function(t){return t!=e})),e._parent=t.Universe},e.prototype.addChild=function(e){e._parent&&e._parent.removeChild(e),e._parent=this,this._children.push(e)},e.prototype.serializeToString=function(){throw new Error("You should override serialize to string always")},e.prototype.modelClass=function(){return t.MODEL_CLASS_MODEL_ELEMENT},e}();t.TSModelElement=c;var p=function(e){function n(t){var n=this;void 0===t&&(t=null),e.call(this,t),this.canBeOmmited=function(){return n.locked?!1:n.children().every(function(e){return e.optional})},this.locked=!1,this.extras=[""]}return a(n,e),n.prototype.addCode=function(e){this.extras.push(e)},n.prototype.toReference=function(){throw new Error("Implement in subclasses")},n.prototype.hash=function(){return this.serializeToString()},n.prototype.isFunctor=function(){return this.children().some(function(e){return e.isAnonymousFunction()})},n.prototype.getFunctor=function(){return s.find(this.children(),function(e){return e.isAnonymousFunction()})},n.prototype.visit=function(e){e.startTypeDeclaration(this)&&(this.children().forEach(function(t,n,r){t.visit(e),n!=r.length-1&&e.betweenElements()}),e.endTypeDeclaration(this))},n.prototype.modelClass=function(){return t.MODEL_CLASS_TYPE_DECLARATION},n}(c);t.TSTypeDeclaration=p;var m=function(e){function n(t,n){e.call(this,t),this["extends"]=[],this["implements"]=[],this.name=n}return a(n,e),n.prototype.hash=function(){return this.children().filter(function(e){return!e.isPrivate}).map(function(e){return"\n"+e.serializeToString()+"\n"}).join("")},n.prototype.toReference=function(){return new P(t.Universe,this.name,this)},n.prototype.decl=function(){return"interface"},n.prototype.serializeToString=function(){var e=this.hash();return this.insertComment()+"export "+this.decl()+" "+this.name.concat(this.extendsString()+this.implementsString())+"{"+this.extras.join("\n")+e+"}\n"},n.prototype.extendsString=function(){return this["extends"].length>0?" extends "+this["extends"].map(function(e){return e.serializeToString()}).join(","):""},n.prototype.implementsString=function(){return this["implements"].length>0?" implements "+this["implements"].map(function(e){return e.serializeToString()}).join(","):""},n.prototype.insertComment=function(){return this._comment?i(this._comment,0):""},n.prototype.modelClass=function(){return t.MODEL_CLASS_INTERFACE},n}(p);t.TSInterface=m;var d=function(e){function n(){e.apply(this,arguments)}return a(n,e),n.prototype.decl=function(){return"class"},n.prototype.modelClass=function(){return t.MODEL_CLASS_CLASS_DECLARATION},n}(m);t.TSClassDecl=d;var h=function(e){function n(){e.apply(this,arguments)}return a(n,e),n.prototype.decl=function(){return"annotation"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ANNOTATION_DECLARATION},n.prototype.toReference=function(){return new E(t.Universe,this.name,this)},n}(m);t.TSAnnotationDecl=h;var f=function(e){function n(){e.apply(this,arguments)}return a(n,e),n.prototype.decl=function(){return"enum"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ENUM_DECLARATION},n}(m);t.TSEnumDecl=f;var y=function(e){function n(t,n,r){e.call(this,t),this._name=n,this._ref=r}return a(n,e),n.prototype.toReference=function(){return new A(t.Universe,this._name)},n.prototype.serializeToString=function(){return"export type "+this._name+"="+this._ref.serializeToString()+"\n"},n.prototype.ref=function(){return this._ref},n.prototype.name=function(){return this._name},n.prototype.modelClass=function(){return t.MODEL_CLASS_TYPE_ASSERTION},n}(p);t.TSTypeAssertion=y;var v=function(e){function n(){e.call(this,this)}return a(n,e),n.prototype.addChild=function(e){},n.prototype.setConfig=function(e){this._config=e},n.prototype.getConfig=function(){return this._config},n.prototype.modelClass=function(){return t.MODEL_CLASS_UNIVERSE},n}(c);t.TSUniverse=v,t.Universe=new v;var g=function(e){function n(){e.apply(this,arguments)}return a(n,e),n.prototype.getInterface=function(e){return new l(s.find(this.children(),function(t){return t.name==e}))},n.prototype.serializeToString=function(){var e={};this.children().forEach(function(t){return e[t.name]=t});var t={},n=[],r=function(i){if(!t[i.name]){t[i.name]=!0;var a=i["extends"];a.forEach(function(t){if(t instanceof A){var n=t.name,i=e[n];i&&r(i)}}),n.push(i)}};return this.children().forEach(function(e){return r(e)}),n.map(function(e){return e.serializeToString()}).join("\n")},n.prototype.modelClass=function(){return t.MODEL_CLASS_API_MODULE},n}(c);t.TSAPIModule=g;var b=function(e){function n(){e.apply(this,arguments)}return a(n,e),n.prototype.modelClass=function(){return t.MODEL_CLASS_MEMBER},n}(c);t.TSMember=b;var S=function(e){function n(){e.apply(this,arguments),this.array=function(){return!1}}return a(n,e),n.prototype.getFunctor=function(){return null},n.prototype.union=function(e){var t={};this.children().filter(function(e){return e instanceof A}).forEach(function(e){return t[e.name]=!0});var i=!1,a=r(e);if(a.forEach(function(n){i=n instanceof A?i||!t[e.name]:!0}),!i)return this;var o=new n;return this.children().forEach(function(e){return o.addChild(e)}),a.forEach(function(e){return o.addChild(e)}),o},n.prototype.isFunctor=function(){return!1},n.prototype.canBeOmmited=function(){return!1},n.prototype.serializeToString=function(){return this.children().map(function(e){return e.serializeToString()}).join(" | ")},n.prototype.removeChild=function(e){},n.prototype.addChild=function(e){this.children().push(e)},n.prototype.modelClass=function(){return t.MODEL_CLASS_UNION_TYPE_REFERENCE},n}(c);t.TSUnionTypeReference=S;var A=function(e){function n(t,n){var r=this;e.call(this,t),this.array=function(){return!1},this.genericStr=function(){return r.typeParameters&&r.typeParameters.length>0?"<"+r.typeParameters.map(function(e){return e.serializeToString()}).join(",")+">":""},this.name=n}return a(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return!1},n.prototype.union=function(e){var t=this,i=r(e),a=!1;if(i.filter(function(e){return e instanceof n}).map(function(e){return e}).forEach(function(e){return a=a||e.name==t.name}),a)return e;var o=new S;return o.addChild(this),i.forEach(function(e){return o.addChild(e)}),o},n.prototype.serializeToString=function(){return this.name+this.genericStr()},n.prototype.modelClass=function(){return t.MODEL_CLASS_SIMPLE_TYPE_REFERENCE},n}(c);t.TSSimpleTypeReference=A;var T=function(e){function n(t){var n=this;e.call(this,t),this.rangeType=new C,this.parameters=[],this.array=function(){return!1},this.paramStr=function(e){return void 0===e&&(e=!1),"("+n.parameters.filter(function(e){return!e.isEmpty()}).map(function(t){return t.serializeToString(e)}).join(", ")+")"}}return a(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return!0},n.prototype.union=function(e){var t=new S;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){return this.paramStr()+"=>"+this.rangeType.serializeToString()},n.prototype.modelClass=function(){return t.MODEL_CLASS_FUNCTION_REFERENCE},n}(c);t.TSFunctionReference=T;var w=function(e){function n(n){void 0===n&&(n=new C),
e.call(this,t.Universe),this.array=function(){return!0},this.componentType=n}return a(n,e),n.prototype.isEmpty=function(){return this.componentType?!0:!1},n.prototype.getFunctor=function(){return this.componentType.getFunctor()},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return this.componentType.isFunctor()},n.prototype.union=function(e){var t=new S;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){return this.componentType.serializeToString()+"[]"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ARRAY_REFERENCE},n}(c);t.TSArrayReference=w;var P=function(e){function n(t,n,r){e.call(this,t,n),this._data=r}return a(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.getOriginal=function(){return this._data},n.prototype.modelClass=function(){return t.MODEL_CLASS_DECLARED_INTERFACE_REFERENCE},n}(A);t.TSDeclaredInterfaceReference=P;var M=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this,t,n),this.values=r}return a(t,e),t.prototype.value=function(e){return void 0===e&&(e="value"),this.values[e]},t}(A);t.TSAnnotationReference=M;var E=function(e){function t(){e.apply(this,arguments),this.values={}}return a(t,e),t.prototype.value=function(e){return void 0===e&&(e="value"),this.values[e]},t}(P);t.TSDeclaredAnnotationReference=E;var C=function(e){function n(n){void 0===n&&(n="any"),e.call(this,t.Universe,n)}return a(n,e),n.prototype.union=function(e){return e},n.prototype.modelClass=function(){return t.MODEL_CLASS_ANY_TYPE_REFERENCE},n}(A);t.AnyType=C;var N=function(e){function n(n){var r=this;void 0===n&&(n=t.Universe),e.call(this,n),this.array=function(){return!1},this.canBeOmmited=function(){return r.locked?!1:r.children().every(function(e){return e.optional})}}return a(n,e),n.prototype.visitReturnType=function(e){this.visit(e)},n.prototype.toReference=function(){return this},n.prototype.union=function(e){var t=new S;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){var e=this.children().map(function(e){return"\n"+e.serializeToString()+"\n"}).join("");return"{"+e+"}"},n.prototype.modelClass=function(){return t.MODEL_CLASS_STRUCTURAL_TYPE_REFERENCE},n}(p);t.TSStructuralTypeReference=N,function(e){e[e.URI=0]="URI",e[e.BODY=1]="BODY",e[e.OPTIONS=2]="OPTIONS",e[e.OTHER=3]="OTHER"}(t.ParamLocation||(t.ParamLocation={}));var _=(t.ParamLocation,function(e){function n(n,r,i,a,o){void 0===a&&(a=new A(t.Universe,"string")),e.call(this,n),this.name=r,this.ptype=a,this.location=i,this.defaultValue=o}return a(n,e),n.prototype.isEmpty=function(){return this.ptype.isEmpty()},n.prototype.serializeToString=function(e){return void 0===e&&(e=!1),this.name+(this.optional||this.defaultValue&&!e?"?":"")+(":"+this.ptype.serializeToString()+(this.ptype.canBeOmmited()?"?":""))+(e&&this.defaultValue?"="+JSON.stringify(this.defaultValue):"")},n.prototype.modelClass=function(){return t.MODEL_CLASS_PARAM},n}(c));t.Param=_;var I=function(e){function n(t){e.call(this),this._value=t}return a(n,e),n.prototype.value=function(){return this._value},n.prototype.serializeToString=function(){return'"'+this._value+'"'},n.prototype.modelClass=function(){return t.MODEL_CLASS_STRING_VALUE},n}(b);t.StringValue=I;var R=function(e){function n(t){e.call(this),this._values=t}return a(n,e),n.prototype.value=function(){return this.serializeToString()},n.prototype.serializeToString=function(){return"[ "+this._values.map(function(e){return e.value()}).join(", ")+" ]"},n.prototype.values=function(){return this._values},n.prototype.modelClass=function(){return t.MODEL_CLASS_ARRAY_VALUE},n}(b);t.ArrayValue=R;var x=function(e){function n(t,n){var r=this;e.call(this,t),this.rangeType=new C,this.value=null,this.paramStr=function(e){return void 0===e&&(e=!1),"( "+r.parameters.filter(function(e){return!e.isEmpty()}).map(function(t){return r.serializeParam(t,e)}).join(",")+" )"},this.serializeParam=function(e,t){return e.serializeToString(t)},this.isFunction=function(){return 0!=r.parameters.length||r.isFunc},this.isAnonymousFunction=function(){return r.isFunction()&&""===r.name},this.returnStr=function(){return r.rangeType?":"+r.rangeType.serializeToString():""},this.name=n,this.parameters=[],this.rangeType=null,this.optional=!1}return a(n,e),n.prototype.visit=function(e){e.startVisitElement(this)&&(this.rangeType&&this.rangeType instanceof N&&!this.isInterfaceMethodWithBody()&&this.rangeType.visitReturnType(e),e.endVisitElement(this))},n.prototype.commentCode=function(){return this.comment()?i(this._comment,2):""},n.prototype.serializeToString=function(){var e=(this.isPrivate?"private ":"")+this.escapeDot(this.name)+(this.optional?"?":"")+(this.isFunction()?this.paramStr():"")+this.returnStr();return this.value&&(e+="="+this.value.value()),this.commentCode()+e+(this.isFunction()&&this.isInterfaceMethodWithBody()?"":this.body())},n.prototype.body=function(){return null==this._body?"":"{"+this._body+"}"},n.prototype.escapeDot=function(e){return o.escapeTypescriptPropertyName(e)},n.prototype.isInterfaceMethodWithBody=function(){return!1},n.prototype.modelClass=function(){return t.MODEL_CLASS_API_ELEMENT_DECLARATION},n}(b);t.TSAPIElementDeclaration=x;var L=function(e){function n(t){e.call(this,t,"constructor"),this.serializeParam=function(e,t){return"protected "+e.serializeToString(t)}}return a(n,e),n.prototype.modelClass=function(){return t.MODEL_CLASS_CONSTRUCTOR},n}(x);t.TSConstructor=L},function(e,t){e.exports=require("assert")},function(e,t,n){var r=n(121),i=function(){function e(e,t,n){void 0===t&&(t=new r.TSAPIModule),this.cfg=n,this.name=e.charAt(0).toUpperCase()+e.substr(1),this.name=this.name.replace("-",""),this.module=t}return e.prototype.generateHarEntry=function(){return this.cfg?this.cfg.storeHarEntry:!1},e.prototype.parse=function(e,t){var n=this;void 0===t&&(t=!1);var i=JSON.parse(e);if("array"==i.type){var a=i.items;if(a){var o;o=a instanceof Array?a:[a];var s=new r.AnyType,u=0;o.forEach(function(e){return s=s.union(n.createInterface(e,t,o.length>1?""+u++:""))}),s.locked=!0;var l=new r.TSArrayReference;return l.componentType=s,l}}return this.createInterface(i,t)},e.prototype.createInterface=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="");var i=new r.TSInterface(this.module?this.module:r.Universe,this.name+n);return this.processNode(e,i),this.generateHarEntry()&&t&&this.appendHarEntry(i),i.toReference()},e.prototype.appendHarEntry=function(e){var n,i=this.module.getInterface("HarEntry");i.isDefined()?n=i.getOrThrow().toReference():(this.name="HarEntry",n=this.createInterface(t.HAR_ENTRY_SCHEMA,!1));var a=new r.TSAPIElementDeclaration(e,"__$harEntry__");a.rangeType=n,a.optional=!0},e.prototype.replace=function(e){return e},e.prototype.createTypeDeclaration=function(e){var t=new r.TSStructuralTypeReference(e);return t.locked=!0,t},e.prototype.processNode=function(e,t){var n=this;for(var i in e.properties){var a=new r.TSAPIElementDeclaration(t,i),o=e.properties[i],s=o.type,u=o.required;if(u||(a.optional=!0),"array"==s){var l=new r.AnyType,c=[];o.items&&(c=o.items instanceof Array?o.items:c.concat(o.items)),c.filter(function(e){return e.type}).forEach(function(e){var t=e.type,i=null;if(n.isPrimitive(t))i=new r.TSSimpleTypeReference(a,t);else{var o=n.createTypeDeclaration(a);n.processNode(e,o),i=n.replace(o).toReference()}i.locked=!0,l=l.union(i)});var p=new r.TSArrayReference;p.componentType=l,a.rangeType=p}else if("object"===s){var m=null,d=this.createTypeDeclaration(a);this.processNode(o,d),m=this.replace(d).toReference(),a.rangeType=m}else s=this.cleanUpTypeDecl(s),a.rangeType=new r.TSSimpleTypeReference(a,s)}},e.prototype.cleanUpTypeDecl=function(e){return null==e&&(e="string"),e=e.toString(),-1!=e.indexOf(",")&&(e="string"),-1!=e.indexOf(" ")&&(e="string"),"integer"==e&&(e="number"),"null"==e&&(e="string"),"string"!=e&&"number"!=e&&"boolean"!=e&&"any[]"!=e&&(e="string"),e},e.prototype.isPrimitive=function(e){return"string"===e||"number"===e},e}();t.JSONSchematToTS=i,t.HAR_ENTRY_SCHEMA={properties:{response:{type:"object",required:!0,properties:{content:{type:"object",required:!0,properties:{text:{type:"string",required:!0}}},status:{type:"number",required:!0}}},request:{type:"object",required:!0}}}},function(e,t,n){function r(e){var t=e.prefix,n=e.localPart,r=t+(t.length>0?":":"")+n;return r}function i(e,t){var n="";if("object"==typeof e){var r=!t;n+=r?'<?xml version="1.0" encoding="UTF-8"?>':"<"+t;var a=[],o=[];Object.keys(e).forEach(function(e){"@"==e.charAt(0)?a.push(e):o.push(e)});a.forEach(function(t){return n+=i(e[t],t)}),r||(n+=">"),o.forEach(function(t,a){if(0==a||!r){var o=e[t];Array.isArray(o)?o.forEach(function(e,a){0!=a&&r||(n+=i(e,t))}):n+=o instanceof Object?i(o,t):i(o,t)}}),r||(n+="</"+t+">")}else{var s=t&&"@"==t.charAt(0);n+=s?" "+t.substring(1)+'="':"<"+t+">",n+=e.toString(),n+=s?'"':"</"+t+">"}return n}function a(e){var t=l(e),n=new S("SomeType").getRootElements(t);return 0==n.length?d.empty():new d(n[0].name())}function o(e,t){var n=l(t),r=new S("SomeType").getRootElements(n);if(0==r.length)return d.empty();try{var i=y(e)}catch(a){return d.empty()}var o=Object.keys(i);if(0==o.length)return d.empty();var u=o[0],c={};return c[u]=s(i[u],r[0]),new d(c)}function s(e,t){var n=t.type().getOrThrow(),r=t.isArray(),i=r&&"array"==typeof e?e:[e],a=[];return i.forEach(function(e){if(n.isSimple()){var t=u(e,n);a.push(t)}else{a.push(e);var r=n.elements();r.forEach(function(t){var n=t.name(),r=e[n];r&&(e[n]=s(r,t))});var i=n.attributes();i.forEach(function(t){var n="@"+t.name(),r=e[n];if(r){var i=t.type().getOrThrow();e[n]=u(r,i)}})}}),r?a:a[0]}function u(e,t){var n=t.name(),r=e.toString();if("number"==n)try{return Number(r)}catch(i){}else if("boolean"==n){if("true"==r.toLowerCase())return!0;if("false"==r.toLowerCase())return!1}return r}function l(e){var t=n(126).XSD_1_0,r=new h.Jsonix.Context([t]),i=r.createUnmarshaller(),a=i.unmarshalString(e);return a}function c(e){var t=l(e);return new S("SomeType").getRootElements(t)}function p(e){return b[e]}var m=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},d=n(67),h=n(125),f=n(123),y=n(80),v=n(121),g="__any_type__",b={ENTITIES:"string",ENTITY:"string",ID:"string",IDREF:"string",IDREFS:"string",language:"string",Name:"string",NCName:"string",NMTOKEN:"string",NMTOKENS:"string",normalizedString:"string",QName:"string",string:"string",token:"string",date:"string",dateTime:"string",duration:"string",gDay:"string",gMonth:"string",gMonthDay:"string",gYear:"string",gYearMonth:"string",time:"string",anyURI:"string",base64Binary:"string",hexBinary:"string",NOTATION:"string","boolean":"boolean","double":"number","float":"number","byte":"number",decimal:"number","int":"number",integer:"number","long":"number",negativeInteger:"number",nonNegativeInteger:"number",nonPositiveInteger:"number",positiveInteger:"number","short":"number",unsignedLong:"number",unsignedInt:"number",unsignedShort:"number",unsignedByte:"number"},S=function(){function e(e,t,n){this.simpleTypes={},this.complexTypes={},this.elementGroups={},this.attributeGroups={},this.cfg=n,this.name=e.charAt(0).toUpperCase()+e.substr(1),this.name=this.name.replace("-",""),this.module=t}return e.prototype.parse=function(e,t){void 0===t&&(t=!1);var n=l(e);return this.createInterface(n,t)},e.prototype.createInterface=function(e,t){var n=this,r=new v.TSInterface(this.module?this.module:v.Universe,this.name),i=(new v.AnyType,this.getRootElements(e));return i.forEach(function(e){return n.processProperty(e,r,i.length>1)}),this.generateHarEntry()&&t&&new f.JSONSchematToTS("SomeType",this.module).appendHarEntry(r),r.toReference()},e.prototype.generateHarEntry=function(){return this.cfg?this.cfg.storeHarEntry:!1},e.prototype.getRootElements=function(e){var t=this,n=e.value,r=[];if(n){var i=n.group;i&&i.forEach(function(e){return t.elementGroups[e.name]=e});var a=n.attributeGroup;a&&a.forEach(function(e){return t.attributeGroups[e.name]=e});var o=n.simpleType;o&&o.forEach(function(e){return t.simpleTypes[e.name]=e});var s=n.complexType;s&&s.forEach(function(e){return t.complexTypes[e.name]=e});var u=n.element;u&&(r=u.map(function(e){return new w(t,e)}))}return r},e.prototype.processElement=function(e,t){for(var n=this,r=e.type();r.isDefined();){var i=r.getOrThrow(),a=i.elements();a.forEach(function(e){return n.processProperty(e,t)});var o=i.attributes();o.forEach(function(e){return n.processProperty(e,t)}),r=i.base()}},e.prototype.processProperty=function(e,t,n){void 0===n&&(n=!1);var r=e.isAttribute()?"@"+e.name():e.name(),i=new v.TSAPIElementDeclaration(t,r);i.optional=n||e.optional();var a,o=e.type().getOrThrow();if(o.isSimple()){var s=o.getBaseName(),u=b[s.substring(s.indexOf(":")+1)];if(!u)throw new Error("Unable to resolze XSD simple type: "+s);a=new v.TSSimpleTypeReference(i,u)}else{if(e.isAttribute())throw new Error("Attribute with complex type occured in "+this.name);if(o.name()&&g==o.name())a=new v.AnyType;else{var l=new v.TSStructuralTypeReference(i);this.processElement(e,l),a=l.toReference()}}if(e.isArray()){var c=new v.TSArrayReference;c.componentType=a,i.rangeType=c}else i.rangeType=a},e}();t.XMLSchematToTS=S;var A=function(){function e(e,t){var n=this;this.owner=e,this._object=t,this.name=function(){return n._object.name}}return e.prototype.type=function(){var e,t,n=!1;if(this._object.type){var i=this._object.type;e=r(i);var a=this.owner.simpleTypes[e];a&&(t=a,n=!0);var o=this.owner.complexTypes[e];o&&(t=o),(0==e.indexOf("xs:")||0==e.indexOf("xsd:"))&&"any"!=e.substring(e.indexOf(":")+1)&&(n=!0)}else this._object.complexType?t=this._object.complexType:this._object.simpleType&&(t=this._object.simpleType);var s=new P(this.owner,e,n,t);return new d(s)},e.prototype.optional=function(){throw new Error("This method is abstract.")},e.prototype.isArray=function(){throw new Error("This method is abstract.")},e.prototype.isAttribute=function(){return!1},e}();t.PropertyDescription=A;var T=function(e){function t(t,n){e.call(this,t,n)}return m(t,e),t.prototype.optional=function(){var e=this._object.otherAttributes;if(!e)return!1;var t=e.use;return t?"required"!=t:!1},t.prototype.isArray=function(){return!1},t.prototype.isAttribute=function(){return!0},t}(A);t.AttributeDescription=T;var w=function(e){function t(t,n){e.call(this,t,n)}return m(t,e),t.prototype.isArray=function(){var e=this._object.otherAttributes;if(!e)return!1;var t=e.maxOccurs;if(!t)return!1;if("unbounded"==t)return!0;try{var n=parseInt(t);return n>1}catch(r){}return!1},t.prototype.optional=function(){var e=this._object.otherAttributes;if(!e)return!0;var t=e.minOccurs;if(!t)return!0;try{var n=parseInt(t);return 0==n}catch(r){}return!0},t}(A);t.ElementDescription=w;var P=function(){function e(e,t,n,r){var i=this;this.owner=e,this._name=t,this._isSimple=n,this._object=r,this.name=function(){return i._name},this.isSimple=function(){return i._isSimple},this.object=function(){return i._object}}return e.prototype.isChoice=function(){return this.object&&(this.object.choice||this.object.complexContent&&this.object.complexContent.choice)},e.prototype.elements=function(){var e=this,t=[];if(this._object&&(t=this.collectElements(this._object),0==t.length)){var n=this.object.complexContent;n&&(t=this.collectElements(n))}var r=t.map(function(t){return new w(e.owner,t)});return r},e.prototype.attributes=function(){for(var e=this,t=[],n=[this._object],r=0;r<n.length;r++){var i=n[r];if(i){if(i.attributeGroup)for(var a=i.attributeGroup.filter(function(e){return e.otherAttributes}),o=0;o<a.length;o++){var s=a[o].otherAttributes.ref,u=this.owner.attributeGroups[s];n.push(u)}i.attribute&&i.attribute.forEach(function(n){return t.push(new T(e.owner,n))})}}return t},e.prototype.base=function(){if(!this._object)return d.empty();var t;if(this._object.restriction){var n=this._object.restriction;t=n.base}else if(this._object.complexContent){var i=this.object.complexContent,a=i.restriction||i.extension;a&&(t=a.base)}if(!t)return d.empty();var o,s=r(t),u=!1,l=this.owner.simpleTypes[s];l&&(o=l,u=!0);var c=this.owner.complexTypes[s];c&&(o=c),(0==s.indexOf("xs:")||0==s.indexOf("xsd:"))&&"any"!=s.substring(s.indexOf(":")+1)&&(u=!0);var p=new e(this.owner,s,u,o);return new d(p)},e.prototype.getBaseName=function(){for(var e=new d(this),t="";e.isDefined();){var n=e.getOrThrow();t=n.name(),e=n.base()}return t},e.prototype.collectElements=function(e){for(var t=[],n=[e.sequence,e.any,e.choice],r=0;r<n.length;r++){var i=n[r];if(i){if(i.group)for(var a=i.group.filter(function(e){return e.otherAttributes}),o=0;o<a.length;o++){var s=a[o].otherAttributes.ref,u=this.owner.elementGroups[s];u&&(u.sequence&&(n=n.concat(u.sequence)),u.any&&(n=n.concat(u.any)),u.choice&&(n=n.concat(u.choice)))}i.element&&(t=t.concat(i.element)),t=t.concat(this.collectElements(i))}}return t},e}();t.serializeToXML=i,t.rootElementName=a,t.parseClassInstance=o,t.rootElements=c,t.getTSType=p},function(e,t){e.exports=require("jsonix")},function(e,t){e.exports=require("w3c-schemas")},function(e,t,n){function r(e){return s.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function i(e,t){var n={};return p.Matching.visit(e,function(e){if(191==e.kind){var r=e,i=r.moduleReference.expression,a=i.text,o=d.resolve(d.dirname(t),a)+".ts";if(u.existsSync(o)){var s=u.readFileSync(o).toString(),l=s.indexOf(f),p=s.indexOf(y);if(-1!=l){var m=s.substring(l+f.length+2,p-3),h=c.wrap(JSON.parse(m).data);n[r.name.text]=h}}}}),n}function a(e,t){var n={},r={};for(var i in t)n[i]=p.Matching.memberFromExp(i+".createApi(*)");return p.Matching.visit(e,function(e){if(v.doMatch(e)){var i=e;for(var a in n)n[a].doMatch(i.initializer)&&(r[i.name.text]=t[a])}}),r}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(102),u=n(4),l=n(17),c=n(120),p=n(103),m=n(118),d=n(10),h=function(){function e(e,t,n,r){this._method=e,this._callPath=t,this._sourceFile=n,this.text=r,this._urlParametersDefined=[],this._methodParameterMappings=[],this._index=-1,this._owner=null}return e.prototype.start=function(){return this._callPath.start()},e.prototype.startLocation=function(){return this._sourceFile.getLineAndCharacterFromPosition(this.start())},e.prototype.endLocation=function(){return this._sourceFile.getLineAndCharacterFromPosition(this.end())},e.prototype.end=function(){return this._callPath.end()},e.prototype.getText=function(){return this.text},e.prototype.method=function(){return this._method},e.prototype.getParameters=function(){var e=[];return e=e.concat(this._urlParametersDefined),e=e.concat(this._methodParameterMappings),this._body&&e.push(this._body),e},e.prototype.setParameter=function(e,t,n){var r=this.getParameter(e);if(0==t.length&&e.required()&&(t="''"),r)if(0==t.length){var i=r.initializer.end-1,a=this.text.indexOf(",",i),o=this.text.indexOf("}",i);if(0==r.kind){var s=this.text.indexOf(")",i);a>s?i=s-1:-1!=a&&(i=a)}else-1!=a?(i=a,a>o&&(i=o-1)):i=o-1;var u=r.pos,l=this.text.substring(n,u).lastIndexOf(",");-1!=l&&(u=l+1+n),this.replace(u,i+1,"")}else this.replace(r.initializer.pos,r.initializer.end,t);else if(t.length>0)if(this._paramsLiteral){for(var c=this._paramsLiteral.pos+1,p=c,m="",d=this._sourceFile.getLineStarts()[this._sourceFile.getLineAndCharacterFromPosition(this._paramsLiteral.pos).line-1],h=d;h<this.text.length;h++){var f=this.text.charAt(h);if(" "!=f)break;m+=" "}m+="    ",this.replace(c,p,"\n"+m+e.name()+":"+t+",")}else{for(var c=this.end(),d=this._sourceFile.getLineStarts()[this._sourceFile.getLineAndCharacterFromPosition(this.end()).line-1],h=c;h>0;h--){var f=this.text.charAt(h);if(")"==f){c=h;break}}this.replace(c,c,"{"+e.name()+":"+t+"}")}return this.text},e.prototype.getLocationForPosition=function(e){return this._sourceFile.getLineAndCharacterFromPosition(e)},e.prototype.replace=function(e,t,n){var r=this;this.replaceHandler&&this.replaceHandler(e,t,n),this.text=this.text.substr(0,e)+n+this.text.substr(t),this._owner.rebuild(this.text);var i=this._owner.calls()[this._index];Object.keys(i).forEach(function(e){return r[e]=i[e]})},e.prototype.getParameterValueAsString=function(e){var t=this.getParameter(e);if(t){var n=t.getValueAsString();return n}return null},e.prototype.getParameterValueAsTypeScriptCode=function(e){var t=this.getParameter(e);if(t){var n=t.getValueAsTypeScriptCode();return n}return null},e.prototype.getParameter=function(e){var t=1;4==e.location()?t=2:3==e.location()&&(t=0);var n=l.find(this.getParameters(),function(t){return t.name==e.name().trim()});return n},e.prototype.getParameterLocation=function(e){return null},e.prototype.getBodyValueAsString=function(){return null},e.prototype.getBodyLocation=function(){return null},e.matchCallPath=function(e,t,n){void 0===n&&(n=new m.Config);var r=e.allResources().map(function(e){return e.segments()}),i=null;return r.forEach(function(e){if(!i){for(var r=0,a=0;a<e.length;a++){if(r>=t.path.length)return;if(m.escapedName(e[a].relativeUri())!=t.path[r].name)return;r++}var o=e[e.length-1];if(r==t.path.length){if(n.collapseOneMethod&&1==o.methods().length)return void(i=o.methods()[0]);if(n.collapseGet){var s=l.filter(o.methods(),function(e){return"get"==e.method()});if(1==s.length)return s[0]}}r==t.path.length-1&&o.methods().forEach(function(e){return e.method()==t.path[t.path.length-1].name?void(i=e):void 0})}}),i},e.buildFrom=function(t,n,r,i,a){void 0===a&&(a=new m.Config);var o=e.matchCallPath(t,n,a);return o?e.build(o,n,r,a,i):null},e.build=function(t,n,r,i,a){var o=new e(t,n,a,r);if(o.text=r,n.path)for(var s=0;s<n.path.length;s++){var u=n.path[s];if(s==n.path.length-1)null!=u.arguments&&(2==u.arguments.length?i.queryParametersSecond?(o._body=new S(u.arguments[0],r),e.initParams(o,u.arguments[1],r)):(o._body=new S(u.arguments[1],r),e.initParams(o,u.arguments[0],r)):t&&t.bodies().length>0&&u.arguments.length>0?o._body=new S(u.arguments[0],r):e.initParams(o,u.arguments[0],r));else if(null!=u.arguments&&t){var l=t.resource().segments()[s].uriParameters().filter(function(e){return m.emitParameter(i,e)});if(l.length!=u.arguments.length)throw new Error("Should match now!!!");for(var c=0;c<l.length;c++)o._urlParametersDefined.push(new A(l[c].name(),u.arguments[c],r))}}return o._method=t,o},e.initParams=function(t,n,r){if(n&&142==n.kind){var i=n;t._paramsLiteral=i,i.properties.forEach(function(n){var i=n;if(198==i.kind){var a=i,o=e.toStringName(i.name),s=a.initializer,u=1;0==o.indexOf("header_")&&(o=o.substring("header_".length),u=2),t._methodParameterMappings.push(new b(o,i.name.pos,s,u,r))}})}},e.toStringName=function(e){return e.text},e}();t.MappedHTTPCall=h;var f="APIENCODEDSTART",y="APIENCODEDEND";t.moduleNameToApi=i;var v=(p.Matching.assign(p.Matching.anyNode(),p.Matching.anyNode()),p.Matching.varDecl(p.Matching.anyNode(),p.Matching.anyNode()));t.apiToClientName=a;var g=function(){function e(e,t,n){void 0===t&&(t=new m.Config),void 0===n&&(n=null),this._cfg=t,this._currentContent=n,this._calls=[],this._path=e,this._text=u.readFileSync(e,"utf-8"),this._module=r(this._text);var o=i(this._module,e),s=a(this._module,o);this._apis=s,this.rebuild(n)}return e.prototype.text=function(){return this._text},e.prototype.path=function(){return this._path},e.prototype.apis=function(){return this._apis},e.prototype.calls=function(){return this._calls},e.prototype.rebuild=function(e){this._currentContent=e;var t=this._module;this._currentContent&&(this._text=this._currentContent,t=r(this._currentContent)),this.rebuildSourceFile(t)},e.prototype.rebuildSourceFile=function(e){var t=this,n=this._apis;this._calls=[];var r=0;for(var i in this._apis){var a=new p.Matching.CallBaseMatcher(p.Matching.ident(i));p.Matching.visit(e,function(o){var s=a.doMatch(o);if(s&&s.path.length>0){var u=h.buildFrom(n[i],s,t._text,e,t._cfg);return u?(u._index=r++,u._owner=t,t._calls.push(u)):console.log("Error - can not match:"+s.base+s.path.map(function(e){return e.name}).join(".")),p.Matching.SKIP}})}},e}();t.StaticCallsInfo=g,function(e){e[e.URL=0]="URL",e[e.QUERY=1]="QUERY",e[e.HEADER=2]="HEADER",e[e.BODY=3]="BODY",e[e.FORM=4]="FORM"}(t.MappingKind||(t.MappingKind={}));var b=(t.MappingKind,function(){function e(e,t,n,r,i){this.name=e,this.pos=t,this.initializer=n,this.kind=r,this.name=e,this.initializer=n,this.kind=r,this.text=i.substring(n.pos,n.end).trim()}return e.prototype.isStringLiteral=function(){return 7==this.initializer.kind},e.prototype.getValueAsString=function(){return this.isStringLiteral()?this.text.substring(1,this.text.length-1):this.text},e.prototype.getValueAsTypeScriptCode=function(){return this.text},e}()),S=function(e){function t(t,n){e.call(this,"_body",t.pos,t,3,n)}return o(t,e),t}(b),A=function(e){function t(t,n,r){e.call(this,t,n.pos,n,0,r)}return o(t,e),t}(b)},function(e,t,n){function r(e){return null}var i=n(17),a=n(129),o=n(4),s=n(10),u=function(){function e(){var e=this;this._failures=[],this.coveredResources=function(){return e._coveredResources},this.notCoveredResources=function(){return e._notCoveredResources},this.coveredMethods=function(){return e._coveredMethods},this.notCoveredMethods=function(){return e._notCoveredMethods}}return e.prototype.failures=function(){return this._failures},e.prototype.statuses=function(e){var t=this.steps(e);return i.unique(t.map(function(e){return e.response.status}))},e.prototype.apis=function(){return this._apis},e.prototype.findSteps=function(e,t){return this._execution.steps.filter(function(n){return n.lineNumber==e+1&&n.filePath==t})},e.prototype.stepsFromIds=function(e){return this._execution.steps.filter(function(t){return-1!=e.indexOf(t.id)})},e.prototype.steps=function(e){return this._execution.steps.filter(function(t){return t.methodId==e.id().value()})},e.prototype.allSteps=function(){return this._execution.steps},e.prototype.methodFromStep=function(e){var t=null;return this.apis().forEach(function(n){return n.allMethods().forEach(function(n){n.id().value()==e.methodId&&(t=n)})}),t},e.prototype.stepFailures=function(e){return this._failures.filter(function(t){return t.step.id==e.id})},e.prototype.methodFailures=function(e){return this._failures.filter(function(t){return t.step.methodId==e.id().value()})},e.prototype.vars=function(){return this._execution.variableLog},e.build=function(t,n){try{e.remapLines(t)}catch(r){}var i={};t.steps.forEach(function(e){var t=e.apiTitle,n=e.resourceId,r=e.methodId;console.log(e.methodId);var a=i[t];a||(a={},i[t]=a);var o=a[n];o||(o={},a[n]=o),o[r]=1});var a=[];t.steps.forEach(function(e){e.messages&&e.messages.forEach(function(t){0!=t.severity&&a.push({message:t,step:e})})});var o=[],s=[],u=[],l=[],c=0;n.filter(function(e){return null!=e&&void 0!=e}).forEach(function(e){return c+=e.allMethods().length}),n.filter(function(e){return null!=e&&void 0!=e}).forEach(function(e){return e.allResources().forEach(function(t){var n=i[e.title().value()];if(n){var r=n[t.id().value()];if(!r)return void l.push(t);var a=!0;t.methods().forEach(function(e){var t=r[e.id().value()];t?o.push(e):(a=!1,u.push(e))}),a?s.push(t):l.push(t)}})});var p=new e;return p._coveredMethods=o,p.procent=p.coveredMethods().length/c,p._coveredResources=s,p._notCoveredResources=l,p._failures=a,p._execution=t,p._apis=n,p},e.remapLines=function(e){var t={};e.steps.forEach(function(e){var n=t[e.filePath];if(!n){var r=e.filePath+".map",i=JSON.parse(o.readFileSync(r).toString());n=new a.SourceMapConsumer(i),t[e.filePath]=n}var u={line:e.lineNumber,column:e.columnNumber},l=n.originalPositionFor(u);if(l){e.lineNumber=l.line,e.columnNumber=l.column;var c=l.source.replace(".l.ts","");e.filePath=s.resolve(s.dirname(e.filePath),c)}})},e}();t.ReportObject=u,t.merge=r,function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(t.MessageSeverity||(t.MessageSeverity={}));t.MessageSeverity;!function(e){e[e.OK=0]="OK",e[e.VALIDATION_FAILURE=1]="VALIDATION_FAILURE",e[e.EXCEPTION=2]="EXCEPTION",e[e.OTHER=3]="OTHER"}(t.MessageCodes||(t.MessageCodes={}));t.MessageCodes},function(e,t){e.exports=require("source-map")},function(e,t,n){function r(){var e=new c;return e}var i=n(131),a=n(137),o=n(120),s=n(66),u=n(4),l=n(10),c=n(65).XMLHttpRequest,p="config.cfg",m="auth.cfg",d="generation.cfg",h=function(){function e(e,t,n){void 0===n&&(n=[]),this.authStorage=e,this.parent=t,this.rootPath=n}return e.prototype.getValue=function(e,t){var n=this.authStorage.readValue(this.rootPath.concat(e));return!n&&this.parent?this.parent.getValue(e,t):n},e.prototype.writeValue=function(e,t,n){this.authStorage.writeValue(this.rootPath.concat(e),t)},e.prototype.getSubProvider=function(t){return new e(this.authStorage,this,this.rootPath.concat(t))},e}(),f=function(){function e(e){this._dirname=e,this.reportManager=new i.ReportManager,this.cfgPrompt=new y(this.configPath()),this.authStorage=new v(this.authConfigPath()),this.apis={},this.securityParamsProvider=new h(this.authStorage),this.authManager=new a.AuthManager(this.securityParamsProvider)}return e.prototype.setPath=function(e){this._dirname=e,this.authStorage=new v(this.authConfigPath()),this.securityParamsProvider=new h(this.authStorage),this.authManager=new a.AuthManager(this.securityParamsProvider)},e.prototype.getSecurityProvider=function(){return this.securityParamsProvider},e.prototype.configPath=function(){return l.resolve(this._dirname,p)},e.prototype.authConfigPath=function(){return l.resolve(this._dirname,m)},e.prototype.configFileName=function(){return p},e.prototype.authConfigFileName=function(){return m},e.prototype.generationConfigFileName=function(){return d},e.prototype.execCfgPrompt=function(e){return this.cfgPrompt.prompt(e)},e.prototype.getReportManager=function(){return this.reportManager},e.prototype.getAuthManager=function(){return this.authManager},e.prototype.registerApi=function(e){var t=this.apiKey(e);this.apis[t]||(this.apis[t]=e,this.authManager.registerApi(e))},e.prototype.apiKey=function(e){if(e instanceof o.Api){var t=e;return t.title().getOrElse("title")+" "+t.version().getOrElse("version")}var n=e;return n.title()+" "+n.version()},e.prototype.finalize=function(){this.reportManager.finalize()},e}(),y=function(){function e(e){this.configFilePath=e}return e.prototype.findValue=function(e,t){var n=t.indexOf(e);if(-1==n)throw new Error("Configuration value "+e+" not found");t=t.substr(n+e.length);var r=t.indexOf("=");t=t.substr(r+1);var i=t.indexOf("\n");return-1!=i&&(t=t.substr(0,i)),t.trim()},e.prototype.prompt=function(e){if(u.existsSync(this.configFilePath)){var t=u.readFileSync(this.configFilePath).toString();return this.findValue(e,t)}var n=r(),i="http://localhost:4343/"+e;return n.open("GET",i,!1),n.send(),n.responseText},e}(),v=function(){function e(e){this.obj={},this.filePath=e}return e.prototype.readValue=function(e){if(this.update(),!this.obj)return null;for(var t=this.obj,n=0;n<e.length;n++)if(t=t[e[n]],!t)return null;return t},e.prototype.writeValue=function(e,t){for(var n=this.obj,r=0;r<e.length-1;r++){var i=e[r];n[i]||(n[i]={}),n=n[i]}n[e[e.length-1]]=t},e.prototype.update=function(){if(u.existsSync(this.filePath)){var e=u.readFileSync(this.filePath).toString(),t=JSON.parse(e);s.updateObject(t,this.obj,!0)}},e}(),g=new f(__dirname);process.on("exit",function(){g.finalize()}),e.exports=g},function(e,t,n){var r=n(128),i=n(132),a=n(133),o=n(66),s=n(10),u=n(4),l="executionLog.json",c="-logDir",p="-resetLog",m=function(){function e(){this.blocked=!1,this.hasBeenUsed=!1,this.startedWriting=!1,this.reset=!1,this.logPathArgName=function(){return c},this.resetLogArgName=function(){return p},this.logDefaultFileNmae=function(){return l};for(var e=process.argv,t=0;t<e.length;t++)e[t]==c&&t<e.length-1?this.logPath=e[t+1]:e[t]==p&&(this.reset=!0);this.logPath||(this.logPath=s.resolve(process.cwd(),l))}return e.prototype.setLogPath=function(e){this.logPath=u.lstatSync(e)&&u.lstatSync(e).isDirectory()?s.resolve(e,l):e,
this.startedWriting=!1},e.prototype.serializeStep=function(e){for(this.hasBeenUsed=!0;this.blocked;);this.blocked=!0;try{var t=",\n"+JSON.stringify(e);if(this.startedWriting)u.appendFileSync(this.logPath,t,"utf8");else{var n=u.existsSync(this.logPath);if(!n||this.reset)u.writeFileSync(this.logPath,"["+t.substring(1),"utf8");else{var r=u.readFileSync(this.logPath).toString().trim();o.stringEndsWith(r,"]")&&u.writeFileSync(this.logPath,r.substring(0,r.length-1)+t)}this.startedWriting=!0}}catch(i){console.log(i)}finally{this.blocked=!1}},e.prototype.finalize=function(){if(this.hasBeenUsed)try{u.appendFileSync(this.logPath,"\n]","utf8")}catch(e){console.log(e)}},e.prototype.readReport=function(e){var t=u.readFileSync(e).toString().trim();t.indexOf("]",t.length-1)<0&&(t+="]");var n=JSON.parse(t);return n},e.prototype.getReportObject=function(e,t){var n=(new a.BackReport).buildReport(t),r=[];for(var i in n.apis){var o=n.apis[i];r.push(o)}return this.getReportObjectForApis(e,r)},e.prototype.getLatestReportFor=function(e){var t=s.dirname(e)+"/executionLog.json";if(!u.existsSync(e)||!u.existsSync(t))return null;var n=this.getReportObject(t,e);return n},e.prototype.getReportObjectForApis=function(e,t){var n=this.readReport(e),a=new i.ExecutionReport(n,(new Date).toDateString()),o=r.ReportObject.build(a,t);return o},e}();t.ReportManager=m},function(e,t){var n=function(){function e(e,t,n){var r=this;this.date=t,this.environment=n,this.steps=[],this.variableLog=[],e.forEach(function(e){e.varName?r.variableLog.push(e):r.steps.push(e)})}return e}();t.ExecutionReport=n;var r=function(){function e(){this.id=""+(new Date).getTime(),this.messages=[]}return e.prototype.appendMessage=function(e){this.messages.push(e)},e}();t.Step=r;var i=function(){function e(e,t,n,r){this.code=e,this.severity=t,this.message=n,this.extras=r}return e}();t.Message=i},function(e,t,n){var r=n(120),i=n(134),a=n(4),o=n(10),s="APIENCODEDSTART",u="APIENCODEDEND",l=function(){function e(){}return e.prototype.buildReport=function(e,t){void 0===t&&(t=this.extractConfig(e));var n=a.readFileSync(e).toString(),i=o.dirname(e),l={},c={};return n.split("\n").forEach(function(e){var t=e.indexOf("import");if(-1!=t){e=e.substr(t+"import ".length).trim();var n=e.substr(0,e.indexOf("=")).trim(),p=e.substr(e.indexOf('"')+1);p=p.substr(0,p.lastIndexOf('"'));var m=o.resolve(i,p+".ts");if(a.existsSync(m))try{var d=a.readFileSync(m).toString(),h=d.indexOf(s),f=d.indexOf(u);if(-1!=h){var y=d.substring(h+s.length+2,f-3),v=r.wrap(JSON.parse(y).data);l[n]=v}}catch(g){console.log(g)}}var t=e.indexOf("createApi");if(-1!=t){var n=e.substr(0,e.indexOf("=")).trim();n=n.substr(e.indexOf("var ")+4).trim();var p=e.substring(e.indexOf("=")+1,e.indexOf(".")).trim();c[n]=l[p],l[p]||console.log("Error: not able to load api:"+n+":"+p)}}),{apis:c,calls:this.buildOccurenceReport(n,c,t)}},e.prototype.buildOccurenceReport=function(e,t,n){for(var r=[],i=this.buildPatterns(t,n),a=this.cleanContent(e),o=0;o<a.length;o++){var s=a[o];if(0!=s.trim().length)for(var u in t)for(var l=s,c=i[u];l.length>0;){var p=l.indexOf(u+".");if(-1==p)break;l=l.substring(p+(u+".").length);for(var m in c)0==("client."+l).indexOf(m)&&(r.push({method:c[m],lineNumber:o+1}),l=l.substr(m.length));l=l.substr(1)}}return r},e.prototype.extractConfig=function(e){try{var t=o.dirname(e),n=a.readFileSync(e).toString(),r=n.replace(new RegExp("s","g"),""),i=r.indexOf('require("./api'),i=r.indexOf('"',i)+1,s=r.indexOf('"',i+1),u=r.substring(i,s)+".ts",l=o.resolve(t,u),c=a.readFileSync(l).toString(),p=c.indexOf("CONFIGENCODEDSTART");p=c.indexOf("{",p);var m=c.indexOf("CONFIGENCODEDEND",p);m=c.lastIndexOf("}",m)+1;var d=c.substring(p,m),h=JSON.parse(d);return h}catch(f){return null}},e.prototype.cleanContent=function(e){var t=[],n=!1,r="";try{for(var i=0;i<e.length;i++){var a=e.charAt(i);"("==a?n=!0:")"==a?n=!1:("\n"==a&&(t.push(r),r=""),n||(r+=a))}}catch(o){console.log(o)}return t.push(r),t},e.prototype.buildPatterns=function(e,t){var n={};for(var r in e){var a=e[r];if(a){var o=a.allMethods(),s={};n[r]=s,o.forEach(function(e){try{var n=i.HTTPCallOccurence.getPattern(r,e,t);s[n]=e}catch(a){console.log(a.stack)}})}}return n},e}();t.BackReport=l},function(e,t,n){var r=n(56),i=(n(120),n(135)),a=n(118),o=n(136),s=n(67),u=function(){function e(e,t,n){this.name=e,this.value=t,this.location=n}return e.build=function(t,n,r){return new e(t,i.literal(""+n),r)},e.buildNumber=function(t,n,r){return new e(t,i.literal(""+n),r)},e.buildBoolean=function(t,n,r){return new e(t,i.literal(""+n),r)},e}();t.ParameterWithValue=u;var l=function(){function e(e,t,n,r,i,a){this.name=e,this.uriParameters=r,this.api=t.api(),this.method=t,this.segments=n,this.bodyParameter=i,this.otherParams=a}return e.prototype.toString=function(){return this.method.id()},e.build=function(t,n,r,i,a){var o=n.resource(),s=o.segments();return new e(t,n,s,r,i,a)},e.getPattern=function(t,n,r){var i=e.buildFrom(t,n,[],"body").toPatternString(r);return i},e.buildFrom=function(t,n,a,o){var s=a.filter(function(e){return 2==e.location}),l=n.resource().completeRelativeUri().split("/"),c=[];l.forEach(function(t){if(0!=t.length){var n=e.getUriParamNames(t),r=[];n.forEach(function(t){var n=e.findName(t,s);r.push(n.getOrElse(new u(t,i.literal(""),2)).value)}),c.push(r)}});var p=i.object(),m=a.filter(function(e){return 0==e.location});this.pushParams(m,p,"");var d=a.filter(function(e){return 4==e.location});this.pushParams(d,p,"header_");var h=a.filter(function(e){return 1==e.location});return this.pushParams(h,p,"form_"),o=r.parse(JSON.stringify(o)),e.build(t,n,c,o,p)},e.pushParams=function(e,t,n){e.forEach(function(e){return t.properties.push(i.property(n+e.name,e.value))})},e.findName=function(e,t){var n=s.empty();return t.filter(function(t){return t.name==e}).forEach(function(e){return n=new s(e)}),n},e.getUriParamNames=function(e){for(var t=[],n=null,r=0;r<e.length;r++){var i=e.charAt(r);"{"!=i?"}"!=i||null==n?null!=n&&(n+=i):(t.push(n),n=null):n=""}return t},e.prototype.isCollapsed=function(e){return"get"==this.method.method()?e.collapseGet:1==this.method.resource().methods().length?e.collapseOneMethod:!1},e.prototype.toSnippet=function(e){var t=this.toCall(e);return o.generate(t)},e.prototype.toPatternString=function(e){var t=this.toPattern(e);return o.generate(t)},e.prototype.toCall=function(e){try{var t=this.otherParams,n=this.bodyParameter,r=[],a=null!=n&&this.method.bodies().length>0,o=t.properties.length>0;o&&a&&e.queryParametersSecond?(r.push(n),r.push(t)):(o&&r.push(t),a&&r.push(n));var s=this.method.resource().completeRelativeUri(),u=i.call(this.baseCall(s,e),r);return u}catch(l){console.log(l.stack)}},e.prototype.toPattern=function(e){try{var t=this.method.resource().completeRelativeUri(),n=this.baseCall(t,e,!0);return n}catch(r){console.log(r.stack)}},e.prototype.baseCall=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=(e.split("/"),i.ident(this.name)),s=0;return this.segments.forEach(function(e){if(""!=e.relativeUri()){var u=a.escapedName(e.relativeUri());o=i.member(o,u);var l=e.uriParameters();if(t.collapseMediaTypes&&(l=l.filter(function(e){return a.emitParameter(t,e)})),l.length>0&&!n){var c=r.uriParameters[s];if(null!=c)o=i.call(o,c);else{c=[];for(var p=0;p<l.length;p++)c.push(i.literal(""));o=i.call(o,c)}}}s++}),this.isCollapsed(t)||(o=i.member(o,this.method.method())),o},e.prototype.getMethod=function(){return this.method},e}();t.HTTPCallOccurence=l},function(e,t){var n;!function(e){function t(e,t){var n={declarations:[{id:e,init:t,type:"VariableDeclarator"}],kind:"var",type:"VariableDeclaration"};return n}function n(e){var t={body:e,type:"BlockStatement"};return t}function r(e){var t={name:e,type:"Identifier"};return t}function i(e,t,n){var r={left:e,right:t,operator:n,type:"AssignmentExpression"};return r}function a(e){var t={value:e,type:"Literal"};return t}function o(e,t){var n={operator:e,prefix:!0,argument:t,type:"UnaryExpression"};return n}function s(e){var t={value:e,type:"Literal"};return t}function u(e,t){var n={object:e,computed:!1,property:r(t),type:"MemberExpression"};return n}function l(e,t){var n={object:e,computed:!1,property:t,type:"MemberExpression"};return n}function c(e,t){var n={key:r(e),computed:!1,value:t,kind:"init",type:"Property"};return n}function p(e,t){if("Identifier"==t.key.type){var n={key:r(e+t.key.name),computed:!1,value:t.value,kind:"init",type:"Property"};return n}var n={key:a(e+t.key.value),computed:!1,value:t.value,kind:"init",type:"Property"};return n}function m(){var e={properties:[],type:"ObjectExpression"};return e}function d(e,t){var n={callee:e,arguments:t,type:"CallExpression"};return n}function h(e){var t={expression:e,type:"ExpressionStatement"};return t}e.varDecl=t,e.block=n,e.ident=r,e.assignExpr=i,e.literal=a,e.unary=o,e.number=s,e.member=u,e.memberExp=l,e.property=c,e.remapProperty=p,e.object=m,e.call=d,e.exprStmt=h}(n||(n={})),e.exports=n},function(e,t){e.exports=require("escodegen")},function(e,t,n){function r(e){if(e instanceof o.Api){var t=e;return t.version().getOrElse("V")}var n=e;return n.version()}function i(e){if(e instanceof o.Api){var t=e;return t.title().getOrElse("T0")}var n=e;return n.title()}function a(e){return e instanceof o.Method?e.api():s.ownerApi(e)}var o=n(120),s=n(95),u=n(66);t.SCHEMA_TYPE_OAUTH2="OAuth 2.0",t.SCHEMA_TYPE_OAUTH1="OAuth 1.0",t.SCHEMA_TYPE_DIGEST="DigestSecurityScheme Authentication",t.SCHEMA_TYPE_BASIC="Basic Authentication";var l=function(){function e(e){this.paramsProvider=e,this.apiMap={}}return e.prototype.patchRequest=function(e,t){var n=a(t),r=i(n),o=this.apiMap[r];o.patchRequest(e,t)},e.prototype.registerApi=function(e){var t=i(e),n=this.apiMap[t];n||(n=new p(t,this.paramsProvider.getSubProvider(t)),this.apiMap[t]=n),n.registerApiVersion(e)},e.prototype.registerSchemes=function(e,t){var n=i(e),r=this.apiMap[n];r&&r.registerSchemes(e,t)},e.prototype.store=function(e,t){var n=this;if(e){var r=this.apiMap[e];r&&r.store(t)}else Object.keys(this.apiMap).forEach(function(e){return n.apiMap[e].store()})},e.prototype.updateSchema=function(e,t,n){var r=this.apiMap[i(e)];r&&r.updateSchema(e,t,n)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.apiMap).forEach(function(n){return t=t&&e.apiMap[n].isReady()}),t},e}();t.AuthManager=l;var c=function(){function e(e,t){this.ramlSchema=e,this.provider=t,this.headers=[],this.queryParams=[],this.options={},this.init()}return e.prototype.setSecurityProvider=function(e){this.provider=e},e.prototype.name=function(){return this.ramlSchema.name()},e.prototype.init=function(){var e=this;this.schemaType=this.ramlSchema instanceof o.SecuritySchemaDef?this.ramlSchema.type().type().getOrThrow():this.ramlSchema.type();var n=[],r=[],i=this.ramlSchema instanceof o.SecuritySchemaDef?this.ramlSchema.type():this.ramlSchema.describedBy();if(i&&(n=i.headers(),r=i.queryParameters()),this.schemaType==t.SCHEMA_TYPE_OAUTH2){this.getOption("clientId"),this.getOption("clientSecret");var a=this.getOption("accessToken");a&&(n.filter(function(e){return"Authorization"==e.name()}).length>0&&(this.headers=[{name:"Authorization",value:"Bearer "+a}]),r.forEach(function(t){t.name().toLowerCase().indexOf("token")>=0&&e.queryParams.push({name:t.name(),value:a})}))}else if(this.schemaType==t.SCHEMA_TYPE_OAUTH1);else if(this.schemaType==t.SCHEMA_TYPE_DIGEST);else if(this.schemaType==t.SCHEMA_TYPE_BASIC){var s=this.getOption("username"),u=this.getOption("password");if(s&&u){var l="BasicSecurityScheme "+new Buffer(s+":"+u).toString("base64");this.headers=[{name:"Authorization",value:l}]}}else 0==this.schemaType.indexOf("x-")&&(n.forEach(function(t){return e.headers.push({name:t.name(),value:e.provider.getValue(t.name(),4)})}),r.forEach(function(t){e.queryParams.push({name:t.name(),value:e.provider.getValue(t.name(),0)})}))},e.prototype.store=function(){var e=this;this.schemaType==t.SCHEMA_TYPE_OAUTH2?(this.saveOption("clientId"),this.saveOption("clientSecret"),this.saveOption("accessToken")):this.schemaType==t.SCHEMA_TYPE_OAUTH1||this.schemaType==t.SCHEMA_TYPE_DIGEST||(this.schemaType==t.SCHEMA_TYPE_BASIC?(this.saveOption("username"),this.saveOption("password")):0==this.schemaType.indexOf("x-")&&(this.queryParams.forEach(function(t){return e.provider.writeValue(t.name,t.value,0)}),this.headers.forEach(function(t){return e.provider.writeValue(t.name,t.value,4)})))},e.prototype.getOption=function(e){var t=this.provider.getValue(e);return t&&(this.options[e]=t),t},e.prototype.saveOption=function(e){var t=this.options[e];t&&this.provider.writeValue(e,t)},e.prototype.apply=function(e){if(this.init(),0==this.headers.length&&0==this.queryParams.length)return!1;var t=!0;return 0!=this.headers.length&&(e.headers=e.headers?e.headers:[],t=t&&this.applyParams(this.headers,e.headers)),0!=this.queryParams.length&&(e.queryString=e.queryString?e.queryString:[],t=t&&this.applyParams(this.queryParams,e.queryString)),t},e.prototype.applyParams=function(e,t){var n=!0;return e.forEach(function(e){var r=t.filter(function(t){return t.name==e.name});if(r&&0!=r.length){var i=r.filter(function(e){return void 0==e.value||null==e.value?!1:0==e.toString().trim().length?!1:!0});n=n&&(void 0!=e.value||i.length>0)}else n=n&&void 0!=e.value}),n&&e.forEach(function(e){var n=t.filter(function(t){return t.name==e.name});n&&0!=n.length?n.forEach(function(t){(void 0==t.value||null==t.value||0==t.value.toString().trim().length)&&(t.value=e.value)}):t.push(e)}),n},e.prototype.update=function(e){this.schemaType==t.SCHEMA_TYPE_OAUTH2?e&&(e.options&&(this.options.clientId=e.options.clientId,this.options.clientSecret=e.options.clientSecret),e.user&&(this.options.accessToken=e.user.accessToken)):this.schemaType==t.SCHEMA_TYPE_BASIC,this.store(),this.init()},e.prototype.isReady=function(){var e=!0;return this.schemaType==t.SCHEMA_TYPE_OAUTH2?e=e&&u.isEssential(this.options.accessToken):this.schemaType==t.SCHEMA_TYPE_OAUTH1||this.schemaType==t.SCHEMA_TYPE_DIGEST||(this.schemaType==t.SCHEMA_TYPE_BASIC?e=u.isEssential(this.options.username)&&u.isEssential(this.options.password):0==this.schemaType.indexOf("x-")&&(this.queryParams.forEach(function(t){return e=e&&u.isEssential(t.value)}),this.headers.forEach(function(t){return e=e&&u.isEssential(t.value)}))),e},e}(),p=(function(){function e(){}return e}(),function(){function e(e,t){this._title=e,this.paramsProvider=t,this.versionsMap={}}return e.prototype.title=function(){return this._title},e.prototype.registerApiVersion=function(e){var t=r(e);this.versionsMap[t]=new m(e,this.paramsProvider.getSubProvider(t))},e.prototype.patchRequest=function(e,t){var n=a(t),i=r(n),o=this.versionsMap[i];o.patchRequest(e,t)},e.prototype.registerSchemes=function(e,t){var n=r(e),i=this.versionsMap[n];i&&i.registerSchemes(t)},e.prototype.store=function(e){var t=this;if(e){var n=this.versionsMap[e];n&&n.store()}else Object.keys(this.versionsMap).forEach(function(e){return t.versionsMap[e].store()})},e.prototype.updateSchema=function(e,t,n){var i=this.versionsMap[r(e)];i&&i.updateSchema(t,n)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.versionsMap).forEach(function(n){return t=t&&e.versionsMap[n].isReady()}),t},e}()),m=function(){function e(e,t){this.api=e,this.paramsProvider=t,this.methodToSchemaMap={},this.schemaMap={},this.init()}return e.prototype.patchRequest=function(e,t){var n=t instanceof o.Method?t.id().value():s.methodId(t),r=this.methodToSchemaMap[n];if(r)for(var i=0,a=!1;!a&&i<r.length;i++)a=this.schemaMap[r[i]].apply(e)},e.prototype.registerSchemes=function(e){var t=this;e.forEach(function(e){t.schemaMap[e.name()]=e,e.setSecurityProvider(t.paramsProvider.getSubProvider(e.name()))})},e.prototype.init=function(){var e=this,t=this.api instanceof o.Api?this.api.securitySchemas():this.api.securitySchemes();t.forEach(function(t){return e.schemaMap[t.name()]=new c(t,e.paramsProvider.getSubProvider(t.name()))});var n=this.api.resources();n.forEach(function(t){return e.inspectResource(t)})},e.prototype.inspectResource=function(e){var t=this,n=this.api instanceof o.Api?this.api.securedBy().filter(function(e){return e.isDefined()}).map(function(e){return e.getOrThrow()}):this.api.securedBy().map(function(e){return e.value().valueName()}),r=e.methods();r.forEach(function(e){var r=e instanceof o.Method?e.id().value():s.methodId(e),i=e instanceof o.Method?e.securedBy().filter(function(e){return e.isDefined()}).map(function(e){return e.getOrThrow()}):e.securedBy().map(function(e){return e.value().valueName()});t.registerSchemasForMethod(i,r),t.methodToSchemaMap[r]||t.registerSchemasForMethod(n,r)});var i=e.resources();i.forEach(function(e){return t.inspectResource(e)})},e.prototype.registerSchemasForMethod=function(e,t){var n=this;e.forEach(function(e){var r=n.schemaMap[e];if(r){var i=n.methodToSchemaMap[t];i||(i=[],n.methodToSchemaMap[t]=i),i.push(e)}})},e.prototype.store=function(){var e=this;Object.keys(this.schemaMap).forEach(function(t){return e.schemaMap[t].store()})},e.prototype.updateSchema=function(e,t){var n=this.schemaMap[e];n&&n.update(t)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.schemaMap).forEach(function(n){return t=t&&e.schemaMap[n].isReady()}),t},e}()},function(e,t,n){function r(e){var t=e.definitions().map(function(e){return e.description().getOrElse(new v.MarkdownString("")).value()}).join(","),n=1,r=null,i="",a=x.unique(e.definitions()[0]["enum"]().getOrElse([]).map(function(e){return e=null==e?"":e,e.toString()}));if(1==e.definitions().length){r=e.definitions()[0]["default"]().getOrElse(null),i=""+e.definitions()[0].example().getOrElse("");var o=e.definitions()[0].type();"boolean"==o.toString()&&(n=0),"number"==o&&(n=2),"integer"==o&&(n=3),a.length>0&&(n=4)}return{caption:e.name(),description:t,type:n,example:i,defaultValue:r,required:e.required(),realm:a}}function i(e){return O.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function a(e){if(e){"boolean"==typeof e&&(e="true");var t=i(e),n=_.errorStatus("Field "+this+"should be expression");if(1!=t.statements.length)return n;if(166!=t.statements[0].kind)return n;if(t.parseDiagnostics.length>0)return n}return _.okStatus()}function o(e,t){return null==t&&(t=""),""!=t||e.required?1==e.type||4==e.type?JSON.stringify(t):t:""}function s(e,t,n){void 0===n&&(n=function(e){return e});var r=_.createSmallTypeScriptEditor(e.caption,t,n).getActualField();r.getBinding().addValidator(a.bind(e.caption)),e.required&&r.getBinding().addValidator(function(t){return null==t||0==t.length?_.errorStatus(e.caption+" is required"):_.okStatus()});var s=_.createInputField(e,t,n).getActualField(),u=new _.DialogFieldWithModes(e.caption,t,n,{firstOption:s,secondOption:r,valueComesAsSecond:!0,secondOptionLabel:"<val>",firstOptionLabel:"<exp>",secondToFirstConverter:function(e){if(null!=e&&e.length>0){var t=e.charAt(0);('"'==t||"'"==t||"`"==t)&&(e=e.substring(1,e.length-1))}return e},firstToSecondConverter:o.bind(null,e),firstToOutConverter:o.bind(null,e),firstValidator:function(e){if(!e)return _.okStatus();var t=i(e);if(1!=t.statements.length)return _.errorStatus("Expression expected");if(166!=t.statements[0].kind)return _.errorStatus("Expression expected");var n=t.statements[0].expression.kind;return 7==n||6==n||93==n||78==n?_.okStatus():_.errorStatus("Should be a literal")},secondValidator:function(e){return _.okStatus()}});return u}function u(e){return e.description().getOrElse(new v.MarkdownString("")).value()}function l(e,t){for(var n="";;){var r=C.dirname(e),i=null;if(E.readdirSync(r).forEach(function(e){if(".raml"==C.extname(e)){i=e;var a=E.readFileSync(C.resolve(r,i)).toString();-1!=a.indexOf(t)&&(n=C.resolve(r,i))}}),e=r,!e||e.length<2)return n}return n}function c(e){var t=G.getPath();return p(e,t)}function p(e,t){var n=l(t,e);if(n)return n;for(var r=C.dirname(t),i=E.readdirSync(r),a=0;a<i.length;a++){var o=r+"/"+i[a],s=E.statSync(o);if(s.isDirectory())for(var u=E.readdirSync(o),c=0;c<u.length;c++)if(".raml"==C.extname(u[c])){var p=E.readFileSync(o+"/"+u[c]).toString();if(-1!=p.indexOf(e))return o+"/"+u[c]}}return null}function m(e,t){return void d(e,t)}function d(e,t){var n=G.getCurrentEditor().getBuffer().getText(),r=G.currentReport.calls(),i=(x.indexOf(r,e),n.lastIndexOf("createApi()")),a="";G.executionResults.vars().forEach(function(t){t.lineNumber<=e.startLocation().line-1&&(console.log(t.lineNumber+":"+e.startLocation().line),a+="var "+t.varName+"="+JSON.stringify(t.value)+";\n")});var o=n.substring(0,i)+"createApi()\n"+a+n.substring(e.start(),e.end()),s=C.resolve(C.dirname(G.getPath()),"snippet.ts");console.log(o),E.writeFileSync(s,o),T.doCompile(s,!1);var u=s.substring(0,s.lastIndexOf(".")),l=u+".js",c=u+".js.map",p=A.launchNotebook(l,C.dirname(G.getPath())+"/snippetReport.json",!1);console.log(p);try{var m=p;k.workspace.getActivePane().addItem(new N.ReportView({protocol:null,filePath:null,reportObject:m}),0),k.workspace.getActivePane().activateItemAtIndex(0)}catch(d){console.log(d)}try{E.unlinkSync(l),E.unlinkSync(s),E.unlinkSync(c)}catch(d){}}function h(){null==G&&(G=new H),this.follow=!0}function f(){console.log("going to Updating views"),G&&(console.log("Updating views"),G.updateReport(),G.updatePosition())}var y=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},v=n(120),g=n(118),b=n(127),S=n(135),A=n(139),T=n(140),w=n(130),P=n(134),M=n(7),E=n(4),C=n(10),N=n(117),_=n(150),I=n(151),R=n(155),x=(n(176),n(17)),L=n(178),O=n(102),k=n(160);t.toFieldSpec=r,t.createFieldWithExpressions=s;var D=function(){function e(e,t,n){this.name=e,this.val=t,this.line=n}return e.prototype.children=function(){var t=this;return this.val?"string"==typeof this.val?[]:"number"==typeof this.val?[]:"boolean"==typeof this.val?[]:Object.keys(this.val).map(function(n){return new e(n,t.val[n],t.line)}):[]},e}(),U=function(){function e(){this.vnames={}}return e.prototype.add=function(e,t,n){this.vnames[e]=new D(e,t,n)},e.prototype.children=function(){var e=this;return Object.keys(this.vnames).map(function(t){return e.vnames[t]})},e}(),F=function(){function e(){}return e.prototype.render=function(e){return I.hc(I.a(e.name+":",function(t){G.open(e.line)},167),this.summary(e.val))},e.prototype.summary=function(e){var t=2;"string"==typeof e&&(t=7),"number"==typeof e&&(t=5),"boolean"==typeof e&&(t=3);var n="";return e?(Array.isArray(e)?(n="array(length: "+e.length+")",t=6):n="Object"==typeof n?"object:"+JSON.stringify(e):JSON.stringify(e),n.length>60&&(n=n.substr(0,60)+" ...")):void 0==e&&(n="undefined"),I.label(" "+n,null,t).pad(5,0)},e}(),j=function(e){function t(){e.call(this),this.isAttached=!1,this._ignoreNextUpdate=0}return y(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.load=function(){var e=I.section("RAML Script Pallete"),t=I.section("API Pallete");t.addChild(L.apiView(function(){return C.dirname(G.getPath())},function(e){var t=G.getCurrentEditor();t.getCursorBufferPosition();return t.insertText(e),e}));var n=I.section("Current Call");this.methodViewer=new _.BasicViewer(new B(this)),this.reportViewer=new _.BasicViewer(new K(this));var r=new _.TabFolder;n.addChild(this.methodViewer),e.addChild(this.reportViewer),r.add("Palette",165,e),r.add("Variable",22,this.variableView()),r.add("Current Call",16,n),r.add("Api Palete",18,t);var i=I.hc();r.add("",204,i),r.setOnSelected(function(){r.selectedComponent()==i&&(G.currentPane.destroy(),G.active=!1,G.follow=!1)});var a=I.vc(r);this.html(a.renderUI())},t.prototype.setCall=function(e){if(this.call!=e){if(this.patchInfo(e),this._ignoreNextUpdate)return void this._ignoreNextUpdate--;this.call=e,this.methodViewer.setInput(e)}},t.prototype.setPosition=function(e,t){e-=1;var n=new U;null!=G&&G.executionResults&&G.executionResults.vars().forEach(function(t){t.lineNumber>e||n.add(t.varName,t.value,t.lineNumber)}),this.vars.setInput(n)},t.prototype.variableView=function(){var e=new F,t=I.treeViewerSection("Variables",154,new U,function(e){return e.children()},e);return t.setStyle("width","500px"),this.vars=t.viewer,t},t.prototype.patchInfo=function(e){var t=this;e.replaceHandler=function(n,r,i){t._ignoreNextUpdate=2;var a=e.getLocationForPosition(n),o=e.getLocationForPosition(r);G.getCurrentEditor().getBuffer().setTextInRange({start:{row:a.line-1,column:a.character-1},end:{row:o.line-1,column:o.character-1}},i)}},t.prototype.setReport=function(e,t){void 0===t&&(t=null),this.report!=e&&(this.report=e,this.executionLog=t,this.reportViewer.setInput(e))},t.prototype.insert=function(e){var t=this,n=G.getCurrentEditor(),r=(n.getCursorBufferPosition(),[]);e.resource().uriParameters().forEach(function(e){t.uppendParameter(e,r)}),e.queryParameters().forEach(function(e){t.uppendParameter(e,r)});for(var i in this.report.apis())if(this.report.apis()[i]==e.api()){var a=P.HTTPCallOccurence.buildFrom(i,e,r,null),o=a.toSnippet(new g.Config);n.insertText(o)}},t.prototype.uppendParameter=function(e,t){var n=r(e),i=null;n.defaultValue&&n.defaultValue.length>0?i=n.defaultValue:n.example&&n.example.length>0&&(i=n.example),i&&(isNaN(i)||(i=Number(i)),"false"==i&&(i=!1),"true"==i&&(i=!0),t.push(new P.ParameterWithValue(e.name(),S.literal(i),e.location())))},t}(M.ScrollView),K=function(){function e(e){this.outer=e}return e.prototype.render=function(e){var t=I.hc();t.setStyle("width","400px").pad(5,5);for(var n in e.apis())t.addChild(_.listSection(e.apis()[n].title().getOrElse("Untitled API"),41,e.apis()[n].allMethods(),new V(this.outer),!0,function(e){return e.id().value()+" "+u(e)}));return t},e}(),V=function(){function e(e){this.outer=e}return e.prototype.render=function(e){var t=this,n=I.vc(I.label(e.id().value(),28,3).pad(0,5),I.button("Insert",1,1,null,function(n){t.outer.insert(e)}).pad(5,5)).pad(5,5),r=u(e);return r.trim().length>0&&n.addChild(I.vc(I.label(r,null,2).setStyle("width","390px").setStyle("white-space","normal"))),n},e}(),B=function(e){function t(t){e.call(this),this.outer=t,this.showDoc=!0,this.showLast=!1}return y(t,e),t.prototype.fire=function(){var e=this;this._listeners.forEach(function(t){return t(new _.PropertyChangeEvent(e))})},t.prototype.render=function(e){var t=this,n=e.method(),r=null;this.showLast&&this.outer.executionLog&&(r=this.outer.executionLog.steps(n));var i=new q(e,this.showDoc,this.showLast,r),a=i.renderParametersSection("URI Parameters",n.resource().uriParameters()),o=i.renderParametersSection("Query Parameters",n.queryParameters()),s=i.renderParametersSection("Header Parameters",n.headers()),u=I.hc(),l=I.section(n.id().value(),57,!1,!1,I.label(n.description().getOrElse(new v.MarkdownString("No documentation found")).value()),u,a,o,s);return l.pad(10,10),u.addChild(I.button("",1,0,96,function(t){m(e,r)})),u.addChild(I.toggle("",1,0,116,function(e){t.showDoc=!t.showDoc,t.fire()}).setSelected(this.showDoc)),u.addChild(I.toggle("",1,0,43,function(e){t.showLast=!t.showLast,t.fire()}).setSelected(this.showLast)),u.addChild(I.button("Goto declaration",1,0,0,function(e){var t=n.api().title(),r=c(t.getOrElse(""));r&&k.workspace.open(r).then(function(e){var t=E.readFileSync(r).toString(),i=t.indexOf(n.resource().relativeUri());if(console.log(i),-1!=i){var a=k.workspace.getActiveEditor().getBuffer().positionForCharacterIndex(i),o=k.workspace.getActiveEditor().getBuffer().rangeForRow(a.row);k.workspace.getActiveEditor().setSelectedBufferRange(o,{})}})})),l.setStyle("width","400px"),l},t}(_.BasicListanable);t.findRamlWithTitle=p;var q=(function(){function e(e){this.headers=[],this.queryString=[],this.postData=null,this.method=e}return e}(),function(){function e(e,t,n,r){this._showDoc=t,this._showLast=n,this.steps=r,this.info=e}return e.prototype.updateUI=function(e,t){this.info.setParameter(e,""+t,this.info.start())},e.prototype.renderParametersSection=function(e,t){var n=this,i=I.section(e,null,!0,!1);return t.forEach(function(e){var t=r(e),a=s(t,n.info.getParameterValueAsTypeScriptCode(e)),o=a.getBinding().status(),u=I.label("",null,7),l=new _.CustomField("",u,function(e){return e});if(l.setDisplay(2==o.code),a.getBinding().addListener(function(t){t=a.getBinding().get();var r=a.getBinding().status();2!=r.code?(n.updateUI(e,t),u.setText(""),u.setIcon(0),l.setDisplay(!1)):(u.setText(r.message),u.setIcon(19),l.setDisplay(!0))}),i.addChild(a),i.addChild(l),n._showDoc&&(i.addChild(new _.CustomField("",I.label(t.description),function(e){return e})),t.defaultValue&&t.defaultValue.length>0&&i.addChild(new _.CustomField("",I.hcTight(I.label("Default value: "),I.label(t.defaultValue,null,5).pad(5,5)),function(e){return e})),t.example&&t.example.length>0&&i.addChild(new _.CustomField("",I.hcTight(I.label("Example: "),I.label(t.example,null,4).pad(5,5)),function(e){return e}))),n._showLast){var c=[];n.steps.map(function(e){return e.request}).forEach(function(t){t.queryString.forEach(function(t){t.name==e.name()&&c.push(t.value)})}),c=x.uniq(c);var p=c.join(",");p.length>60&&(p=p.substring(0,50)+"..."),p.length>0&&i.addChild(new _.CustomField("",I.hc(I.label("Last values:",null,6),I.a(""+c,function(e){G.openReportForPath(n.steps)}).pad(5,0)),function(e){return e}))}}),i},e}()),H=(function(){function e(){}return e.prototype.render=function(e){return I.section(e.name(),2,!1,!1)},e}(),function(){function e(){var e=this;this.follow=!0,k.workspace.onDidChangeActivePaneItem(function(t){e.updateEverything()}),this.updateEverything(!0)}return e.prototype.getPath=function(){return this.currentEditor?this.currentEditor.getPath():null},e.prototype.getCurrentEditor=function(){return this.currentEditor},e.prototype.open=function(e){var t=k.workspace.getActiveEditor();if(t){var n=t.getBuffer().rangeForRow(e+1);t.setSelectedBufferRange(n,{})}},e.prototype.openReportForPath=function(e){e&&N.open("ramlscript-report://"+this.currentEditor.getPath(),{stepIds:e.map(function(e){return e.id})})},e.prototype.updateEverything=function(e){var t=this;void 0===e&&(e=!1);var n=k.workspace.getActiveTextEditor(),r=!0;if(n&&this.currentEditor!=n){this.currentEditor=n;var i=this.currentEditor.getPath();if(i){var a=C.extname(i);".ts"!=a?this.active&&(this.currentPane.destroy(),this.active=!1,this.currentPane=null):(this.active||this.follow&&(this.view=new j,this.currentPane=k.workspace.addRightPanel({item:this.view}),this.active=!0,r=!1),this.currentEditor.patched||(this.currentEditor.getBuffer().onDidStopChanging(function(e){t.updateReport(),t.updatePosition()}),this.currentEditor.getLastCursor().onDidChangePosition(function(e){t.updatePosition()}),this.currentEditor.patched=!0),this.updateReport(),this.updatePosition())}}this.follow&&r&&e&&R.msg("Please open typescript file to be able to use ramlscript tools")},e.prototype.updateReport=function(){var e=k.workspace.getActiveTextEditor();if(e){this.currentReport=new b.StaticCallsInfo(e.getPath(),new g.Config,e.getText());var t=w.getReportManager().getLatestReportFor(e.getPath());this.executionResults=t,console.log(this.executionResults),this.view.setReport(this.currentReport,t)}},e.prototype.updatePosition=function(){var e=this,t=k.workspace.getActiveTextEditor();if(t){var n=t.getLastCursor().getBufferPosition();this.currentReport&&(this.currentReport.calls().forEach(function(t){t.startLocation().line<=n.row&&t.endLocation().line>=n.row&&e.view.setCall(t)}),this.view.setPosition(n.row,n.column))}},e}()),G=null;t.toggle=h,t.afterLaunch=f},function(e,t,n){function r(e,t,n){void 0===n&&(n=!0),console.log("Path:"+e);var r=o.dirname(e);o.dirname(t);n&&u.doCompile(e.replace(".js",".ts"));var i=s.getReportManager().logPathArgName(),a="/usr/local/bin/node "+e+" "+i+" "+t;l.execProcess(a,r,!0,!0,"Executing notebook...","Notebook execution complete","Notebook execution failed: "+e),e=e.replace(".l.js","");var c=e.replace(".js",".ts"),p=s.getReportManager().getReportObject(t,c);return p}function i(e,t,n,r){void 0===r&&(r=!0);
var i=o.dirname(e);o.dirname(t);r&&u.doCompile(e.replace(".js",".ts"));var a=s.getReportManager().logPathArgName(),c="/usr/local/bin/node "+e+" "+a+" "+t;l.execProcessAsync(c,function(){n()},i,!0,!0,"Executing notebook...","Notebook execution complete","Notebook execution failed: "+e)}function a(e,t){return s.getReportManager().getReportObject(t,e)}var o=n(10),s=n(130),u=n(140),l=n(148);t.launchNotebook=r,t.launchNotebookAsync=i,t.loadReport=a},function(e,t,n){function r(e){var t=e.file.fileName;return{filePath:t,message:e.messageText,preview:e.file.text.substr(e.start,e.length)}}function i(e,t){void 0===t&&(t=!0);var n=c.getProjectSync(e);console.log(n),console.log(o),n.project.compilerOptions.sourceMap=!0;var r=new o.Project(n);t&&r.getProjectSourceFiles().forEach(function(e){return a(r,e)}),a(r,e)}function a(e,t){var n=e.languageService,i=n.getEmitOutput(t),a=1!=i.emitOutputStatus,o=[],c=n.getCompilerOptionsDiagnostics().concat(n.getSyntacticDiagnostics(t)).concat(n.getSemanticDiagnostics(t));c.forEach(function(e){if(e.file){e.file.getLineAndCharacterFromPosition(e.start);o.push(r(e))}}),i.outputFiles.forEach(function(e){s.sync(u.dirname(e.name)),l.writeFileSync(e.name,e.text,"utf8")});var p=i.outputFiles.map(function(e){return e.name});return".d.ts"==u.extname(t)&&p.push(t),{outputFiles:p,success:a&&!o.length,errors:o,emitError:!a}}var o=(n(102),n(141)),s=n(143),u=n(10),l=n(4),c=n(144);t.diagnosticToTSError=r,t.doCompile=i,t.emitFile=a},function(e,t,n){var r=n(102);t.languageServiceHost=n(142);var i=function(){function e(e){this.projectFile=e,this.languageServiceHost=new t.languageServiceHost.LanguageServiceHost(e),this.languageService=r.createLanguageService(this.languageServiceHost,r.createDocumentRegistry())}return e.prototype.createProgram=function(e,t){var n=this.getCombinedHost();return n.addFile(e,t),r.createProgram([e],this.projectFile.project.compilerOptions,n)},e.prototype.getProjectSourceFiles=function(){var e=t.languageServiceHost.defaultLibFile,n=this.languageServiceHost.getScriptFileNames().filter(function(t){return t!==e});return n},e.prototype.getCombinedHost=function(){return this.compilerHost?this.compilerHost:(this.compilerHost=new a(r.createCompilerHost(this.projectFile.project.compilerOptions)),this.compilerHost)},e}();t.Project=i;var a=function(){function e(e){this._originalHost=e,this.inmems={}}return e.prototype.addFile=function(e,t){var n=r.createSourceFile(e,t,0,"1.4.1",!0);this.inmems[e]=n},e.prototype.updateFile=function(e,t){var n=r.createSourceFile(e,t,0,"1.4.1",!0);this.inmems[e]=n},e.prototype.deleteFile=function(e,t){delete this.inmems[e]},e.prototype.getSourceFile=function(e,t,n){return this.inmems[e]?this.inmems[e]:this._originalHost.getSourceFile(e,t,n)},e.prototype.getDefaultLibFilename=function(e){return this._originalHost.getDefaultLibFilename(e)},e.prototype.getCancellationToken=function(){return this._originalHost.getCancellationToken()},e.prototype.writeFile=function(e,t,n,r){console.log("Wriging:"+e)},e.prototype.getCurrentDirectory=function(){return this._originalHost.getCurrentDirectory()},e.prototype.getCanonicalFileName=function(e){return this._originalHost.getCanonicalFileName(e)},e.prototype.useCaseSensitiveFileNames=function(){return this._originalHost.useCaseSensitiveFileNames()},e.prototype.getNewLine=function(){return this._originalHost.getNewLine()},e}();t.CombinedCompilerHost=a},function(e,t,n){function r(e,t){if(0>e)throw new Error("start < 0");if(0>t)throw new Error("length < 0");return{start:e,length:t}}function i(e,t){if(0>t)throw new Error("newLength < 0");return{span:e,newLength:t}}function a(e){return e.start+e.length}function o(e){if(0===e.length)return m;if(1===e.length)return e[0];for(var t=e[0],n=t.span.start,r=a(t.span),o=n+t.newLength,u=1;u<e.length;u++){var l=e[u],c=n,p=r,d=o,h=l.span.start,f=a(l.span),y=h+l.newLength;n=Math.min(c,h),r=Math.max(p,p+(f-d)),o=Math.max(y,y+(d-f))}return i(s(n,r),o-n)}function s(e,t){return r(e,t-e)}var u,l=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},c=n(102);!function(e){function t(){console.error((new Error).stack)}e.stack=t}(u||(u={}));var p,m=i(r(0,0),0),d=(Object.prototype.hasOwnProperty,n(4));!function(e){function t(e){if(d.existsSync(e)){var t=d.readFileSync(e),n=t.length;if(n>=2&&254===t[0]&&255===t[1]){n&=-2;for(var r=0;n>r;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t.toString("utf16le",2)}return n>=2&&255===t[0]&&254===t[1]?t.toString("utf16le",2):n>=3&&239===t[0]&&187===t[1]&&191===t[2]?t.toString("utf8",3):t.toString("utf8")}}function n(e,t,n){n&&(t="\ufeff"+t),d.writeFileSync(e,t,"utf8")}e.readFile=t,e.writeFile=n}(p||(p={}));var h,f=function(){function e(e){this.text=e}return e.prototype.setUdata=function(e){this.udata=e},e.prototype.getUdata=function(){return this.udata},e.prototype.isLeaf=function(){return!0},e.prototype.walk=function(e,t,n){n.leaf(e,t,this)},e.prototype.charCount=function(){return this.text.length},e.prototype.lineCount=function(){return 1},e}();!function(e){e[e.PreStart=0]="PreStart",e[e.Start=1]="Start",e[e.Entire=2]="Entire",e[e.Mid=3]="Mid",e[e.End=4]="End",e[e.PostEnd=5]="PostEnd"}(h||(h={}));var y=4,v=function(){function e(){this.totalChars=0,this.totalLines=0,this.children=[]}return e.prototype.isLeaf=function(){return!1},e.prototype.updateCounts=function(){this.totalChars=0,this.totalLines=0;for(var e=0,t=this.children.length;t>e;e++){var n=this.children[e];this.totalChars+=n.charCount(),this.totalLines+=n.lineCount()}},e.prototype.execWalk=function(e,t,n,r,i){return n.pre&&n.pre(e,t,this.children[r],this,i),n.goSubtree?(this.children[r].walk(e,t,n),n.post&&n.post(e,t,this.children[r],this,i)):n.goSubtree=!0,n.done},e.prototype.skipChild=function(e,t,n,r,i){r.pre&&!r.done&&(r.pre(e,t,this.children[n],this,i),r.goSubtree=!0)},e.prototype.walk=function(e,t,n){for(var r=0,i=this.children[0],a=i.charCount(),o=e;o>=a;)this.skipChild(o,t,r,n,0),o-=a,i=this.children[++r],a=i.charCount();if(a>=o+t){if(this.execWalk(o,t,n,r,2))return}else{if(this.execWalk(o,a-o,n,r,1))return;var s=t-(a-o);for(i=this.children[++r],a=i.charCount();s>a;){if(this.execWalk(0,a,n,r,3))return;s-=a,i=this.children[++r],a=i.charCount()}if(s>0&&this.execWalk(0,s,n,r,4))return}if(n.pre){var u=this.children.length;if(u-1>r)for(var l=r+1;u>l;l++)this.skipChild(0,0,l,n,5)}},e.prototype.charOffsetToLineNumberAndPos=function(e,t){var n=this.childFromCharOffset(e,t);if(n.child){if(n.childIndex<this.children.length){if(n.child.isLeaf())return{line:n.lineNumber,col:n.charOffset,text:n.child.text,leaf:n.child};var r=n.child;return r.charOffsetToLineNumberAndPos(n.lineNumber,n.charOffset)}var i=this.lineNumberToInfo(this.lineCount(),0),a=1;return i.leaf&&(a=i.leaf.charCount()),{line:this.lineCount(),col:a}}return{line:e,col:t}},e.prototype.lineNumberToInfo=function(e,t){var n=this.childFromLineNumber(e,t);if(n.child){if(n.child.isLeaf())return{line:e,col:n.charOffset,text:n.child.text,leaf:n.child};var r=n.child;return r.lineNumberToInfo(n.relativeLineNumber,n.charOffset)}return{line:e,col:t}},e.prototype.childFromLineNumber=function(e,t){for(var n,r=e,i=0,a=this.children.length;a>i;i++){n=this.children[i];var o=n.lineCount();if(o>=r)break;r-=o,t+=n.charCount()}return{child:n,childIndex:i,relativeLineNumber:r,charOffset:t}},e.prototype.childFromCharOffset=function(e,t){for(var n,r=0,i=this.children.length;i>r&&(n=this.children[r],!(n.charCount()>t));r++)t-=n.charCount(),e+=n.lineCount();return{child:n,childIndex:r,charOffset:t,lineNumber:e}},e.prototype.splitAfter=function(t){var n,r=this.children.length;t++;var i=t;if(r>t){for(n=new e;r>t;)n.add(this.children[t++]);n.updateCounts()}return this.children.length=i,n},e.prototype.remove=function(e){var t=this.findChildIndex(e),n=this.children.length;if(n-1>t)for(var r=t;n-1>r;r++)this.children[r]=this.children[r+1];this.children.length--},e.prototype.findChildIndex=function(e){for(var t=0,n=this.children.length;this.children[t]!=e&&n>t;)t++;return t},e.prototype.insertAt=function(t,n){var r=this.findChildIndex(t),i=this.children.length,a=n.length;if(y>i&&r==i-1&&1==a)return this.add(n[0]),this.updateCounts(),[];var o=this.splitAfter(r),s=0;for(r++;y>r&&a>s;)this.children[r++]=n[s++];var u=[],l=0;if(a>s){l=Math.ceil((a-s)/y),u=new Array(l);for(var c=0,p=0;l>p;p++)u[p]=new e;for(var m=u[0];a>s;)m.add(n[s++]),m.children.length==y&&(c++,m=u[c]);for(p=u.length-1;p>=0;p--)0==u[p].children.length&&u.length--}for(o&&(u[u.length]=o),this.updateCounts(),p=0;l>p;p++)u[p].updateCounts();return u},e.prototype.add=function(e){return this.children[this.children.length]=e,this.children.length<y},e.prototype.charCount=function(){return this.totalChars},e.prototype.lineCount=function(){return this.totalLines},e}();t.LineNode=v;var g=function(){function e(){this.goSubtree=!0,this.done=!1}return e.prototype.leaf=function(e,t,n){},e}(),b=function(e){function t(){e.call(this),this.lineIndex=new S,this.endBranch=[],this.state=2,this.initialText="",this.trailingText="",this.suppressTrailingText=!1,this.lineIndex.root=new v,this.startPath=[this.lineIndex.root],this.stack=[this.lineIndex.root]}return l(t,e),t.prototype.insertLines=function(e){this.suppressTrailingText&&(this.trailingText=""),e=e?this.initialText+e+this.trailingText:this.initialText+this.trailingText;var t=S.linesFromText(e),n=t.lines;n.length>1&&""==n[n.length-1]&&n.length--;for(var r,i,a=this.endBranch.length-1;a>=0;a--)this.endBranch[a].updateCounts(),0==this.endBranch[a].charCount()&&(i=this.endBranch[a],r=a>0?this.endBranch[a-1]:this.branchNode);i&&r.remove(i);var o=this.startPath[this.startPath.length-2],s=this.startPath[this.startPath.length-1],u=n.length;if(u>0)if(s.text=n[0],u>1){for(var l=new Array(u-1),c=s,p=1,u=n.length;u>p;p++)l[p-1]=new f(n[p]);for(var m=this.startPath.length-2;m>=0;)o=this.startPath[m],l=o.insertAt(c,l),m--,c=o;for(var d=l.length;d>0;){var h=new v;h.add(this.lineIndex.root),l=h.insertAt(this.lineIndex.root,l),d=l.length,this.lineIndex.root=h}this.lineIndex.root.updateCounts()}else for(var y=this.startPath.length-2;y>=0;y--)this.startPath[y].updateCounts();else{o.remove(s);for(var y=this.startPath.length-2;y>=0;y--)this.startPath[y].updateCounts()}return this.lineIndex},t.prototype.post=function(e,t,n,r,i){n==this.lineCollectionAtBranch&&(this.state=4),this.stack.length--},t.prototype.pre=function(e,t,n,r,i){function a(e){return e.isLeaf()?new f(""):new v}var o=this.stack[this.stack.length-1];2==this.state&&1==i&&(this.state=1,this.branchNode=o,this.lineCollectionAtBranch=n);var s;switch(i){case 0:this.goSubtree=!1,4!=this.state&&o.add(n);break;case 1:4==this.state?this.goSubtree=!1:(s=a(n),o.add(s),this.startPath[this.startPath.length]=s);break;case 2:4!=this.state?(s=a(n),o.add(s),this.startPath[this.startPath.length]=s):n.isLeaf()||(s=a(n),o.add(s),this.endBranch[this.endBranch.length]=s);break;case 3:this.goSubtree=!1;break;case 4:4!=this.state?this.goSubtree=!1:n.isLeaf()||(s=a(n),o.add(s),this.endBranch[this.endBranch.length]=s);break;case 5:this.goSubtree=!1,1!=this.state&&o.add(n)}return this.goSubtree&&(this.stack[this.stack.length]=s),n},t.prototype.leaf=function(e,t,n){1==this.state?this.initialText=n.text.substring(0,e):2==this.state?(this.initialText=n.text.substring(0,e),this.trailingText=n.text.substring(e+t)):this.trailingText=n.text.substring(e+t)},t}(g),S=function(){function e(){this.checkEdits=!1}return e.prototype.charOffsetToLineNumberAndPos=function(e){return this.root.charOffsetToLineNumberAndPos(1,e)},e.prototype.lineNumberToInfo=function(e){var t=this.root.lineCount();if(t>=e){var n=this.root.lineNumberToInfo(e,0);return n.line=e,n}return{line:e,col:this.root.charCount()}},e.prototype.load=function(t){if(t.length>0){for(var n=[],r=0,i=t.length;i>r;r++)n[r]=new f(t[r]);this.root=e.buildTreeFromBottom(n)}else this.root=new v},e.prototype.walk=function(e,t,n){this.root.walk(e,t,n)},e.prototype.getText=function(e,t){var n="";return t>0&&e<this.root.charCount()&&this.walk(e,t,{goSubtree:!0,done:!1,leaf:function(e,t,r){n=n.concat(r.text.substring(e,e+t))}}),n},e.prototype.every=function(e,t,n){n||(n=this.root.charCount());var r={goSubtree:!0,done:!1,leaf:function(t,n,r){e(r,t,n)||(this.done=!0)}};return this.walk(t,n-t,r),!r.done},e.prototype.edit=function(t,n,r){function i(e,t,n,r){return void 0===r&&(r=""),e.substring(0,t)+r+e.substring(t+n,e.length)}if(0!=this.root.charCount()){if(this.checkEdits){i(this.getText(0,this.root.charCount()),t,n,r)}var a=new b;if(t>=this.root.charCount()){t=this.root.charCount()-1;var o=this.getText(t,1);r=r?o+r:o,n=0,a.suppressTrailingText=!0}else if(n>0){var s=t+n,u=this.charOffsetToLineNumberAndPos(s);u&&0==u.col&&(n+=u.text.length,r?r+=u.text:r=u.text)}if(t<this.root.charCount()&&(this.root.walk(t,n,a),a.insertLines(r)),this.checkEdits){this.getText(0,this.root.charCount())}return a.lineIndex}return r?(this.load(e.linesFromText(r).lines),this):void 0},e.buildTreeFromBottom=function(e){for(var t=Math.ceil(e.length/y),n=[],r=0,i=0;t>i;i++){n[i]=new v;for(var a=0,o=0,s=0;y>s&&r<e.length;s++)n[i].add(e[r]),a+=e[r].charCount(),o+=e[r].lineCount(),r++;n[i].totalChars=a,n[i].totalLines=o}return 1==n.length?n[0]:this.buildTreeFromBottom(n)},e.linesFromText=function(e){var t=c.computeLineStarts(e);if(0==t.length)return{lines:[],lineMap:t};for(var n=new Array(t.length),r=t.length-1,i=0;r>i;i++)n[i]=e.substring(t[i],t[i+1]);var a=e.substring(t[r]);return a.length>0?n[r]=a:n.length--,{lines:n,lineMap:t}},e}();t.LineIndex=S;var A=function(){function e(e,t){this.version=e,this.cache=t,this.changesSincePreviousVersion=[]}return e.prototype.getText=function(e,t){return this.index.getText(e,t-e)},e.prototype.getLength=function(){return this.index.root.charCount()},e.prototype.getLineStartPositions=function(){var e=[-1],t=1,n=0;return this.index.every(function(r,i,a){return e[t++]=n,n+=r.text.length,!0},0),e},e.prototype.getLineMapper=function(){var e=this;return function(t){return e.index.lineNumberToInfo(t).col}},e.prototype.getTextChangeRangeSinceVersion=function(e){return this.version<=e?m:this.cache.getTextChangesBetweenVersions(e,this.version)},e.prototype.getChangeRange=function(e){var t=e;return this.getTextChangeRangeSinceVersion(t.version)},e}();t.LineIndexSnapshot=A;var T=function(){function e(e,t,n){this.pos=e,this.deleteLen=t,this.insertedText=n}return e.prototype.getTextChangeRange=function(){return i(r(this.pos,this.deleteLen),this.insertedText?this.insertedText.length:0)},e}();t.TextChange=T;var w=function(){function e(){this.changes=[],this.versions=[],this.minVersion=0,this.currentVersion=0}return e.prototype.edit=function(t,n,r){this.changes[this.changes.length]=new T(t,n,r),(this.changes.length>e.changeNumberThreshold||n>e.changeLengthThreshold||r&&r.length>e.changeLengthThreshold)&&this.getSnapshot()},e.prototype.latest=function(){return this.versions[this.currentVersion]},e.prototype.latestVersion=function(){return this.changes.length>0&&this.getSnapshot(),this.currentVersion},e.prototype.reloadFromFile=function(e,t){var n=p.readFile(e);this.reload(n),t&&t()},e.prototype.reload=function(e){this.currentVersion++,this.changes=[];var t=new A(this.currentVersion,this);this.versions[this.currentVersion]=t,t.index=new S;var n=S.linesFromText(e);t.index.load(n.lines);for(var r=this.minVersion;r<this.currentVersion;r++)this.versions[r]=void 0;this.minVersion=this.currentVersion},e.prototype.getSnapshot=function(){var t=this.versions[this.currentVersion];if(this.changes.length>0){for(var n=this.latest().index,r=0,i=this.changes.length;i>r;r++){var a=this.changes[r];n=n.edit(a.pos,a.deleteLen,a.insertedText)}if(t=new A(this.currentVersion+1,this),t.index=n,t.changesSincePreviousVersion=this.changes,this.currentVersion=t.version,this.versions[t.version]=t,this.changes=[],this.currentVersion-this.minVersion>=e.maxVersions){var o=this.minVersion;this.minVersion=this.currentVersion-e.maxVersions+1;for(var s=o;s<this.minVersion;s++)this.versions[s]=void 0}}return t},e.prototype.getTextChangesBetweenVersions=function(e,t){if(!(t>e))return m;if(e>=this.minVersion){for(var n=[],r=e+1;t>=r;r++)for(var i=this.versions[r],a=0,s=i.changesSincePreviousVersion.length;s>a;a++){var u=i.changesSincePreviousVersion[a];n[n.length]=u.getTextChangeRange()}return o(n)}},e.fromString=function(t){var n=new e,r=new A(0,n);r.index=new S;var i=S.linesFromText(t);return r.index.load(i.lines),n.versions[n.currentVersion]=r,n},e.changeNumberThreshold=8,e.changeLengthThreshold=256,e.maxVersions=8,e}();t.ScriptVersionCache=w;var P=function(){function e(e,t,n){void 0===n&&(n=!1),this.fileName=e,this.content=t,this.isOpen=n,this.children=[],this.svc=w.fromString(t)}return e.prototype.close=function(){this.isOpen=!1},e.prototype.open=function(){this.isOpen=!0},e.prototype.getIsOpen=function(){return this.isOpen},e.prototype.addChild=function(e){this.children.push(e)},e.prototype.snap=function(){return this.svc.getSnapshot()},e.prototype.getText=function(){var e=this.snap();return e.getText(0,e.getLength())},e.prototype.getLineInfo=function(e){var t=this.snap();return t.index.lineNumberToInfo(e)},e.prototype.editContent=function(e,t,n){this.svc.edit(e,t-e,n)},e.prototype.getTextChangeRangeBetweenVersions=function(e,t){return this.svc.getTextChangesBetweenVersions(e,t)},e.prototype.getChangeRange=function(e){return this.snap().getChangeRange(e)},e}();t.ScriptInfo=P;var M=n(10),E=n(4);t.defaultLibFile=M.join(M.dirname(102),"lib.d.ts").split("\\").join("/");var C=function(){function e(e){var n=this;this.config=e,this.fileNameToScript=Object.create(null),this.addScript=function(e,t){try{t||(t=E.readFileSync(e).toString())}catch(r){t=""}var i=new P(e,t);n.fileNameToScript[e]=i},this.removeScript=function(e){delete n.fileNameToScript[e]},this.removeAll=function(){n.fileNameToScript=Object.create(null)},this.updateScript=function(e,t){var r=n.fileNameToScript[e];if(r){if(r.getText()==t)return;return void r.editContent(0,r.snap().getLength(),t)}n.addScript(e,t)},this.editScript=function(e,t,r,i){var a=n.fileNameToScript[e];if(a)return void a.editContent(t,r,i);throw new Error("No script with name '"+e+"'")},this.setScriptIsOpen=function(e,t){var r=n.fileNameToScript[e];if(r)return void r.open();throw new Error("No script with name '"+e+"'")},this.getScriptContent=function(e){var t=n.fileNameToScript[e];return t?t.getText():null},this.hasScript=function(e){return!!n.fileNameToScript[e]},this.getPositionFromIndex=function(e,t){var r=n.positionToLineCol(e,t);return{line:r.line-1,ch:r.col-1}},this.getIndexFromPosition=function(e,t){var r={ch:t.ch+1,line:t.line+1};return n.lineColToPosition(e,r.line,r.ch)},this.getCompilationSettings=function(){return n.config.project.compilerOptions},this.getScriptFileNames=function(){return Object.keys(n.fileNameToScript)},this.getScriptVersion=function(e){var t=n.fileNameToScript[e];return t?t.svc.latestVersion().toString():"0"},this.getScriptIsOpen=function(e){var t=n.fileNameToScript[e];return t?t.getIsOpen():!1},this.getScriptSnapshot=function(e){var t=n.fileNameToScript[e];return t?t.snap():null},this.getCurrentDirectory=function(){return n.config.projectFileDirectory},e.project.files.forEach(function(e){return n.addScript(e)}),this.addScript(t.defaultLibFile)}return e.prototype.log=function(){console.log(arguments)},e.prototype.lineColToPosition=function(e,t,n){var r=this.fileNameToScript[e],i=r.snap().index,a=i.lineNumberToInfo(t);return a.col+n-1},e.prototype.positionToLineCol=function(e,t){var n=this.fileNameToScript[e],r=n.snap().index,i=r.charOffsetToLineNumberAndPos(t);return{line:i.line,col:i.col+1}},e.prototype.getDefaultLibFilename=function(){return"lib.d.ts"},e}();t.LanguageServiceHost=C},function(e,t){e.exports=require("mkdirp")},function(e,t,n){function r(e,t){return e}function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,n){var r=i({},t.defaults);for(var a in e)x[a]&&(a=x[a]),L[a]?r[a]=L[a][e[a].toLowerCase()]:r[a]=e[a];return void 0!==r.outDir&&(r.outDir=E.resolve(n,r.outDir)),void 0!==r.out&&(r.out=E.resolve(n,r.out)),r}function o(e){var t=i({},e);return void 0!==e.target&&(t.target=O.target[e.target]),void 0!==e.module&&(t.module=O.module[e.module]),t}function s(e){var n=M.lstatSync(e).isDirectory()?e:E.dirname(e),r={compilerOptions:t.defaults,files:[e],formatCodeOptions:null,compileOnSave:!0};return r.files=p(r.files),r.files=y(r.files.map(c)),{projectFileDirectory:n,projectFilePath:n+"/"+_,project:r}}function u(e){if(!M.existsSync(e))throw new Error(t.errors.GET_PROJECT_INVALID_PATH);var n=M.lstatSync(e).isDirectory()?e:E.dirname(e),i="";try{i=S(n,_)}catch(o){var s=o;if("not found"==s.message)throw new Error(t.errors.GET_PROJECT_NO_PROJECT_FOUND)}i=E.normalize(i);var u,l=E.dirname(i)+E.sep;try{var d=M.readFileSync(i,"utf8")}catch(h){throw new Error(t.errors.GET_PROJECT_FAILED_TO_OPEN_PROJECT_FILE)}try{u=JSON.parse(d)}catch(h){throw r(new Error(t.errors.GET_PROJECT_JSON_PARSE_FAILED),{projectFilePath:c(i),error:h.message})}u.compilerOptions||(u.compilerOptions={});var f=E.relative(process.cwd(),E.dirname(i));if(u.files||u.filesGlob||(u.filesGlob=I),u.filesGlob){try{u.files=k({filter:"isFile",cwd:f},u.filesGlob)}catch(h){throw r(new Error(t.errors.GET_PROJECT_GLOB_EXPAND_FAILED),{glob:u.filesGlob,projectFilePath:c(i),errorMessage:h.message})}var v=m(u);v!==d&&M.writeFileSync(i,m(u))}u.files=u.files.map(function(e){return E.resolve(l,e)});var g={compilerOptions:{},files:u.files,filesGlob:u.filesGlob,formatCodeOptions:u.formatCodeOptions,compileOnSave:void 0==u.compileOnSave?!0:u.compileOnSave},A=P.validate(u.compilerOptions);if(A.errorMessage)throw r(new Error(t.errors.GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS),{projectFilePath:c(i),errorMessage:A.errorMessage});if(u.compilerOptions&&u.compilerOptions.out)throw r(new Error(t.errors.GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS),{projectFilePath:c(i),errorMessage:"We don't support --out because it will hurt you in the long run."});return g.compilerOptions=a(u.compilerOptions,l),g.files=p(g.files),g.files=y(g.files.map(c)),l=b(c(l)),{projectFileDirectory:l,projectFilePath:l+"/"+_,project:g}}function l(e,n){if(!M.existsSync(e))throw new Error(t.errors.CREATE_FILE_MUST_EXIST);var r=M.lstatSync(e).isDirectory()?e:E.dirname(e),i=E.normalize(r+"/"+_);if(M.existsSync(i))throw new Error(t.errors.CREATE_PROJECT_ALREADY_EXISTS);var a={};return a.version=R,a.compilerOptions=o(n||t.defaults),a.filesGlob=I,M.writeFileSync(i,m(a)),u(e)}function c(e){return e.split("\\").join("/")}function p(e){for(var t=A.createMap(e),n=function(n){return t[n]?!1:(t[n]=!0,e.push(n),!0)},r=function(e){var t=[];return e.forEach(function(e){try{var n=M.readFileSync(e).toString()}catch(r){return}var i=C.preProcessFile(n,!0),a=E.dirname(e);t.push(i.referencedFiles.map(function(e){var t=E.resolve(a,e.filename);return M.existsSync(t)?t:M.existsSync(t+".ts")?t+".ts":M.existsSync(t+".d.ts")?t+".d.ts":null}).filter(function(e){return!!e}).concat(i.importedFiles.filter(function(e){return d(e.filename)}).map(function(e){var t=E.resolve(a,e.filename+".ts");return M.existsSync(t)||(t=E.resolve(a,e.filename+".d.ts")),t})))}),h(t)},i=r(e).filter(n);i.length;)i=r(e).filter(n);return e}function m(e){var t=[],n=JSON.stringify(e,function(e,n){if("object"==typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n},4);return n=n.split("\n").join(N.EOL),t=null,n}function d(e){return e&&e.length?"."==e[0]||"./"==e.substring(0,2)||"../"==e.substring(0,3):!1}function h(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)t.push(e[n][r]);return t}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function y(e){var t=A.createMap(e);return Object.keys(t)}function v(e,t){var n=E.relative(e,t).split("\\").join("/");return"."!==n[0]&&(n="./"+n),n}function g(e){return e.substr(0,e.lastIndexOf("."))}function b(e){return e&&f(e,"/")?e.substr(0,e.length-1):e}function S(e,t){for(;M.existsSync(e);){var n=e+"/"+t;if(M.existsSync(n))return n;var r=e;if(e=E.dirname(e),e==r)throw new Error("not found")}}var A=n(145),T=A.types,w={allowNonTsExtensions:{type:A.types["boolean"]},charset:{type:A.types.string},codepage:{type:T.number},declaration:{type:T["boolean"]},diagnostics:{type:T["boolean"]},emitBOM:{type:T["boolean"]},emitDecoratorMetadata:{type:T["boolean"]},help:{type:T["boolean"]},locals:{type:T.string},mapRoot:{type:T.string},module:{type:T.string,validValues:["commonjs","amd"]},noEmitOnError:{type:T["boolean"]},noErrorTruncation:{type:T["boolean"]},noImplicitAny:{type:T["boolean"]},noLib:{type:T["boolean"]},noLibCheck:{type:T["boolean"]},noResolve:{type:T["boolean"]},out:{type:T.string},outDir:{type:T.string},preserveConstEnums:{type:T["boolean"]},removeComments:{type:T["boolean"]},sourceMap:{type:T["boolean"]},sourceRoot:{type:T.string},suppressImplicitAnyIndexErrors:{type:T["boolean"]},target:{type:T.string,validValues:["es3","es5","es6"]},version:{type:T["boolean"]},watch:{type:T["boolean"]}},P=new A.SimpleValidator(w);t.errors={GET_PROJECT_INVALID_PATH:"Invalid Path",GET_PROJECT_NO_PROJECT_FOUND:"No Project Found",GET_PROJECT_FAILED_TO_OPEN_PROJECT_FILE:"Failed to fs.readFileSync the project file",GET_PROJECT_JSON_PARSE_FAILED:"Failed to JSON.parse the project file",GET_PROJECT_GLOB_EXPAND_FAILED:"Failed to expand filesGlob in the project file",GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS:"Project file contains invalid options",CREATE_FILE_MUST_EXIST:"To create a project the file must exist",CREATE_PROJECT_ALREADY_EXISTS:"Project file already exists"};var M=n(4),E=n(10),C=n(102),N=n(146),_="tsconfig.json",I=["./**/*.ts","!./node_modules/**/*.ts"],R="1.4.1";t.defaults={target:1,module:1,declaration:!1,noImplicitAny:!1,removeComments:!0,noLib:!1};var x={outdir:"outDir",noimplicitany:"noImplicitAny",removecomments:"removeComments",sourcemap:"sourceMap",sourceroot:"sourceRoot",maproot:"mapRoot",nolib:"noLib"},L={target:{es3:0,es5:1,es6:2,latest:2},module:{none:0,commonjs:1,amd:2}},O={target:function(){var e={};return e[0]="es3",e[1]="es5",e[2]="es6",e[2]="latest",e}(),module:function(){var e={};return e[0]="none",e[1]="commonjs",e[2]="amd",e}()};t.getDefaultProject=s;var k=n(147);t.getProjectSync=u,t.createProjectRootSync=l,t.consistentPath=c,t.prettyJSON=m,t.pathIsRelative=d,t.endsWith=f,t.makeRelativePath=v,t.removeExt=g,t.removeTrailingSlash=b,t.travelUpTheDirectoryTreeTillYouFindFile=S},function(e,t){function n(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}t.types={string:"string","boolean":"boolean",number:"number"};var r=function(){function e(e){var t=this;this.validationInfo=e,this.potentialLowerCaseMatch={},Object.keys(e).forEach(function(e){return t.potentialLowerCaseMatch[e.toLowerCase()]=e})}return e.prototype.validate=function(e){var t=this,n=Object.keys(e),r={invalidValues:[],extraKeys:[],errorMessage:""};n.forEach(function(n){if(t.validationInfo[n]){var i=t.validationInfo[n],a=e[n];if(i.validValues&&i.validValues.length){var o=i.validValues;o.some(function(e){return e===a})||r.invalidValues.push("Key: '"+n+"' has an invalid value: "+a)}i.type&&typeof a!==i.type&&r.invalidValues.push("Key: '"+n+"' has an invalid type: "+typeof a)}else t.potentialLowerCaseMatch[n]?r.extraKeys.push("Key: '"+n+"' is a potential lower case match for '"+t.potentialLowerCaseMatch[n]+"'. Fix the casing."):r.extraKeys.push("Unknown Option: "+n)});var i=r.invalidValues.concat(r.extraKeys);return i.length&&(r.errorMessage=i.join("\n")),r},e}();t.SimpleValidator=r,t.createMap=n},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("glob-expand")},function(e,t,n){function r(e){var t=c.readdirSync(e),n=t.filter(function(t){return c.lstatSync(l.resolve(e,t)).isDirectory()});return n}function i(e,t){var n=t.toLowerCase();0!=n.indexOf(".")&&(n="."+n);var r=n.length,i=c.readdirSync(e),a=i.filter(function(t){return!c.lstatSync(l.resolve(e,t)).isDirectory()&&-1!=t.toLowerCase().indexOf(n,t.length-r)});return a}function a(e){var t=process.cwd(),n=t.length,r=e.substring(n).replace(new RegExp("\\\\","g"),"/");return"/"!==r[0]&&(r="/"+r),r="."+r}function o(e){c.existsSync(e)&&(c.lstatSync(e).isDirectory()&&c.readdirSync(e).forEach(function(t){return o(l.resolve(e,t))}),c.unlinkSync(e))}function s(e,t,n,r,i,a,o,s,u){void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=""),void 0===a&&(a=""),void 0===o&&(o=""),void 0===s&&(s=-1),void 0===u&&(u=null);try{n&&console.log(i);var l=p.execSync(e,{cwd:t,encoding:"utf8",stdio:[0,1,2]});if(n&&(console.log(a),l)){var c=l.toString();c.trim().length>0&&(0>s?console.log(c):s>0&&console.log(c.substring(0,Math.min(s,c.length))))}}catch(m){u&&u(m),r&&(console.log(o),console.log(m.message))}}function u(e,t,n,r,i,a,o,s,u){void 0===r&&(r=!1),void 0===i&&(i=!0),void 0===a&&(a=""),void 0===o&&(o=""),void 0===s&&(s=""),void 0===u&&(u=-1);try{r&&console.log(a);var l=p.exec(e,{cwd:n,encoding:"utf8",stdio:["pipe","pipe","pipe"]},function(e){console.log("Something happened")});l.addListener("exit",t)}catch(c){i&&(console.log(s),console.log(c.message))}}var l=n(10),c=n(4),p=n(149);t.getSubDirectories=r,t.getFiles=i,t.getRelativePath=a,t.deleteFiles=o,t.execProcess=s,t.execProcessAsync=u},function(e,t){e.exports=require("child_process")},function(e,t,n){function r(e){switch(e){case 0:return"text-normal";case 1:return"text-smaller";case 2:return"text-subtle";case 3:return"text-highlight";case 4:return"text-info";case 5:return"text-success";case 6:return"text-warning";case 7:return"text-error";default:return""}}function i(e){switch(e){case 0:return"no-highlight";case 1:return"highlight";case 2:return"highlight-info";case 3:return"highlight-success";case 4:return"highlight-warning";case 5:return"highlight-error";default:return null}}function a(e){switch(e){case 0:return"block";case 1:return"inline-block";case 2:return"inline-block-tight";case 3:return"btn-group";default:return null}}function o(e){switch(e){case 1:return"icon-alert";case 2:return"icon-alignment-align";case 3:return"icon-alignment-aligned-to";case 4:return"icon-alignment-unalign";case 5:return"icon-arrow-down";case 6:return"icon-arrow-left";case 7:return"icon-arrow-right";case 8:return"icon-arrow-small-down";case 9:return"icon-arrow-small-left";case 10:return"icon-arrow-small-right";case 11:return"icon-arrow-small-up";case 12:return"icon-arrow-up";case 13:return"icon-beer";case 14:return"icon-book";case 15:return"icon-bookmark";case 16:return"icon-briefcase";case 17:return"icon-broadcast";case 18:return"icon-browser";case 19:return"icon-bug";case 20:return"icon-calendar";case 21:return"icon-check";case 22:return"icon-checklist";case 23:return"icon-chevron-down";case 24:return"icon-chevron-left";case 25:return"icon-chevron-right";case 26:return"icon-chevron-up";case 27:return"icon-circle-slash";case 28:return"icon-circuit-board";case 29:return"icon-clippy";case 30:return"icon-clock";case 31:return"icon-cloud-download";case 32:return"icon-cloud-upload";case 33:return"icon-code";case 34:return"icon-color-mode";case 35:return"icon-comment-add";case 36:return"icon-comment";case 37:return"icon-comment-discussion";case 38:return"icon-credit-card";case 39:return"icon-dash";case 40:return"icon-dashboard";case 41:return"icon-database";case 42:return"icon-device-camera";case 43:return"icon-device-camera-video";case 44:return"icon-device-desktop";case 45:return"icon-device-mobile";case 46:return"icon-diff";case 47:return"icon-diff-added";case 48:return"icon-diff-ignored";case 49:return"icon-diff-modified";case 50:return"icon-diff-removed";case 51:return"icon-diff-renamed";case 52:return"icon-ellipsis";case 53:return"icon-eye-unwatch";case 54:return"icon-eye-watch";case 55:return"icon-eye";case 56:return"icon-file-binary";case 57:return"icon-file-code";case 58:return"icon-file-directory";case 59:return"icon-file-media";case 60:return"icon-file-pdf";case 61:return"icon-file-submodule";case 62:return"icon-file-symlink-directory";case 63:return"icon-file-symlink-file";case 64:return"icon-file-text";case 65:return"icon-file-zip";
case 66:return"icon-flame";case 67:return"icon-fold";case 68:return"icon-gear";case 69:return"icon-gift";case 70:return"icon-gist";case 71:return"icon-gist-secret";case 72:return"icon-git-branch-create";case 73:return"icon-git-branch-delete";case 74:return"icon-git-branch";case 75:return"icon-git-commit";case 76:return"icon-git-compare";case 77:return"icon-git-merge";case 78:return"icon-git-pull-request-abandoned";case 79:return"icon-git-pull-request";case 80:return"icon-globe";case 81:return"icon-graph";case 82:return"icon-heart";case 83:return"icon-history";case 84:return"icon-home";case 85:return"icon-horizontal-rule";case 86:return"icon-hourglass";case 87:return"icon-hubot";case 88:return"icon-inbox";case 89:return"icon-info";case 90:return"icon-issue-closed";case 91:return"icon-issue-opened";case 92:return"icon-issue-reopened";case 93:return"icon-jersey";case 94:return"icon-jump-down";case 95:return"icon-jump-left";case 96:return"icon-jump-right";case 97:return"icon-jump-up";case 98:return"icon-key";case 99:return"icon-keyboard";case 100:return"icon-law";case 101:return"icon-light-bulb";case 102:return"icon-link";case 103:return"icon-link-external";case 104:return"icon-list-ordered";case 105:return"icon-list-unordered";case 106:return"icon-location";case 107:return"icon-gist-private";case 108:return"icon-mirror-private";case 109:return"icon-git-fork-private";case 110:return"icon-lock";case 111:return"icon-logo-github";case 112:return"icon-mail";case 113:return"icon-mail-read";case 114:return"icon-mail-reply";case 115:return"icon-mark-github";case 116:return"icon-markdown";case 117:return"icon-megaphone";case 118:return"icon-mention";case 119:return"icon-microscope";case 120:return"icon-milestone";case 121:return"icon-mirror-public";case 122:return"icon-mirror";case 123:return"icon-mortar-board";case 124:return"icon-move-down";case 125:return"icon-move-left";case 126:return"icon-move-right";case 127:return"icon-move-up";case 128:return"icon-mute";case 129:return"icon-no-newline";case 130:return"icon-octoface";case 131:return"icon-organization";case 132:return"icon-package";case 133:return"icon-paintcan";case 134:return"icon-pencil";case 135:return"icon-person-add";case 136:return"icon-person-follow";case 137:return"icon-person";case 138:return"icon-pin";case 139:return"icon-playback-fast-forward";case 140:return"icon-playback-pause";case 141:return"icon-playback-play";case 142:return"icon-playback-rewind";case 143:return"icon-plug";case 144:return"icon-repo-create";case 145:return"icon-gist-new";case 146:return"icon-file-directory-create";case 147:return"icon-file-add";case 148:return"icon-plus";case 149:return"icon-podium";case 150:return"icon-primitive-dot";case 151:return"icon-primitive-square";case 152:return"icon-pulse";case 153:return"icon-puzzle";case 154:return"icon-question";case 155:return"icon-quote";case 156:return"icon-radio-tower";case 157:return"icon-repo-delete";case 158:return"icon-repo";case 159:return"icon-repo-clone";case 160:return"icon-repo-force-push";case 161:return"icon-gist-fork";case 162:return"icon-repo-forked";case 163:return"icon-repo-pull";case 164:return"icon-repo-push";case 165:return"icon-rocket";case 166:return"icon-rss";case 167:return"icon-ruby";case 168:return"icon-screen-full";case 169:return"icon-screen-normal";case 170:return"icon-search-save";case 171:return"icon-search";case 172:return"icon-server";case 173:return"icon-settings";case 174:return"icon-log-in";case 175:return"icon-sign-in";case 176:return"icon-log-out";case 177:return"icon-sign-out";case 178:return"icon-split";case 179:return"icon-squirrel";case 180:return"icon-star-add";case 181:return"icon-star-delete";case 182:return"icon-star";case 183:return"icon-steps";case 184:return"icon-stop";case 185:return"icon-repo-sync";case 186:return"icon-sync";case 187:return"icon-tag-remove";case 188:return"icon-tag-add";case 189:return"icon-tag";case 190:return"icon-telescope";case 191:return"icon-terminal";case 192:return"icon-three-bars";case 193:return"icon-thumbsdown";case 194:return"icon-thumbsup";case 195:return"icon-tools";case 196:return"icon-trashcan";case 197:return"icon-triangle-down";case 198:return"icon-triangle-left";case 199:return"icon-triangle-right";case 200:return"icon-triangle-up";case 201:return"icon-unfold";case 202:return"icon-unmute";case 203:return"icon-versions";case 204:return"icon-remove-close";case 205:return"icon-x";case 206:return"icon-zap";default:throw new Error("Should never happen")}}function s(e,t,n,r,i,a){void 0===i&&(i=!1),void 0===a&&(a=null);var o=E.section(e,t),s=new $(new z,r);return a&&s.setBasicLabelFunction(a),i&&o.addChild(E.filterField(s)),s.setInput(n),o.addChild(s),o}function u(e,t){var n="function"==typeof t?new q(t):t,r=new $(new z,n);return r.setInput(e),r}function l(e){return new D("h1",e,null)}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new D("h2",e,null);return t.forEach(function(e){return r.addChild(e)}),r}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new D("h3",e,null);return t.forEach(function(e){return r.addChild(e)}),r}function m(e,t,n){e&&t.addClass(r(e)),n&&t.addClass(i(n))}function d(e){return M.find(atom.grammars.getGrammars(),function(t){return t.scopeName==e})}function h(e,t){var n=new te(e,t);return n}function f(e){var t=0;e=e.filter(function(e){return y(e)&&!v(e)}),e.length<1||(e.forEach(function(e){var n=e.caption();null!=n&&n.length>t&&(t=n.length)}),e.forEach(function(e){var n=e;n.setLabelWidth(t),n.setLabelHeight(n.ui().clientHeight)}))}function y(e){return e instanceof L?!1:e.caption&&"function"==typeof e.caption&&e.setLabelWidth&&"function"==typeof e.setLabelWidth?!0:!1}function v(e){return e instanceof L}function g(e,t,n){return new ce(e,t,n)}function b(e,t,n){void 0===n&&(n=function(e){return e});var r=null;switch(null==t&&(t=""),e.type){case 0:r=new L("",null,n).pad(-10,10);break;case 1:r=g(e.caption,""+t,n);break;case 2:case 3:r=g(e.caption,""+t,n),r.getBinding().addValidator(function(t){return isNaN(t)?{code:2,message:e.caption+" should be a number"}:3==e.type&&t&&-1!=t.indexOf(".")?{code:2,message:e.caption+" should be integer"}:{code:0,message:""}});break;case 4:r=new he(e.caption,""+t,e.realm,n);break;case 5:r=g(e.caption,""+t,n);break;default:r=g(e.caption+"(untyped)",""+t,n)}return r.getBinding().set(t),r.setRequired(e.required),e.required&&r.getBinding().addValidator(function(t){return null!=t&&t.length>0?{code:0,message:""}:{code:2,message:e.caption+" is required"}}),r}function S(){return{code:0,message:""}}function A(e){return{code:2,message:e}}function T(e,t,n){void 0===n&&(n=function(e){return e});var r=g(e,t,n);return r.getActualField().setGrammar("source.ts"),r}var w,P=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},M=n(17),E=n(151),C=n(152),N=n(153),_=n(154);!function(e){e[e.Before=0]="Before",e[e.After=1]="After"}(w||(w={}));var I=function(){function e(){this.items=[]}return e.prototype.add=function(e){this.items.push(e)},e.prototype.remove=function(e){this.items=this.items.filter(function(t){return t!=e})},e.prototype.dispose=function(){this.items.forEach(function(e){return e.dispose()})},e}();t.CompositeDisposable=I,function(e){e[e.OK=0]="OK",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(t.StatusCode||(t.StatusCode={}));var R=(t.StatusCode,function(){function e(e){void 0===e&&(e=null),this.value=e,this.listeners=[],this.validators=[],this.slisteners=[]}return e.prototype.addValidator=function(e){this.validators.push(e)},e.prototype.removeValidator=function(e){this.validators=this.validators.filter(function(t){return t!=e})},e.prototype.addStatusListener=function(e){this.slisteners.push(e)},e.prototype.removeStatusListener=function(e){this.slisteners=this.slisteners.filter(function(t){return t!=e})},e.prototype.status=function(){return this._status},e.prototype.setStatus=function(e){this._status!=e&&this.slisteners.forEach(function(t){return t(e)}),this._status=e},e.prototype.get=function(){return this.value},e.prototype.set=function(e){var t=this;if(this.value!=e){var n=this.value;this.value=e;var r={code:0,message:""};this.validators.forEach(function(t){var n=t(e);n.code>r.code&&(r=n)}),this.setStatus(r),this.listeners.forEach(function(r){return r(e,n,t)})}return n},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e}());t.BasicBinding=R;var x=function(){function e(e,t){var n=this;void 0===t&&(t=null),this._tagName=e,this._disabled=!1,this._children=[],this.focusListeners=[],this._onAltClickListeners=[],this._onKeyUpListeners=[],this._onKeyDownListeners=[],this._onKeyPressListeners=[],this._bListener=function(e){n.inSet||n.handleDataChanged()},this._binding=this.createBinding(),this._extraClasses=[],this._extraStyles={},this.inSet=!1,this.disposable=new I,this._display=!0,this._onClickListeners=[],this.firstInit=!1,this._icon=t}return e.prototype.id=function(){return this._id},e.prototype.setId=function(e){return this._id=e,this},e.prototype.disabled=function(){return this._disabled},e.prototype.setDisabled=function(e){this._disabled=e,this.handleLocalChange()},e.prototype.setTabIndex=function(e){this.ui().tabIndex=e},e.prototype.createBinding=function(){var e=new R;return e.addListener(this._bListener),e},e.prototype.addFocusListener=function(e){this.focusListeners.push(e)},e.prototype.removeFocusListener=function(e){this.focusListeners=this.focusListeners.filter(function(t){return t!=e})},e.prototype.addAltClickListener=function(e){this._onAltClickListeners.push(e)},e.prototype.removeAltClickListener=function(e){this._onAltClickListeners=this._onAltClickListeners.filter(function(t){return t!=e})},e.prototype.addKeyDownListener=function(e){this._onKeyDownListeners.push(e)},e.prototype.removeKeyDownListener=function(e){this._onKeyDownListeners=this._onKeyDownListeners.filter(function(t){return t!=e})},e.prototype.addKeyUpListener=function(e){this._onKeyUpListeners.push(e)},e.prototype.removeKeyUpListener=function(e){this._onKeyUpListeners=this._onKeyUpListeners.filter(function(t){return t!=e})},e.prototype.addKeyPressListener=function(e){this._onKeyPressListeners.push(e)},e.prototype.removeKeyPressListener=function(e){this._onKeyPressListeners=this._onKeyPressListeners.filter(function(t){return t!=e})},e.prototype.pad=function(e,t){return this.padding_left=e,this.padding_right=t,this},e.prototype.margin=function(e,t,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),this.margin_left=e,this.margin_right=t,this.margin_bottom=r,this.margin_top=n,this},e.prototype.getAssociatedValue=function(){return this._binding?this._binding.get():null},e.prototype.setAssociatedValue=function(e){this.inSet=!0;try{this._binding.set(e)}finally{this.inSet=!1}},e.prototype.getStyle=function(){return this._extraStyles},e.prototype.caption=function(){return this._caption},e.prototype.setCaption=function(e){return this._caption=e,this.handleLocalChange(),this},e.prototype.setIcon=function(e){this._icon=e,this.handleLocalChange()},e.prototype.getIcon=function(){return this._icon},e.prototype.setStyle=function(e,t){return this._extraStyles[e]=t,this.handleLocalChange(),this},e.prototype.removeStyle=function(e){delete this._extraStyles[e]},e.prototype.hasClass=function(e){return-1!=this._extraClasses.indexOf(e)},e.prototype.clearUI=function(){this._ui=null},e.prototype.applyTooltip=function(e){var t=E.hc(e).renderUI().innerHTML,n=this;this.tooltipComponentListener={changed:function(e){n.disposable.remove(n.tooltipHandle),n.tooltipHandle.dispose(),n.tooltipComponent&&n.applyTooltip(n.tooltipComponent)}},e.addComponentListener(this.tooltipComponentListener);var r=atom.tooltips.add(this.ui(),{title:'<div class="raml-console-tooltip">'+t+"</div>",delay:100,html:!0});this.tooltipHandle=r,this.disposable.add(r)},e.prototype.handleDataChanged=function(){},e.prototype.setTooltip=function(e){},e.prototype.disposeTooltipListeners=function(){this.tooltipComponent&&this.tooltipComponentListener&&(this.tooltipComponent.removeComponentListener(this.tooltipComponentListener),this.tooltipComponentListener=null,this.tooltipHandle.dispose(),this.disposable.remove(this.tooltipHandle))},e.prototype.dispose=function(){this.disposable.dispose(),this._children.forEach(function(e){return e.dispose()})},e.prototype.getPercentWidth=function(){return this._percentWidth},e.prototype.setPercentWidth=function(e){return this._percentWidth=e,this.handleLocalChange(),this},e.prototype.getPercentHeight=function(){return this._percentHeight},e.prototype.setPercentHeight=function(e){return this._percentHeight=e,this.handleLocalChange(),this},e.prototype.setDisplay=function(e){this._display=e,this.handleLocalChange()},e.prototype.getDisplay=function(){return this._display},e.prototype.addClass=function(e){return this._extraClasses.push(e),this._ui&&this._ui.classList.add(e),this},e.prototype.removeClass=function(e){this._extraClasses=this._extraClasses.filter(function(t){return t!=e}),this._ui&&this._ui.classList.remove(e)},e.prototype.addOnClickListener=function(e){this._onClickListeners.push(e),this.handleLocalChange()},e.prototype.removeOnClickListener=function(e){this._onClickListeners=this._onClickListeners.filter(function(t){return t!=e}),this.handleLocalChange()},e.prototype.ui=function(){return null==this._ui&&(this._ui=this.renderUI()),this._ui},e.prototype.refresh=function(){var e=this.renderUI();null!=this._ui&&null!=this._ui.parentNode&&this._ui.parentNode.replaceChild(e,this._ui),this._ui=e},e.prototype.setTagName=function(e){this._tagName=e},e.prototype.setBinding=function(e){this._binding=e,e.addListener(this._bListener),this.handleDataChanged()},e.prototype.getBinding=function(){return this._binding},e.prototype.selfInit=function(){},e.prototype.renderUI=function(){var e=this.selfRender();this._ui=e,this.firstInit||(this.selfInit(),this.firstInit=!0),this.customize(e),this._children.filter(function(e){return null!=e}).forEach(function(t){return e.appendChild(t.ui())});var t=this.selfRenderFooter();return t&&e.appendChild(t),e},e.prototype.customize=function(e){var t=this;if(this._icon){e.classList.contains("icon")?e.classList.remove(this._oldIcon):e.classList.add("icon");var n=o(this._icon);this._oldIcon=n,e.classList.add(n)}else e.classList.contains("icon")&&e.classList.remove(this._oldIcon);e.onfocus=function(e){t.focusListeners.forEach(function(e){return e(t)})},e.addEventListener("DOMNodeRemovedFromDocument",function(e){e.stopPropagation(),e.srcElement==t._ui&&t.dispose()}),this.tooltipComponent&&this.applyTooltip(this.tooltipComponent),this._onClickListeners.length>0||this._onAltClickListeners.length>0?e.onclick=function(e){if(!t.disabled()){var n;n=e.altKey?t._onAltClickListeners:t._onClickListeners,n.forEach(function(e){return e(t)}),e.stopPropagation()}}:e.onclick=null,this._onKeyDownListeners.length>0&&(e.onkeydown=function(e){t._onKeyDownListeners.forEach(function(n){return n(t,e)})}),this._onKeyUpListeners.length>0&&(e.onkeydown=function(e){t._onKeyUpListeners.forEach(function(n){return n(t,e)})}),this._onKeyPressListeners.length>0&&(e.onkeydown=function(e){t._onKeyPressListeners.forEach(function(n){return n(t,e)})});var r="";if(this._percentWidth&&(r+="width:"+this._percentWidth+"%;"),this._percentHeight&&(r+="width:"+this._percentHeight+"%;"),this._extraStyles)for(var i in this._extraStyles)r+=i+":"+this._extraStyles[i]+";";this.disabled()&&(r+="color: gray;text-decoration:none;"),this.padding_left&&(r+="padding-left:"+this.padding_left+"px;"),this.padding_right&&(r+="padding-right:"+this.padding_right+"px;"),this.margin_left&&(r+="margin-left:"+this.margin_left+"px;"),this.margin_right&&(r+="margin-right:"+this.margin_right+"px;"),this.margin_bottom&&(r+="margin-bottom:"+this.margin_bottom+"px;"),this.margin_right&&(r+="margin-top:"+this.margin_top+"px;"),0==this._display&&(r+="display:none"),e.setAttribute("style",r),this._extraClasses.forEach(function(t){return e.classList.add(t)})},e.prototype.selfRender=function(){return document.createElement(this._tagName)},e.prototype.selfRenderFooter=function(){return null},e.prototype.parent=function(){return this._parent},e.prototype.setParent=function(e){null!=this._parent&&this._parent.removeChild(this),this._parent=e},e.prototype.clear=function(){for(var e=0;e<this._children.length;e++)try{this._ui.removeChild(this._children[e].ui())}catch(t){}this._children=[]},e.prototype.addChild=function(e,t,n){if(void 0===t&&(t=null),null!=e){var r=this.ui();if(e.setParent(this),null==t)1==n||void 0==n?(r.appendChild(e.ui()),this._children.push(e)):(r.insertBefore(e.ui(),r.firstChild),this._children.splice(0,0,e));else{var i=t.ui();r.insertBefore(e.ui(),n?i.nextElementSibling:i),this._children.splice(this._children.indexOf(t),0,e)}this.changed()}},e.prototype.removeChild=function(e){if(this._children=this._children.filter(function(t){return t!=e}),this._ui)try{this._ui.removeChild(e.ui())}catch(t){}this.changed()},e.prototype.replaceChild=function(e,t){this.addChild(e,t),this.removeChild(t)},e.prototype.addComponentListener=function(e){this.componentListeners||(this.componentListeners=[]),this.componentListeners.push(e)},e.prototype.removeComponentListener=function(e){this.componentListeners&&(this.componentListeners=this.componentListeners.filter(function(t){return t!=e}))},e.prototype.handleLocalChange=function(){var e=this;this.componentListeners&&this.componentListeners.forEach(function(t){return t.changed(e)}),this._ui&&this.customize(this._ui)},e.prototype.changed=function(){this._parent&&this._parent.changed()},e.prototype.children=function(){return[].concat(this._children)},e.prototype.isAttached=function(){return this._parent?this._parent.isAttached():!1},e}();t.BasicComponent=x;var L=function(e){function t(t,n,r){e.call(this,"div",n),this._onchange=r,this._required=!1,this.value=!1,this.setCaption(t)}return P(t,e),t.prototype.getActualField=function(){return this},t.prototype.setLabelWidth=function(e){},t.prototype.setLabelHeight=function(e){this.getActualField().setStyle("line-height",e+"px")},t.prototype.setRequired=function(e){this._required=e},t.prototype.handleDataChanged=function(){return this.setValue(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this,n=this.ui();n.classList.add("checkbox"),n.classList.add("settings-view"),n.classList.add("pane-item");var r=document.createElement("input");r.type="checkbox",this.actualInput=r,r.checked=this.value,r.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e._onchange(e,n)};var i="check"+t.num++;r.id=i;var a=document.createElement("label");a.htmlFor=i,n.appendChild(a),a.appendChild(r);var o=document.createElement("div");o.classList.add("setting-title"),o.setAttribute("style","display:inline;"),o.textContent=this.caption(),a.appendChild(o);var s=document.createElement("div");s.classList.add("setting-description"),n.appendChild(s)},t.prototype.setValue=function(e){this.actualInput&&(this.actualInput.checked=e),this.value=e},t.prototype.getValue=function(){return this.actualInput.checked},t.prototype.refresh=function(){this.actualInput.value=this.caption()},t.num=0,t}(x);t.CheckBox=L;var O=function(e){function t(t,n,r,i){e.call(this,"div",r),this._rid=n,this._onchange=i,this._required=!1,this.value=!1,this.setCaption(t)}return P(t,e),t.prototype.getActualField=function(){return this},t.prototype.setLabelWidth=function(e){},t.prototype.setLabelHeight=function(e){},t.prototype.setRequired=function(e){this._required=e},t.prototype.handleDataChanged=function(){return this.setValue(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this,t=this.ui();t.classList.add("radio"),t.classList.add("settings-view"),t.classList.add("pane-item");var n=document.createElement("input");n.type="radio",this.actualInput=n,n.checked=this.value,n.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e._onchange(e,n)},n.name=this.id();var r=document.createElement("label");r.htmlFor=n.id,t.appendChild(r),r.appendChild(n);var i=document.createElement("div");i.classList.add("setting-title"),i.setAttribute("style","display:inline;"),i.textContent=this.caption(),r.appendChild(i);var a=document.createElement("div");a.classList.add("setting-description"),t.appendChild(a)},t.prototype.id=function(){return this._rid},t.prototype.setId=function(e){return this._rid=e,this},t.prototype.setValue=function(e){this.actualInput&&(this.actualInput.checked=e),this.value=e},t.prototype.getValue=function(){return this.actualInput.checked},t.prototype.refresh=function(){this.actualInput.value=this.caption()},t}(x);t.RadioButton=O;var k=function(e){function t(t,n,r){void 0===n&&(n=function(e){return e}),void 0===r&&(r=null),e.call(this,"div",r),this.onChange=n,this._options=[],this.setCaption(t)}return P(t,e),t.prototype.getOptions=function(){return this._options},t.prototype.setOptions=function(e){this._options=e,this.handleLocalChange()},t.prototype.handleLocalChange=function(){e.prototype.handleLocalChange.call(this),this._select&&(this._select.disabled=this.disabled())},t.prototype.handleDataChanged=function(){return this._value=this.getBinding().get(),this.ui()&&(this._select.value=this._value),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this;this.ui().classList.add("settings-view"),this._select=document.createElement("select"),this.ui().appendChild(this._select),this._select.classList.add("form-control"),this._options.forEach(function(t){var n=document.createElement("option");n.text=t,n.value=t,e._select.appendChild(n)}),this._select.value=this._value,this._select.disabled=this.disabled(),this._select.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e.onChange(e,n)}},t.prototype.getValue=function(){return this.ui()&&(this._value=this._select.value),this._value},t.prototype.setValue=function(e,t){this._value=e,this.ui()&&(this._select.value=e),t&&this.onChange(this,this.getValue())},t}(x);t.Select=k;var D=function(e){function t(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),e.call(this,t,r),this._text="","object"==typeof n?(this._binding=n,this._binding.addListener(this._bListener),this._text=this.getBinding().get()):this._text=n}return P(t,e),t.prototype.getText=function(){return this._text},t.prototype.setText=function(e,t){void 0===t&&(t=!0),this._text=e,t&&this.handleLocalChange()},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.caption=function(){return e.prototype.caption.call(this)?e.prototype.caption.call(this):this._text},t.prototype.customize=function(t){t.textContent=this._text,e.prototype.customize.call(this,t)},t}(x);t.TextElement=D;var U=function(e){function t(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),e.call(this,t,r),this._text="",this._text=n}return P(t,e),t.prototype.getText=function(){return this._text},t.prototype.setText=function(e){this._text=e,this.handleLocalChange()},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.customize=function(t){t.innerHTML=this._text,e.prototype.customize.call(this,t)},t}(x);t.InlineHTMLElement=U;var F=function(e){function t(t,n){void 0===t&&(t=""),void 0===n&&(n=null),e.call(this,"label",t,n)}return P(t,e),t}(D);t.Label=F;var j=function(e){function t(t){void 0===t&&(t=0),e.call(this,0==t?"div":"span"),this._layoutType=t,this.addClass(a(t))}return P(t,e),t.prototype.addChild=function(t,n){e.prototype.addChild.call(this,t,n),0==this._layoutType&&f(this._children)},t.prototype.renderUI=function(t){void 0===t&&(t=!0);var n=e.prototype.renderUI.call(this);return t&&0==this._layoutType&&f(this._children),n},t}(x);t.Panel=j;var K=function(e){function t(){e.apply(this,arguments)}return P(t,e),t.prototype.setLabelWidth=function(e){this.children().length>0&&this.children()[0].setLabelWidth(e)},t.prototype.setLabelHeight=function(e){},t}(j);t.WrapPanel=K,function(e){e[e.NORMAL=0]="NORMAL",e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(t.ButtonSizes||(t.ButtonSizes={}));t.ButtonSizes;!function(e){e[e.NO_HIGHLIGHT=0]="NO_HIGHLIGHT",e[e.PRIMARY=1]="PRIMARY",e[e.INFO=2]="INFO",e[e.SUCCESS=3]="SUCCESS",e[e.WARNING=4]="WARNING",e[e.ERROR=5]="ERROR"}(t.ButtonHighlights||(t.ButtonHighlights={}));t.ButtonHighlights;!function(e){e[e.NORMAL=0]="NORMAL",e[e.SMALLER=1]="SMALLER",e[e.SUBTLE=2]="SUBTLE",e[e.HIGHLIGHT=3]="HIGHLIGHT",e[e.INFO=4]="INFO",e[e.SUCCESS=5]="SUCCESS",e[e.WARNING=6]="WARNING",e[e.ERROR=7]="ERROR"}(t.TextClasses||(t.TextClasses={}));t.TextClasses;!function(e){e[e.NONE=0]="NONE",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.HIGHLIGHT_INFO=2]="HIGHLIGHT_INFO",e[e.HIGHLIGHT_SUCCESS=3]="HIGHLIGHT_SUCCESS",e[e.HIGHLIGHT_WARNING=4]="HIGHLIGHT_WARNING",e[e.HIGHLIGHT_ERROR=5]="HIGHLIGHT_ERROR"}(t.HighLightClasses||(t.HighLightClasses={}));t.HighLightClasses;!function(e){e[e.BLOCK=0]="BLOCK",e[e.INLINE_BLOCK=1]="INLINE_BLOCK",e[e.INLINE_BLOCK_TIGHT=2]="INLINE_BLOCK_TIGHT",e[e.BTN_GROUP=3]="BTN_GROUP"}(t.LayoutType||(t.LayoutType={}));t.LayoutType;!function(e){e[e.NONE=0]="NONE",e[e.ALERT=1]="ALERT",e[e.ALIGNMENT_ALIGN=2]="ALIGNMENT_ALIGN",e[e.ALIGNMENT_ALIGNED_TO=3]="ALIGNMENT_ALIGNED_TO",e[e.ALIGNMENT_UNALIGN=4]="ALIGNMENT_UNALIGN",e[e.ARROW_DOWN=5]="ARROW_DOWN",e[e.ARROW_LEFT=6]="ARROW_LEFT",e[e.ARROW_RIGHT=7]="ARROW_RIGHT",e[e.ARROW_SMALL_DOWN=8]="ARROW_SMALL_DOWN",e[e.ARROW_SMALL_LEFT=9]="ARROW_SMALL_LEFT",e[e.ARROW_SMALL_RIGHT=10]="ARROW_SMALL_RIGHT",e[e.ARROW_SMALL_UP=11]="ARROW_SMALL_UP",e[e.ARROW_UP=12]="ARROW_UP",e[e.BEER=13]="BEER",e[e.BOOK=14]="BOOK",e[e.BOOKMARK=15]="BOOKMARK",e[e.BRIEFCASE=16]="BRIEFCASE",e[e.BROADCAST=17]="BROADCAST",e[e.BROWSER=18]="BROWSER",e[e.BUG=19]="BUG",e[e.CALENDAR=20]="CALENDAR",e[e.CHECK=21]="CHECK",e[e.CHECKLIST=22]="CHECKLIST",e[e.CHEVRON_DOWN=23]="CHEVRON_DOWN",e[e.CHEVRON_LEFT=24]="CHEVRON_LEFT",e[e.CHEVRON_RIGHT=25]="CHEVRON_RIGHT",e[e.CHEVRON_UP=26]="CHEVRON_UP",e[e.CIRCLE_SLASH=27]="CIRCLE_SLASH",e[e.CIRCUIT_BOARD=28]="CIRCUIT_BOARD",e[e.CLIPPY=29]="CLIPPY",e[e.CLOCK=30]="CLOCK",e[e.CLOUD_DOWNLOAD=31]="CLOUD_DOWNLOAD",e[e.CLOUD_UPLOAD=32]="CLOUD_UPLOAD",e[e.CODE=33]="CODE",e[e.COLOR_MODE=34]="COLOR_MODE",e[e.COMMENT_ADD=35]="COMMENT_ADD",e[e.COMMENT=36]="COMMENT",e[e.COMMENT_DISCUSSION=37]="COMMENT_DISCUSSION",e[e.CREDIT_CARD=38]="CREDIT_CARD",e[e.DASH=39]="DASH",e[e.DASHBOARD=40]="DASHBOARD",e[e.DATABASE=41]="DATABASE",e[e.DEVICE_CAMERA=42]="DEVICE_CAMERA",e[e.DEVICE_CAMERA_VIDEO=43]="DEVICE_CAMERA_VIDEO",e[e.DEVICE_DESKTOP=44]="DEVICE_DESKTOP",e[e.DEVICE_MOBILE=45]="DEVICE_MOBILE",e[e.DIFF=46]="DIFF",e[e.DIFF_ADDED=47]="DIFF_ADDED",e[e.DIFF_IGNORED=48]="DIFF_IGNORED",e[e.DIFF_MODIFIED=49]="DIFF_MODIFIED",e[e.DIFF_REMOVED=50]="DIFF_REMOVED",e[e.DIFF_RENAMED=51]="DIFF_RENAMED",e[e.ELLIPSIS=52]="ELLIPSIS",e[e.EYE_UNWATCH=53]="EYE_UNWATCH",e[e.EYE_WATCH=54]="EYE_WATCH",e[e.EYE=55]="EYE",e[e.FILE_BINARY=56]="FILE_BINARY",e[e.FILE_CODE=57]="FILE_CODE",e[e.FILE_DIRECTORY=58]="FILE_DIRECTORY",e[e.FILE_MEDIA=59]="FILE_MEDIA",e[e.FILE_PDF=60]="FILE_PDF",e[e.FILE_SUBMODULE=61]="FILE_SUBMODULE",e[e.FILE_SYMLINK_DIRECTORY=62]="FILE_SYMLINK_DIRECTORY",e[e.FILE_SYMLINK_FILE=63]="FILE_SYMLINK_FILE",e[e.FILE_TEXT=64]="FILE_TEXT",e[e.FILE_ZIP=65]="FILE_ZIP",e[e.FLAME=66]="FLAME",e[e.FOLD=67]="FOLD",e[e.GEAR=68]="GEAR",e[e.GIFT=69]="GIFT",e[e.GIST=70]="GIST",e[e.GIST_SECRET=71]="GIST_SECRET",e[e.GIT_BRANCH_CREATE=72]="GIT_BRANCH_CREATE",e[e.GIT_BRANCH_DELETE=73]="GIT_BRANCH_DELETE",e[e.GIT_BRANCH=74]="GIT_BRANCH",e[e.GIT_COMMIT=75]="GIT_COMMIT",e[e.GIT_COMPARE=76]="GIT_COMPARE",e[e.GIT_MERGE=77]="GIT_MERGE",e[e.GIT_PULL_REQUEST_ABANDONED=78]="GIT_PULL_REQUEST_ABANDONED",e[e.GIT_PULL_REQUEST=79]="GIT_PULL_REQUEST",e[e.GLOBE=80]="GLOBE",e[e.GRAPH=81]="GRAPH",e[e.HEART=82]="HEART",e[e.HISTORY=83]="HISTORY",e[e.HOME=84]="HOME",e[e.HORIZONTAL_RULE=85]="HORIZONTAL_RULE",e[e.HOURGLASS=86]="HOURGLASS",e[e.HUBOT=87]="HUBOT",e[e.INBOX=88]="INBOX",e[e.INFO=89]="INFO",e[e.ISSUE_CLOSED=90]="ISSUE_CLOSED",e[e.ISSUE_OPENED=91]="ISSUE_OPENED",e[e.ISSUE_REOPENED=92]="ISSUE_REOPENED",e[e.JERSEY=93]="JERSEY",e[e.JUMP_DOWN=94]="JUMP_DOWN",e[e.JUMP_LEFT=95]="JUMP_LEFT",e[e.JUMP_RIGHT=96]="JUMP_RIGHT",e[e.JUMP_UP=97]="JUMP_UP",e[e.KEY=98]="KEY",e[e.KEYBOARD=99]="KEYBOARD",e[e.LAW=100]="LAW",e[e.LIGHT_BULB=101]="LIGHT_BULB",e[e.LINK=102]="LINK",e[e.LINK_EXTERNAL=103]="LINK_EXTERNAL",e[e.LIST_ORDERED=104]="LIST_ORDERED",e[e.LIST_UNORDERED=105]="LIST_UNORDERED",e[e.LOCATION=106]="LOCATION",e[e.GIST_PRIVATE=107]="GIST_PRIVATE",e[e.MIRROR_PRIVATE=108]="MIRROR_PRIVATE",e[e.GIT_FORK_PRIVATE=109]="GIT_FORK_PRIVATE",e[e.LOCK=110]="LOCK",e[e.LOGO_GITHUB=111]="LOGO_GITHUB",e[e.MAIL=112]="MAIL",e[e.MAIL_READ=113]="MAIL_READ",e[e.MAIL_REPLY=114]="MAIL_REPLY",e[e.MARK_GITHUB=115]="MARK_GITHUB",e[e.MARKDOWN=116]="MARKDOWN",e[e.MEGAPHONE=117]="MEGAPHONE",e[e.MENTION=118]="MENTION",e[e.MICROSCOPE=119]="MICROSCOPE",e[e.MILESTONE=120]="MILESTONE",e[e.MIRROR_PUBLIC=121]="MIRROR_PUBLIC",e[e.MIRROR=122]="MIRROR",e[e.MORTAR_BOARD=123]="MORTAR_BOARD",e[e.MOVE_DOWN=124]="MOVE_DOWN",e[e.MOVE_LEFT=125]="MOVE_LEFT",e[e.MOVE_RIGHT=126]="MOVE_RIGHT",e[e.MOVE_UP=127]="MOVE_UP",e[e.MUTE=128]="MUTE",e[e.NO_NEWLINE=129]="NO_NEWLINE",e[e.OCTOFACE=130]="OCTOFACE",e[e.ORGANIZATION=131]="ORGANIZATION",e[e.PACKAGE=132]="PACKAGE",e[e.PAINTCAN=133]="PAINTCAN",e[e.PENCIL=134]="PENCIL",e[e.PERSON_ADD=135]="PERSON_ADD",e[e.PERSON_FOLLOW=136]="PERSON_FOLLOW",e[e.PERSON=137]="PERSON",e[e.PIN=138]="PIN",e[e.PLAYBACK_FAST_FORWARD=139]="PLAYBACK_FAST_FORWARD",e[e.PLAYBACK_PAUSE=140]="PLAYBACK_PAUSE",e[e.PLAYBACK_PLAY=141]="PLAYBACK_PLAY",e[e.PLAYBACK_REWIND=142]="PLAYBACK_REWIND",e[e.PLUG=143]="PLUG",e[e.REPO_CREATE=144]="REPO_CREATE",e[e.GIST_NEW=145]="GIST_NEW",e[e.FILE_DIRECTORY_CREATE=146]="FILE_DIRECTORY_CREATE",e[e.FILE_ADD=147]="FILE_ADD",e[e.PLUS=148]="PLUS",e[e.PODIUM=149]="PODIUM",e[e.PRIMITIVE_DOT=150]="PRIMITIVE_DOT",e[e.PRIMITIVE_SQUARE=151]="PRIMITIVE_SQUARE",e[e.PULSE=152]="PULSE",e[e.PUZZLE=153]="PUZZLE",e[e.QUESTION=154]="QUESTION",e[e.QUOTE=155]="QUOTE",e[e.RADIO_TOWER=156]="RADIO_TOWER",e[e.REPO_DELETE=157]="REPO_DELETE",e[e.REPO=158]="REPO",e[e.REPO_CLONE=159]="REPO_CLONE",e[e.REPO_FORCE_PUSH=160]="REPO_FORCE_PUSH",e[e.GIST_FORK=161]="GIST_FORK",e[e.REPO_FORKED=162]="REPO_FORKED",e[e.REPO_PULL=163]="REPO_PULL",e[e.REPO_PUSH=164]="REPO_PUSH",e[e.ROCKET=165]="ROCKET",e[e.RSS=166]="RSS",e[e.RUBY=167]="RUBY",e[e.SCREEN_FULL=168]="SCREEN_FULL",e[e.SCREEN_NORMAL=169]="SCREEN_NORMAL",e[e.SEARCH_SAVE=170]="SEARCH_SAVE",e[e.SEARCH=171]="SEARCH",e[e.SERVER=172]="SERVER",e[e.SETTINGS=173]="SETTINGS",e[e.LOG_IN=174]="LOG_IN",e[e.SIGN_IN=175]="SIGN_IN",e[e.LOG_OUT=176]="LOG_OUT",e[e.SIGN_OUT=177]="SIGN_OUT",e[e.SPLIT=178]="SPLIT",e[e.SQUIRREL=179]="SQUIRREL",e[e.STAR_ADD=180]="STAR_ADD",e[e.STAR_DELETE=181]="STAR_DELETE",e[e.STAR=182]="STAR",e[e.STEPS=183]="STEPS",e[e.STOP=184]="STOP",e[e.REPO_SYNC=185]="REPO_SYNC",e[e.SYNC=186]="SYNC",e[e.TAG_REMOVE=187]="TAG_REMOVE",e[e.TAG_ADD=188]="TAG_ADD",e[e.TAG=189]="TAG",e[e.TELESCOPE=190]="TELESCOPE",e[e.TERMINAL=191]="TERMINAL",e[e.THREE_BARS=192]="THREE_BARS",e[e.THUMBSDOWN=193]="THUMBSDOWN",e[e.THUMBSUP=194]="THUMBSUP",e[e.TOOLS=195]="TOOLS",e[e.TRASHCAN=196]="TRASHCAN",e[e.TRIANGLE_DOWN=197]="TRIANGLE_DOWN",e[e.TRIANGLE_LEFT=198]="TRIANGLE_LEFT",e[e.TRIANGLE_RIGHT=199]="TRIANGLE_RIGHT",e[e.TRIANGLE_UP=200]="TRIANGLE_UP",e[e.UNFOLD=201]="UNFOLD",e[e.UNMUTE=202]="UNMUTE",e[e.VERSIONS=203]="VERSIONS",e[e.REMOVE_CLOSE=204]="REMOVE_CLOSE",e[e.X=205]="X",e[e.ZAP=206]="ZAP"}(t.Icon||(t.Icon={}));t.Icon;t.iconToClass=o;var V=function(e){function t(t,n,r,i,a){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=null),e.call(this,"button",i),this._size=n,this._highlight=r,
this._text="",a&&this.addOnClickListener(a),this._text=t}return P(t,e),t.sizeString=function(e){switch(e){case 0:return"normal";case 1:return"btn-xs";case 2:return"btn-sm";case 3:return"btn-lg";default:return null}},t.highlightString=function(e){switch(e){case 0:return"no";case 1:return"btn-primary";case 2:return"btn-info";case 4:return"btn-warning";case 5:return"btn-error";case 3:return"btn-success";default:return null}},t.prototype.getText=function(){return this._text},t.prototype.setText=function(e){this._text=e,this._ui.value=e},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.customize=function(n){e.prototype.customize.call(this,n),n.textContent=this._text;var r=t.highlightString(this._highlight);this._oldHighlightClass&&n.classList.remove(this._oldHighlightClass),this._oldHighlightClass=r,n.classList.add(r),this._oldSizeClass&&n.classList.remove(this._oldSizeClass);var i=t.sizeString(this._size);this._oldSizeClass=i,n.classList.add(i),n.classList.add("btn")},t}(x);t.Button=V;var B=function(e){function t(t,n,r,i,a){e.call(this,t,n,r,i,function(e){e.toggle(),a(e)}),this._selected=!1,this._defaultHighlight=r}return P(t,e),t.prototype.getSelected=function(){return this._selected},t.prototype.handleDataChanged=function(){this.setSelected(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.setSelected=function(e){return this._selected=e,this._highlight=e?2:this._defaultHighlight,this.handleLocalChange(),this},t.prototype.toggle=function(){this.setSelected(!this._selected)},t}(V);t.ToggleButton=B;var q=function(){function e(e){this._renderFunc=e}return e.prototype.render=function(e){return this._renderFunc(e)},e}();t.SimpleRenderer=q;var H=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.source=e,this.value=t,this.property=n}return e}();t.PropertyChangeEvent=H;var G=function(e){function t(){e.apply(this,arguments),this._contentui=new x("ul"),this._children=[this._contentui]}return P(t,e),t.prototype.getInput=function(){return this._model},t.prototype.setInput=function(e,t){void 0===t&&(t=!0),this._model=e;try{this.smartUpdateContent()}catch(n){console.log("Error at setInput: ",n)}},t.prototype.updateContent=function(){this.refresh()},t.prototype.smartUpdateContent=function(){this.refresh()},t}(x);t.Viewer=G;var W=function(e){function t(t,n){var r=this;e.call(this,"div",null),this._cp=t,this.renderer=n,this.selectionListeners=[],this.viewerFilters=[],this.lst=function(e){r.refresh()},this.currentSelection=[],this.currentSelectionIds=[],this.eh=function(e){r.updateContent()},t.init(this),this.renderer instanceof fe&&E.renderer.addListener(this.eh)}return P(t,e),t.prototype.setBasicLabelFunction=function(e){this.basicLabelProvider=e},t.prototype.getBasicLabelFunction=function(){return this.basicLabelProvider},t.prototype.setKeyProvider=function(e){this._keyProvider=e},t.prototype.getKeyProvider=function(){return this._keyProvider},t.prototype.nodeKey=function(e){return this._keyProvider?this._keyProvider.key(e):e?e.id&&"function"==typeof e.id?e.id():e:""},t.prototype.addViewerFilter=function(e){this.viewerFilters.push(e),e.addListener(this.lst),this.refresh()},t.prototype.removeViewerFilter=function(e){this.viewerFilters=this.viewerFilters.filter(function(t){return t!=e}),e.removeListener(this.lst),this.refresh()},t.prototype.getViewerFilters=function(){return[].concat(this.viewerFilters)},t.prototype.setViewerSorder=function(e){this.viewerSorter=e,this.refresh()},t.prototype.getViewerSorter=function(){return this.viewerSorter},t.prototype.addSelectionListener=function(e){this.selectionListeners.push(e)},t.prototype.removeSelectionListener=function(e){this.selectionListeners=this.selectionListeners.filter(function(t){return t!=e})},t.prototype.setSelectionInternal=function(e){var t=this;if(this.currentSelection!=e){var n=new J(this.currentSelection),r=new J(e),i=new Y(this,n,r);this.selectionListeners.forEach(function(e){return e.selectionChanged(i)}),this.currentSelection=e,this.currentSelectionIds=e.map(function(e){return t.nodeKey(e)})}},t.prototype.getSelection=function(){return new J([].concat(this.currentSelection))},t.prototype.getRenderedContent=function(e){var t=this,n=this.unfilteredContent(e);if(n&&Array.isArray(n)){var r=n;return this.viewerFilters.forEach(function(n){r=r.filter(function(r){return n.accept(t,r,e)})}),this.viewerSorter&&(r=M.sortBy(r,function(n){return t.viewerSorter.order(t,n,e)})),r}return n},t.prototype.unfilteredContent=function(e){return this._cp.elements(this.getInput())},t.prototype.processChildren=function(e,t){return null},t.prototype.dispose=function(){this.renderer instanceof fe&&E.renderer.removeListener(this.eh),e.prototype.dispose.call(this),this._cp.dispose()},t}(G);t.StructuredViewer=W;var z=function(){function e(){}return e.prototype.elements=function(e){return e},e.prototype.init=function(e){},e.prototype.dispose=function(){},e}();t.ArrayContentProvider=z;var J=function(){function e(e){this.elements=[],Array.isArray(e)?this.elements=e:this.elements=[e]}return e.prototype.isEmpty=function(){return 0==this.elements.length},e}();t.StructuredSelection=J;var Y=function(){function e(e,t,n){this.source=e,this.oldSelection=t,this.selection=n}return e}();t.SelectionChangedEvent=Y;var X=function(){function e(e,t){void 0===t&&(t=null),this._label=e,this.ic=t}return e.prototype.render=function(e){var t=new F(this._label(e),this.ic?this.ic(e):null);return t},e}();t.LabelRenderer=X;var $=function(e){function t(){e.apply(this,arguments),this._panelCustomized=!1,this._scrollTo=0,this.multipleSelect=!1,this.selectedComponents=[]}return P(t,e),t.prototype.getTreeModel=function(){return this.treeModel||(this.treeModel=new _.TreeModel(this._contentui)),this.treeModel},t.prototype.setBasicLabelFunction=function(e){this.basicLabelProvider=e},t.prototype.clear=function(){var e=this.getTreeModel(),t=e.get(null);t.container.children().forEach(function(e){return t.container.removeChild(e)}),this._selected=null,this.selectedComponents=[],this.getTreeModel().clear()},t.prototype.put=function(e,t,n,r){void 0===n&&(n=!1);var i=this.treeModel.get(t),a=this.treeModel.get(r,i),o=a?a.view:null;this.getTreeModel().insert(e,i,a,n);var s=this.renderer.render(e),u=this.wrapChild(e,s);1==n&&null==r&&(n=!1,o=i.container.children()[0]),i.container.addChild(u,o,n)},t.prototype.insertBefore=function(e,t,n){return this.put(e,t,!1,n)},t.prototype.insertAfter=function(e,t,n){return this.put(e,t,!0,n)},t.prototype.remove=function(e){var t=this.treeModel.get(e);t&&(this.unselectItem(t.view),t.parent.container.removeChild(t.view),this.treeModel.remove(t))},t.prototype.setComparator=function(e){this._cmp=e},t.prototype.getComparator=function(){return this._cmp?this._cmp:function(e,t){return null!=e.hashkey&&e.__hashkey__==t.__hashkey__}},t.prototype.propagateHashKey=function(e,t){if(!t.__hashkey__)if("function"==typeof t.hashkey)t.__hashkey__=t.hashkey();else if(this.getBasicLabelFunction()){var n=this.getBasicLabelFunction()(t);t.__hashkey__=e?e.__hashkey__+"::"+n:n}},t.prototype.smartUpdateContent=function(e){var t=this;void 0===e&&(e=null);var n=this.getRenderedContent(e);if(n&&Array.isArray(n)){this.customizePanel();var r=n,i=this.getTreeModel().get(e).children.map(function(e){return e.data});r.forEach(function(n){return t.propagateHashKey(e,n)});var a=N.diff(r,i,this.getComparator()),o=null;a.forEach(function(n){switch(n.type){case"+":t.insertAfter(n.element,e,o),o=n.element;break;case"-":t.remove(n.element);break;case"=":t.treeModel.patch(i[n.bi],o=r[n.ai]),t.smartUpdateContent(o);break;default:throw"That should not ever happen. (DIFF_CORRUPTED_SMART_UPDATE_CONTENT)"}})}},t.prototype.customizePanel=function(){var e=this;if(1!=this._panelCustomized){this._panelCustomized=!0;var t=this._contentui.ui();t.onkeydown=function(t){return e.handleKey(t)},t.classList.add("focusable-panel"),t.classList.add("list-group"),t.tabIndex=-1}},t.prototype.tryScrollToSelected=function(){try{for(var e=this.parent();e&&!(e instanceof C.Scrollable);)e=e.parent();var t=e,n=t.size(),r=this._selected.ui().offsetTop;r<n.top?t.scroll(r-40,0):r+this._selected.ui().clientHeight>n.bottom&&t.scroll(r-(n.bottom-n.top)+80,0)}catch(i){}},t.prototype.handleKey=function(e){40==e.keyCode&&this.navigateDown(),38==e.keyCode&&this.navigateUp()},t.prototype.navigateDown=function(){},t.prototype.navigateUp=function(){},t.prototype.focusPane=function(){this._contentui.ui().focus()},t.prototype.wrapChild=function(e,t){var n=this,r=new x("li");return r.setBinding(new R(e)),r.addChild(t),r.addOnClickListener(function(e){n.selectItem(e)}),M.find(this.currentSelectionIds,function(t){return t==n.nodeKey(e)})&&(r.addClass("selected"),this._selected=r),this.getTreeModel().registerViews(e,r,null),r},t.prototype.setSelection=function(e){if(this.ui()){var t=this.treeModel.get(e);return null==t?!1:(this.selectItem(t.view),!0)}return this.setSelectionInternal([e]),!0},t.prototype.setMultipleSelect=function(e){this.multipleSelect=e},t.prototype.isMultipleSelect=function(){return this.multipleSelect},t.prototype.unselectItem=function(e){null!=this._selected&&(this.multipleSelect?-1!=this.selectedComponents.indexOf(e)&&(e.removeClass("selected"),this.selectedComponents=this.selectedComponents.filter(function(t){return t!=e}),this.setSelectionInternal(this.selectedComponents.map(function(e){return e.getBinding().get()}))):this._selected==e&&(this._selected.removeClass("selected"),this.setSelectionInternal([])))},t.prototype.selectItem=function(e){this.multipleSelect?-1!=this.selectedComponents.indexOf(e)?this.unselectItem(e):(e.addClass("selected"),this.selectedComponents.push(e),this.tryScrollToSelected(),this.setSelectionInternal(this.selectedComponents.map(function(e){return e.getBinding().get()}))):(this._selected&&this._selected.removeClass("selected"),e.addClass("selected"),this._selected=e,this.tryScrollToSelected(),this.setSelectionInternal([e.getBinding().get()]))},t}(W);t.ListView=$;var Q=function(){function e(e){this._objectToChildren=e}return e.prototype.hasChildren=function(e){return this.children(e).length>0},e.prototype.children=function(e){return this._objectToChildren(e)},e.prototype.elements=function(e){return e instanceof Array?e:this.children(e)},e.prototype.init=function(){},e.prototype.dispose=function(){},e}();t.DefaultTreeContentProvider=Q,t.listSection=s,t.list=u;var Z=function(){function e(){}return e}();t.NodeWithKey=Z;var ee=function(e){function t(t,n,r){e.call(this,t,n),this._tcp=t,this.renderer=n,this._chhNum=100,this._expandedNodes=[],r&&this.setBasicLabelFunction(r)}return P(t,e),t.prototype.getComparator=function(){var t=this,n=e.prototype.getComparator.call(this);return null==n?null:function(e,r){return n(e,r)&&t._tcp.hasChildren(e)==t._tcp.hasChildren(r)}},t.prototype.customizePanel=function(){var e=this;if(1!=this._panelCustomized){this._panelCustomized=!0;var t=this._contentui.ui();t.onkeydown=function(t){return e.handleKey(t)},t.classList.add("focusable-panel"),t.classList.add("list-tree"),t.classList.add("has-collapsable-children"),t.tabIndex=-1}},t.prototype.isExpanded=function(e){var t=-1!=this._expandedNodes.indexOf(this.nodeKey(e));return t},t.prototype.getExpanded=function(){return[].concat(this._expandedNodes)},t.prototype.setSelection=function(t){var n=e.prototype.setSelection.call(this,t);return n&&(this.setExpanded(t,!0),this.tryScrollToSelected()),n},t.prototype.setExpanded=function(e,t){if(null!=e){var n=this.getTreeModel().get(e);if(null!=n){var r=n.view,i=n.parent?n.parent.data:null;if(t)this.isExpanded(e)||(this.setExpanded(i,t),this._expandedNodes.push(this.nodeKey(e)),r.addClass("expanded"),r.removeClass("collapsed"));else if(this.isExpanded(e)){var a=this.nodeKey(e);this._expandedNodes=this._expandedNodes.filter(function(e){return e!=a}),r.removeClass("expanded"),r.addClass("collapsed")}}}},t.prototype.wrapChild=function(t,n){var r=this;if(this._tcp.hasChildren(t)){var i=new x("div"),a=e.prototype.wrapChild.call(this,t,i);a.addClass("list-nested-item"),i.addClass("list-item"),i.setStyle("display","inline"),i.addChild(n),this.isExpanded(t)||a.addClass("collapsed"),a.addOnClickListener(function(e){e.hasClass("collapsed")?(e.removeClass("collapsed"),r._expandedNodes.push(r.nodeKey(t))):(e.addClass("collapsed"),r._expandedNodes=r._expandedNodes.filter(function(e){return e!=r.nodeKey(t)}))});var o=new x("ul");return o.addClass("list-tree"),a.addChild(o),this.getTreeModel().registerViews(t,a,o),this.smartUpdateContent(t),a}var a=e.prototype.wrapChild.call(this,t,n);return a.addClass("list-item"),a},t.prototype.unfilteredContent=function(t){return t?this._tcp.children(t):e.prototype.unfilteredContent.call(this,t)},t.prototype.tryExpand=function(){var e=this,t=this.getSelection();t.elements.forEach(function(t){return e.setExpanded(t,!0)})},t.prototype.tryCollapse=function(){var e=this,t=this.getSelection();t.elements.forEach(function(t){return e.setExpanded(t,!1)})},t.prototype.navigateDown=function(){},t.prototype.navigateUp=function(){},t.prototype.handleKey=function(t){e.prototype.handleKey.call(this,t),39==t.keyCode&&this.tryExpand(),37==t.keyCode&&this.tryCollapse()},t.prototype.handleDataChanged=function(){var e=(this.getInput(),this.getBinding().get());this.setInput(e,!0)},t}($);t.TreeViewer=ee,t.h1=l,t.h2=c,t.h3=p,t.applyStyling=m;var te=function(e){function t(t,n){e.call(this,"atom-text-editor",t),this._onchange=n,this.mini=!0,this._txt=this.getBinding().get()}return P(t,e),t.prototype.setOnChange=function(e){this._onchange=e},t.prototype.setGrammar=function(e){this.grammar=e,this.ui()&&this.innerSetGrammar()},t.prototype.innerSetGrammar=function(){if(this.grammar){var e=this.ui().getModel(),t=d(this.grammar);e.setGrammar(t)}},t.prototype.setMini=function(e){this.mini=e},t.prototype.isMini=function(){return this.mini},t.prototype.selectAll=function(){this.ui().getModel().selectAll()},t.prototype.selectNone=function(){this.ui().getModel().setSelectedScreenRange([[0,0],[0,0]])},t.prototype.setPlaceholder=function(e){this.ui().getModel().setPlaceholderText(e)},t.prototype.placeholder=function(){return this.ui().getModel().getPlaceholderText()},t.prototype.setSoftWrapped=function(e){return this.ui().getModel().setSoftWrapped(e)},t.prototype.customize=function(t){t.textContent=this.getText(),this.mini&&t.setAttribute("mini","");var n=this.ui().getModel(),r=n.emitter.handlersByEventName["did-change"],i=this;this.innerSetGrammar(),n.emitter.handlersByEventName["did-change"]=[function(e){r[0](e),i.setAssociatedValue(i.getValue()),i._onchange(i,i.getValue())}],e.prototype.customize.call(this,t)},t.prototype.setText=function(t,n){if(void 0===n&&(n=!0),this.ui()){var r=this.ui().getModel();r.setText(t)}e.prototype.setText.call(this,t,n)},t.prototype.handleDataChanged=function(){var t=this.getBinding().get();return this.setText(t?""+t:""),e.prototype.handleDataChanged.call(this)},t.prototype.getValue=function(){return this.ui().getModel().getText()},t}(D);t.AtomEditorElement=te,t.input=h,t.alignComponents=f;var ne=function(e){function t(){e.apply(this,arguments)}return P(t,e),t.prototype.getBinding=function(){return this._actualField.getBinding()},t.prototype.setBinding=function(e){this._actualField.setBinding(e)},t.prototype.getActualField=function(){return this._actualField},t.prototype.addFocusListener=function(e){return this._actualField.addFocusListener(e)},t.prototype.removeFocusListener=function(e){return this._actualField.addFocusListener(e)},t}(x);t.AbstractWrapEditor=ne;var re=function(e){function t(t,n){void 0===n&&(n=1),e.call(this,"span",null),this._required=!1,this.setCaption(t),this.createLabel(t)}return P(t,e),t.prototype.setRequired=function(e){this._required=e,this._textLabel&&(this._required?this._rlab?this._rlab.setDisplay(!0):(this._rlab=E.label("*",null,3).pad(3,0),this._textLabelPanel.addChild(this._rlab)):this._rlab&&this._rlab.setDisplay(!1)),this.handleLocalChange()},t.prototype.setLabelWidth=function(e){this._textLabelPanel.setStyle("width",e+"ch")},t.prototype.setLabelHeight=function(e){this._textLabel.setStyle("margin-top","6px")},t.prototype.selfInit=function(){this._actualField.setStyle("flex","1"),this.setPercentWidth(100),this.setStyle("display","flex"),this.addChild(this._textLabelPanel),this.addChild(this._actualField)},t.prototype.hideLabel=function(){this._textLabelPanel.setStyle("width","0px"),this._textLabelPanel.setStyle("margin-right","0px"),this.setStyle("margin-right","0px")},t.prototype.makeLabelNextToField=function(){this._textLabelPanel.setStyle("margin-right","0px")},t.prototype.createLabel=function(e){this._textLabel=E.label(this.caption()),this._textLabelPanel=E.hc(this._textLabel),this._textLabelPanel.addChild(this._textLabel),this.setRequired(this._required),this._textLabelPanel.setStyle("float","left")},t}(ne),ie=function(e){function t(){e.call(this,"div")}return P(t,e),t.prototype.selfRender=function(){return e.prototype.selfRender.call(this)},t.prototype.createBinding=function(){return new R},t.prototype.setActualField=function(e,t){if(null!=this._actualField&&this._actualField.ui()){var n=this._actualField.ui(),r=this._actualField.getBinding().get();e.getBinding().set(t(r));var i=this.ui(),a=e.ui();i.replaceChild(a,n),this.removeChild(this._actualField)}this._actualField=e,this.addChild(e)},t}(ne);t.WrapEditor=ie;var ae=function(){function e(e,t,n){this.f=e,this.s=t,this.active=n}return e.prototype.get=function(){var e=this.active.get();return this.active==this.f&&this.firstConverter&&(e=this.firstConverter(e)),this.active==this.s&&this.secondConverter&&(e=this.secondConverter(e)),e},e.prototype.set=function(e){this.active.set(e)},e.prototype.addValidator=function(e){},e.prototype.removeValidator=function(e){},e.prototype.addStatusListener=function(e){},e.prototype.removeStatusListener=function(e){},e.prototype.status=function(){return this.active.status()},e.prototype.addListener=function(e){this.f.addListener(e),this.s.addListener(e)},e.prototype.removeListener=function(e){this.f.removeListener(e),this.s.removeListener(e)},e}(),oe=function(e){function t(t){e.call(this),this.host=t}return P(t,e),t.prototype.setPlusVisible=function(e){var t=this;e?this.plus?this.plus.setDisplay(!0):(this.plus=E.a("+",function(e){t.host.createElementUI(),t.host.updateSigns()}),this.addChild(this.plus)):this.plus&&this.plus.setDisplay(!1)},t.prototype.setMinusVisible=function(e){var t=this;if(e)if(this.minus)this.minus.setDisplay(!0);else{var n=E.a("-",function(e){t.host._actualField.removeChild(t),t.host.containers=t.host.containers.filter(function(e){return e!=t}),t.host.updateSigns()});this.minus=n,this.addChild(n)}else this.minus&&(this.minus.setDisplay(!1),this.minus=null)},t}(j);t.StuffWithButtons=oe;var se=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._controller=i,this.containers=[],this._actualField=new j;var o=this._controller.decompose(n);o.forEach(function(e){a.createElementUI(e)}),this.updateSigns()}return P(t,e),t.prototype.updateSigns=function(){this.containers.forEach(function(e){return e.setPlusVisible(!1)}),0==this.containers.length&&this.createElementUI(null),this.containers[this.containers.length-1].setMinusVisible(!0),this.containers[this.containers.length-1].setPlusVisible(!0),1==this.containers.length&&this.containers[0].setMinusVisible(!1),this.getBinding().set(this._controller.compose(this.containers.map(function(e){return e.embedded.getBinding().get()})))},t.prototype.createElementUI=function(e){var t=this,n=this._controller.createNewField();n.getBinding().set(e),n.getBinding().addListener(function(e){n.getBinding().get();t.getBinding().set(t._controller.compose(t.containers.map(function(e){return e.embedded.getBinding().get()})))});var r=new oe(this);return r.addChild(n),r.embedded=n,r.setMinusVisible(!0),r.setPlusVisible(!0),this._actualField.addChild(r),this.containers.push(r),r},t}(re);t.MultiValueField=se;var ue=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._controller=i,this._actualField=new j,this.hideLabel();var o=this._controller.createBasicField();this.basic=o;var s=this._controller.createDetailsField();this._actualField.addChild(o),this._actualField.addChild(s),this.defails=s;var u=this._controller.getBasicPart(n);o.getBinding().set(u),s.setDisplay(this._controller.isDetailsVisible(u,n)),o.getBinding().addListener(function(e){var t=a.getBinding().get(),n=o.getBinding().get();s.setDisplay(a._controller.isDetailsVisible(n,t)),a._controller.updateDetails(n,t,s)})}return P(t,e),t.prototype.getBinding=function(){return this._binding},t.prototype.handleDataChanged=function(){var t=this.getBinding().get(),n=this._controller.getBasicPart(t);return this.basic.getBinding().set(n),this.defails.setDisplay(this._controller.isDetailsVisible(n,t)),this._controller.updateDetails(n,t,this.defails),e.prototype.handleDataChanged.call(this)},t}(re);t.FieldWithCustomization=ue;var le=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._config=i,this.isFirst=!1,this._actualField=new ie;var o=!1;2!=i.firstValidator(n).code?(this._actualField.setActualField(i.firstOption,i.secondToFirstConverter),this.isFirst=!0,o=0==i.secondValidator(n).code):this._actualField.setActualField(i.secondOption,i.firstToSecondConverter),this.ref=E.a(this.isFirst?i.firstOptionLabel:i.secondOptionLabel,function(e){a.switchMode()}),this.ref.setDisabled(!o),this.isFirst&&i.valueComesAsSecond&&(n=this._config.secondToFirstConverter(n)),this.getBinding().set(n),this.getBinding().addListener(function(e){o=a.isFirst?0==a._config.secondValidator(e).code:0==a._config.firstValidator(e).code,a.ref.setDisabled(!o)})}return P(t,e),t.prototype.getBinding=function(){var e=new ae(this._config.firstOption.getBinding(),this._config.secondOption.getBinding(),this._actualField.getBinding());return e.firstConverter=this._config.firstToOutConverter,e.secondConverter=this._config.secondToOutConverter,e},t.prototype.switchMode=function(){this.isFirst?(this._actualField.setActualField(this._config.secondOption,this._config.firstToSecondConverter),this.isFirst=!1,this.ref.setText(this._config.secondOptionLabel)):(this._actualField.setActualField(this._config.firstOption,this._config.secondToFirstConverter),this.isFirst=!0,this.ref.setText(this._config.firstOptionLabel))},t.prototype.selfInit=function(){e.prototype.selfInit.call(this),this.addChild(this.ref)},t}(re);t.DialogFieldWithModes=le;var ce=function(e){function t(t,n,r,i,a){void 0===i&&(i=1),e.call(this,t,i),this._actualField=h(n,r),"string"==typeof n&&this.getBinding().set(n),a&&this.getActualField().setPlaceholder(a),this.getActualField().setSoftWrapped(!1)}return P(t,e),t.prototype.setTabIndex=function(e){this.getActualField().setTabIndex(e)},t.prototype.customize=function(t){e.prototype.customize.call(this,t),this.addClass("text-field")},t}(re);t.TextField=ce;var pe=function(e){function t(t,n,r,i,a,o){void 0===a&&(a=[]),void 0===o&&(o=1),e.call(this,t,o),this._actualField=new k(t,n,i),this._actualField.setOptions(a),this.getBinding().set(r)}return P(t,e),t.prototype.setDisabled=function(e){return this.getActualField().setDisabled(e)},t}(re);t.SelectField=pe;var me=function(e){function t(t,n,r,i,a,o){void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=1),e.call(this,t,o),this._actualField=new F(n,r),(i||a)&&m(i,this._actualField,a)}return P(t,e),t.prototype.setText=function(e,t){this.getActualField().setText(e,t)},t.prototype.getText=function(){return this.getActualField().getText()},t}(re);t.LabelField=me;var de=function(e){function t(t,n,r,i){void 0===i&&(i=1),e.call(this,t,i),this._actualField=n}return P(t,e),t}(re);t.CustomField=de;var he=function(e){function t(t,n,r,i,a){void 0===a&&(a=1),e.call(this,t,a),this.options=r,this.createLabel(t),this._actualField=new k(n,i),this._actualField.setOptions(r),this._actualField.setStyle("margin-bottom","0.75em"),this._actualField.setValue(n)}return P(t,e),t.prototype.setRequired=function(t){e.prototype.setRequired.call(this,t),this._actualField&&(t?this._actualField.setOptions(this.options):this._actualField.setOptions(M.unique(this.options.concat([""]))))},t}(re);t.EnumField=he,t.texfField=g,function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER",e[e.INTEGER=3]="INTEGER",e[e.ENUM=4]="ENUM",e[e.DATE=5]="DATE"}(t.FieldTypes||(t.FieldTypes={}));t.FieldTypes;t.createInputField=b,t.okStatus=S,t.errorStatus=A,t.createSmallTypeScriptEditor=T;var fe=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!=e})},e.prototype.fireChange=function(e){var t=this;this._listeners.forEach(function(n){return t.notify(e,n)})},e.prototype.notify=function(e,t){throw new Error("Not implemented")},e}();t.BasicListanable=fe;var ye=function(e){function t(){e.apply(this,arguments),this._filterPattern=""}return P(t,e),t.prototype.setPattern=function(e){this._filterPattern=e,this.fireChange(new H(this))},t.prototype.getPatten=function(){return this._filterPattern},t.prototype.accept=function(e,t,n){if(e.getBasicLabelFunction()&&(t=e.getBasicLabelFunction()(t)),t&&t.filterLabel&&"function"==typeof t.filterLabel)return-1!=t.filterLabel().indexOf(this._filterPattern);if(this._filterPattern.length>0)try{return-1!=JSON.stringify(t).indexOf(this._filterPattern)}catch(r){return!0}return!0},t.prototype.notify=function(e,t){t(e)},t}(fe);t.BasicFilter=ye;var ve=function(e){function t(t){e.call(this),this._on=!1,this._func=t}return P(t,e),t.prototype.setOn=function(e){this._on=e,this.fireChange(new H(this))},t.prototype.isOn=function(){return this._on},t.prototype.accept=function(e,t,n){return this._on?this._func(t):!0},t.prototype.notify=function(e,t){t(e)},t}(fe);t.ToggleFilter=ve;var ge=function(e){function t(t,n){e.call(this),this._header=t,this._headerVisible=!0,this._expanded=!0,this.setCollapsible(n),t.setPercentWidth(100),t.addClass("sub-title")}return P(t,e),t.prototype.getHeaderVisible=function(){return this._headerVisible},t.prototype.setHeaderVisible=function(e){this._headerVisible=e,e||this.setExpanded(!0),this.handleLocalChange()},t.prototype.caption=function(){return this._header.caption()},t.prototype.isExpanded=function(){return this._expanded},t.prototype.getHeader=function(){return this._header},t.prototype.getIcon=function(){return this._header.getIcon()},t.prototype.customize=function(t){this._headerVisible&&t.appendChild(this._header.ui()),this._expanded||this.setExpanded(this._expanded),e.prototype.customize.call(this,t)},t.prototype.setCollapsible=function(e){var t=this;if(e){if(!this._chevron){var n=E.label("",25).setStyle("float","left");this._chevron=n,this._header.addChild(n),this._collapseListener=function(e){t.setExpanded(!t.isExpanded())},this._header.addOnClickListener(this._collapseListener)}}else this._chevron&&(this._header.removeChild(this._chevron),this._header.removeOnClickListener(this._collapseListener),this._chevron=null)},t.prototype.setExpanded=function(e){this._chevron&&this._chevron.setIcon(e?23:25),this._children.forEach(function(t,n){t instanceof x&&t.setDisplay(e)}),this._expanded=e},t}(j);t.Section=ge;var be=function(e){function t(t){e.call(this,"div",null),this.panel=new j,this.renderer=t}return P(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.renderUI=function(){return this.panel.renderUI()},t.prototype.setInput=function(e,t){void 0===t&&(t=!0),this._model=e;var n=this.renderer.render(e);this.panel&&(this.panel.clear(),this.panel.addChild(n))},t}(G);t.BasicViewer=be;var Se=function(e){function t(){e.call(this,0),this._selectedIndex=-1,this._buttons=E.vc(),this._tabs=[],this._buttons.margin(0,0,0,4),e.prototype.addChild.call(this,this._buttons)}return P(t,e),t.prototype.add=function(e,t,n){var r=this,i=this._tabs.length,a=new B(e,2,0,t,function(){return r.setSelectedIndex(i)});this._tabs.push({header:e,icon:t,button:a,hidden:!1,content:n}),this._buttons.addChild(a),0==i&&this.setSelectedIndex(0)},t.prototype.tabsCount=function(){return this._tabs.length},t.prototype.addChild=function(e){this.add(e.caption(),e.getIcon(),e)},t.prototype.replaceChild=function(t,n){e.prototype.addChild.call(this,t,n),this.removeChild(n)},t.prototype.get=function(e){return 0>e||e>this._tabs.length?null:{header:this._tabs[e].header,content:this._tabs[e].content}},t.prototype.setOnSelected=function(e){this._onselected=e},t.prototype.selectedComponent=function(){return this._tabs[this._selectedIndex].content},t.prototype.toggle=function(e,t){if(!(0>e||e>this._tabs.length)){var n=this._tabs[e];t||e!=this._selectedIndex||this.setSelectedIndex(0),n.hidden=!t,n.button.setDisplay(t)}},t.prototype.setSelectedIndex=function(t){for(;this._tabs[t].hidden;)t++;if(!(0>t||t>this._tabs.length||t==this._selectedIndex)){var n=this._tabs[t];if(n.button.setSelected(!0),this._selectedIndex>=0){var r=this._tabs[this._selectedIndex];r.button.setSelected(!1),this.replaceChild(n.content,r.content)}else e.prototype.addChild.call(this,n.content);n.content instanceof x&&n.content.margin(0,0,4,4),this._selectedIndex=t,this._onselected&&this._onselected()}},t}(j);t.TabFolder=Se},function(e,t,n){function r(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new w.TextElement("label",e,t);return w.applyStyling(n,i,r),i}function i(e){var t=new w.InlineHTMLElement("span",e);return t}function a(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null);var a=new w.TextElement("a",e,n);return a.addOnClickListener(t),w.applyStyling(r,a,i),a}function o(e,t){return void 0===t&&(t=function(e){}),new w.CheckBox(e,null,t)}function s(e){return new w.Select(e,function(e){return e})}function u(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),new w.Button(e,t,n,r,i)}function l(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new w.Button(e,0,0,n,t)}function c(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),new w.ToggleButton(e,t,n,r,i)}function p(e){return new w.SimpleRenderer(e)}function m(e,t,n){return new w.TreeViewer(new w.DefaultTreeContentProvider(e),t,n)}function d(e,t,n,r,i){var a=y(e,t),o=m(r,i);return o.renderUI(),o.setInput(n),a.addChild(h(o)),a.viewer=o,a.addChild(o),a}function h(e){var t=new w.BasicFilter,n=new w.TextField("Filter:","",function(e){t.setPattern(e.getValue())},1);return n.setStyle("margin-bottom","5px"),e.addViewerFilter(t),n}function f(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i="");var a=new w.ToggleFilter(n),o=c("",1,0,t,function(e){a.setOn(!a.isOn())});return o.setSelected(r),a.setOn(r),e.addViewerFilter(a),o}function y(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===r&&(r=!1);for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var o=new w.TextElement("h2",e,t),s=new w.Section(o,n);return i.filter(function(e){return null!=e}).forEach(function(e){return s.addChild(e)}),s.setExpanded(!r),s}function v(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=r?b(e,t):S(e,t);return T(e,t,n),i}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new w.Panel(2);return e.forEach(function(e){return n.addChild(e)}),n}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new w.Panel(1);return e.forEach(function(e){return n.addChild(e)}),n}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new w.Panel(0);return e.forEach(function(e){return n.addChild(e)}),n}function A(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new w.Panel(0);return n.setTagName("li"),e.forEach(function(e){return n.addChild(e)}),n}function T(e,t,n){void 0===n&&(n=null),e.addSelectionListener({selectionChanged:function(e){if(e.selection.isEmpty())t.setInput(null);else{var r=e.selection.elements[0];if(n){var i=n(r);
t.setInput(i)}else t.setInput(r)}}})}var w=n(150);t.label=r,t.html=i,t.a=a,t.checkBox=o,t.select=s,t.button=u,t.buttonSimple=l,t.toggle=c,t.renderer=p,t.treeViewer=m,t.treeViewerSection=d,t.filterField=h,t.toggleFilter=f,t.section=y,t.masterDetailsPanel=v,t.hcTight=g,t.hc=b,t.vc=S,t.li=A,t.masterDetails=T},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(7),a=function(e){function t(){e.call(this),this._children=[]}return r(t,e),t.content=function(){var e=this.div({"class":"scrollpad pane-item padded",tabindex:-1,style:"overflow:scroll;"});return e},t.prototype.dispose=function(){},t.prototype.caption=function(){return""},t.prototype.scroll=function(e,t){this.element.scrollTop=e,this.element.scrollLeft=t},t.prototype.size=function(){return{top:this.element.scrollTop,left:this.element.scrollLeft,bottom:this.element.scrollTop+this.element.clientHeight,right:this.element.scrollLeft+this.element.clientWidth}},t.prototype.changed=function(){},t.prototype.refresh=function(){},t.prototype.ui=function(){return this.element},t.prototype.setParent=function(e){null!=this._parent&&this._parent.removeChild(this),this._parent=e},t.prototype.addChild=function(e){e.setParent(this),this._children.push(e)},t.prototype.removeChild=function(e){this._children=this._children.filter(function(t){return t!=e})},t.prototype.doRender=function(){return this.innerRenderUI()},t.prototype.selfRender=function(){return document.createElement("div")},t.prototype.attached=function(){this.html(this.innerRenderUI())},t.prototype.innerRenderUI=function(){var e=this.selfRender();return this._children.forEach(function(t){var n=t.renderUI();n&&e.appendChild(n)}),e},t.prototype.renderUI=function(){return this.element},t.prototype.parent=function(){return null},t.prototype.children=function(){return this._children},t.prototype.isAttached=function(){return!0},t}(i.ScrollView);t.Scrollable=a},function(e,t){function n(e,t,n,r,i,o,s){for(var u=t,l=i,c=0,p=[],m=t;n>m;m++){for(var d=[],h=i;o>h;h++)if(s(e[m],r[h])){var f=d[h]=(p[h-1]?p[h-1]:0)+1;f>c&&(u=m-f+1,l=h-f+1,c=f)}p=d}return new a(u,l,c)}function r(e,t,i,a,o,s,u){var l=n(e,t,i,a,o,s,u);if(0==l.n)return[];var c=r(e,t,l.sa,a,o,l.sb,u),p=r(e,l.sa+l.n,i,a,l.sb+l.n,s,u);return c.concat([l]).concat(p)}function i(e,t,n){n||(n=function(e,t){return e==t});var i=0,o=0,s=r(e,0,e.length,t,0,t.length,n);s.push(new a(e.length,t.length,0));var u=[],l=null;return s.forEach(function(n){for(var r=i;r<n.sa;r++)u.push({type:"+",element:e[r]});for(var r=o;r<n.sb;r++)u.push({type:"-",element:t[r]});for(var r=0;r<n.n;r++)e[n.sa+r]!=t[n.sb+r]&&u.push({type:"=",bi:n.sb+r,ai:n.sa+r});l=e[n.sa+n.n-1],i=n.sa+n.n,o=n.sb+n.n}),u}var a=function(){function e(e,t,n){this.sa=e,this.sb=t,this.n=n}return e}();t.diff=i},function(e,t){var n=function(){function e(e,t,n,r){this.parent=e,this.data=t,this.view=n,this.container=r,this.children=[]}return e.prototype.indexOf=function(e){for(var t=0;t<this.children.length;t++)if(1==e(this.children[t]))return t;return-1},e.prototype.addChild=function(e,t){if(null==t)t=this.children.length;else if(0>t||t>this.children.length)throw new Error("IncorrectArgument");this.children.splice(t,0,e)},e.prototype.removeChild=function(e){if("number"==typeof e){var t=e;if(0>t||t>this.children.length)throw new Error("IncorrectArgument");this.children.splice(t,1)}else{var t=this.indexOf(function(t){return t==e});this.removeChild(t)}},e}(),r=function(){function e(e){this.root=new n,this.root.container=e,this.clear()}return e.prototype.find=function(e){return null==e?this.root:this.flat.get(e)},e.prototype.clear=function(){this.root.children=[],this.flat=new Map},e.prototype.insert=function(e,t,r,i){void 0===i&&(i=!1);var a=new n(t,e);i?this.insertAfter(a,t,r):this.insertBefore(a,t,r),this.flat.set(e,a)},e.prototype.insertBefore=function(e,t,n){var r=n?t.indexOf(function(e){return e==n}):null;t.addChild(e,r)},e.prototype.insertAfter=function(e,t,n){var r=n?t.indexOf(function(e){return e==n}):-1;t.addChild(e,r+1)},e.prototype.remove=function(e){e.parent.removeChild(e)},e.prototype.get=function(e,t){return t?t.children[t.indexOf(function(t){return t.data==e})]:this.find(e)},e.prototype.registerViews=function(e,t,n){var r=this.find(e);if(!r)throw"RegisterViewException";r.container=n,r.view=t},e.prototype.patch=function(e,t){var n=this.find(e);n&&(n.data=t),this.flat.set(t,n),this.flat["delete"](e)},e}();t.TreeModel=r},function(e,t,n){function r(e,t){$.showMessageBox(X.getCurrentWindow(),{type:"error",buttons:["Okay"],title:"Error",message:e,detail:t})}function i(){if(!re){re=Object.create(null);var e=J.aquireManager().ast.definition().property(Z.Universe10.Api.properties.resources.name).range().property(Z.Universe10.ResourceBase.properties.methods.name),t=e.getAdapter(te.RAMLPropertyService),n=t.enumValues(null);k.methods.filter(function(e){return n.indexOf(e.method.toLowerCase())>-1}).forEach(function(e){var t=e.description.trim().match(/^\"(.*)\"$/)[1];re[e.method.toLowerCase()]=t?t:e.description})}return re}function a(){return ie||(ie=Object.create(null),k.statusCodes.forEach(function(e){var t,n=e.description.trim();(t=n.match(/^\"(.*)\"/))&&(n=t[1]),ie[e.code]=n}),ie["7xx"]="is for developer errors."),ie}function o(){var e="",t="",n="",i=!0,a=!0,o=new L.TextField("API Title*",e,function(t,n){return e=n}),s=new L.TextField("Version",t,function(e,n){return t=n}),u=new L.TextField("Base URI",n,function(e,t){return n=t});o.setTabIndex(100),o.margin(0,0,8,0),s.setTabIndex(101),s.margin(0,0,8,0),u.setTabIndex(102),u.margin(0,0,8,0);var l=new L.CheckBox("Create sample resource",null,function(e,t){return i=t});l.setValue(i);var c=new L.CheckBox("Generate 1.0 model",null,function(e,t){return a=t});c.setValue(a);var p=O.section("Create new API",40,!1,!1,o,s,u,O.hc(l,c).margin(0,0,12,12));x(p,function(){return""==e?(r("Cannot create API","Title must not be empty"),!1):(J.aquireManager().setText(H.createRAMLFile(e,t,n,i,a)),!0)},o)(this),o.getActualField().ui().focus()}function s(e,t){var n=i(),o=a(),s="No response",u="No response body type",l=null,c=null;null==t&&(t="get");var p=new L.LabelField,m=new L.LabelField;[p,m].forEach(function(e){return e.addClass("wizard-description")}),p.getActualField().margin(0,0,18,8),m.getActualField().margin(0,0,8,8);var d=new L.SelectField("Method:",function(e,r){t=r,p.setText("Method "+r+" "+n[r])},null);d.getActualField().setOptions(Object.keys(n)),d.getActualField().setValue(t,!0);var h=new L.SelectField("Status code:",function(e,t){t==s&&(t=null,f.getActualField().setValue(u)),l=t,f.setDisabled(null==t),m.setText(t?"Status code "+t+" "+o[t]:"")},null);h.getActualField().setOptions([s].concat(Object.keys(o)));var f=new L.SelectField("Generate default response with media type:",function(e,t){t==u?(t=null,S.setDisabled(!0)):S.setDisabled(!1),c=t},null);f.getActualField().setOptions([u,"application/json","application/xml","application/x-www-form-urlencoded"]),f.setDisabled(!0),f.margin(0,0,0,12);var y=null,v=new L.SelectField("Generate default body with media type:",function(e,t){t==u?(t=null,P.setDisabled(!0)):P.setDisabled(!1),y=t},null);v.getActualField().setOptions([u,"application/json","application/xml","application/x-www-form-urlencoded"]),v.margin(0,0,0,12);var g=null,b=null,S=new L.SelectField("Generate default response body with type:",function(e,t){t==u&&(t=null),g=t},null);S.setDisabled(!0),S.margin(0,0,0,12);var A=ae(e),T=A.isSchema,w=A.types;w&&(w=[""].concat(w),S.getActualField().setOptions(w));var P=new L.SelectField("Generate default body with type:",function(e,t){t==u&&(t=null),b=t},null);P.setDisabled(!0),P.margin(0,0,0,12);var T=A.isSchema,w=A.types;w&&(w=[""].concat(w),P.getActualField().setOptions(w));var M=O.section("");M.addChild(L.h3("Body")),M.addChild(v),M.addChild(P),M.addChild(L.h3("Response")),M.addChild(h),M.addChild(m),M.addChild(f),M.addChild(S),M.ui();var E=O.section("Creating a new method",33,!1,!1,d,p,M),A=ae(e);x(E,function(){var n=e.elementsOfKind("methods").filter(function(e){return e.attr("method").value()==t})[0];n&&(r("Method "+t+" already exists","Node contents will be overwritten"),e.remove(n));var i=V.createMethodStub(e,t);if(y){var a=V.createBodyStub(i,y);b&&(T?a.attrOrCreate("schema").setValue(b):a.attrOrCreate("type").setValue(b)),i.add(a)}if(l){var o=V.createResponseStub(i,l);if(i.add(o),c){var a=V.createBodyStub(o,c);g&&(T?a.attrOrCreate("schema").setValue(g):a.attrOrCreate("type").setValue(g)),o.add(a)}}return e.add(i),J.updateAndSelect(i),!0})(this)}function u(e){return e instanceof V.StructuredValue?e.valueName():e}function l(e,t,n,r){var i=O.vc();i.margin(8,8,20,8);var a=n.definition().property(e),o=c(n,e),s=J.aquireManager().ast.elementsOfKind("resourceType").map(function(e){return e.name()}),l=u(t),d=new L.SelectField("Type: ",function(e,r){if(r==h)return t="",i.clear(),void i.addChild(O.label("Select some type from the list above to show its additional properties",null,3));t=p(r,n,a);var s=t instanceof V.StructuredValue?t.toHighlevel(J.aquireManager().ast):null;m(s,o),z.updateDetailsPanel(s,i),s&&0==s.definition().allProperties().length&&(t=r)}),h="(no value)";d.getActualField().setOptions([h].concat(s)),d.setPercentWidth(100),s.indexOf(l)<0?(d.getActualField().setValue(h),""!=l&&i.addChild(O.label("Type `"+l+"` does not exists",null,7).setStyle("display","block")),i.addChild(O.label("Select some type from the list above to show its additional properties",null,3))):d.getActualField().setValue(l,!0);var f=O.section("Editing type value `"+e+"`:",28,null,null,d,i);return x(f,function(){return r(t),!0})}function c(e,t){try{var n=new Q.Map,r=e.attributes(t).map(function(e){return e.value()}).filter(function(e){return e instanceof V.StructuredValue});return r.forEach(function(e){return e.lowLevel().children().forEach(function(e){return n.set(e.key(),e.value())})}),n}catch(i){return null}}function p(e,t,n){if(n.range()instanceof K.ReferenceType){var r=(n.range(),j.createNode(e));return new V.StructuredValue(r,t,n)}return e}function m(e,t){e&&t&&t.pairs().forEach(function(t){e.definition().property(t.key)&&e.attrOrCreate(t.key).setValue(t.value)})}function d(e){return e&&e.property()?ee.isResourcesProperty(e.property())?e:d(e.parent()):null}function h(e,t,n){var r={elements:function(e){return e},init:function(e){},dispose:function(){}},i={render:function(e){return O.hc(O.label(e,75),O.a("",function(e){t=t.filter(function(t){return t!=e.id()}),a.remove(e.id())},196).pad(8,8).setId(e)).addClass("outline")}},a=new L.ListView(r,i);a.setBasicLabelFunction(function(e){return e}),a.setInput(t,!0);var o=L.texfField("","",function(e){return e}).margin(0,0,4,4);o.addKeyPressListener(function(e,n){if(13==n.keyCode){var r=e.getBinding(),i=r.get();r.set(""),t.push(i),a.setInput(t,!0)}});var s=O.section("Editing enum value `"+e+"`:",105,null,null,L.h3("List of elements in enum:").margin(0,0,20,0),a.margin(20,20),L.h3("Add new element:").margin(0,0,20,0),o);return x(s,function(){return n(t),!0},o)}function f(e){var t=e.attrValue("relativeUri");if(!t)return null;for(var n=d(e.parent());n;){var r=n.attrValue("relativeUri");if(!r)return null;t=r+t,n=d(n.parent())}return t}function y(e){var t="/",n="",r=d(e),a=null;r&&(a=f(r),a&&(n=a));var o=o=new L.TextField(n,t,function(e,n){t=n});o.margin(0,0,6,12);var s={},u=O.vc().margin(0,0,0,12);Object.keys(i()).forEach(function(e){var t=new L.CheckBox(e,null,function(t){s[e]?delete s[e]:s[e]=t}).addClass("checkbox-group"),n=O.vc().margin(0,0,15,0);n.addChild(t);var r=e+":"+i()[e];u.addChild(O.vc(n));var a=O.label(r,0,2).margin(5,10,-4,0);u.addChild(a)});var l=V.createResourceStub(e,t),c=O.select("type"),p=F.globalDeclarations(e).filter(function(e){return ee.isResourceTypeType(e.definition())&&!e.definition().getAdapter(U.RAMLService).isUserDefined()}),m=p.map(function(t){return V.qName(t,e)}),m=[""].concat(m);c.setOptions(m);var h=O.section("Creating a new resource",14,!1,!1);h.addChild(O.label("New resource URI:")),h.addChild(o),h.addChild(O.label("Type:")),h.addChild(c),h.addChild(O.label("Add additional methods:").margin(0,0,18,6)),h.addChild(u),x(h,function(){if(0!=t.indexOf("/"))return!1;l.attrOrCreate("relativeUri").setValue(t),Object.keys(s).filter(function(e){return s[e]}).forEach(function(e){var t=V.createMethodStub(l,e);t.attrOrCreate("method").setValue(e),l.add(t)});var n=c.getValue();return n&&l.attrOrCreate("type").setValue(n),e.add(l),J.updateAndSelect(l),!0},o)(this),o.getActualField().ui().focus(),a?o.makeLabelNextToField():o.hideLabel()}function v(e,t,n,r){void 0===r&&(r="key");if(null!=e){"body"==n&&(r="application/json");var i=V.createStub(e,n,r),a=W.buildItem(i,!0);a.setTitle(t);var o=a.render({showDescription:!0});o.margin(8,8,8,8),x(o,function(){return i._parent=null,i.lowLevel()._unit=null,i.isInEdit=!1,e.add(i),J.updateAndSelect(i),!0},null)(this)}}function g(e,t,n,r){var i=c(n,e),a=new L.TabFolder,o=O.vc(L.h3("Enabled traits: ")).margin(10,10,0,0);a.margin(0,0,20,10),a.add("Traits",61,o);var s=n.definition().property(e),l=0,d=n.root().elementsOfKind("traits").map(function(e){var r=e.name(),c=p(r,n,s),d=c instanceof V.StructuredValue?c.toHighlevel():null;d&&0==d.definition().allProperties().length&&(c=r);var h={index:l,name:r,value:c,enabled:t.filter(function(e){return u(e)==r}).length>0};m(d,i);var f=O.checkBox(h.name,function(e){h.enabled=f.getValue(),a.toggle(1+h.index,h.enabled)});f.margin(12,12),f.setValue(h.enabled),o.addChild(f);var y=O.vc();return y.margin(8,8,20,8),z.updateDetailsPanel(d,y),a.add(r,28,y),a.toggle(1+l,h.enabled),l+=1,h}),h=O.section("Editing trait value `"+e+"`:",28,null,null,a);return x(h,function(){return r(d),!0})}function b(e){var t=J.aquireManager().ast.elementsOfKind("schemas").filter(function(t){return t.name()==e})[0];return t?t.value().value():""}function S(e,t,n){var i="(New Schema)",a=J.aquireManager().ast.elementsOfKind("schemas").map(function(e){return e.name()}),o=a.indexOf(t)>=0,s=o?R(t):t,u=o?t:"",l=0,c=I(function(e,t){l=0}),p=Y._schemaPreview(),m=setInterval(function(){l++<5||(l=0,Y._updatePreview(p,c.getValue()))},100),d=new L.SelectField("Select schema: ",function(e,t){u=t,s=b(t),A(c,s)});d.getActualField().setOptions([i].concat(a)),d.setPercentWidth(100),o&&d.getActualField().setValue(u),A(c,s);var h=new L.TabFolder;h.add("Write",64,c),h.add("Preview",77,p);var f=O.section("Editing schema value `"+e+"`:",119,null,null,d,h),y=function(){return r("No schema entered","Please enter a valid schema or select one from the list before proceeding."),!1},v=function(){return r("Invalid schema","Please fix the errors in the schema before saving it."),!1};return N(f,[{name:"Save as reference",highlight:2,action:function(){var e=c.getValue(),t=s!=e;if(!t&&u==i)return y();if(0==T(e))return v();if(t){var r=w(u,e);return r?(n(r),clearInterval(m),!0):!1}return n(u),clearInterval(m),!0}},{name:"Save as text",highlight:4,action:function(){var e=c.getValue();return""==e?y():0==T(e)?v():(d.getActualField().setValue(i),u="Untitled",n(e),clearInterval(m),!0)}},{name:"Cancel",highlight:0,action:function(){return clearInterval(m),!0}}])}function A(e,t){var n=B.createSchema(t),r=null==n||null==n.getType?"text/plain":n.getType();e.setGrammar(r),e.setText(t)}function T(e){return!0}function w(e,t){var n,r,i=B.createSchema(t),a={name:"JSON schemas",extensions:["json"]},o={name:"XML schemas",extensions:["xsd"]},s=D.dirname(J.aquireManager().ast.lowLevel().unit().absolutePath());switch(i.getType()){case"source.json":r=[a],n=".json";break;case"text.xml":r=[o],n=".xsd";break;default:r=[]}var u=$.showSaveDialog(X.getCurrentWindow(),{title:"Save schema",defaultPath:D.resolve(s,"schemas",e+n),filters:r});if(null==u)return null;var l=D.basename(u),c=D.extname(l),p=l.substr(0,l.indexOf(c)),m=D.relative(s,u);return-1==J.aquireManager().ast.elementsOfKind("schemas").map(function(e){return e.name()}).indexOf(p)&&H.createGlobalSchemaFromNameAndContent(J.aquireManager().ast.root(),p,m,t,u),p}function P(e,t,n){var r=new L.AtomEditorElement(t.join("\n"),function(e){});r.margin(0,0,6,12),r.setMini(!1),r.setGrammar("source.gfm");var i=O.section("Editing markdown value `"+e+"`:",64,!1,!1,L.h3("Please note that lines might be long enough so window would scroll.").margin(0,0,20,0),r);return x(i,function(){return n(r.getBinding().get()),!0},r)}function M(e,t,n,r){var i=I(function(e,t){t.indexOf("xml")>0?i.setGrammar("text.xml"):i.setGrammar("source.json")});i.setText(n);var a=D.dirname(J.aquireManager().getPath()),o=new L.TextField("Referenced from",t,function(e,n){return t=n},null,"No reference path provided");o.addChild(new L.Button("Browse",2,0,null,function(){var e=G.openFileDialogModal("Open a reference",D.resolve(a,t),[]);e&&(o.getActualField().setText(D.relative(a,t=e[0])),n=q.readFileSync(e[0]).toString("UTF-8"),i.setText(n))}).margin(4,0));var s=o.getActualField().ui();s.onclick=function(e){s.blur(),s.nextSibling.onclick&&s.nextSibling.onclick(e)};var u=(O.vc(L.h3("Referenced")),O.section("Editing example value `"+e+"`:",119,null,null,o.margin(12,12,20,12),i.margin(12,12,20,12)));return N(u,[{name:"Save as reference",highlight:2,action:function(){var e=i.getValue();if(n!=e){var o=C(D.resolve(a,t),e);return o?(r(D.relative(a,o)),!0):!1}return r(t),!0}},{name:"Save as text",highlight:4,action:function(){return void 0==r(i.getValue())||!0}},{name:"Cancel",highlight:0,action:function(){return!0}}])}function E(){ne.pop(),0==ne.length?oe.destroy():oe=atom.workspace.addModalPanel({item:ne[ne.length-1].ui()})}function C(e,t){var n={name:"JSON schemas",extensions:["json"]},r={name:"XML schemas",extensions:["xsd"]},i={name:"All files",extensions:["*"]},a=(t.indexOf("xml")<0?"json":"xml",G.saveFileDialogModal("Save an example",e,[n,r,i]));return a&&q.writeFileSync(a,t),a}function N(e,t,n){var r=O.hc().setPercentWidth(100);return t.reverse().forEach(function(t){var n=O.button(t.name,0,t.highlight,0,function(e){t.action()&&E()});if(t.isPrimary){var i=e.getBinding().status();i&&2==i.code&&n.setDisabled(!0),e.getBinding().addStatusListener(function(t){var r=e.getBinding().status();r&&(2!=r.code?n.setDisabled(!1):n.setDisabled(!0))})}n.setStyle("float","right").margin(4,10),r.addChild(n)}),e.addChild(r),function(t){ne.push(e),oe=atom.workspace.addModalPanel({item:e.ui()}),n&&n.ui().focus()}}function _(e){r(e,"")}function I(e){e||(e=function(e,t){});var t=new L.AtomEditorElement("",e);return t.setMini(!1),t.setStyle("height","400px"),t.setStyle("border","solid"),t.setStyle("border-width","1px"),t}function R(e){var t=J.aquireManager().ast.elementsOfKind("schemas").filter(function(t){return t.name()==e})[0];return t?t.value().value():""}function x(e,t,n){return N(e,[{name:"Ok",isPrimary:!0,highlight:1,action:t},{name:"Cancel",highlight:0,action:function(){return!0}}],n)}var L=n(150),O=n(151),k=n(77),D=n(10),U=n(22),F=n(74),j=n(24),K=n(16),V=n(23),B=n(79),q=n(4),H=n(156),G=n(173),W=n(163),z=n(162),J=n(158),Y=n(167),X=n(174),$=X.require("dialog"),Q=n(175),Z=n(20),ee=n(84),te=n(22),ne=[];t.showError=r;var re=null,ie=null;t.getStatusCodeDescriptions=a,t.newApi=o;var ae=function(e){var t=!1,n=e.definition().universe().type(Z.Universe10.TypeDeclaration.name);n||(t=!0,n=e.definition().universe().type(Z.Universe08.BodyLike.name));var r=n.property(Z.Universe10.TypeDeclaration.properties.schema.name),i=[];return r&&(i=r.getAdapter(U.RAMLPropertyService).enumValues(e)),{isSchema:t,types:i}};t.newMethod=s,t.getStringValue=u,t.typeEditDialog=l,t.getResourceParent=d,t.enumEditDialog=h,t.newResource=y,t.newNode=v,t.traitsEditDialog=g,t.schemaEditDialog=S,t._updateEditor=A,t.markdown=P,t.exampleEditorDialog=M;var oe=null;t.msg=_,t.smallEditor=I},function(e,t,n){function r(e){var t=e.parent().root(),n=e.property().range().universe().type("GlobalSchema"),r=n.getAdapter(L.RAMLService).createStubNode(n.universe().type("Api").property("schemas"),""+e.value());r.attrOrCreate("value").setValue("!include schemas/"+e.value()+".json"),t.add(r);var i=atom.workspace.getActiveTextEditor();i.getBuffer().setText(t.lowLevel().unit().contents());var a=P.resolve(P.dirname(i.getPath()),"schemas");w.existsSync(a)||w.mkdirSync(a);var o=P.resolve(a,e.value()+".json");w.writeFileSync(o,'\n{\n  "$schema" : "http://json-schema.org/draft-04/schema" ,\n  "type" : "object" ,\n  "properties" : {\n   }\n}\n'),atom.workspace.open(o,{})}function i(e,t,n,r,i){var a=e.definition().universe().type("GlobalSchema"),o=a.getAdapter(L.RAMLService).createStubNode(a.universe().type("Api").property("schemas"),""+t);o.attrOrCreate("value").setValue("!include "+n),e.add(o);var s=d(),u=i?P.dirname(i):P.resolve(P.dirname(s.getPath()),P.dirname(n));w.existsSync(u)||w.mkdirSync(u);var l=i?i:P.resolve(P.dirname(s.getPath()),n);w.writeFileSync(l,r)}function a(e,t,n){var r=d(),i=P.resolve(P.dirname(r.getPath()),P.dirname(t));w.existsSync(i)||w.mkdirSync(i);var a=P.resolve(P.dirname(r.getPath()),t);w.writeFileSync(a,n)}function o(e,t,n,r,i){void 0===r&&(r=!0),void 0===i&&(i=!0);var a=[i?"#%RAML 1.0":"#%RAML 0.8","title: "+e];t&&a.push("version: "+t),n&&a.push("baseUri: "+n);var o=["types:","  TestType:","    type: object","    properties:","      id: number","      optional?: string","      expanded:","        type: object","        properties:","          count: number"],s=["/helloWorld:","  get:","    responses:","      200:","        body:","          application/json:","            example: |","              {",'                "message" : "Hello World"',"              }"],u=a;return r&&(i&&(u=u.concat(o)),u=u.concat(s)),u.join("\n")+"\n"}function s(){(new F).show()}function u(e){new k.MoveElementsDialog(e,"Resource Type",!0).show()}function l(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function c(e){for(var t=l(e),n=[],r=0;r<t.length;r++)t[r].trim().length>0&&n.push(t[r]);return n.join("")}function p(e,t){for(var n=l(e),r=[],i=0;i<n.length;i++)0==i?r.push(n[0]):r.push(n[i].substring(t.length));return r.join("")}function m(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function d(){var e=atom.workspace.getActiveTextEditor();return e?e:U.aquireManager()?U.aquireManager().getCurrentEditor():null}function h(e){new j(e).show()}function f(){var e=d();if(e&&".raml"==P.extname(e.getPath())){var t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=_.getAstNode(t,!1);if(!n)return;var r=t.editor.getBuffer().characterIndexForPosition(t.bufferPosition),i=E.determineCompletionKind(e.getBuffer().getText(),r);if(0==i){var a=n,o=N.find(a.attrs(),function(e){return e.lowLevel().start()<r&&e.lowLevel().end()>=r&&!e.property().getAdapter(L.RAMLPropertyService).isKey()});if(o&&o.value()){var s=o.property(),u=(o.value(),s.getAdapter(L.RAMLPropertyService).referenceTargets(a)),l=N.find(u,function(e){return e.name()==o.value()});l&&O.prompt("New name for "+o.value(),function(e){g(function(t,n){n.reverse().forEach(function(t){var n=t;n.setValue(e)}),t.attr(t.definition().getAdapter(L.RAMLService).getKeyProp().nameId()).setValue(e);var r=d();r.getBuffer().setText(t.lowLevel().unit().contents())})},o.value())}}if(1==i||6==i){var a=n;O.prompt("New name for "+a.name(),function(e){g(function(t,n){var r=t.attrValue(t.definition().getAdapter(L.RAMLService).getKeyProp().nameId());n.reverse().forEach(function(t){var n=t;y(n,r,e)}),t.attr(t.definition().getAdapter(L.RAMLService).getKeyProp().nameId()).setValue(e);var i=d();i.getBuffer().setText(t.lowLevel().unit().contents())})},a.name())}}}function y(e,t,n){var r=e.value();if("string"!=typeof r){if(r instanceof M.StructuredValue){var i=r,a=i.valueName();if(-1!=a.indexOf(t)){var o=i.toHighlevel();if(o){var s=!1;return void o.attrs().forEach(function(e){if(e.property().getAdapter(L.RAMLPropertyService).isKey()){var r=e.value();if("string"==typeof r){s=!0;var i=r.replace(t,n);e.setValue(i)}}})}}}e.setValue(n)}else{var a=r,u=a.replace(t,n);if(e.setValue(u),-1==a.indexOf(t)&&-1!=e.name().indexOf(t)){var l=e.name().replace(t,n);e.setKey(l)}}}function v(){var e=d(),t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=_.getAstNode(t,!1);if(n){var r=e.getBuffer().positionForCharacterIndex(n.lowLevel().start()),i=e.getBuffer().positionForCharacterIndex(n.lowLevel().end());e.setSelectedBufferRange({start:r,end:i},{})}}function g(e){void 0===e&&(e=S);var t=d();if(t&&".raml"==P.extname(t.getPath())){var n={editor:t,bufferPosition:t.getCursorBufferPosition()},r=n.editor.getPath(),i=new C.Project(P.dirname(r)),a=i.unit(P.basename(r)),o=n.editor.getBuffer().characterIndexForPosition(n.bufferPosition),s=n.editor.getBuffer().getText();a.updateContent(s);var u=E.findUsages(a,o);u.node&&e(u.node,u.results)}}function b(){g(S)}function S(e,t){K?K.setInput(e.name(),t):(K=new V(e.name()+":"+e.definition().nameId(),t),K.panel=atom.workspace.addBottomPanel({item:K}))}function A(){var e=d();if(e&&".raml"==P.extname(e.getPath())){var t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=t.editor.getPath(),r=new C.Project(P.dirname(n)),i=r.unit(P.basename(n)),a=t.editor.getBuffer().characterIndexForPosition(t.bufferPosition),o=t.editor.getBuffer().getText();i.updateContent(o);var s=E.findDeclaration(i,a);s&&(s instanceof M.BasicASTNode?q(e,s.lowLevel()):atom.workspace.open(s.absolutePath(),{}))}}var T=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},w=n(4),P=n(10),M=n(23),E=n(74),C=n(24),N=n(17),_=n(157),I=n(150),R=n(151),x=n(7),L=n(22),O=n(169),k=n(171),D=n(173),U=n(158);t.createGlobalSchema=r,t.createGlobalSchemaFromNameAndContent=i,t.saveExample=a;var F=function(){function e(e){void 0===e&&(e="Create RAML Project"),this.title=e,this.apititle="New API",this.version="v1",this.baseUri="http://api.samplehost.com",this._raml1=!0,this._defStructure=!0,this._createSampleResource=!0,this.sourceValue=P.resolve(this.generateDefaultProjectParentFolder(),"newRamlProject")}return e.prototype.generateDefaultProjectParentFolder=function(){return D.getHome()},e.prototype.extraContent=function(e){},e.prototype.validateProjectLocation=function(e){var t=e?e:this.sourceValue,n=P.dirname(t);return n&&"."!=n?w.existsSync(n)?I.okStatus():I.errorStatus("Parent directory does not exist"):I.errorStatus("Can not find path parent")},e.prototype.validateTitle=function(e){var t=e?e.trim():"";return!t||t.length<1?I.errorStatus("Title field is required"):I.okStatus()},e.prototype.show=function(){var e=this,t=null,n=R.section(this.title,14,!1,!1,I.h3("Please select location to place your project:")).pad(10,10),r=new I.Panel(0),i=R.label("",null,7),a=new I.CustomField("",i,function(e){return e});a.setDisplay(2==this.validateProjectLocation().code),r.addChild(a);var o=I.texfField("",this.sourceValue,function(t){return e.sourceValue=t.getBinding().get()});o.getBinding().addValidator(function(){return e.validateProjectLocation()}),o.setStyle("width","400px"),o.getBinding().addListener(function(t){var n=e.validateProjectLocation(t);2!=n.code?(i.setText(""),i.setIcon(0),a.setDisplay(!1)):(i.setText(n.message),i.setIcon(19),a.setDisplay(!0))}),r.addChild(o),r.addChild(I.h3("Title of your API:"));var s=R.label("",null,7),u=new I.CustomField("",s,function(e){return e});u.setDisplay(!1),r.addChild(u);var l=I.texfField("",this.apititle,function(t){return e.apititle=t.getBinding().get()});l.getBinding().addValidator(function(){return e.validateTitle(e.apititle)}),l.getBinding().addListener(function(t){var n=e.validateTitle(t);2!==n.code?(s.setText(""),s.setIcon(0),u.setDisplay(!1)):(s.setText(n.message),s.setIcon(19),u.setDisplay(!0))}),r.addChild(l),r.addChild(I.h3("Version of your API")),r.addChild(I.texfField("",this.version,function(t){return e.version=t.getBinding().get()})),r.addChild(I.h3("Base URI of your API")),r.addChild(I.texfField("",this.baseUri,function(t){return e.baseUri=t.getBinding().get()})),n.addChild(r);var c=R.checkBox("Use RAML 1.0");c.setValue(this._raml1),c.getBinding().addListener(function(t){return e._raml1=c.getValue()}),n.addChild(c);var p=R.checkBox("Create default directory structure");p.setValue(this._defStructure),p.getBinding().addListener(function(t){return e._defStructure=p.getValue()}),n.addChild(p);var m=R.checkBox("Create sample resource and method");m.setValue(this._createSampleResource),m.getBinding().addListener(function(t){return e._createSampleResource=m.getValue()}),n.addChild(m);var d=R.hc().setPercentWidth(100).setStyle("display","flex");d.addChild(R.label("",null,null,null).setStyle("flex","1")),d.addChild(R.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10)),d.addChild(R.button("Create",0,3,0,function(n){2!==e.validateTitle(e.apititle).code&&(e.onOk(t),t.destroy())})),n.addChild(d),t=atom.workspace.addModalPanel({item:n.renderUI()})},e.prototype.createIfNotExist=function(e){var t=P.resolve(this.sourceValue,e);w.existsSync(t)||w.mkdirSync(t)},e.prototype.onOk=function(e){w.existsSync(this.sourceValue)||w.mkdirSync(this.sourceValue),this._defStructure&&(this.createIfNotExist("schemas"),this.createIfNotExist("examples"),this.createIfNotExist("traits"),this.createIfNotExist("resourceTypes"),this.createIfNotExist("securitySchemes"),this.createIfNotExist("documentation"),this._raml1&&(this.createIfNotExist("notebooks"),this.createIfNotExist("scripts")));var t=o(this.apititle,this.version,this.baseUri,this._createSampleResource,this._raml1),n=P.resolve(this.sourceValue,"api.raml");w.writeFileSync(n,t),atom.open({pathsToOpen:[this.sourceValue,n]})},e}();t.createRAMLFile=o,t.newProject=s,t.moveResource=u,t.splitOnLines=l,t.cleanEmptyLines=c;t.getActiveEditor=d;var j=function(){function e(e){this.node=e}return e.prototype.show=function(){var e=this,t=null,n=this.node,r=R.section("Move node content to new file ",145,!1,!1),i=R.label("please enter correct destination path",19,7,0);r.addChild(R.vc(i)),r.addChild(R.label("Please enter destination path"));var a=I.texfField("","",function(t){if(a){e.destination=a.getBinding().get();var n=0==e.destination.trim().length;if(n||".raml"!=P.extname(e.destination)&&(n=!0),!n){var r=P.resolve(P.dirname(d().getPath()),P.dirname(e.destination));if(w.existsSync(r)){var o=w.statSync(r);o.isDirectory()||(n=!0)}else n=!0}i.setDisplay(n),s.setDisabled(n)}});r.addChild(R.vc(a));var o=R.hc().setPercentWidth(100).setStyle("display","flex");o.addChild(R.label("",null,null,null).setStyle("flex","1")),o.addChild(R.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var s=R.button("Move",0,3,0,function(r){var i=P.resolve(P.dirname(d().getPath()),e.destination),a=e.node.lowLevel().dump(),o=l(a),s=m(o.length>1?o[1]:o[0]);a=a.substring(e.node.lowLevel().keyEnd()-e.node.lowLevel().start()+1).trim(),a=p(a,s),a="#%RAML 0.8 "+e.node.definition().nameId()+"\n"+a,w.writeFileSync(i,a);var u=n.lowLevel().unit().contents(),c=u.substring(n.lowLevel().end()),h=u.substring(0,n.lowLevel().keyEnd()+1),f=h+" !include "+e.destination+c;d().setText(f),t.destroy()});s.setDisabled(!0),o.addChild(s),r.addChild(o);var u=r.renderUI();t=atom.workspace.addModalPanel({item:u}),u.focus()},e}();t.MoveToNewFileDialog=j,t.moveOut=h,t.renameRAMLElement=f;t.select=v,t.findUsagesImpl=g,t.findUsages=b;var K,V=function(e){function t(t,n){e.call(this),this.query=t,this._result=n,this.isAttached=!1}return T(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.setInput=function(e,t){this.query=e,this._result=t,this.load()},t.prototype.load=function(){var e=this,t=R.section("Find usages for "+this.query,171),n=I.list(this._result,function(e){var t=d().getBuffer().positionForCharacterIndex(e.getLowLevelStart()),n=R.hc(R.a(e.id(),function(t){B(d(),e)}),R.label(e.lowLevel().unit().path()+" line:",0,2).pad(5,5),R.label(""+t.row,0,5));return n;
});n.setStyle("max-height","400px"),t.addChild(n),t.addChild(R.button("Close",2,1,0,function(t){e.panel.destroy(),K=null})),this.html(t.renderUI())},t}(x.ScrollView),B=function(e,t){var n=e.getBuffer().positionForCharacterIndex(t.getLowLevelStart()),r=e.getBuffer().positionForCharacterIndex(t.getLowLevelEnd());e.setSelectedBufferRange({start:n,end:r},{})},q=function(e,t){if(t.unit().absolutePath()!=e.getPath())return void atom.workspace.open(t.unit().absolutePath(),{}).then(function(n){e=d(),q(e,t)});var n=e.getBuffer().positionForCharacterIndex(t.start()),r=e.getBuffer().positionForCharacterIndex(t.end());r.column=n.column+t.key().length,r.row=n.row,e.setSelectedBufferRange({start:n,end:r},{})};t.gotoDeclaration=A},function(e,t,n){function r(e,t){if(t){if(e.getAdapter(O.RAMLPropertyService).isTypeExpr()){var n=E.globalDeclarations(t).filter(function(e){if(L.isGlobalSchemaType(e.definition()))return!0;var t=e.definition().allSuperTypes();return R.find(t,function(e){return L.isTypeDeclarationType(e)})?!0:L.isTypeDeclarationType(e.definition())&&"models"==e.property().nameId()}),r=n.map(function(e){return{text:P.qName(e,t),description:""}}),i=e.domain().universe().type("TypeDeclaration");if(i){var a=i.allSubTypes();r=r.concat(a.map(function(e){return{text:e.getAdapter(O.RAMLService).descriminatorValue(),description:e.description()}}))}return r}if(L.isSchemaStringType(e.range())&&"RAML10"==e.range().universe().version()){var n=E.globalDeclarations(t).filter(function(e){if(L.isGlobalSchemaType(e.definition()))return!0;var t=e.definition().allSuperTypes();return R.find(t,function(e){return L.isTypeDeclarationType(e)})?!0:L.isTypeDeclarationType(e.definition())&&"models"==e.property().nameId()}),r=n.map(function(e){return{text:P.qName(e,t),description:""}}),a=E.subTypesWithLocals(e.domain().universe().type("TypeDeclaration"),t);return r=r.concat(a.map(function(e){return{text:e.getAdapter(O.RAMLService).descriminatorValue(),description:e.description()}}))}if(e.isDescriminator()){var a=E.subTypesWithLocals(e.domain(),t);return a.map(function(e){return{text:e.getAdapter(O.RAMLService).descriminatorValue(),description:e.description()}})}if(e.isReference())return E.nodesDeclaringType(e.referencesTo(),t).map(function(e){return k(e,t)});if(e.range().isValueType()){var o=e.range().getAdapter(O.RAMLService);if(o.globallyDeclaredBy().length>0){var n=E.globalDeclarations(t).filter(function(e){return null!=R.find(o.globallyDeclaredBy(),function(t){return t==e.definition()})});return n.map(function(e){return k(e,t)})}if(L.isBooleanTypeType(e.range()))return["false","true"].map(function(e){return{text:e}})}}return e.getAdapter(O.RAMLPropertyService).enumValues(t).map(function(e){return{text:e}})}function i(e,t){var n=!0;return t.getContextRequirements().forEach(function(t){if(-1==t.name.indexOf("(")){var r=e.computedValue(t.name);r?n=n&&r==t.value:t.value&&(n=!1)}}),n}function a(e){var t=e.editor.getBuffer().characterIndexForPosition(e.triggerPosition);if(e.suggestion.annotation){for(var n=e.editor.getBuffer().getText(),r=t;r<n.length;r++){var i=n.charAt(r);if(")"==i){t=r+1;break}if("\r"==i||"\n"==i)return}var a=e.editor.getBuffer().positionForCharacterIndex(t);return void e.editor.getBuffer().insert(a,":")}if(e.suggestion.replacementPrefix&&e.suggestion.extra||"%"==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t-e.suggestion.replacementPrefix.length);e.editor.getBuffer().insert(a,e.suggestion.extra)}else{if(" "==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}if(" { "==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}if(e.suggestion.extra&&-1!=e.suggestion.extra.indexOf("!include")){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}}}function o(e,t,n){var r=w.resolve(t,n);if(T.existsSync(r)){var i=T.readdirSync(r),a=i.map(function(t){return{text:t,replacementPrefix:e,extra:"./"+n+"/"}});return a}return[]}function s(e,t,n,r,i,a){var s=b(t,n),u=e.editor.getPath(),l=w.dirname(u),c=w.resolve(l,s);if(c&&(l=w.dirname(c),T.existsSync(c))){var p=T.statSync(c);p.isDirectory()&&(l=c)}var m=[],d=!a;if(r&&a&&("example"==r.name()&&(m=m.concat(o(s,l,"examples")),d=!0),"value"==r.name()&&L.isGlobalSchemaType(r.parent().definition())&&(m=m.concat(o(s,l,"schemas")),d=!0)),r||a&&(L.isTraitType(i.definition())&&(m=m.concat(o(s,l,"traits")),d=!0),L.isResourceTypeType(i.definition())&&(m=m.concat(o(s,l,"resourceTypes")),d=!0),L.isSecuritySchemaType(i.definition())&&(m=m.concat(o(s,l,"securitySchemes")),d=!0),L.isGlobalSchemaType(i.definition())&&(m=m.concat(o(s,l,"schemas")),d=!0)),(!d||!a)&&T.existsSync(l)){var h=T.readdirSync(l);m=m.concat(h.map(function(e){return{text:e}}))}return m}function u(e,t){if(!e)return null;for(var n=e.split("/"),r=t.lowLevel(),i=r,a=0;a<n.length-1;a++)if("#"!=n[a]){if(i=R.find(i.children(),function(e){return e.key()==n[a]}),!i)return null}else i=r.unit().ast();return i.children().map(function(e){return{text:e.key()}})}function l(e,t){var n=t.definition().universe().types().filter(function(e){return!e.isValueType()&&!e.isUnion()});return n.map(function(e){return{text:e.nameId(),description:e.description()}})}function c(e,t,n,i,a){var o=e;if(t){var u=t.property(),l=t.value();if(l instanceof P.StructuredValue){var c=l.toHighlevel();if(c)return d(B,g(c,n,i));if(E.isExampleNodeContent(t)){var m=E.findExampleContentType(t);if(m){var h=E.parseDocumentationContent(t,m.getAdapter(O.RAMLService).toRuntime());if(h)return d(B,g(h,n,i))}}}if(u){var f=r(u,o);if(u.isAllowNull()&&f.push({text:"null",description:"null means - that no value is allowed"}),!f||0==f.length){var y=u.getOftenKeys();if(y)return y.map(function(e){return{text:e,displayText:e}})}if(L.isExampleProperty(u)&&L.isBodyLikeType(o.definition())){if(!p(t.value(),n,i))return;var v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./examples/",e.displayText="!include ./examples/"+e.text,e});return v=K(v,t.lowLevel().start(),i)}if(L.isValueProperty(u)&&L.isGlobalSchemaType(o.definition())){if(!p(t.value(),n,i))return;v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./schemas/",e.displayText="!include ./schemas/"+e.text,e}),v=K(v,t.lowLevel().start(),i)}if(f)return f}return[]}if(L.isGlobalSchemaType(o.definition())&&(v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./schemas/",e.displayText="!include ./schemas/"+e.text,e}),v=K(v,o.lowLevel().start(),i)),L.isTraitType(o.definition()))return v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./traits/",e.displayText="!include ./traits/"+e.text,e}),v=V(v,o.lowLevel().start(),i);if(L.isResourceTypeType(o.definition())){var v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./resourceTypes/",e.displayText="!include ./resourceTypes/"+e.text,e});return v=V(v,o.lowLevel().start(),i)}if(L.isSecuritySchemaType(o.definition())){var v=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./securitySchemes/",e.displayText="!include ./securitySchemes/"+e.text,e});return v=V(v,o.lowLevel().start(),i)}}function p(e,t,n){if(e&&e.length>0){var r=e.trim();if(0==r.indexOf("{"))return!1;if(0==r.indexOf("<"))return!1;if(0==r.indexOf("["))return!1}for(var i=t;i>=0;i--){var a=n[i];if(":"==a)return!0;if("|"==a)return!1;if("'"==a)return!1;if('"'==a)return!1}return!0}function m(e,t){var n=(new Date).getMilliseconds();try{return d(e,t)}finally{if(I.aquireManager()){var r=I.aquireManager();if(r.performanceDebug){var i=(new Date).getMilliseconds();console.log("Completion calc:"+(i-n))}}}}function d(e,t){B=e;try{if(G>100)return;G++;var n=e.editor.getBuffer().characterIndexForPosition(e.bufferPosition),r=e.editor.getBuffer().getText(),i=E.determineCompletionKind(r,n),a=t?t:v(e),o=a;if(3==i)return[{text:"include"}];if(5==i){var u=o.definition().universe().type("AnnotationTypeDeclaration");if(u){var l=E.globalDeclarations(o).filter(function(e){return e.definition()==u});return l.map(function(e){return{text:P.qName(e,o),annotation:!0}})}return[]}if(4==i)return j(r,e,n);if(7==i)return[];if(null==a)return[];for(var p=!1,m=n-1;m>=o.lowLevel().start();m--){var d=r[m];if("\r"==d||"\n"==d){p=!0;break}}for(var f=n,g=n-1;g>=0;g--){var S=r[g];{if(" "!=S&&"	"!=S)break;f=g}}var A=R.find(o.attrs(),function(e){return e.lowLevel().start()<f&&e.lowLevel().end()>=f&&!e.property().getAdapter(O.RAMLPropertyService).isKey()});if(!A){var T=R.find(o.definition().allProperties(),function(e){return e.canBeValue()});if(p){var w=R.find(o.lowLevel().children(),function(e){return e.start()<n&&e.end()>=n});if(w){var T=R.find(o.definition().allProperties(),function(e){return e.nameId()==w.key()});if(T){var N=h(w.keyStart(),w.unit().contents()),_=h(n,w.unit().contents());if(_.length>N.length+1){var I=T.range().isValueType();I?A=new q(w,o,T.range(),T):w.children().length>0&&(o=new H(w.children()[0],o,T.range(),T))}}}}else T&&0==i&&L.isTypeProperty(T)&&1==o.children().length&&(A=new P.ASTPropImpl(o.lowLevel(),o,T.range(),T))}if(2==i)return s(e,r,n,A,o,!1);if(A&&(1==i||6==i)){for(var k="",m=n-1;m>=0;m--){var d=r[m];if("\r"==d||"\n"==d)break;k=d+k}k=k.trim(),k!=A.name()&&(i=0)}if(0==i){var D=c(a,A,n,r,e);if(!A&&(!D||0==D.length)&&!p&&o.definition().getAdapter(O.RAMLService).isUserDefined())return F(o,n,r,X,$,p);if(A&&A.property().getAdapter(O.RAMLPropertyService).isTypeExpr()){D||(D=[]),D=D.filter(function(e){return e.text!=o.name()});var K=b(r,n),W=K.lastIndexOf(".");K=W?K.substr(0,W+1):null,K&&(D=D.filter(function(e){return 0==e.text.indexOf(K)}),D.forEach(function(e){return e.text=e.text.substring(K.length)}))}return D&&(":"==r[n-1]&&D.forEach(function(e){e.extra?e.extra=" "+e.extra:e.extra=" "}),-1!=e.prefix.indexOf("[")&&(e.prefix="",D.forEach(function(e){e.text=": [ "+e.dispayText}))),!p&&D&&D.length>0&&(D=V(D,o.lowLevel().start(),r)),D}if(1==i||6==i&&n>0&&"-"!=r.charAt(n-1)&&" "!=r.charAt(n-1)){if(a.isAttr()||a.isImplicit())throw new Error("Should be highlevel node at this place");if(o.property()&&L.isUriParametersProperty(o.property())&&o.definition()instanceof M.NodeClass){var z=o.parent().attr("relativeUri");if(z&&o.name().substring(0,o.name().length-1)==b(r,n)){var J=(new C.UrlParameterNameValidator).parseUrl(z.value());if(J instanceof Array&&J){if(U(n,r))var Y=J.map(function(e){return{text:e+": \n"+y(n,r)+"  "}});else var Y=J.map(function(e){return{text:e}});return Y}}}if(o.property()&&L.isBaseUriParametersProperty(o.property())&&o.definition()instanceof M.NodeClass){var z=o.root().attr(x.Universe10.Api.properties.baseUri.name);if(z&&o.name().substring(0,o.name().length-1)==b(r,n)){var J=(new C.UrlParameterNameValidator).parseUrl(z.value());if(J instanceof Array&&J){if(U(n,r))var Y=J.map(function(e){return{text:e+": \n"+y(n,r)+"  "}});else var Y=J.map(function(e){return{text:e}});return Y}}}if(o.property()&&L.isResourcesProperty(o.property())){var z=o.attr("relativeUri");if(z&&o.name().substring(0,o.name().length-1)==b(r,n))return z&&-1!=z.value().indexOf("{")?[{text:"mediaTypeExtension}"}]:[]}var X=o.property()&&o.property().isMultiValue();o.lowLevel().keyEnd()<n&&(X=!1);var $=!0;if(X){var Q=o.definition().getAdapter(O.RAMLService).getCanInherit();if(Q){var Z=o.computedValue(Q[0]);Z&&($=!0,X=!1)}}return F(o,n,r,X,$)}return[]}finally{G--}}function h(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else{if("\r"==i||"\n"==i)return n;if(n)return""}}return""}function f(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i||"-"==i)n?n+=i:n=i;else{if("\r"==i||"\n"==i)return n;if(n)return""}}return""}function y(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else if("\r"==i||"\n"==i)return n}}function v(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var r=e.editor.getPath(),i=new N.Project(w.dirname(r)),a=e.editor.getBuffer().characterIndexForPosition(e.bufferPosition),o=e.editor.getBuffer().getText(),s=E.determineCompletionKind(o,a);if(1==s&&t){for(var u=a>0?a-1:a,l=u;l>0;l--){var c=o[l];if("\r"==c||"\n"==c)break;(" "==c||"	"==c)&&m++}var p=a;o=o.substring(0,p)+"k:"+o.substring(p)}for(var m=0,d=i.setCachedUnitContent(w.basename(r),o),h=_.fromUnit(d),f=a,y=a-1;y>=0;y--){var c=o[y];{if(" "!=c&&"	"!=c)break;f=y-1}}var v=h.findElementAtOffset(f);if(v&&null==v.parent()&&m>0&&1==s){var g=R.find(v.attrs(),function(e){var t=e;return t.lowLevel().start()<a&&t.lowLevel().end()>=a&&!t.property().isKey()});if(!g&&n)return null}return n||v?v:h}function g(e,t,n){for(var r=t,i=t-1;i>=0;i--){var a=n[i];{if(" "!=a&&"	"!=a)break;r=i}}var o=e.findElementAtOffset(r);return o}function b(e,t){for(var n=t-1;n>=0;n--){var r=e.charAt(n);if("\r"==r||"\n"==r||" "==r||"	"==r||'"'==r||"'"==r||":"==r)return e.substring(n+1,t)}return""}function S(e){var t=e.absolutePath(),n=e.contents(),r=R.find(atom.workspace.getTextEditors(),function(e){var n=e.getPath();return n==t});r?r.setText(n):T.writeFileSync(t,n)}var A=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},T=n(4),w=n(10),P=n(23),M=n(16),E=n(74),C=n(78),N=n(24),_=n(15),I=n(158),R=n(17),x=n(20),L=n(84),O=n(22);t.selector=".source.raml",t.disableForSelector=".text.html .comment",t.filterSuggestions=!0,t.inclusionPriority=1,t.excludeLowerPriority=!0;var k=function(e,t){var n=e.attr("description"),r="";n?r=n.value():(n=e.attr("usage"),n&&(r=n.value()));var i=P.typeFromNode(e),a=i.allProperties().filter(function(e){return e.isRequired()&&!e.getAdapter(O.RAMLPropertyService).isKey()}),o=P.qName(e,t);if(!L.isAnnotationTypeType(e.definition())&&a.length>0){o+=": {",o+=a.map(function(e){return e.nameId()+" : "}).join(", ")+"}";var s="";L.isResourceTypeType(e.definition())&&(o=""+o+" }",s="{ ")}return{displayText:P.qName(e,t),snippet:o,description:r,extra:s}},D=function(e,t){for(var n="";e>0;){var r=t[e];if("\r"==r||"\n"==r||" "!=r&&"-"!=r)break;n+=" ",e--}return n},U=function(e,t){for(var n=!0,r=e>0?e-1:0;r<t.length;r++){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i)break;":"==i&&(n=!1)}return n};t.isAllowed=i;var F=function(e,t,n,r,a,o){void 0===o&&(o=!0);var s=e,u=!1,l=!1;if(o){var c=f(e.lowLevel().keyStart(),n);void 0==c&&(c="");var p=f(t,n),m=c.length,d=p.length;for(m==d&&e.parent()&&(e.property().getAdapter(O.RAMLPropertyService).isMerged()?s=s.parent():(u=!1,l=!0)),d>m&&(u=!0,d>=m+4&&(l=!0,u=!1));m>d&&s.parent();)s=s.parent(),m-=2}var y=U(t,n),v=y?": ":"",g=s.definition().allProperties();g=g.filter(function(e){return!e.getAdapter(O.RAMLPropertyService).isKey()&&!e.getAdapter(O.RAMLPropertyService).isMerged()&&!e.getAdapter(O.RAMLPropertyService).isSystem()}),g=g.filter(function(e){return i(s,e)});var b={};if(s.attrs().forEach(function(e){b[e.name()]=!0}),g=g.filter(function(e){return!b[e.nameId()]}).filter(function(e){return!e.isAnnotation()}),e.definition().isAssignableFrom(x.Universe10.TypeDeclaration.name)&&!e.definition().isAssignableFrom("ObjectTypeDeclaration")&&!e.attr("type")){var S=e.definition().universe().type("ObjectTypeDeclaration");S&&g.push(S.property("properties"))}var A=[];return r||l||(A=g.map(function(e){var r=e.nameId()+v;return!e.range().isValueType()&&y&&(r+="\n"+h(t,n)+"  "),{text:r,displayText:e.nameId(),description:e.description()}})),a&&s.definition().allProperties().filter(function(e){return e.getAdapter(O.RAMLPropertyService).isMerged()||e.isFromParentKey()}).forEach(function(e){if((!l||e.isFromParentKey())&&(!u||!e.isFromParentKey())){var r=e,i=e.getOftenKeys();if(!i){var a=e.suggester();a&&(i=a(s))}i||(i=e.enumOptions()),s.property()&&L.isBodyProperty(s.property())&&(i||(L.isResponseType(s.property().domain())&&(i=["application/json","application/xml"]),(L.isMethodBaseType(s.property().domain())||L.isMethodType(s.property().domain()))&&(i=["application/json","application/xml","multipart/form-data","application/x-www-form-urlencoded"]))),i&&i.forEach(function(e){var i=r.valueDocProvider(),a="";i&&(a=i(e)),y?A.push({text:e+":\n"+h(t,n)+"  ",description:a,displayText:e}):A.push({text:e,description:a,displayText:e})})}}),A};t.onDidInsertSuggestion=a,t.fromDir=o,t.pathCompletion=s,t.swaggerRefCompletion=u,t.ramlSelectorCompletion=l;var j=function(e,t,n){var r=["RAML 0.8","RAML 1.0"],i=[],a=e.substr(0,n);if(0==a.indexOf("#%RAML 1.0 ")){var o=["DocumentationItem","DataType","NamedExample","ResourceType","Trait","SecurityScheme","AnnotationTypeDeclaration","Library","Overlay","Extension"];return o.map(function(e){return{text:e}})}return r.forEach(function(r){if(0==("#%"+r).indexOf(a))if(0==e.trim().indexOf("#%"))if(-1!=t.prefix.indexOf("R"))i.push({displayText:r,text:r});else{var o=e.substring(2,n);0==r.indexOf(o)&&("1"==t.prefix||"0"==t.prefix?i.push({displayText:r,text:t.prefix+r.substr(n-2)}):i.push({displayText:r,text:r.substr(n-2)}))}else i.push({displayText:r,text:r,extra:"%"})}),i},K=function(e,t,n){return e=[{displayText:"Define Inline",text:"|\n"+D(t-1,n)+"  "}].concat(e)},V=function(e,t,n){return e=[{displayText:"Define Inline",text:"\n"+D(t-1,n)+"  "}].concat(e)};t.valueCompletion=c;var B=null;t.getSuggestions=m;var q=function(e){function t(){e.apply(this,arguments)}return A(t,e),t.prototype.value=function(){return""},t}(P.ASTPropImpl),H=function(e){function t(){e.apply(this,arguments)}return A(t,e),t.prototype.value=function(){return""},t}(P.ASTNodeImpl),G=0;t.getAstNode=v,t.getValuePrefix=b,t.saveUnit=S},function(e,t,n){function r(e){void 0===e&&(e=!0),null==f?f=new h(e):e&&f.display()}function i(){return null!=f&&f.opened}function a(){return f||(f=new h(!0)),f}function o(e){a()._view&&a()._view.refresh(),a().updateText(),a().selectNode(e)}var s=(n(150),n(159)),u=n(10),l=n(15),c=n(24),p=n(160),m=n(161),d=n(168),h=function(){function e(e){var t=this;void 0===e&&(e=!0),this._initialized=!1,this.updateCount=0,this.outlineCount=0,this.fire=!0,this.opened=!1,this._cleanOutline=!1,this.performanceDebug=!0,this.placeholder=!1,f=window.manager=this,p.workspace.onDidChangeActivePaneItem(function(n){return t.updateEverything(e)}),this.updateEverything(e),this.addAutoCloseListener()}return e.prototype.getPath=function(){return console.log("ETM::GetPath"),this.currentEditor?this.currentEditor.getPath():null},e.prototype.getCurrentEditor=function(){return this.currentEditor},e.prototype.internalScheduleUpdateViews=function(e){var t=this;this.updateCount=e,setTimeout(function(){t.updateCount==e&&t.updateViews()},500)},e.prototype.scheduleViewsUpdate=function(){this.fire&&this.internalScheduleUpdateViews(this.updateCount+1)},e.prototype.internalScheduleOutlineUpdate=function(e){var t=this;this.outlineCount=e,setTimeout(function(){t.outlineCount==e&&t.updateOutline()},500)},e.prototype.scheduleOutlineUpdate=function(){this.internalScheduleOutlineUpdate(this.outlineCount+1)},e.prototype.addAutoCloseListener=function(){var e=this;p.workspace.onDidDestroyPane(function(t){try{var n=p.workspace.getPaneItems().filter(function(e){return void 0!=e.softTabs}).length;0==n&&(p.workspace.paneForItem(e._view)&&p.workspace.paneForItem(e._view).destroy(),p.workspace.paneForItem(e._details)&&p.workspace.paneForItem(e._details).destroy(),e.opened=!1)}catch(r){console.log(r)}})},e.prototype.getOrCreateView=function(){return this._view||(this._view=new d.RamlOutline,this.ast&&this._view.setUnit(this.ast)),this._view},e.prototype.getDetails=function(){return this._details||(this._details=new m.RamlDetails),this._details},e.prototype.reparseAST=function(){var e=this;if(this.currentEditor){var t=this.currentEditor.getPath(),n=(this.currentEditor.getBuffer(),new c.Project(u.dirname(t))),r=n.setCachedUnitContent(u.basename(t),this.currentEditor.getBuffer().getText());r.project().addTextChangeListener(function(t){if(t.unit==r){var n=t.offset,i=t.replacementLength,a=t.text,o=e.currentEditor.getBuffer(),s=o.positionForCharacterIndex(n),u=o.positionForCharacterIndex(n+i);try{e.fire=!1,o.setTextInRange({start:s,end:u},a),e.scheduleOutlineUpdate()}finally{e.fire=!0}}}),this.ast=l.fromUnit(r),this.unit=r}},e.prototype.isETPane=function(e){if(this._view){var t=e.getItems();return t.indexOf(this.getDetails())>=0||t.indexOf(this._view)>=0}},e.prototype.display=function(){console.log("ETM::Display");var e=p.workspace,t=p.workspace.paneForItem(this.getCurrentEditor());t&&(e.paneForItem(this.getOrCreateView())||s.doSplit(this.getOrCreateView()),e.paneForItem(f.getDetails())||s.doSplit(this.getDetails(),3),this.opened=!0)},e.prototype.updateText=function(e){console.log("ETM::UpdateText"),this.fire=!1;var t=this.currentEditor,n=e?t.getBuffer().positionForCharacterIndex(e.start()):null;t.setText(this.unit.contents()),this.fire=!0,n&&t.setCursorBufferPosition(n)},e.prototype.selectNode=function(e){var t=e.lowLevel();if(t){var n=this.currentEditor;if(n){var r=t?n.getBuffer().positionForCharacterIndex(t.start()):null;r&&n.setCursorBufferPosition(r)}}},e.prototype.updateEverything=function(e){void 0===e&&(e=!0);var t=p.workspace.getActiveTextEditor();if(t&&this.currentEditor!=t){var n=t.getPath();if(n&&".raml"==u.extname(n)){this.currentEditor=t,0==this.opened&&e&&this.display(),t.patched||this.addListenersToEditor(t),this.reparseAST();var r=t.getBuffer().characterIndexForPosition(t.getCursorBufferPosition());this.positionUpdated(r),this.scheduleViewsUpdate()}}},e.prototype.addListenersToEditor=function(e){var t=this,n=e.getBuffer();n.onDidChange(function(r){try{var i=(new Date).getMilliseconds();t.reparseAST();var a=n.characterIndexForPosition(e.getCursorBufferPosition());t.positionUpdated(a),t.scheduleViewsUpdate();var o=(new Date).getMilliseconds();t.performanceDebug&&console.log("Change take:"+(o-i))}catch(s){console.log(s)}}),e.getLastCursor().onDidChangePosition(function(r){t.fire&&(t.positionUpdated(n.characterIndexForPosition(e.getCursorBufferPosition())),t.scheduleViewsUpdate())}),this.addListenersOnMove(e),this.currentEditor.patched=!0},e.prototype.addListenersOnMove=function(e){var t=this,n=!1;p.workspace.onDidAddPaneItem(function(r){return n||0==t.isETPane(r.pane)||r.item==t.getOrCreateView()||r.item==t.getDetails()?r:void setTimeout(function(){try{var t=p.workspace.paneForItem(e);t&&(n=!0,r.pane.moveItemToPane(r.item,t,null),n=!1,t.setActiveItem(r.item),t.activate())}catch(i){console.log(i)}},18)})},e.prototype.patchCurrentNode=function(e){this._currentNode=e},e.prototype.getCurrentNode=function(){return null==this._currentNode?this._currentNode=this.ast:this._currentNode},e.prototype.setSelectedNode=function(e){if(this.unit)for(var t=this.unit.absolutePath();e.lowLevel().unit().absolutePath()!=t&&e.parent();)e=e.parent();var n=e.id(),r=this.ast.findById(n);r&&(e=r),this._details&&this._details.show(e);var i=this.getCurrentEditor();if(i){this.fire=!1;try{var a=i.getBuffer(),o=a.positionForCharacterIndex(e.lowLevel().start());a.positionForCharacterIndex(e.lowLevel().end());i.setCursorBufferPosition(o),this.positionUpdated(a.characterIndexForPosition(i.getCursorBufferPosition()))}finally{this.fire=!0}}},e.prototype.getSelectedNode=function(){return this.getCurrentNode()},e.prototype.setText=function(e){console.log("ETM::SetText");var t=this.currentEditor;null!=t&&t.setText(e)},e.prototype.updateViews=function(){var e=this.getCurrentNode(),t=(new Date).getMilliseconds();this._details&&this.getDetails().show(e),this._view&&(this.getOrCreateView().setUnit(f.ast),this.getOrCreateView().setSelection(e));var n=(new Date).getMilliseconds();this.performanceDebug&&console.log("Views update:"+(n-t))},e.prototype.updateOutline=function(){var e=this.getCurrentNode(),t=(new Date).getMilliseconds();this._view&&(this.getOrCreateView().setUnit(f.ast),this.getOrCreateView().setSelection(e));var n=(new Date).getMilliseconds();this.performanceDebug&&console.log("Outline update:"+(n-t))},e.prototype.positionUpdated=function(e){this.currentPosition=e,this.ast&&(this._currentNode=this.ast.findElementAtOffset(this.currentPosition))},e}(),f=null;t.initEditorTools=r,t.editorToolsStatus=i,t.aquireManager=a,t.updateAndSelect=o},function(e,t,n){function r(e,t){void 0===t&&(t=0);var n=null;switch(t){case 3:n=i.workspace.getActivePane().splitDown({});break;case 2:n=i.workspace.getActivePane().splitUp({});break;case 1:n=i.workspace.getActivePane().splitLeft({});break;case 0:n=i.workspace.getActivePane().splitRight({})}return n.addItem(e,0),n}var i=n(160);!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(t.SplitDirections||(t.SplitDirections={}));t.SplitDirections;t.doSplit=r},function(e,t){function n(e){atom.open(e)}var r=function(){function e(){}return e.prototype.onDidChangeActivePaneItem=function(e){return atom.workspace.onDidChangeActivePaneItem(e)},e.prototype.addModalPanel=function(e){return atom.workspace.addModalPanel(e)},e.prototype.getActiveTextEditor=function(){return atom.workspace.getActiveTextEditor()},e.prototype.getActivePane=function(){return atom.workspace.getActivePane()},e.prototype.getActiveEditor=function(){return atom.workspace.getActiveEditor()},e.prototype.addRightPanel=function(e){return atom.workspace.addRightPanel(e)},e.prototype.paneForItem=function(e){return atom.workspace.paneForItem(e)},e.prototype.getPaneItems=function(){return atom.workspace.getPaneItems()},e.prototype.onDidAddPaneItem=function(e){return atom.workspace.onDidAddPaneItem(e)},e.prototype.onDidDestroyPane=function(e){return atom.workspace.onDidDestroyPane(e)},e.prototype.open=function(e,t){atom.workspace.open(e,t)},e}();t.Workspace=r,t.open=n,t.workspace=new r;var i=function(){function e(){}return e.prototype.add=function(e,t,n){return atom.commands.add(e,t,n)},e}();t.CommandManager=i,t.commands=new i},function(e,t,n){function r(e){return e?f.isGlobalSchemaType(e.definition()):!1}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(150),o=n(151),s=n(152),u=n(10),l=a.CompositeDisposable,c=n(162),p=n(167),m=n(158),d=n(155),h=n(4),f=n(84),y=function(e){function t(t){void 0===t&&(t=!0),e.call(this),this.allowStructureChanges=t,this.disposables=new l,this.addClass("raml-details"),this.container=o.vc(),this.addChild(this.container),this.ui().appendChild(this.container.ui())}return i(t,e),t.prototype.getTitle=function(){return"Details"},t.prototype.setSchema=function(e){var t=(e.attr("key"),e.attr("value")),n=12;if(null==t){this.container.clear();var r=a.h3("Selected schema has incorrect node so cannot be displayed.");return a.applyStyling(6,r),r.setStyle("text-align","center").margin(0,0,24,12),void this.container.addChild(r)}setInterval(function(){12==n++&&t&&(t.setValue(i),p._updatePreview(s,i))},100);var i=t.value();this.container.clear();var o=d.smallEditor(function(r,a){if(t.lowLevel().includePath())try{var o=u.dirname(e.lowLevel().unit().absolutePath()),s=u.resolve(o,t.lowLevel().includePath());h.writeFileSync(s,a)}catch(r){console.log(r)}i=a,n=0});d._updateEditor(o,i);var s=p._schemaPreview();p._updatePreview(s,i);var l=new a.TabFolder;l.add("Tree view",77,s),l.add("Text view",64,o),this.container.addChild(l),window.detailsnode=e},t.prototype.setResource=function(e){var t=e;window.detailsnode=t,(null==t||null==t.lowLevel())&&this.displayEmpty(),console.log("Displaying details for node "+t.name()),c.updateDetailsPanel(t,this.container,!0)},t.prototype.displayEmpty=function(){if(this.container.clear(),!m.aquireManager().ast){this.container.addChild(a.h3("Our API is fabulously empty").margin(8,8,20,8));var e=new a.Button("Create new API",3,3,159,function(){return d.newApi()});e.margin(8,8,20,0),this.container.addChild(e)}},t.prototype.destroy=function(){m.aquireManager()._details=null,this.disposables.dispose()},t.prototype.show=function(e){if(this._node!=e){this._node=e;try{r(e)?this.setSchema(this._node):this.setResource(e)}catch(t){}}},t}(s.Scrollable);t.RamlDetails=y},function(e,t,n){function r(e,t,n,r){void 0===r&&(r=!1);var i=u(e,t);return a(t,i.required,i.type,i.value,i.values,e,n,r)}function i(e,t,n){void 0===n&&(n=!1),t.clear();var r=!0,i=b.buildItem(e,!1);i.addListener(function(e){g.aquireManager().updateText(null)});var a=i.render({});if(t.addChild(a),r=!1,P){var o=P.getActualField().ui();o.focus(),o.getModel().setCursorBufferPosition(w),P=null,w=null,T=null}if(r){var s=h.h3("Object `"+e.name()+"` has no additional properties.");h.applyStyling(6,s),s.setStyle("text-align","center").margin(0,0,24,12),t.addChild(s)}}function a(e,t,n,r,i,a,o,s){void 0===s&&(s=!1);var u,m=function(e){},y=(a.attr(e),!1),b=new h.BasicBinding(v.getStringValue(r)),M=function(e){s&&g.aquireManager().updateText(a.lowLevel()),C=!1,"protocols"==n&&e==S&&(e=A),b.set(e),C=!0},E=null;switch(n){case"markdown":m=v.markdown(e,i,function(t){a.attrOrCreate(e).setValue(r=t),M(l(a,e))}),y=!0;break;case"schema":m=v.schemaEditDialog(e,i.length>0?i[0]:r,function(t){a.attrOrCreate(e).setValue(t),s&&g.aquireManager().updateText(),M(l(a,e))}),y=!0;break;case"schexample":m=v.exampleEditorDialog(e,i[1],i[0],function(t){var n=t;c.exists(t)&&(n="!include "+p.relative(a.lowLevel().unit().path(),t)),a.attrOrCreate(e).setValue(n),M(l(a,e))}),y=!0;break;case"enum":m=v.enumEditDialog(e,i,function(t){a.attributes(e).forEach(function(e){return e.remove()}),t.forEach(function(t){return a.attrOrCreate(e).addValue(t)}),M(l(a,e))}),y=!0;break;case"protocols":break;case"type":m=v.typeEditDialog(e,r,a,function(t){a.attrOrCreate(e).setValue(t),M(l(a,e))}),g.aquireManager().ast.elementsOfKind("resourceTypes").length<1?E="No resource types defined":y=!0;break;case"trait":m=v.traitsEditDialog(e,i,a,function(t){a.attributes(e).forEach(function(e){return e.remove()}),t.filter(function(e){return e.enabled}).filter(function(e){return"string"==typeof e.value}).forEach(function(t){return a.attrOrCreate(e).addValue(t.value)}),M(l(a,e))}),y=!0}var C=!0,N=function(e){x=0};if(!y&&a.definition().property(e).getAdapter(d.RAMLPropertyService).enumValues(a).length>0||"code"==e){var _=new h.SelectField(e+(t?"*":""),function(t,r){return 0!=C?("(no value)"==r&&(r=""),"protocols"==n?(a.attributes(e).forEach(function(e){return e.remove()}),r==A?["HTTP","HTTPS"].forEach(function(t){return a.attrOrCreate(e).addValue(t)}):r&&a.attrOrCreate(e).setValue(r),void M(l(a,e))):void N(r)):void 0}),I=[];if("code"==e)I=Object.keys(v.getStatusCodeDescriptions());else{var R=a.definition().property(e).getAdapter(d.RAMLPropertyService).enumValues(a);I=a.definition().property(e).getAdapter(d.RAMLPropertyService).isKey()?R:["(no value)"].concat(R),"protocols"==n&&(b.get()==S&&b.set(A),I=["(no value)","HTTP","HTTPS",A])}_.getActualField().setOptions(I),_.setBinding(b),u=_}else u||(u=new h.TextField(e+(t?"*":""),b,function(e,t){0!=C&&(y&&u&&u.getActualField()?u.getActualField().setText(r,!1):N(t))},null,g.aquireManager().placeholder?e+" has no value":""),e==T&&(P=u));var x=12;return setInterval(function(){if(10==x++){var t=u.getActualField().getValue(),n=(a.attr(e),a.attrOrCreate(e));n.setValue(t),s&&(u instanceof h.TextField&&(T=e,w=u.getActualField().ui().getModel().getCursorBufferPosition()),g.aquireManager().updateText(""==t||null==n?a.lowLevel():n.lowLevel()))}},50),u.getActualField().addClass("ate").addClass(n).setStyle("margin-bottom","0px !important"),u.margin(0,0,0,6),y?(u.getActualField().ui().addEventListener("focus",function(e){m(e),u.getActualField().ui().blur()}),u.addChild(f.button("(edit)",0,0,null,m).margin(4,0,0,0))):E&&(g.aquireManager().placeholder&&u.getActualField().setPlaceholder(E),u.getActualField().ui().addEventListener("focus",function(e){return u.getActualField().ui().blur()})),o&&(u.ui().addEventListener("mouseenter",function(){o.setStyle("opacity","1"),o.setText(a.definition().property(e).description())}),u.ui().addEventListener("mouseleave",function(){o.setStyle("opacity","0")})),u}function o(e){var t=y.createSchema(e);if(!t||!t.getType)return"Invalid";switch(t.getType()){case"source.json":return"JSON";case"text.xml":return"XML";default:return"Unknown type";
}}function s(e){return e instanceof m.StructuredValue?e.valueName():e}function u(e,t){var n=e.definition().property(t);if(0==n.isValueProperty())return null;var r,i,a,u=n.isMultiValue(),l=n.isRequired(),c=[],p=n.range().nameId();if(u)switch(c=e.attributes(t).map(function(e){return e.value()}),r=c.map(function(e){return s(e)}).join(", "),p){case"StringType":i="enum",e.definition().getAdapter(d.RAMLService).isUserDefined()||"protocols"!=t||(i="protocols");break;case"TraitRef":i="trait";break;default:i="unknown"}else{var m=e.attr(t);switch(r=m&&m.value()?m.value():"",p){case"MarkdownString":i="markdown",c=r.split("\n"),r=c[0];break;case"SchemaString":i="schema",r.indexOf("\n")>=0&&(c=[r],r="("+o(r)+" Schema)");break;case"ExampleString":i="schexample";try{a=m.lowLevel().includePath()}catch(h){a=""}c=[r,a],r="Example"+(""!=a?" (referenced from "+a+")":"");break;case"ResourceTypeRef":i="type";break;default:i="string"}"string"==i&&(r.indexOf("\n")>=0&&(c=r.split("\n"),r="("+c.length+" lines) "+c[0].substring(0,20)+" ...",i="multiline"),m&&(a=m.lowLevel().includePath()),a&&(r="(included from "+a+")",i="include"))}var f={value:r,values:c,type:i,include:a,required:l};return f}function l(e,t){return s(u(e,t).value)}var c=n(4),p=n(10),m=n(23),d=n(22),h=n(150),f=n(151),y=n(79),v=n(155),g=n(158),b=n(163),S="HTTP, HTTPS",A="HTTP/HTTPS";t.nodes={Api:{properties:["title","version","baseUri","mediaType","protocols"],actions:[]},Resource:{properties:["relativeUri","displayName","description","is","type"]},Method:{properties:["method","displayName","description","is","type","protocols","securedBy"]},DataElement:{properties:["name","displayName","description","default","required"]},Response:{properties:["code","description"]}},t.filterOut={properties:["location","annotations","repeat","locationKind","signature"]},t.property2=r;var T=null,w=-1,P=null;t.updateDetailsPanel=i,t.property=a,t.getStringValue=s,t.propertyInfo=u,t.stringView=l},function(e,t,n){function r(e){if(e.length>0){if("'"==e.charAt(0))return'"'+e+'"';if('"'==e.charAt(0))return'"'+e+'"'}if(-1!=e.indexOf(" ")||-1!=e.indexOf(",")){if(-1==e.indexOf('"'))return'"'+e+'"';if(-1==e.indexOf("'"))return"'"+e+"'"}return e}function i(e,t){if(e.getAdapter(l.RAMLPropertyService).isKey()||e.isRequired())return null;if(e.domain()&&!e.domain().getAdapter(l.RAMLService).isUserDefined()){if(b.isDocumentationProperty(e)||b.isUsageProperty(e)||b.isDescriptionProperty(e)||b.isDisplayNameProperty(e)||b.isTitleProperty(e))return"Documentation";if(b.isAnnotationsProperty(e)||b.isIsProperty(e)||b.isSecuredByProperty(e)||b.isTypeProperty(e)&&!e.getAdapter(l.RAMLPropertyService).isTypeExpr())return"References";if(b.isProtocolsProperty(e))return"General"}return b.isTypeProperty(e)&&e.domain()&&!e.domain().getAdapter(l.RAMLService).isUserDefined()?null:t.property()&&e.domain()&&e.domain()!=t.property().range()?"Facets":"General"}function a(e,t){M(e);var n=e.propertiesAllowedToUse(),r=new C(e);if(e.property()&&e.property().description()&&r.setDescription(e.property().description()),n=n.filter(function(t){return b.isNameProperty(t)&&b.isApiType(e.definition())&&!t.domain().getAdapter(l.RAMLService).isUserDefined()?!1:b.isDisplayNameProperty(t)&&b.isApiType(e.definition())&&!t.domain().getAdapter(l.RAMLService).isUserDefined()?!1:!0}),n=n.sort(function(e,t){return e.getAdapter(l.RAMLPropertyService).isKey()?-1:t.getAdapter(l.RAMLPropertyService).isKey()?1:e.nameId()<t.nameId()?-1:1}),n.forEach(function(t){if(t.isValueProperty()){if(b.isAnnotationsProperty(t))return;if(b.isBooleanTypeType(t.range()))return;if(b.isMarkdownStringType(t.range()))return;if(t.getAdapter(l.RAMLPropertyService).isExampleProperty()&&"application/json"==e.name())return void r.addItemToCategory(i(t,e),new F(t,e));if(t.getAdapter(l.RAMLPropertyService).isExampleProperty()&&"application/xml"==e.name())return void r.addItemToCategory(i(t,e),new j(t,e));var n=e.attr(t.nameId());if(n&&n.value()instanceof u.StructuredValue)return void r.addItemToCategory(i(t,e),new G(t,e,n.value()));if(t.getAdapter(l.RAMLPropertyService).isTypeExpr()){var n=e.attr(t.nameId());if(n){var a=n.value();if("{"==a.trim().charAt(0))return void r.addItemToCategory(i(t,e),new V(t,e));if("<"==a.trim().charAt(0))return void r.addItemToCategory(i(t,e),new K(t,e))}}if(b.isSchemaProperty(t)&&t.domain()&&t.domain().isAssignableFrom(g.Universe10.TypeDeclaration.name))return;var o=W(t,e);o&&o.length>0&&(!b.isSignatureProperty(t)||t.domain()&&t.domain().getAdapter(l.RAMLService).isUserDefined())?b.isTypeProperty(t)&&e.definition().isAssignableFrom(g.Universe10.TypeDeclaration.name)?r.addItemToCategory(i(t,e),new q(t,e)):r.addItemToCategory(i(t,e),new B(t,e)):t.isMultiValue()?r.addItemToCategory(i(t,e),new I(t,e)):r.addItemToCategory(i(t,e),new _(t,e))}}),n.forEach(function(t){t.isValueProperty()&&b.isBooleanTypeType(t.range())&&r.addItemToCategory(i(t,e),new R(t,e))}),n.forEach(function(t){t.isValueProperty()&&b.isMarkdownStringType(t.range())&&r.addItemToCategory(i(t,e),new U(t,e))}),!t){r.addItemToCategory("Palette",new x(e));var a=y.calculateCurrentActions(y.TARGET_RAML_EDITOR_NODE),o=c.groupBy(a,function(e){return e.category.join("/")});for(var s in o)r.addItemToCategory("Palette",new L(e,s,o[s]))}return(e.definition().getAdapter(l.RAMLService).isUserDefined()||e.definition().isAssignableFrom(g.Universe10.TypeDeclaration.name))&&r.addItemToCategory("Type",new T(e)),r}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(4),u=n(23),l=n(22),c=n(17),p=n(157),m=n(150),d=n(151),h=n(16),f=n(87),y=n(164),v=n(165),g=n(20),b=n(84),S=n(166),A=function(){function e(e,t){void 0===t&&(t=""),this._title=e,this.description=t,this.listeners=[]}return e.prototype.needsSeparateLabel=function(){return!1},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e.prototype.add=function(e){throw new Error("Not supported")},e.prototype.root=function(){return this.parent?this.parent.root():this},e.prototype.title=function(){return this._title},e.prototype.children=function(){return[]},e.prototype.setDescription=function(e){this.description=e},e.prototype.setTitle=function(e){this._title=e},e.prototype.render=function(e){throw void 0===e&&(e={}),new Error("Not Implemented")},e.prototype.item=function(e){return null},e.prototype.setError=function(e){},e.prototype.clearErrors=function(){},e}();t.Item=A;var T=function(e){function t(t){e.call(this,"Type",""),this.node=t}return o(t,e),t.prototype.render=function(e){return S.render(this.node)},t}(A);t.TypeDisplayItem=T;var w,P=function(e){function t(){e.apply(this,arguments),this._children=[]}return o(t,e),t.prototype.add=function(e){e.parent=this,this._children.push(e)},t.prototype.children=function(){return this._children},t.prototype.plainChildren=function(){return this._children.filter(function(e){return!(e instanceof t)})},t.prototype.categories=function(){return this._children.filter(function(e){return e instanceof t})},t.prototype.item=function(e){var t;return this._children.forEach(function(n){n.title()==e&&(t=n);var r=n.item(e);r&&(t=r)}),t},t.prototype.render=function(e){var t=this;void 0===e&&(e={});var n=this.createSection(e);this._result=n,this.description&&e.showDescription&&(this.descriptionLabel=d.label(this.description),n.addChild(this.descriptionLabel)),this.contributeTop(n),this.plainChildren().forEach(function(e){return t.addChild(n,e)});var r=this.createWrappedChild(n);this.subCategories=r;var i=this.categories(),a={};i.forEach(function(e){return a[e.title()]=e});var o=[];a.General&&(o.push(a.General),delete a.General),a.Facets&&(o.push(a.Facets),delete a.Facets);for(var s in a)o.push(a[s]);return o.forEach(function(e){return t.addChild(r,e)}),n},t.prototype.createSection=function(e){if(e.showHeader)return new m.Section(m.h3(this.title()),!1);var t=new m.Panel;return t.setCaption(this.title()),t},t.prototype.createWrappedChild=function(e){return e},t.prototype.addChild=function(e,t){var n=t.render();if(e instanceof m.TabFolder){var r=e;r.add(n.caption(),0,n)}else{if(t.needsSeparateLabel()){var i=d.label(t.title());i.margin(0,5,0,0),e.addChild(i),e.addChild(d.label(t.description))}e.addChild(n)}},t.prototype.contributeTop=function(e){},t.prototype.setError=function(e){},t.prototype.clearErrors=function(){this._children.forEach(function(e){return e.clearErrors()})},t.prototype.update=function(e){},t}(A),M=function(e){var t=f.doDescrimination(e);null==t&&e.property()&&(t=e.property().range()),t&&e.patchType(t)},E=!1,C=function(e){function t(t){e.call(this,t.definition().nameId(),t.definition().description()),this.node=t,this.ep=null}return o(t,e),t.prototype.createWrappedChild=function(e){var t=new m.TabFolder;return t.setOnSelected(function(){E||(w=t.selectedComponent().caption())}),e.addChild(t),t},t.prototype.subCategoryByNameOrCreate=function(e){var t=c.find(this.children(),function(t){return t.title()==e});if(!t){var n=new P(e);return this.add(n),n}return t},t.prototype.addItemToCategory=function(e,t){return null==e?(this._children.push(t),void(t.parent=this)):void this.subCategoryByNameOrCreate(e).add(t)},t.prototype.contributeTop=function(e){this.errorLabel=d.label("",19,7),this.ep=d.hc(this.errorLabel),this.ep.setDisplay(!1),e.addChild(this.ep)},t.prototype.render=function(t){void 0===t&&(t={}),E=!0;try{var n=e.prototype.render.call(this,t);this._options=t,this._panel=n;for(var r=this.subCategories,i=0;i<r.tabsCount();i++){var a=r.get(i);if(a.header==w)return r.setSelectedIndex(i),n}var o="";return o=this.node.property()?this.node.property().description():this.node.definition().description(),o.length&&!t.showDescription&&(n.addChild(d.html("<hr/>")),n.addChild(d.label(o,88,2))),this.update(this),n}finally{E=!1}},t.prototype.update=function(e){var t=this;if(this._panel){if(e instanceof _){var n=e;if(n.property.getAdapter(l.RAMLPropertyService).isTypeExpr()||n.property.isDescriminator()){M(this.node);var r=this.item("Facets");r&&r._result&&r._result.clear();var i=a(this.node,!1),o=i.item("Facets");o?r&&r._result?(r._children=o._children,r._children.forEach(function(e){return e.parent=r}),r._children.length>0&&r._result.setDisplay(!0),o.children().forEach(function(e){r._result.addChild(e.render(t._options))})):(this._children.push(o),this._panel&&this._panel.addChild(o.render(this._options))):r&&r._result&&r._result.setDisplay(!1)}}var s=null;if(this.node.definition().allProperties().forEach(function(e){e.getAdapter(l.RAMLPropertyService).isKey()&&(s=e)}),s){var u=this.item(s.nameId());if(u){var c=u.fld,p=c.getBinding().get();p&&0!=p.trim().length?this._panel.getBinding().setStatus(m.okStatus()):this._panel.getBinding().setStatus(m.errorStatus(""))}}var d=this.node.errors();if(this.clearErrors(),this.ep.setDisplay(!1),d&&d.length>0){var h=[];if(d.forEach(function(e){e.extras&&e.extras.length>0&&(e=e.extras[0]);var n=t.item(e.node.name());n?n.setError(e.message):h.push(e)}),h.length>0){this.errorLabel.setIcon(19);var f=h.map(function(e){return e.node.name()+":"+e.message}).join(",");f.length>100&&(f=f.substring(0,100)+"..."),this.errorLabel.setText(f),this.ep.setDisplay(!0)}else this.ep.setDisplay(!1)}}},t}(P),N=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.setLabelWidth=function(e){this.setStyle("margin-left",e+2+"ch")},t}(m.CheckBox),_=function(e){function t(t,n){e.call(this,t.nameId(),t.description()),this.property=t,this.node=n}return o(t,e),t.prototype.clearErrors=function(){this.setError(null)},t.prototype.setError=function(e){e?(this.errorLabel.setText(e),this.errorLabel.setDisplay(!0)):this.errorLabel&&this.errorLabel.setDisplay(!1)},t.prototype.fromEditorToModel=function(e,t){var n=this.fld,r=n.getBinding().get();null==r&&(r=""),r===!0&&(r="true"),r===!1&&(r="");var i=this.node.attr(this.property.nameId()),a="";if(i){var o=i.value();o&&(a=""+o)}if(a!=r){if(r.length>0){if(i&&i.lowLevel().includePath()){var u=i.lowLevel().includePath(),c=i.lowLevel().unit().resolve(u);if(c){var m=c.absolutePath();s.writeFileSync(m,r)}return}i=this.node.attrOrCreate(this.property.nameId()),i.setValue(""+r)}else i&&(this.property.getAdapter(l.RAMLPropertyService).isKey()||i.remove());i.lowLevel()&&i.lowLevel().unit()&&i.lowLevel().unit()!=this.node.lowLevel().unit()&&p.saveUnit(i.lowLevel().unit());var d=this.root();d&&d.update(this)}},t.prototype.fromModelToEditor=function(){var e=this.node.attr(this.property.nameId());if(e){var t=e.value();null==t&&(t=""),this.fld.getBinding().set(""+t)}},t.prototype.render=function(){var e=this,t=new m.WrapPanel;this.errorLabel=d.label("",19,7),this.errorLabel.setDisplay(!1),this.errorLabel.setStyle("margin-left",this._title.length+1+"ch");var n=this.createField();this.fld=n,n.getBinding().addListener(function(t,n){e.fromEditorToModel(t,n)}),t.setCaption(this.title()),this.fromModelToEditor(),t.addChild(n);var r=this.node.attr(this.property.nameId());if(r)var i=r.value();var a=this.property.valueDocProvider();if(a){var o=a(i);null==o&&(o="");var s=d.label(o,89,2);o||s.setDisplay(!1),t.addChild(s),n.getBinding().addListener(function(e){var t=a(n.getBinding().get());t||(t=""),s.setText(t),s.setDisplay(t.length>0)}),s.setStyle("margin-left",this._title.length+1+"ch")}return r&&r.lowLevel().includePath()&&t.addChild(d.label("Included from "+r.lowLevel().includePath(),89,2)),t.addChild(this.errorLabel),t},t.prototype.createField=function(){return m.texfField(this.needsSeparateLabel()?"":this.property.nameId(),"",function(e){})},t}(A),I=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.fromEditorToModel=function(){var e=this.fld,t=e.getBinding().get();null==t&&(t="");var n=this.node.attributes(this.property.nameId()),i=n.map(function(e){return r(""+e.value())}).join(", ");if(i!=t){var a=t.split(","),t=a.filter(function(e){return e.trim().length>0}).map(function(e){return e.trim()}),o=this.node.attrOrCreate(this.property.nameId());o.setValues(t);var s=this.root();s&&s.update(this)}},t.prototype.fromModelToEditor=function(){var e=this.node.attributes(this.property.nameId()),t=e.map(function(e){return r(""+e.value())}).join(", ");this.fld.getBinding().set(t)},t}(_),R=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){return new N(this.property.nameId(),0,function(e){})},t}(_),x=function(e){function t(t){e.call(this,"Actions",""),this.node=t}return o(t,e),t.prototype.render=function(e){return v.generateSuggestionsPanel(this.node)},t}(A),L=function(e){function t(t,n,r){e.call(this,n,""),this.actions=r}return o(t,e),t.prototype.render=function(e){var t=d.hc();return t.addChild(m.h3(this.title())),this.actions.forEach(function(e){t.addChild(d.button(e.name,1,3,22,function(t){return e.onClick()}).margin(3,3,3,3))}),t},t}(A),O=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("source.gfm")}return o(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(m.AtomEditorElement),k=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("text.xml")}return o(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(m.AtomEditorElement),D=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("source.json")}return o(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(m.AtomEditorElement),U=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=new O("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(_),F=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=new D("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(_),j=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=new k("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(_),K=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=new k("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(_),V=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=new D("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(_),B=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.createField=function(){var e=W(this.property,this.node),t=this.node.attr(this.property.nameId());t&&(c.find(e,function(e){return e==t.value()})||e.push(t.value())),this.property.isRequired()||this.property.getAdapter(l.RAMLPropertyService).isKey()||(e=[""].concat(e));var n=new m.SelectField(this.property.nameId(),function(e){},"",0,e);return n.getActualField().setOptions(e),n},t}(_),q=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.fromEditorToModel=function(t,n){var r=this,i=[],a=[];if(t&&n)try{this.node.definition().allSuperTypes().forEach(function(e){r.isAllowedTypeToReplaceFacets(e)&&r.addTypeFacets(e,i)}),a=[].concat(this.node.attrs())}catch(o){console.log(o)}if(e.prototype.fromEditorToModel.call(this),t&&n)try{var s=(this.node.definition().universe(),[]);this.node.definition().allSuperTypes().forEach(function(e){r.isAllowedTypeToReplaceFacets(e)&&r.addTypeFacets(e,s)}),i.length>0&&s.length>0&&a.forEach(function(e){c.find(i,function(t){return t==e.name()})&&!c.find(s,function(t){return t==e.name()})&&r.node.remove(e)})}catch(o){console.log(o)}},t.prototype.isAllowedTypeToReplaceFacets=function(e){return e.key()==g.Universe10.StringTypeDeclaration||e.key()==g.Universe10.BooleanTypeDeclaration||e.key()==g.Universe10.NumberTypeDeclaration||e.key()==g.Universe10.IntegerTypeDeclaration},t.prototype.addTypeFacets=function(e,t){e.properties().map(function(e){return e.nameId()}).forEach(function(e){return t.push(e)})},t}(B),H=function(e){function t(t,n){e.call(this),this.str=t;var r=t.lowLevel(),i={render:function(e){var t=(e.key(),e.value());"string"!=typeof t&&(t=""),t.length>30&&(t=t.substring(0,20)+"...");var n=d.label(e.key(),28,3);t=d.label(t?":"+t:"",0,5);var r=d.hc(n,t);return r}},a=d.treeViewer(function(e){return e.children()},i,function(e){return e.key()}),o={children:function(){return[r]}};a.setInput(o),this.addChild(d.label(n)),this.addChild(a)}return o(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(m.Panel),G=function(e){function t(t,n,r){e.call(this,t,n),this.stvalue=r}return o(t,e),t.prototype.createField=function(){var e=new H(this.stvalue,this.title()+":");return e},t}(_),W=function(e,t){var n=e.getAdapter(l.RAMLPropertyService).enumValues(t);if(b.isNameProperty(e)&&t.definition().isAssignableFrom(g.Universe10.TypeDeclaration.name)&&t.property()&&b.isBodyProperty(t.property())&&!(t.property()instanceof h.UserDefinedProp))return t.parent()&&b.isMethodType(t.parent().definition())?["application/json","application/xml","multipart/formdata","application/x-www-form-urlencoded"]:["application/json","application/xml"];if(!n||0==n.length){var r=e.suggester();r&&(n=r(t)),n&&0!=n.length||(n=e.getOftenKeys())}return c.unique(n)};t.buildItem=a},function(e,t,n){function r(e){s.find(l,function(t){return t.name==e.name})||l.push(e)}function i(e,t,n,i,a){var o={name:e,target:n,onClick:i,shouldDisplay:a,category:t};r(o)}function a(e){var t=[];try{var n=l.filter(function(t){return t.target==e});n.forEach(function(e){if(e.stateCalculator&&e.stateCalculator.contextCalculationStarted)try{e.stateCalculator.contextCalculationStarted()}catch(t){console.error(t.message)}}),n.forEach(function(e){try{var n=null;if(e.stateCalculator&&(n=e.stateCalculator.calculate()),e.shouldDisplay&&!e.shouldDisplay(n))return;t.push(new u(e,n))}catch(r){console.error(r.message)}}),n.forEach(function(e){if(e.stateCalculator&&e.stateCalculator.contextCalculationFinished)try{e.stateCalculator.contextCalculationFinished()}catch(t){console.error(t.message)}})}catch(r){console.error(r.message)}return t}function o(e){if(e.label)return e.label;var t="api-workbench:";return e.category&&e.category.forEach(function(e){t=t+e+": "}),t+=e.name}var s=n(17);t.TARGET_RAML_EDITOR_NODE="TARGET_RAML_EDITOR_NODE",t.TARGET_RAML_TREE_VIEWER_NODE="TARGET_RAML_TREE_VIEWER_NODE",t.addAction=r,t.addSimpleAction=i;var u=function(){function e(e,t){var n=this;this.name=e.name,this.category=e.category,this.label=e.label,this.target=e.target,this.state=t,this.originalAction=e,this.onClick=function(){n.originalAction.onClick(n.state)}}return e}();t.calculateCurrentActions=a,t.getCategorizedActionLabel=o;var l=[]},function(e,t,n){function r(e){var t=e.definition().allProperties(),n=a.vc(),r=a.hc();return n.addChild(i.h3("Insertions and Delete: ")),n.addChild(r),t.forEach(function(t){if(!(t.isValueProperty()||t.getAdapter(o.RAMLPropertyService).isMerged()||s.find(e.lowLevel().children(),function(e){return e.key()==t.nameId()})||e.lowLevel().includesContents())){var n=new c("",t,e);r.addChild(a.button(t.nameId(),1,2,0,function(e){return n.insert()}).margin(3,3,3,3))}}),t.forEach(function(t){if(!t.isValueProperty()&&t.getAdapter(o.RAMLPropertyService).isMerged()){var n=t.enumOptions();return void(n&&n.forEach(function(n){if(!s.find(e.lowLevel().children(),function(e){return e.key()==n})&&!e.lowLevel().includesContents()){var i=new c(n,t,e);r.addChild(a.button(n,1,4,0,function(e){return i.insert()}).margin(3,3,3,3))}}))}}),r.addChild(a.button("Delete",1,5,0,function(t){return e.parent().remove(e)}).margin(3,3,3,3)),n}var i=n(150),a=n(151),o=n(22),s=n(17),u=n(158),l=n(20),c=function(){function e(e,t,n){this.value=e,this.property=t,this.node=n}return e.prototype.insert=function(){var e=this.property.range(),t=this.value;this.property.nameId()==l.Universe10.Method.properties.body.name&&(t="application/json"),this.property.nameId()==l.Universe10.MethodBase.properties.responses.name&&(t="200");var n=e.getAdapter(o.RAMLService).createStubNode(this.property,t);u.aquireManager()._cleanOutline=!0,this.node.add(n),u.aquireManager().patchCurrentNode(this.node)},e}();t.generateSuggestionsPanel=r},function(e,t,n){function r(e){var t=e.wrapperNode(),n=t.runtimeType();return s(n)}var i=n(22),a=n(150),o=n(151),s=function(e){var t=o.vc();t.addChild(o.label("definition:"+e.nameId()));var n=e.getAdapter(i.RAMLService).toRuntimeWithInheritance().allProperties(),r=e.superTypes();r&&(t.addChild(a.h3("Super types:")),e.allSuperTypes().forEach(function(e){t.addChild(o.hc(o.label(e.nameId(),189)))}));var u=e.getAdapter(i.RAMLService).getRepresentationOf();if(u){var l=u.getFixedFacets();Object.keys(l).length>0&&(t.addChild(a.h3("All facets")),Object.keys(l).forEach(function(e){t.addChild(o.label(e+":"+l[e].value()))}))}return n&&n.length>0&&(t.addChild(a.h3("All properties")),n.forEach(function(e){t.addChild(o.hc(o.label(e.nameId(),102),o.label(": "+e.range().getAdapter(i.RAMLService).toRuntimeWithInheritance().nameId(),0,6)))})),e.isArray()&&(t.addChild(a.h3("Component type:")),t.addChild(s(e.array().componentType()))),e.isUnion()&&(t.addChild(a.h3("Union type:")),t.addChild(a.h3("Left:")),t.addChild(s(e.union().leftType())),t.addChild(a.h3("Right:")),t.addChild(s(e.union().rightType()))),t};t.render=r},function(e,t,n){function r(){var e=s.treeViewer(function(e){return e.children},new c,function(e){return e.name+":"+e.type});return e.setComparator(function(e,t){return e.name==t.name&&e.type==t.type}),e}function i(e,t){t.type instanceof Array&&(t.type.indexOf("object")>=0?t.type="object":t.type.indexOf("array")>=0&&(t.type="array"));var n=t.type?(t.type instanceof Array?t.type.join("|"):t.type).toLowerCase():"unspecified",r=[];t.properties?r=Object.keys(t.properties).map(function(e){return i(e,t.properties[e])}):t.items&&(r=t.items instanceof Array?t.items.map(function(e){return i("item",e)}):i("item",t.items)),r instanceof Array==0&&(r=[r]);var a={type:n,name:e,parent:null,children:r};return a.children.forEach(function(e){return e.parent=a}),a}function a(e,t){try{var n=u.createSchema(t);if(null==n||null==n.getType)return void e.setInput({},!0);var r=n.getType(),a="source.json"==r?JSON.parse(t):l.rootElements(t),s="source.json"==r?i("schema",a):o(a);e.setInput(s,!0)}catch(c){console.log(c)}}function o(e){var t=function(e){return e?(e=e.substr(e.indexOf(":")+1),l.getTSType(e)):"Unknown"};return e.map(function(e){var n,r=e.type().value();return n=e.isArray()?{type:"Array",name:e.name(),parent:null,children:o(r.elements())}:r.isSimple()?{type:t(r.name()),name:e.name(),parent:null,children:[]}:{type:"Object",name:e.name(),parent:null,children:o(r.elements())},n.children.forEach(function(e){return e.parent=n}),n})}var s=(n(150),n(151)),u=n(79),l=n(124),c=function(){function e(){}return e.prototype.render=function(e){var t,n;switch(e.type){case"object":t=28,n=4;break;case"array":t=105,n=7;break;case"unspecified":t=154,n=6;break;default:t=33,n=5}return s.hc(s.label(e.name+": ",t),s.label(e.type,null,n,null).pad(4,0))},e}();t.SchemaRenderer=c,t._schemaPreview=r,t.getSchemaTree=i,t._updatePreview=a},function(e,t,n){function r(e,t,n,r,i,a){void 0===a&&(a=null);var o=y.treeViewerSection(t,n,e,function(e){return l(e).filter(function(e){return r(e)})},new M(a));return o.viewer.setBasicLabelFunction(function(e){return e?e.name():""}),o.viewer.setKeyProvider({key:function(e){return""+e.lowLevel().start()}}),o.viewer.addSelectionListener(i),o}function i(e){return a(e)?0:o(e)?3:s(e)?2:u(e)?1:4}function a(e){return e.definition().key()===b.Universe08.Resource||e.definition().key()===b.Universe10.Resource}function o(e){if(e.property()){var t=e.property().nameId();if(P[t])return!1}return!0}function s(e){var t=e.definition().key();return t===b.Universe08.ResourceType||t===b.Universe10.ResourceType||t===b.Universe08.Trait||t===b.Universe10.Trait}function u(e){var t=e.definition().key();return t===b.Universe08.GlobalSchema||t===b.Universe10.GlobalSchema||e.property()&&e.property().nameId()==b.Universe10.LibraryBase.properties.types.name}function l(e){if(null==e)return[];if(e.isAttr())return[];if(e.isUnknown())return[];var t=e.children();return t.filter(function(e){if(e.isAttr())return!1;if(e.isUnknown())return!1;return!0})}function c(e){return e?e&&!e.parent()?e.name():e.name()+" :: "+c(e.parent()):null}function p(e){return null==e?"":p(e.parent())+"/"+e.name()}function m(e,t,n,r){void 0===r&&(r=null);var i=y.treeViewer(function(e){return null==e.parent()?l(e).filter(function(e){return n(e)}):l(e)},new M(r),p);return i.setBasicLabelFunction(function(e){return e.name()}),i.setKeyProvider({key:c}),i.addSelectionListener(t),i.getBinding().set(e),i}function d(e,t,n){void 0===n&&(n=null);var r=m(e,{selectionChanged:t},function(e){return a(e)},n),i=m(e,{selectionChanged:t},u,n),l=m(e,{selectionChanged:t},s,n),c=m(e,{selectionChanged:t},function(e){return o(e)},n),p=new f.TabFolder;return p.add("Resources",77,r),p.add("Schemas & Types",28,i),p.add("Resource Types & Traits",158,l),p.add("Other",159,c),p.setSelectedIndex(0),p.setOnSelected(function(){var e=p.selectedComponent();if(e){var n=e.getSelection();n&&n.elements&&n.elements.length>0&&t(new f.SelectionChangedEvent(e,null,n))}}),p}var h=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},f=n(150),y=n(151),v=n(152),g=f.CompositeDisposable,b=n(20),S=n(23),A=n(158),T=function(e){function t(){e.call(this),this.disposables=new g,this.fire=!0,this.createTree(null),this.addClass("raml-outline"),this.addChild(this._rs)}return h(t,e),t.prototype.createTree=function(e){var t=this;this._rs=d(e,function(e){A.aquireManager()._details&&e.selection&&e.selection.elements&&1==t.fire&&e.selection.elements.length>0&&e.selection.elements[0]&&A.aquireManager().setSelectedNode(e.selection.elements[0])}),this._viewers=[0,1,2,3].map(function(e){return t._rs.get(e).content})},t.prototype.getTitle=function(){return"Outline"},t.prototype.getNodePType=function(e){for(;e.parent()&&e.parent().parent();)e=e.parent();return i(e)},t.prototype.setSelection=function(e){this._selectedNode=e,this.fire=!1;try{var t=this.getNodePType(e),n=this._viewers[t];null!=n&&(n.setSelection(e),this._rs.setSelectedIndex(t))}finally{this.fire=!0}},t.prototype.setUnit=function(e,t){void 0===t&&(t=!1),this._children=[],this.createTree(e),this.addClass("raml-outline"),this.addChild(this._rs),this.html(this.innerRenderUI())},t.prototype.attach=function(){if(!this._isAttached){var e=$(this);e.html(this._rs.renderUI().outerHTML),this._isAttached=!0}},t.prototype.forEachViewer=function(e){this._viewers.forEach(e)},t.prototype.refresh=function(){var e=this.unit;this.setUnit(null),this.setUnit(e)},t.prototype.destroy=function(){A.aquireManager()._view=null,this.disposables.dispose()},t}(v.Scrollable);t.RamlOutline=T,t.treeSection=r;var w;!function(e){e[e.Resource=0]="Resource",e[e.Schema=1]="Schema",e[e.Type=2]="Type",e[e.Trait=3]="Trait",e[e.Unknown=4]="Unknown"}(w||(w={}));var P={resources:!0,schemas:!0,types:!0,resourceTypes:!0,traits:!0};t.simpleTree=m,t.createTree=d;var M=function(){function e(e){this.opener=e}return e.prototype.render=function(e){try{if(e.isAttr()){var t=e;return y.hc(y.label(t.name()+":"+t.value()),y.a("",function(t){var n=A.aquireManager().getCurrentEditor().getBuffer().positionForCharacterIndex(e.lowLevel().start());A.aquireManager().getCurrentEditor().getBuffer().positionForCharacterIndex(e.lowLevel().end());A.aquireManager().getCurrentEditor().setSelectedBufferRange({start:n,end:n},{})},9,null,null))}if(e.isUnknown())return y.label("unknown");var n=39,r=0,i=e,a=i.definition().key();(a===b.Universe08.Resource||a===b.Universe10.Resource)&&(n=151,r=3),(a===b.Universe08.Method||a===b.Universe10.Method)&&(n=150,r=6),(a===b.Universe08.SecuritySchema||a===b.Universe10.AbstractSecurityScheme)&&(n=110,r=3),(a===b.Universe08.SecuritySchema||a==b.Universe10.AbstractSecurityScheme)&&(n=61,r=0),a==b.Universe10.AnnotationTypeDeclaration&&(n=189,r=3),(i.definition().isAssignableFrom(b.Universe10.TypeDeclaration.name)||i.definition().isAssignableFrom(b.Universe08.Parameter.name))&&(i.property()&&i.property().nameId()==b.Universe10.ObjectTypeDeclaration.properties.properties.name?(n=56,r=5):(n=56,r=5));var o=e.name(),s=e;if(a===b.Universe08.DocumentationItem||a===b.Universe10.DocumentationItem){n=14;var u=s.attr("title");u&&(o=u.value())}var l=y.hc(y.label(o,n,r)),c=i.attr("type");if(c){var p=c.value();null==p&&(p="");var m="";m=p instanceof S.StructuredValue?":"+p.valueName():":"+p,l.addChild(y.label(m,0,6).margin(2,0,0,0))}return i.lowLevel().unit()!=i.root().lowLevel().unit()&&(r=2,l.addChild(y.label("("+i.lowLevel().unit().path()+")",0,r).margin(5,0,0,0))),l.addClass("outline"),l}catch(d){return console.log(d),y.hc(y.label("Illegal node",9,null,null))}},e}();t.HLRenderer=M},function(e,t,n){function r(e){var t=e.replace("%20"," ");return t!=e?r(t):t}function i(){
return new Promise(function(e,t){var n=s.createServer(function(e,t){var n=o.parse(e.url,!0);a(r(n.path.substr(1)),function(n){t.statusCode=200,t.end(n),e.connection.destroy()})});n.once("error",function(e){"EADDRINUSE"!=e.code&&console.log(e)});n.listen(c)})}function a(e,t,n){var r=null,i=l.section(e,14,!1,!1),a=n;i.addChild(new u.AtomEditorElement(n,function(e){return a=e.getBinding().get()}));var o=l.hc().setPercentWidth(100).setStyle("display","flex");o.addChild(l.label("",null,null,null).setStyle("flex","1")),o.addChild(l.button("Cancel",0,0,0,function(e){r.destroy()}).margin(10,10));var s=l.button("Submit",0,3,0,function(e){r.destroy(),t(a)});o.addChild(s),i.addChild(o),r=atom.workspace.addModalPanel({item:i.renderUI()})}var o=n(2),s=n(170),u=n(150),l=n(151),c=4343;t.server=i,t.prompt=a},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(20),i=n(15),a=(n(150),n(151)),o=n(158),s=n(172),u=n(156),l=function(){function e(e,t,n){this.node=e,this.name=t,this._resourceType=n}return e.prototype.getActiveEditor=function(){var e=atom.workspace.getActiveTextEditor();return e?e:o.aquireManager()?o.aquireManager().getCurrentEditor():null},e.prototype.show=function(){var e=this,t=null,n=this.node,o=a.section("Move resource ",145,!1,!1),l=a.label("please select destination resource",19,7,0);o.addChild(a.vc(l)),o.addChild(a.label("Please select destination resource"));var c=a.hc();o.setPercentWidth(100),c.setPercentWidth(100);var p=function(t){if(e._resourceType){if(t.definition().key()!=r.Universe08.Resource&&t.definition().key()!=r.Universe10.Resource)return!1;if(t==n||t==n.parent())return!1;if(i.isResourceWithSignature(t))return!1}return!0},m=(n.definition().universe(),s.createSmallSelectionPanel(n.root(),p,"400px","100%"));c.addChild(m),o.addChild(c),m.addSelectionListener({selectionChanged:function(e){l.setDisplay(e.selection.isEmpty()),h.setDisabled(e.selection.isEmpty())}});var d=a.hc().setPercentWidth(100).setStyle("display","flex");d.addChild(a.label("",null,null,null).setStyle("flex","1")),d.addChild(a.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var h=a.button("Move",0,3,0,function(r){var i=m.getSelection().elements[0];n.lowLevel().show("Node:"),i.lowLevel().show("Target:"),n.parent().remove(n),i.add(n),i.root().lowLevel().show("Result:");var a=n.lowLevel().unit().contents();e.getActiveEditor().setText(u.cleanEmptyLines(a)),t.destroy()});h.setDisabled(!0),d.addChild(h),o.addChild(d);var f=o.renderUI();t=atom.workspace.addModalPanel({item:f}),f.focus()},e}();t.MoveElementsDialog=l},function(e,t,n){function r(e,t,n,r,a){void 0===a&&(a="left");var o=i(e,t);return o.setTagName("atom-panel"),o.setStyle("width",r),o.setStyle("border","solid"),o.setStyle("border-width","1px"),o.setStyle("height",n),o.setStyle("overflow","scroll"),a&&o.setStyle("float",a),o.margin(3,3,3,3),o}function i(e,t){var n=y.treeViewer(function(e){return e.elements().filter(function(e){return t(e)})},new v.HLRenderer(function(e){}));return n.setInput(e),n}function a(e){var t=[];return e.definition()instanceof g.UserDefinedClass?(o(e.definition(),t),t):t}function o(e,t){if(e instanceof g.UserDefinedClass){t.push(e);var n=e.superTypes();n&&n.forEach(function(e){return o(e,t)})}}var s=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},u=n(4),l=n(10),c=n(23),p=n(24),m=n(15),d=n(17),h=n(157),f=n(150),y=n(151),v=n(168),g=n(16),b=n(156),S=(n(25),n(14)),A=n(92),T=n(84),w=n(20),P=n(22),M=function(){function e(e,t,n){this.node=e,this.name=t,this._resourceType=n,this.filters=new E}return e.prototype.getActiveEditor=function(){return b.getActiveEditor()},e.prototype.show=function(){var e=this,t=null,n=this.node,i=y.section("Extract "+this.name+":",145,!1,!1);i.addChild(y.label("Extracted element name:").pad(5,0));var a=y.label("Please type valid name for "+this.name,19,7,0);i.addChild(y.vc(a));var o=f.texfField("","",function(e){if(A){var t=0==o.getBinding().get().trim().length;A.setDisabled(t),a.setDisplay(t),l.attr("name").setValue(o.getBinding().get())}});i.addChild(o),i.addChild(y.label("Move elements which should be extracted to the right panel"));var s=y.hc();i.setPercentWidth(100),s.setPercentWidth(100);var u=function(t){return e._resourceType&&T.isResourceType(t.definition())?!1:d.find(e.filters.removals,function(e){return t==e})?!1:!0},l=this.createNodeStub(n),c=r(n,u,"400px","47%"),p=r(l,function(e){return!0},"400px","47%","right"),m=y.button(">",0,0,0,function(t){var r=c.getSelection().elements;e.moveRight(r,l,n,c,p)}),h=y.button("<",0,0,0,function(t){var r=p.getSelection().elements;e.moveLeft(r,l,n,c,p)}),v=y.button(">>",0,0,0,function(t){var r=n.elements().filter(function(e){return u(e)});e.moveRight(r,l,n,c,p)}),g=y.button("<<",0,0,0,function(t){var r=l.elements();e.moveLeft(r,l,n,c,p)});s.addChild(y.vc(m,h,v,g)),s.addChild(c),s.addChild(p),i.addChild(s),c.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements,r=void 0!=d.find(t,function(e){return e.parent()!=n});m.setDisabled(r||0==t.length)}}),p.addSelectionListener({selectionChanged:function(t){var n=t.selection.elements,r=void 0!=d.find(n,function(t){var n=d.find(e.filters.removals,function(e){return t.id()==e.id()});return void 0==n});h.setDisabled(r||0==n.length)}}),h.setDisabled(!0),m.setDisabled(!0);var S=y.hc().setPercentWidth(100).setStyle("display","flex");S.addChild(y.label("",null,null,null).setStyle("flex","1")),S.addChild(y.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var A=y.button("Extract",0,3,0,function(r){if(e.filters.removals.forEach(function(e){return n.remove(e)}),e._resourceType){var i=n.attr("type");i||n.add(n.definition().property("type").getAdapter(P.RAMLPropertyService).createAttr(l.name()))}else{var i=n.attr("is");i||n.add(n.definition().property("is").getAdapter(P.RAMLPropertyService).createAttr(l.name()))}var a=e.createNodeStub(n);l.elements().forEach(function(e){return a.add(e)}),a.attr("name").setValue(o.getBinding().get()),n.root().add(a);var s=n.lowLevel().unit().contents();e.getActiveEditor().setText(b.cleanEmptyLines(s)),t.destroy()});A.setDisabled(!0),S.addChild(A),i.addChild(S);var w=i.renderUI();t=atom.workspace.addModalPanel({item:w}),w.focus()},e.prototype.createNodeStub=function(e){var t=e.definition().universe(),n=e.root().definition().property("resourceTypes"),r=e.root().definition().property("traits"),i=t.type("ResourceType").getAdapter(P.RAMLService).createStubNode(n);return this._resourceType||(i=t.type("Trait").getAdapter(P.RAMLService).createStubNode(r)),i},e.prototype.moveLeft=function(e,t,n,r,i){var a=this;e.length>0&&(e.forEach(function(e){return a.filters.removals=a.filters.removals.filter(function(t){return t.id()!=e.id()})}),e.forEach(function(e){t.remove(e);var n=0;n++})),r.setInput(n),i.setInput(t)},e.prototype.moveRight=function(e,t,n,r,i){e.length>0&&(this.filters.removals=this.filters.removals.concat(e)),e.forEach(function(e){return t.add(e.copy())}),r.setInput(n),i.setInput(t)},e}();t.ExtractTypesAndTraitsDialog=M;var E=function(){function e(){this.removals=[]}return e}();t.createSmallSelectionPanel=r,t.createVIewer=i;var C=function(){function e(e,t){this.parentNode=e,this.name=t,this.movedNodes=[]}return e.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},e.prototype.validate=function(){return null},e.prototype.createHeader=function(e){},e.prototype.performOk=function(e,t){},e.prototype.show=function(){if(console.log("Original file tree:"),this.getParentNode()&&console.log(this.getParentNode().printDetails()),this.getParentNode()){var e=y.section(this.name+":",145,!1,!1);this.stubRoot=this.createStub(this.getParentNode()),this.createValidationIndicator(e),this.createHeader(e),this.createPanels(e),this.createButtonBar(e),e.setPercentWidth(100);var t=e.renderUI();this.rootAtomPanel=atom.workspace.addModalPanel({item:t}),t.focus(),this.performValidation()}},e.prototype.performValidation=function(){var e=this.validate();this.okButton&&(e?this.okButton.setDisabled(!0):this.okButton.setDisabled(!1)),this.errorLabel&&(e?(this.errorLabel.setDisplay(!0),this.errorLabel.setText(e)):(this.errorLabel.setDisplay(!1),this.errorLabel.setText("")))},e.prototype.createValidationIndicator=function(e){this.errorLabel=y.label("",19,7,0),e.addChild(y.vc(this.errorLabel))},e.prototype.getNodeId=function(e){if(e.parent()){var t=this.getNodeId(e.parent());t+="."+e.name();var n=e.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(e);t+="["+r+"]"}return t}return e.name()?e.definition&&e.definition()&&T.isApiType(e.definition())?"":"."+e.name():""},e.prototype.nodesEqualById=function(e,t){return this.getNodeId(e)==this.getNodeId(t)},e.prototype.createMovedNodesTree=function(){var e=this;this.stubRoot=this.createStub(this.getParentNode()),this.movedNodes.forEach(function(t){for(var n=[],r=t.parent();r&&r!=e.getParentNode();)n.push(r),r=r.parent();n.reverse();var i=e.stubRoot;n.forEach(function(t){var n=d.find(i.children(),function(n){return e.nodesEqualById(n,t)});n||(n=e.createStub(t),i.add(n),n.setParent(i)),i=n});var a=e.createMovedNode(t);i.add(a),a.setParent(i)}),console.log("New tree moved:"),console.log(this.stubRoot.printDetails())},e.prototype.createMovedNode=function(e){return e.copy()},e.prototype.saveUnit=function(e){h.saveUnit(e)},e.prototype.createStub=function(e){var t=e.definition().getAdapter(P.RAMLService).createStubNode(e.property(),e.lowLevel().key());return t},e.prototype.createPanels=function(e){var t=this,n=y.hc();e.addChild(y.label("Move elements which should be extracted to the right panel"));var i=function(e){return t.checkNode(e).display?d.find(t.movedNodes,function(t){return t==e})?!1:!0:!1};this.leftPanel=r(this.getParentNode(),i,"400px","47%");var a=function(e){return t.checkNode(e).display?!0:!1};this.rightPanel=r(this.stubRoot,a,"400px","47%","right");var o=y.button(">",0,0,0,function(e){var n=t.leftPanel.getSelection().elements;t.moveRight(n)}),s=y.button("<",0,0,0,function(e){var n=t.rightPanel.getSelection().elements;t.moveLeft(n)});n.addChild(y.vc(o,s)),n.addChild(this.leftPanel),n.addChild(this.rightPanel),e.addChild(n),this.leftPanel.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements;o.setDisabled(0==t.length)}}),this.rightPanel.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements;s.setDisabled(0==t.length)}}),s.setDisabled(!0),o.setDisabled(!0),n.setPercentWidth(100)},e.prototype.createButtonBar=function(e){var t=this,n=y.hc().setPercentWidth(100).setStyle("display","flex");n.addChild(y.label("",null,null,null).setStyle("flex","1")),n.addChild(y.button("Cancel",0,0,0,function(e){t.rootAtomPanel.destroy()}).margin(10,10)),this.okButton=y.button("Extract",0,3,0,function(e){t.performOk(t.movedNodes,t.stubRoot),t.rootAtomPanel.destroy()}),this.okButton.setDisabled(!0),n.addChild(this.okButton),e.addChild(n)},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.isParentOf=function(e,t){for(var n=t.parent();null!=n;){if(n==e||this.nodesEqualById(n,e))return!0;n=n.parent()}return!1},e.prototype.mergeTrees=function(e,t,n){var r=this;void 0===n&&(n=!1),e.directChildren()&&e.directChildren().forEach(function(e){r.mergeNode(e,t)})},e.prototype.getActiveEditor=function(){return b.getActiveEditor()},e.prototype.mergeNode=function(e,t,n){var r=this;if(void 0===n&&(n=!1),n||e instanceof c.ASTNodeImpl){var i=t.directChildren();if(!i)return t.add(e),void e.setParent(t);var a=d.find(i,function(t){return r.nodesEqualById(t,e)});return a?void(e.directChildren()&&e.directChildren().forEach(function(e){return r.mergeNode(e,a)})):(t.add(e),void e.setParent(t))}},e.prototype.moveLeft=function(e){var t=this;e.length>0&&(this.movedNodes=this.movedNodes.filter(function(n){return d.find(e,function(e){return t.nodesEqualById(e,n)||t.isParentOf(e,n)})?!1:!0}),this.createMovedNodesTree()),this.leftPanel.setInput(this.getParentNode()),this.rightPanel.setInput(this.stubRoot),this.performValidation()},e.prototype.moveRight=function(e){var t=this;e.length>0&&(this.movedNodes=this.movedNodes.filter(function(n){return d.find(e,function(e){return t.isParentOf(e,n)})?!1:!0}),e.forEach(function(e){return t.movedNodes.push(e)}),this.createMovedNodesTree()),this.leftPanel.setInput(this.getParentNode()),this.rightPanel.setInput(this.stubRoot),this.performValidation()},e}();t.AbstractlMoveElementsDialog=C;var N=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.checkNode=function(e){var t=null;e.property()&&e.property().range()&&(t=e.property().range());var n=e.property(),r=T.isTypesProperty(n),i=T.isTypeDeclarationType(t)&&r;return t&&(T.isResourceTypeType(t)||T.isTraitType(t)||T.isGlobalSchemaType(t)||T.isSecuritySchemaType(t)||i)?{visitChildren:!1,display:!0,canBeMoved:!0}:{visitChildren:!1,display:!1,canBeMoved:!1}},t.prototype.validate=function(){if(!this.libraryPath)return null;if(!this.stubRoot)return null;if(0==this.movedNodes.length)return"Add elements to move";if(!this.libraryNamespace)return null;if(!this.getLibraryQualifier())return"Enter library namespace";if(0==this.getLibraryQualifier().trim().length)return"Enter library namespace";var e=this.libraryPath.getBinding().get(),t=e.trim();if(0==t.length)return"Empty library path";if(".raml"!=l.extname(t))return"Library path should be a RAML file";var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return"Library path directory does not exist";var r=u.statSync(n);if(!r.isDirectory())return"Library path parent is not a directory";var i=l.resolve(l.dirname(this.getActiveEditor().getPath()),t);return u.existsSync(i)?"Destination library already exists":null},t.prototype.createHeader=function(e){var t=this;e.addChild(y.label("Library namespace:").pad(5,0)),this.libraryNamespace=f.texfField("",this.getDefaultLibraryNamespace(),function(e){t.performValidation()}),e.addChild(this.libraryNamespace),e.addChild(y.label("Library path:").pad(5,0)),this.libraryPath=f.texfField("",this.generateDefaultLibraryPath(),function(e){t.performValidation()}),e.addChild(this.libraryPath)},t.prototype.performOk=function(e,t){var n=this,r=this.createProject(),i=this.createLibraryUnit(r);this.updateLibraryUnit(i,t),this.saveUnit(i);var a=[];a.push(this.getParentNode().lowLevel().unit());var o=this.getLibraryQualifier();e.forEach(function(e){var t=e.findReferences();t&&t.forEach(function(t){if(t instanceof c.ASTPropImpl){var n=t,r=n.value();if("string"==typeof r){var i=r,s=e.name(),u=o+"."+s,l=i.replace(s,u);n.setValue(l);var p=n.lowLevel().unit();d.find(a,function(e){return e==p})&&a.push(p)}}}),e.parent().remove(e)}),a.forEach(function(e){return n.saveUnit(e)}),this.addUsesNode(o,this.getLibraryPath())},t.prototype.generateDefaultLibraryPath=function(){var e=this.getParentNode(),t=e.lowLevel().unit().absolutePath(),n=l.dirname(t);return l.resolve(n,"NewLibrary.raml")},t.prototype.getLibraryName=function(){return this.libraryNamespace.getBinding().get()},t.prototype.getLibraryQualifier=function(){return this.libraryNamespace.getBinding().get()},t.prototype.getDefaultLibraryNamespace=function(){return"NewLibrary"},t.prototype.getLibraryPath=function(){var e=this.libraryPath.getBinding().get(),t=e.trim();if(0==t.length)return null;if(".raml"!=l.extname(t))return null;var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return null;var r=u.statSync(n);return r.isDirectory()?l.resolve(l.dirname(this.getActiveEditor().getPath()),t):null},t.prototype.createProject=function(){var e=this.getLibraryPath();return new p.Project(l.dirname(e))},t.prototype.createLibraryUnit=function(e){var t=this.getLibraryPath();return u.writeFileSync(t,"#%RAML 1.0 Library\n"),e.unit(l.basename(t))},t.prototype.updateLibraryUnit=function(e,t){var n=m.fromUnit(e);t.children().forEach(function(e){m.kindNode(e)&&n.add(e)})},t.prototype.addUsesNode=function(e,t){var n=l.relative(l.dirname(this.getParentNode().lowLevel().unit().absolutePath()),t),r=d.find(this.getParentNode().children(),function(e){var t=e;return t.definition&&T.isLibraryType(t.definition())&&t.property()&&T.isUsesProperty(t.property())}),i=null,a=!1;if(r)for(var o=r.lowLevel();null!=o;){if(1==o.kind()&&o.key()==w.Universe10.LibraryBase.properties.uses.name){i=o;break}3==o.kind()&&(a=!0),o=o.parent()}if(i){var s=i.keyEnd()+1,u="\n  "+(a?"- ":"")+e+": !include "+n;this.insertTextToActiveEditor(s,u)}else{var c=d.find(this.getParentNode().children(),function(e){var t=e;return t.definition&&T.isStringTypeType(t.definition())&&t.property()&&T.isTitleProperty(t.property())});if(c){var s=c.lowLevel().valueEnd(),u="\nuses:\n  "+e+": !include "+n;this.insertTextToActiveEditor(s,u)}else{var s=this.getParentNode().lowLevel().end(),u="\nuses:\n  "+e+": !include "+n;this.insertTextToActiveEditor(s,u)}}},t.prototype.insertTextToActiveEditor=function(e,t){var n=this.getParentNode().lowLevel().unit().contents(),r=n.substring(e),i=n.substring(0,e),a=i+t+r;this.getActiveEditor().setText(a)},t.prototype.createUsesNode=function(e,t){var n=this.getParentNode().definition().universe(),r=this.getParentNode().root().definition().property("uses"),i=n.type("Library").getAdapter(P.RAMLService).createStubNode(r,e);return i},t}(C);t.ExtractLibraryDialog=N;var _=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.createStub=function(t){if(t.definition().key()==w.Universe10.Api||t.definition().key()==w.Universe08.Api){var n=m.universeProvider("RAML10"),r=n.type(w.Universe10.Overlay.name),i=r.getAdapter(P.RAMLService).createStubNode(null,null);return i}return e.prototype.createStub.call(this,t)},t.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){if(!this.overlayPath)return null;if(!this.stubRoot)return null;if(0==this.movedNodes.length)return"Add elements to move";var e=this.overlayPath.getBinding().get(),t=e.trim();if(0==t.length)return"Empty overlay path";if(".raml"!=l.extname(t))return"Overlay path should be a RAML file";var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return"Overlay path directory does not exist";var r=u.statSync(n);if(!r.isDirectory())return"Overlay path parent is not a directory";l.resolve(l.dirname(this.getActiveEditor().getPath()),t);return null},t.prototype.createHeader=function(e){var t=this;e.addChild(y.label("Overlay path:").pad(5,0)),this.overlayPath=f.texfField("",this.generateDefaultOverlayPath(),function(e){t.performValidation()}),e.addChild(this.overlayPath)},t.prototype.performOk=function(e,t){var n=this.createProject(),r=this.createOverlayUnit(n);this.updateOverlayUnit(r,t);var i=this.getOverlayPath(),a=this.getParentNode().lowLevel().unit().absolutePath(),o=l.relative(l.dirname(i),a);this.addMasterReference(r,o),this.saveUnit(r)},t.prototype.generateDefaultOverlayPath=function(){var e=this.getParentNode(),t=e.lowLevel().unit().absolutePath(),n=l.dirname(t);return l.resolve(n,"NewOverlay.raml")},t.prototype.createProject=function(){var e=this.getOverlayPath();return new p.Project(l.dirname(e))},t.prototype.createOverlayUnit=function(e){var t=this.getOverlayPath();return u.writeFileSync(t,"#%RAML 1.0 Overlay\ntitle: Extension\n"),e.unit(l.basename(t))},t.prototype.updateOverlayUnit=function(e,t){var n=m.fromUnit(e);t.children().forEach(function(e){m.kindNode(e)&&n.add(e)})},t.prototype.getOverlayPath=function(){var e=this.overlayPath.getBinding().get(),t=e.trim();if(0==t.length)return null;if(".raml"!=l.extname(t))return null;var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return null;var r=u.statSync(n);return r.isDirectory()?l.resolve(l.dirname(this.getActiveEditor().getPath()),t):null},t.prototype.addMasterReference=function(e,t){var n=m.fromUnit(e),r=n.attrOrCreate(w.Universe10.Overlay.properties.masterRef.name);r.setValue(t)},t.prototype.createMovedNode=function(e){return this.createStub(e)},t}(C);t.ExtractOverlayDialog=_;var I=function(e){function t(t,n){e.call(this,t,n),this.overlayASTRoot=t,console.log("Overlay AST root:"),console.log(this.overlayASTRoot.printDetails()),this.masterASTRoot=this.createMasterAST(),this.overlayASTLeafNodes=[],this.calculateLeafNodes(this.overlayASTRoot,this.overlayASTLeafNodes)}return s(t,e),t.prototype.getParentNode=function(){return this.masterASTRoot},t.prototype.checkNode=function(e){var t=this;return d.find(this.overlayASTLeafNodes,function(n){return n==e||t.nodesEqualById(n,e)})?{visitChildren:!1,display:!1,canBeMoved:!1}:{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){return this.stubRoot&&0==this.movedNodes.length?"Add elements to move":null},t.prototype.createHeader=function(e){},t.prototype.performOk=function(e,t){var n=this.getOverlayUnit();this.updateOverlayUnit(n,t),this.saveUnit(n)},t.prototype.createMasterAST=function(){var e=this.findMasterAbsolutePath();if(!e)return null;var t=this.createProject(e),n=t.unit(l.basename(e));return m.fromUnit(n)},t.prototype.calculateLeafNodes=function(e,t){var n=this;if(e){var r=e.directChildren()?e.directChildren():null;if(e instanceof c.ASTNodeImpl){if(!r)return void t.push(e);if(!d.find(r,function(e){return e instanceof c.ASTNodeImpl}))return void t.push(e)}r&&r.forEach(function(e){return n.calculateLeafNodes(e,t)})}},t.prototype.findMasterAbsolutePath=function(){try{var e=this.overlayASTRoot.attr("masterRef");if(!e)return null;var t=e.value();if(!t)return null;var n=this.getOverlayUnit().absolutePath(),r=l.resolve(l.dirname(n),t);return r}catch(i){return console.error(i.message),null}},t.prototype.createProject=function(e){return new p.Project(l.dirname(e))},t.prototype.getOverlayUnit=function(){return this.overlayASTRoot.lowLevel().unit()},t.prototype.updateOverlayUnit=function(e,t){m.fromUnit(e);this.mergeTrees(t,this.overlayASTRoot)},t.prototype.createMovedNode=function(e){return this.createStub(e)},t}(C);t.ModifyOverlayDialog=I;var R=function(e){function t(t,n){e.call(this,t,n),this.sourceType=t}return s(t,e),t.prototype.getTargetType=function(){return null},t.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){return 0==this.movedNodes.length?"Add elements to move":null},t.prototype.createHeader=function(e){},t.prototype.performOk=function(e,t){var n=this.sourceType.lowLevel().unit(),r=this.getTargetType();if(r){var i=r.lowLevel().unit();this.mergeTrees(t,r),this.movedNodes.forEach(function(e){e.parent().remove(e)}),this.postMerge(),this.saveUnit(n),i&&this.saveUnit(i)}},t.prototype.postMerge=function(){},t}(C);t.AbstractMoveTypePropertiesDialog=R,t.findUserDefinedSupertypes=a;var x=function(e){function t(t,n){e.call(this,t,n),this.superTypeNames=[],this.superTypeNames=this.findSuperTypeNames()}return s(t,e),t.prototype.createHeader=function(e){var t=this;e.addChild(y.label("Select supertype:").pad(5,0));var n=new f.Select("",function(e){t.selectedSuperType=n.getValue()});n.setOptions(this.superTypeNames),n.setValue(this.superTypeNames[0]),this.selectedSuperType=this.superTypeNames[0],e.addChild(n)},t.prototype.show=function(){0!=this.superTypeNames.length&&e.prototype.show.call(this)},t.prototype.getTargetType=function(){var e=this,t=d.find(this.superTypes,function(t){return t.nameId()==e.selectedSuperType});return t?t.getAdapter(P.RAMLService).getDeclaringNode():null},t.prototype.findSuperTypeNames=function(){var e=[];return this.superTypes=a(this.sourceType),this.superTypes.forEach(function(t){e.push(t.nameId())}),e},t}(R);t.PullUpDialog=x;var L=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.createHeader=function(e){var t=this;e.addChild(y.label("Supertype name:").pad(5,0)),this.superTypeName=f.texfField("",this.generateDefaultSupertypeName(),function(e){t.performValidation()}),e.addChild(this.superTypeName)},t.prototype.getTargetType=function(){var e=this.sourceType.root(),t=(e.definition().universe(),e.root().definition().property(w.Universe10.LibraryBase.properties.types.name),new S.ObjectTypeDeclarationImpl(this.superTypeName.getBinding().get())),n=t.highLevel();return this.typeWrapper=t,this.astRoot=e,n},t.prototype.validate=function(){var t=e.prototype.validate.call(this);return t?t:this.superTypeName.getBinding().get()&&0!=this.superTypeName.getBinding().get().trim().length?null:"Enter supertype name"},t.prototype.postMerge=function(){new A.BasicNodeImpl(this.astRoot).addToProp(this.typeWrapper,"types"),this.sourceType.attrOrCreate("type").setValue(this.typeWrapper.highLevel().name())},t.prototype.generateDefaultSupertypeName=function(){return this.sourceType.name()+"SuperType"},t}(R);t.ExtractSupertypeDialog=L},function(e,t,n){function r(e,t,n){var r=u(e,t,n,["openFile"]);return p.showOpenDialog(r)}function i(e,t,n,r){var i=u(e,n,r,["openFile"]);p.showOpenDialog(i,function(e){e&&t(e[0])})}function a(e,t,n,r){var i=["openDirectory"];t&&i.push("createDirectory");var a=u(e,n,r,i);return p.showOpenDialog(a)}function o(e,t,n,r,i){var a=["openDirectory"];n&&a.push("createDirectory");var o=u(e,r,i,a);p.showOpenDialog(o,function(e){e&&t(e[0])})}function s(e,t,n){var r=u(e,t,n,["saveFile"]);return p.showSaveDialog(r)}function u(e,t,n,r){var i={title:e,properties:r};return t&&(i.defaultPath=t),n&&(i.filters=n),i}function l(){var e=process.env.HOME;if(e)return e;var t=process.env.USERPROFILE;if(t)return t;var n=process.env.PUBLIC;if(n)return n;var r=process.env.ATOM_HOME;return r?r:""}var c=n(174),p=c.require("dialog");t.openFileDialogModal=r,t.openFileDialog=i,t.openFolderDialogModal=a,t.openFolderDialog=o,t.saveFileDialogModal=s,t.getHome=l},function(e,t){e.exports=require("remote")},function(e,t){var n=function(){function e(){}return e}();t.KeyValuePair=n;var r=function(){function e(e){var t=this;void 0===e&&(e=[]),this.mappings=[],e.forEach(function(e){return t.mappings.push(e)})}return e.prototype.volume=function(){return this.mappings.length},e.prototype.pairs=function(){return[].concat(this.mappings)},e.prototype.set=function(e,t){var n=this.mappings.filter(function(t){return t.key==e});0==n.length?this.mappings.push({key:e,value:t}):n[0].value=t},e.prototype.get=function(e){var t=this.mappings.filter(function(t){return t.key==e});return 0==t.length?null:t[0].value},e.prototype.map=function(e){return this.mappings.map(function(e){return e.value}).map(e)},e.prototype.forEach=function(e){this.mappings.map(function(e){return e.value}).forEach(e)},e.prototype.filter=function(e){return this.mappings.map(function(e){return e.value}).filter(e)},e}();t.Map=r},function(e,t,n){function r(){var e=new A;return e}function i(e){e=a(e);var t=e.split("/");return function(e){var n;n=e instanceof d.Method?e.resource().completeRelativeUri():h.completeRelativeUri(h.parentResource(e)),n=a(n);for(var r=n.split("/"),i=0,o=0;o<Math.min(t.length,r.length);o++){var s=t[o],u=r[o];u.indexOf("{")>=0||s==u&&(i+=s.length)}return i}}function a(e){for(var t=0;t<e.length&&"/"==e.charAt(t);t++);for(var n=e.length;n>t&&"/"==e.charAt(n-1);n++);return e.substring(t,n)}function o(e){p(e),y.getReportManager().serializeStep(e)}function s(e,t){u({varName:e,value:t,filePath:"unknown",lineNumber:0,columnNumber:0})}function u(e){p(e,!0),y.getReportManager().serializeStep(e)}function l(e,t,n){return new P(new C(new S.SimpleExecutor,e,t,n),e,t,n)}function c(e,t,n){return new C(new _,e,t,n)}function p(e,t){if(void 0===t&&(t=!1),"java"!=b.type){for(var n,r=new Error,i=r.stack,a=i.split(/\r?\n/).map(function(e){return e.replace(new RegExp("\\\\","g"),"/")}),o=a.map(function(e){var t=e.lastIndexOf("/")+1,n=e.indexOf("(")+1,r=e.lastIndexOf(":"),i=e.lastIndexOf(":",r-1),a=e.lastIndexOf(")"),o=e.substring(n,t),s=e.substring(n,i),u=e.substring(i+1,r),l=e.substring(r+1,a),c=new I(o,s,parseInt(u),parseInt(l));return c}),s=!1,u=null,l=0;l<o.length;l++){var c=o[l];if(-1==c.filePath.indexOf("executor.js")){if(s)if(u){if(c.filePath!=u){n=c;break}}else if(u=c.filePath,t){n=c;break}}else s=!0}n&&(e.filePath=n.filePath,e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber)}}var m=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},d=n(120),h=n(95),f=(n(128),n(132)),y=n(130),v=n(80),g=n(82),b=n(177),S=n(64),A=n(65).XMLHttpRequest,T=function(){function e(e){this._delegate=e}return e.prototype.execute=function(e){console.log(e.url);var t=this._delegate.execute(e);return t},e.prototype.executeAsync=function(e){console.log(e.url);var t=this._delegate.executeAsync(e);return t},e.prototype.log=function(e,t){this._delegate.log(e,t)},e}();t.LoggingExecutor=T;var w=function(){function e(e,t){this._api=e,this.burl=t}return e.prototype.findMethod=function(e,t,n){var r=this.burl,a=[];if(this._api instanceof d.Api){var o,s=this._api;if(n){var u=0==n.length?"/":n.join(),l=u+" "+t,c=s.findMethodById(new d.RamlId(l));if(c.isDefined())return c.getOrThrow()}var p=s.allResources(),m=e.substr(r.length);p.forEach(function(e){var n=e.matchUri(m).isDefined();n&&(o=e,o.methods().filter(function(e){return e.method().toLowerCase()==t.toLowerCase()}).forEach(function(e){return a.push(e)}))})}else{var f,y=this._api;if(n){var v=null;if(0==n.length)var v=h.getMethod(y,["/"],t);else var v=h.getMethod(y,n,t);if(v&&v.length>0)return v[0]}var r=this.burl,g=h.allResources(y),m=e.substr(r.length);g.forEach(function(e){var n=h.matchUri(m,e).isDefined();n&&(f=e,f.methods().filter(function(e){return e.method().toLowerCase()==t.toLowerCase()}).forEach(function(e){return a.push(e)}))})}if(0==a.length)return null;if(1==a.length)return a[0];var b=i(m);return a.sort(function(e,t){return b(t)-b(e)}),a[0]},e}();t.MethodMatcher=w;var P=function(e){function t(t,n,r,i){e.call(this,n,r),this._delegate=t,this.cfg=i}return m(t,e),t.prototype.execute=function(e){this.patchRequest(e);var t=this._delegate.execute(e);return t},t.prototype.executeAsync=function(e){this.patchRequest(e);var t=this._delegate.executeAsync(e);return t},t.prototype.patchRequest=function(e){var t=e,n=this.findMethod(e.url,e.method,t.canonicPath);n&&y.getAuthManager().patchRequest(e,n)},t.prototype.log=function(e,t){},t}(w);t.AuthenticationDecorator=P;var M=function(e){var t=e instanceof d.Method?e.resource().absoluteUri():h.completeRelativeUri(h.parentResource(e));return e.method().toUpperCase()+" "+t},E=function(e){return e.method.toUpperCase()+" "+e.url},C=function(e){function t(t,n,r,i){e.call(this,n,r),this._delegate=t,this.cfg=i}return m(t,e),t.prototype.execute=function(e){var t=new f.Step;t.request=e;try{this.validateRequest(e,t);try{var n=this._delegate.execute(e);t.response=n}catch(r){this.reportException(t,r)}return this.validateResponse(e,n,t),n}catch(r){this.reportException(t,r)}finally{o(t)}},t.prototype.log=function(e,t){this._delegate.log(e,t),u({varName:e,value:t,filePath:"unknown",lineNumber:0,columnNumber:0})},t.prototype.executeAsync=function(e){var t=this,n=new f.Step;n.request=e;try{this.validateRequest(e,n);var r=this._delegate.executeAsync(e);return r.then(function(r){return n.response=r,t.validateResponse(e,r,n),o(n),r})["catch"](function(e){return t.reportException(n,e),o(n),e})}catch(i){this.reportException(n,i)}},t.prototype.reportException=function(e,t,n){var r=t.toString();n&&(r=n),console.log(r);var i=new f.Message(2,2,r);e.appendMessage(i)},t.prototype.reportInfo=function(e,t){var n=new f.Message(0,0,t);e.appendMessage(n)},t.prototype.validateRequest=function(e,t){var n=e,r=this.findMethod(e.url,e.method,n.canonicPath),i=null;if(r?this.reportInfo(t,"Method mapped: "+E(e)+" -> "+M(r)):(i=new f.Message(1,2,"Method can not be mapped on api: "+E(e)),t.appendMessage(i)),r){if(r instanceof d.Method){var a=r;t.methodId=a.id().value(),t.apiTitle=a.api().title().value(),t.resourceId=a.resource().id().value()}else{var o=r;t.methodId=h.methodId(o),t.apiTitle=h.ownerApi(o).title(),
t.resourceId=h.completeRelativeUri(h.parentResource(o))}this.validateRequestArguments(r,e,t)}},t.prototype.validateRequestArguments=function(e,t,n){},t.prototype.validateResponseValue=function(e,t,n){var r=this;console.log("Response:"+t);var i=""+t.status;if(parseInt(""+i[0])>3){var a=new f.Message(2,2,"Invalid response status: "+i);n.appendMessage(a)}var o={};e instanceof d.Method?e.responses().forEach(function(e){return o[e.code()]=e.bodies()}):e.responses().forEach(function(e){return o[e.code().value()]=e.body()});var s;try{s=JSON.parse(t.content.text)}catch(u){try{v(t.content.text)}catch(u){var l=!1,c=!1;if(Object.keys(o).forEach(function(e){o[e].forEach(function(e){var t=e instanceof d.Body?e.mediaType():e.name();t=t.toLowerCase(),l=l||t.indexOf("xml")>0||t.indexOf("json")>0,c=l||0==t.indexOf("text/")})}),l&&!c){var a=new f.Message(3,2,"Unable to parse response:\n"+t.content.text);n.appendMessage(a)}}}s&&Object.keys(o).forEach(function(t){try{t==i&&(console.log("Status matched"),o[t].forEach(function(i){var a=i instanceof d.Body?i.mediaType():i.name();if(-1!=a.toLowerCase().indexOf("json")){var o=i instanceof d.Body?i.schema():h.schema(i,h.ownerApi(e));o.forEach(function(i){var o=i.content(),u=M(e)+" "+t+" "+a;r.validateBodyAgainstSchema(s,o,n,u)})}}))}catch(a){r.reportException(n,a)}})},t.prototype.validateBodyAgainstSchema=function(e,t,i,a){try{var o;try{var o=JSON.parse(t)}catch(s){try{v(t)}catch(s){var u=new f.Message(1,2,"Can not parse schema:\n"+a);i.appendMessage(u)}}if(!o)return;try{var l=n(83);o=l.v4(o)}catch(c){this.reportException(i,c,"Can not parse schema"+t)}delete o.$schema,delete o.required;var p=new g,m=p.validate(e,o);if(m)return void this.reportInfo(i,"Valid schema: "+a);var d=p.getLastErrors();d.filter(function(e){return"UNRESOLVABLE_REFERENCE"==e.code}).forEach(function(e){var t=e.params[0],n=r();n.open("GET",t+"",!1),n.send();var i=n.responseText;p.setRemoteReference(t,JSON.parse(i))});var m=p.validate(e,o);if(m)return void this.reportInfo(i,"Valid schema: "+a);var d=p.getLastErrors(),u=new f.Message(1,2,"Invalid schema: "+a,d);i.appendMessage(u)}catch(s){this.reportException(i,s)}},t.prototype.validateResponse=function(e,t,n){var r=e,i=this.findMethod(e.url,e.method,r.canonicPath);i&&this.validateResponseValue(i,t,n)},t}(w);t.RequestValidator=C,t.doLog=s,t.createExecutor=l,t.createFakeExecutor=c;var N=function(){function e(e){var t=e.request,n=e.response;if(!t)throw new Error("HAR entry has no request:\n"+e.toString());if(!n)throw new Error("HAR entry has no response:\n"+e.toString());for(var r in t)this[r]=t[r];this.response=function(){return n}}return e}();t.HARRequestWithResponse=N;var _=function(){function e(){}return e.prototype.execute=function(e){return e.response()},e.prototype.executeAsync=function(e){return Promise.resolve(e.response())},e.prototype.log=function(e,t){},e}();t.FakeHARExecutor=_;var I=function(){function e(e,t,n,r){this.className=e,this.filePath=t,this.lineNumber=n,this.columnNumber=r}return e}()},function(e,t){t.type="nodejs"},function(e,t,n){function r(){var e=new x;return e}function i(){if(D)return!0;var e=!1;return w.execProcess("git version",R.getHome(),!0,!0,"","","Git launch failed",-1,function(t){e=!0}),!e}function a(e,t){var n=null,r=S.section(e,14,!1,!1),i=S.hc().setPercentWidth(100).setStyle("display","flex");i.addChild(S.label("",null,null,null).setStyle("flex","1"));var a=S.button("Ok",0,3,0,function(e){n.destroy()});i.addChild(a),r.addChild(i),n=I.workspace.addModalPanel({item:r.renderUI()})}function o(e,t,n){void 0===n&&(n=null),null==n&&(n=L);s(e);g.sync(t);var r=!0;return w.execProcess("git clone --branch "+n+' "'+e+'"',t,!0,!0,"Cloning GIT repository: "+e,"Cloning complete: "+e,"Cloning failed: "+e,-1,function(e){r=!1,a(e.message,function(e){})}),r}function s(e){return e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))}function u(e){return"gmail"==e&&(e="GoogleMail"),"https://github.com/raml-apis/"+e+".git"}function l(){return i()?void _.doSplit(new O,0):void a("GIT is required to clone APIs. Please install GIT.",function(e){})}function c(e,t,n){var r=t;console.log("Cloning:"+e.url);var i=e.project.id();if("gmail"==i&&(i="GoogleMail"),"CodeBaseHQ"==i)return p(y.resolve(__dirname,"./codebasehq.raml"),t,i),void n("\nimport "+i+' = require("./'+i+'");\n\nfunction '+e.project._data.ch[0].n+"Service(request: "+i+".Request):void {\n\n}\n\n"+i+".bind("+e.project._data.ch[0].n+"Service, '/"+e.project._data.ch[0].n+"');\n\n");var a=r+"/"+i;v.exists(a)||o(e.url,r);var s=y.resolve(a,"api.raml");v.existsSync(s)||(s=y.resolve(a,e.project.id()+".raml")),v.existsSync(s)&&E.loadAndWrapApi(s).then(function(r){var i=M.raml2ts(r,new M.Config);i="\n                    export function createApi("+E.getPDecl(r)+"):Api{\n                        return new ApiImpl("+E.getPcalls(r)+");\n                    }\n                    "+i+"\n";var a=y.resolve(t,"api"+e.project.id()+".ts");console.log(a),v.writeFileSync(a,i);var o=new C.DependencyManager;return o.updateDeps(a),n("import "+e.project.id()+' = require("./api'+e.project.id()+'")\nvar '+e.project.id()+"Client="+e.project.id()+".createApi()"),r})}function p(e,t,n){E.loadAndWrapApi(e).then(function(e){return N.generateEndpointFromRamlApi(e)}).then(function(e){return m(e,t+"/"+n+".ts")})}function m(e,t){v.writeFileSync(t,e)}function d(e,t){var n=P.RAMLWorkspaceProvider.getInstance(),r=S.treeViewerSection("APIS",190,n,function(e){return e&&e.children?e instanceof P.ApiDefinition?[]:e.children().filter(function(e){return e&&e.id()?!0:!1}):[]},new k(e,t));return r.viewer.setBasicLabelFunction(function(e){return e.parent()?e.parent().id()+e.id():e.id()}),r}function h(e){D=e}var f=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},y=n(10),v=n(4),g=n(143),b=n(150),S=n(151),A=n(152),T=n(169),w=n(148),P=n(179),M=n(118),E=n(180),C=n(186),N=n(194),_=n(159),I=n(160),R=n(173),x=n(65).XMLHttpRequest;t.accessToken=null,t.reposUrl=null;var L="production";t.gitInstalled=i;var O=function(e){function n(){e.call(this),this.disposables=new b.CompositeDisposable}return f(n,e),n.prototype.getTitle=function(){return"RAML Apis"},n.prototype.load=function(){var e=S.section("RAML Apis");e.addChild(S.label("loading...")),this.html(e.renderUI());var n=r(),i=t.reposUrl?t.reposUrl+"?access_token="+t.accessToken:"https://api.github.com/orgs/raml-apis/repos?per_page=200";n.open("GET",i);var a=this,s=R.getHome(),u=y.resolve(s,"apis"),l=y.resolve(__dirname+"/../util/config/","apiList.json"),c=v.readFileSync(l,"utf8"),p=JSON.parse(c).filter(function(e){return t.reposUrl?"preloaded"!==e.name:!0}),m=S.hc(),d=S.a("Cloning to: "+u+"(click to change)",function(e){R.openFolderDialog("Please enter new path to clone",function(e){u=e,d.setText("Cloning to: "+u+"(click to change)")},!0,u)},173,0,1);m.addChild(d);var h=S.a(""+L,function(e){T.prompt("Please enter name of the branch",function(e){L=e,h.setText(e)},L)},74,0,1);h.margin(10,0);var f=b.list(p,function(e){return S.hc(S.label(e.name,158,3,0).pad(10,10),S.button("clone",1,3,0,function(t){if(D)return void D(e);v.existsSync(u)||v.mkdirSync(u);var n=o(e.git_url,u);if(n){var r=y.resolve(u,e.name);v.existsSync(u)||v.mkdirSync(u);var i=y.resolve(r,"api.raml");v.existsSync(i)||(i=y.resolve(r,e.name+".raml")),v.existsSync(i)?I.open({pathsToOpen:[r,i]}):I.open({pathsToOpen:[r]})}}))});m.addChild(f),a.html(m.renderUI())},n.prototype.attached=function(){this._isAttached||(this.load(),this._isAttached=!0)},n.prototype.destroy=function(){this.disposables.dispose()},n}(A.Scrollable);t.info=a,t.showPopularApis=l,t.generateEndpoint=p;var k=function(){function e(e,t){this._folder=e,this.cb=t}return e.prototype.render=function(e){var t=this;return e instanceof P.ApiDefinition?S.a(e.id(),function(n){var r=(e.parent(),{url:u(e.id()),project:e.parent()});c(r,t._folder(),t.cb)}):S.label(e.id())},e}();t.apiView=d;var D=null;t.onClone=h},function(e,t,n){function r(e,t){if(y.existsSync(e))return console.log("Loading:"+e),JSON.parse(y.readFileSync(e).toString());var n=t();return y.writeFileSync(e,JSON.stringify(n)),console.log("Stored:"+e),n}function i(){for(var e=[],t=r(C+"apiList.json",function(){return(new b).listApis()}),n=0;n<t.length;n++){var i=t[n];e.push(new S(i.name,i.url))}return(new d).buildWorspace("",e)}function a(e){var t=[];return t.push(new S(e.name,e.url)),(new d).buildWorspace("",t)}function o(e){for(var t=[],n=y.readdirSync(e),r=0;r<n.length;r++){var i=n[r],a=f.resolve(e,i);y.lstatSync(a).isDirectory()&&t.push(new g(a))}return(new d).buildWorspace("",t)}function s(e,t,n){return p.loadAndWrapApi(n).then(function(r){var i=(new d).buildProject(t,[r]),a=new E(null,null);a.remove=function(e){};var o=new w(a,i);return e.add(o),o.url=n,e})}var u,l=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},c=n(120),p=n(180),m=n(17);!function(e){!function(e){e[e.PARAMETER=0]="PARAMETER",e[e.RESOURCE=1]="RESOURCE",e[e.METHOD=2]="METHOD",e[e.BODY=3]="BODY",e[e.RESPONSE=4]="RESPONSE",e[e.API=5]="API",e[e.PROJECT=6]="PROJECT",e[e.WORKSPACE=7]="WORKSPACE"}(e.NodeType||(e.NodeType={}));e.NodeType}(u||(u={}));var d=function(){function e(){}return e.prototype.buildParam=function(e){return{n:e.name(),r:e.required(),l:e.location(),t:0}},e.prototype.buildBody=function(e){var t=e.schema().isDefined()?e.schema().value().name():null;return null!=t&&t.length>0&&"{"==t.charAt(0)&&(t="<inplace>"),null!=t&&t.length>0&&"<"==t.charAt(0)&&(t="<inplace>"),{schn:t,n:e.mediaType(),t:3}},e.prototype.buildResponse=function(e){var t=this,n=[];return e.bodies().forEach(function(e){return n.push(t.buildBody(e))}),{n:e.code(),t:4,ch:n}},e.prototype.buildMethod=function(e){var t=this,n=[];return e.getConsolidatedParameterList(!0).forEach(function(e){return n.push(t.buildParam(e))}),e.bodies().forEach(function(e){return n.push(t.buildBody(e))}),e.responses().forEach(function(e){return n.push(t.buildResponse(e))}),{n:e.method(),t:2,ch:n}},e.prototype.buildResource=function(e){var t=this,n=[];return e.resources().forEach(function(e){return n.push(t.buildResource(e))}),e.methods().forEach(function(e){return n.push(t.buildMethod(e))}),{n:e.relativeUri(),ch:n,t:1}},e.prototype.buildApi=function(e){var t=this;if(null==e)return{n:"error",ch:[],t:5};var n=[];return e.resources().forEach(function(e){return n.push(t.buildResource(e))}),{n:e.title().isDefined()?e.title().value():null,ch:n,t:5}},e.prototype.buildProject=function(e,t){var n=this,r=[];try{return t.forEach(function(e){e&&r.push(n.buildApi(e))}),{n:e,ch:r,t:6}}catch(i){console.log(i.stack)}},e.prototype.buildWorspace=function(e,t){var n=this,r=[];return t.forEach(function(e){r.push(Promise.all(e.apis()).then(function(t){return console.log("build project"),n.buildProject(e.name(),t)}))}),Promise.all(r).then(function(t){return t=t.filter(function(e){return null!=e}),console.log("Workspace:"+t),{n:e,ch:t,t:7}})},e}(),h=function(){function e(e){var t=this;this._data=e,this.title=function(){return t._data.n}}return e}();t.ApiImpl=h;var f=n(10),y=n(4),v=n(187),g=function(){function e(e){this.path=e}return e.prototype.name=function(){return this.path.substr(this.path.lastIndexOf("/")+1)},e.prototype.parseApi=function(e){var t=v.loadFile(e);return t["catch"](function(e){}).then(function(t){return console.log("Loaded:"+e),new c.Api(t)})},e.prototype.apis=function(){var e=this,t=y.readdirSync(this.path),n=[];return t.forEach(function(t){var r=t.indexOf(".raml");if(-1!=r&&r==t.length-5){console.log("Loading:"+e.path+":"+t);var i=f.resolve(e.path,t);n.push(e.parseApi(i))}}),n},e}(),b=function(){function e(){}return e.prototype.listApis=function(){function e(){var e=new i;return e}function t(t){var n=e(),r=!1;if(n.onerror=function(){r=!0},n.onload=function(){},n.open("get",t,!1),n.send(),r)throw new Error;if(n.status>299||n.status<200)throw new Error("Response is not ok:"+t+":"+n.status);return n.responseText}var r=[],i=n(65).XMLHttpRequest,a=JSON.parse(t("https://api.github.com/orgs/raml-apis/repos"));return a.forEach(function(e){try{var n="https://raw.githubusercontent.com/raml-apis/"+e.name+"/master/api.raml";t(n);r.push({name:e.name,url:n})}catch(i){var a=""+e.name;a=a.toLowerCase();var n="https://raw.githubusercontent.com/raml-apis/"+e.name+"/master/"+a+".raml";try{t(n);r.push({name:e.name,url:n})}catch(i){console.log(e.name+":no api found")}}}),r},e}(),S=function(){function e(e,t){this._name=e,this.url=t}return e.prototype.name=function(){return this._name},e.prototype.parseApi=function(e){var t=v.loadFile(e);return t.then(function(t){return console.log("Loaded:"+e),new c.Api(t)})},e.prototype.apis=function(){var e=this,t=[this.url],n=[];return t.forEach(function(t){console.log("Loading:"+e.url),n.push(e.parseApi(e.url))}),n},e}();t.getApisFromGitHub=i,t.getApiFromGitHub=a,t.getApisFromDir=o,t.addProjectFromPath=s;var A=function(){function e(e,t){var n=this;this._member=e,this._parent=t,this.parent=function(){return n._parent},this.id=function(){return n._member.n},this.member=function(){return n._member},this.workspace=function(){return null!=n._parent?n._parent.workspace():n},this.checkParent()}return e.prototype.checkParent=function(){if(!this._parent)throw new Error("Only workspace may have no parent")},e}();t.ApiElement=A;var T=function(e){function t(t,n){e.call(this,n,t),this._node=n}return l(t,e),t.prototype.add=function(e){e.parent()!=this&&(this._node.ch.push(e.member()),e.parent().remove(e),e._parent=this)},t.prototype.addClone=function(e){this._node.ch.push(JSON.parse(JSON.stringify(e.member())))},t.prototype.remove=function(e){this.checkParent(),e.parent()==this&&(this._node.ch.filter(function(t){return t!=e.member()}),e._parent=this)},t.prototype.children=function(){var e=this;return this._node.ch.map(function(t){return e.convertChild(t)})},t.prototype.hasChild=function(e){return m.find(this.children(),function(t){return t.id()==e})?!0:!1},t.prototype.childWithTitle=function(e){return m.find(this.children(),function(t){return t.id()==e})},t.prototype.convertChild=function(e){switch(e.t){case 5:return new P(this,e);case 6:return new w(this,e);case 1:return new M(this,e)}throw new Error("Should not happen")},t}(A);t.ApiNode=T;var w=function(e){function t(t,n){e.call(this,t,n),this._data=n}return l(t,e),t}(T);t.ApiProject=w;var P=function(e){function t(t,n){e.call(this,t,n),this._data=n}return l(t,e),t}(T);t.ApiDefinition=P;var M=function(e){function t(t,n){e.call(this,n,t)}return l(t,e),t}(A);t.ApiResource=M;var E=function(e){function t(t,n){void 0===n&&(n={n:"",ch:[],t:7}),e.call(this,null,n),this._data=n,this._path=t}return l(t,e),t.prototype.checkParent=function(){},t.prototype.addWorkspace=function(e){this._data.ch=this._data.ch.concat(e._data.ch)},t.loadFromFile=function(e){return new t(e,JSON.parse(y.readFileSync(e).toString()))},t.prototype.saveToFile=function(e){y.writeFileSync(e,JSON.stringify(this._data))},t.prototype.save=function(){this.saveToFile(this._path)},t}(T);t.ApiWorkspace=E;var C=(f.resolve(process.cwd(),"automation/archive"),f.resolve(__dirname)),N=function(){function e(){}return e.getInstance=function(){return e._workspace||(e._workspace=E.loadFromFile(C+"/100apis.json")),e._workspace},e}();t.RAMLWorkspaceProvider=N},function(e,t,n){function r(e){var t=(L.dirname(e),new re(this.rootPath)),n=D.loadFile(e,{reader:t});return n["catch"](function(e){return console.log(e)}),n.then(function(e){return R.wrap(e)})}function i(e,t){var n=O.readFileSync(e).toString();return c(n,e,t)}function a(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function o(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+",")}),t.join("")}function s(e,t){var n=L.dirname(e),r=L.resolve(__dirname,"tscfg.json"),i=L.resolve(n,"tsconfig.json");O.writeFileSync(i,O.readFileSync(r).toString());var a=new x.DependencyManager,o=p(t).then(function(t){console.log("Storing modules..."),a.updateDeps(e);var r=N.raml2ts(t,new N.Config),i=L.resolve(n,"api0.ts");console.log(i),O.writeFileSync(i,r),a.updateDeps(i),a.updateDeps(e)});console.log("getting modules");var s=L.resolve(n,"..","node_modules");return T.copyDirSyncRecursive(L.resolve(__dirname,"../../node_modules"),s,{forceDelete:!0}),o}function u(e,t){return e.replace("#REF_TAG_DEFENITION",t)}function l(e){for(var t="";;){var n=L.dirname(e),r=null;if(O.readdirSync(n).forEach(function(e){".raml"==L.extname(e)&&"api.raml"!=r&&(r=e)}),r)return t+r;if(e=n,t+="../",!e)return null}return null}function c(e,t,n,r){var i=L.dirname(t)+"/",a=l(t);e=u(e,a);var o=new ie(e,i,r),s=L.dirname(n),c=new x.DependencyManager,p=o.results.then(function(e){console.log("Writing:"+n),O.writeFileSync(n,o.content),console.log("Storing modules..."),c.updateDeps(n),o.apiInformation.numToUrl.forEach(function(e){var t=s+"/"+e.name+".ts";console.log("Storing module for:"+e.url+"("+e.name+")"),O.writeFileSync(t,e.content),c.updateDeps(t)})}),m=L.resolve(s,"..","node_modules");O.existsSync(m)&&r&&!r.overwriteModules||(console.log("getting modules"),T.copyDirSyncRecursive(L.resolve(__dirname,"../../node_modules"),m,{forceDelete:!0}));var d=L.resolve(__dirname,"tscfg.json"),h=L.resolve(s,"tsconfig.json");return O.writeFileSync(h,O.readFileSync(d).toString()),p}function p(e){var t=m(e);return t.then(function(e){return R.wrap(e)})}function m(e){var t=new re(""),n=D.loadFile(e,{reader:t});return n}function d(e){if("Identifier"==e.type){var t=e.name;if(0==t.indexOf("$")&&0==t.substring(1).replace(/\d/,"").length)return!0}else if("MemberExpression"==e.type)return d(e.object);return!1}function h(e,t,n){var r="",i=new re(L.dirname(t)),a=D.loadFile(t,{reader:i});a["catch"](function(e){return console.log(e)});var o=a.then(function(t){var i=new R.Api(t);r=L.resolve(n,i.title().getOrElse("result")+"/client.ts");var a=N.raml2ts(i,e);return a});return o.then(function(e){k.sync(L.dirname(r)),O.writeFileSync(r,e),(new x.DependencyManager).updateDeps(r);var t=L.resolve(n,"node_modules");return O.existsSync(t)||T.copyDirSyncRecursive(L.resolve(__dirname,"../../node_modules"),t,{forceDelete:!0}),r})}function f(e,t,n){var r=G.loadApi(t);if(r.isDefined()&&r.getOrThrow()instanceof j.ApiImpl){var i=r.getOrThrow();i=V.expandTraitsAndResourceTypes(i);var a=K.raml2ts(i,e);return v(t,n,a,i)}}function y(e,t,n){var r=G.loadApi(t.apiPath);if(r.isDefined()&&r.getOrThrow()instanceof j.ApiImpl){var i={escapeNumericKeys:!0},a=r.getOrThrow();a=V.expandTraitsAndResourceTypes(a);var o=K.createApiModule(a,e),s=K.serializeModuleToTS(a,e,o,i),u={forceDelete:t.forceDelete,pathReplacements:t.pathReplacements(),contentReplacements:t.contentReplacements()};I.copyDirSyncRecursive(t.clientProjectPath(),L.resolve(__dirname,"../../java/java-client"),u,function(e){return!_.stringEndsWith(e,L.sep+"src")}),I.copyDirSyncRecursive(t.sourcePath(),L.resolve(__dirname,"../../java/java-client/src"),u),I.copyDirSyncRecursive(L.resolve(t.dstWorkspacePath,"javascript-module-holders"),L.resolve(__dirname,"../../java/javascript-module-holders"),{forceDelete:t.forceDelete}),new B.Serializer(o,a,t).serializeAll();var l=v(t.apiPath,n,s,a,i);q.deploy(L.dirname(l),t)}}function v(e,t,n,r,i,a){void 0===i&&(i={}),void 0===a&&(a=!1),console.log("");var o=L.dirname(e),s=L.resolve(o,"script"),u=O.existsSync(s),l=L.resolve(t,r.title()?r.title():"result"),c=L.resolve(l,"client.ts");if(a&&O.existsSync(c))return c;var p=L.dirname(c);k.sync(p),O.writeFileSync(c,n);var m=H.serialize(r.highLevel().lowLevel(),i),d=L.resolve(L.dirname(c),"apiEncoded.json");O.writeFileSync(d,JSON.stringify(m,null,2)),(new x.DependencyManager).transportDependencies(c,L.resolve(__dirname,"../../"),p,oe),O.writeFileSync(L.resolve(l,"deps/apiProvider.ts"),K.apiProviderContent());var h=L.resolve(t,"node_modules");if(O.existsSync(h)||T.copyDirSyncRecursive(L.resolve(__dirname,"../../node_modules"),h,{forceDelete:!0}),u){var f=L.resolve(p,"script");k.sync(f),T.copyDirSyncRecursive(s,f,{forceDelete:!0}),O.readdirSync(f).forEach(function(e){return new x.DependencyManager(s,!0,4).transportDependencies(L.resolve(f,e),L.resolve(__dirname,"../../"),f,oe)})}var y={};return y[L.resolve(L.resolve(p,oe),se)]=!0,u&&(y[L.resolve(L.resolve(f,oe),se)]=!0),g(p),c}function g(e,t){void 0===t&&(t={});for(var n={},r=b(e);r.length>0;){var i=r[0];F.compile([i],"--sourcemap --module commonjs"),n[i]=!0,r=b(e).filter(function(e){return!n[e]})}var a=O.readdirSync(e).map(function(t){return L.resolve(e,t)}).filter(function(e){return O.lstatSync(e).isDirectory()&&!t[e]});a.forEach(function(e){return g(e)},t)}function b(e){var t=O.readdirSync(e),n={};t.filter(function(e){return _.stringEndsWith(e,".js")}).forEach(function(e){return n[e.substring(0,e.length-".js".length)+".ts"]=!0});var r=t.filter(function(e){return _.stringEndsWith(e,".ts")&&!_.stringEndsWith(e,".d.ts")&&!n[e]}).map(function(t){return L.resolve(e,t)});return r}var S=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},A=n(56),T=n(181),w=n(182),P=n(135),M=n(183),E=n(136),C=n(184),N=n(118),_=n(66),I=n(185),R=n(120),x=n(186),L=n(10),O=n(4),k=n(143),D=n(187),U=n(188),F=n(189),j=n(14),K=n(190),V=n(94),B=n(192),q=n(193),H=n(70),G=n(93),W=w.call(w.memberFromExp("load"),function(e){return e.arguments}),z=w.memberFromExp("*.body.*"),J=w.memberFromExp("*.body"),Y=w.memberFromExp("*.status"),X=w.call(w.memberFromExp("assert.equal"),function(e){return e.arguments}),$=w.call(w.memberFromExp("API.createClient"),function(e){return e.arguments}),Q=w.exprStmt(w.assign(w.anyNode(),w.anyNode()),function(e){return e}),Z=w.call(w.memberFromExp("API.authenticate"),function(e){return e.arguments}),ee=w.exprStmt(w.sequence(),function(e){return e}),te=(function(){function e(){}return e.prototype.enter=function(e,t){X.doMatch(e)},e.prototype.leave=function(e,t){},e}(),function(){function e(e,t,n,r,i){this.args=[],this.name=e,this.varName=t,this.url=n,this.content=r,this.args=i}return e.prototype.getValue=function(e){return"Identifier"==e.type?e.name:"Literal"==e.type?e.value:""},e.prototype.extractValue=function(e){return E.generate(e)},e.prototype.generateArguments=function(){var e=this;if(3!=this.args.length)return"";var t=[],n=this.args[2];if("ObjectExpression"==n.type){var r=n;r.properties.forEach(function(n){var r=e.getValue(n.key);"baseUriParameters"==r&&e.apiModel.baseUriParameters().forEach(function(r){var i=n.value;i.properties.forEach(function(n){e.getValue(n.key)==r.name()&&t.push(e.extractValue(n.value))})})})}return t.join(",")},e}()),ne=(function(){function e(){}return e}(),function(){function e(e){this._rootPath=e,this.numToUrl=[],this.num=0}return e.prototype.register=function(e,t,n){var r="api"+this.num++;return this.numToUrl.push(new te(r,e,t,null,n)),r},e.prototype.gatherApis=function(e){var t=this;M.replace(e,{enter:function(e,n){var r=w.exprStmt($).doMatch(e);if(r){var i=r[0].value,a=r[1].value,o=t.register(i,a,r);return P.ident(o)}return r=w.exprStmt(Z).doMatch(e),r?P.exprStmt(P.call(P.member(r[0],"authenticate"),r.slice(1))):void 0}})},e.prototype.loadApis=function(){var e=this,t=[];return this.apis={},this.numToUrl.forEach(function(n){var r=n.url;console.log("Loading "+n.url);var i=new re(e._rootPath),a=D.loadFile(r,{reader:i});a["catch"](function(e){return console.log(e)});var o=a.then(function(t){return console.log("Loaded:"+n.url),n.apiModel=new R.Api(t),e.apis[n.varName]=n.apiModel,n});t.push(o)}),Promise.all(t).then(function(t){return e})},e}());t.loadApiFromPath=r;var re=function(e){function t(t){e.call(this,function(e){if(O.existsSync(e))return Promise.resolve(O.readFileSync(e).toString());var n=L.resolve(t,e);O.existsSync(n)||(n=L.resolve(process.cwd(),e));var r=O.readFileSync(n).toString(),i=Promise.resolve(r);return i})}return S(t,e),t}(D.FileReader);t.FileSystemLoader=re;var ie=function(){function e(e,t,n){var r=this;this.num=0,this.toJavascript(e);var i=A.parse(this.content),a=new ne(t);this.apiInformation=a,a.gatherApis(i),this.doBasicReplacements(i),this.content=E.generate(i);var o=new N.Config,s=a.loadApis().then(function(e){var t=[];return a.numToUrl.forEach(function(e){e.url;console.log("updating content:"+e.url);try{var r=e.apiModel,i=N.raml2ts(r,n);return e.content=i,e}catch(a){console.log(a.stack)}console.log("Content generated:"+e.url),t.push(Promise.resolve(e))}),Promise.all(t)});this.results=s.then(function(e){try{console.log("Gathering info"),r.finder=new U.HTTPCallInformationFinder(r),r.finder.gatherCallsInfo(i,o),console.log("Call information gathered");var t=r;try{M.replace(i,{enter:function(e,n){try{var r=t.finder.findReplacementCallNode(e,o);if(r.isDefined())return r.getOrThrow()}catch(i){console.log(i.stack)}}})}catch(n){console.log(n)}try{M.replace(i,{enter:function(e,n){t.finder.markCallResult(e,n)}}),M.replace(i,{enter:function(e){var n=J.doMatch(e);if(n){var r=e,i=t.finder.getMethodCall(r.object);if(i.isDefined()){var a=i.getOrThrow(),o=!1,s=a.getMethod();return s.responses().forEach(function(e){return e.bodies().forEach(function(e){return o=o||e.mediaType().indexOf("json")>0})}),o=o||s.api().mediaType().getOrElse("").indexOf("json")>0,o?r.object:P.memberExp(P.memberExp(P.memberExp(P.memberExp(r.object,P.ident(N.HAR_ENTRY_FIELD_NAME)),P.ident("response")),P.ident("content")),P.ident("text"))}}}})}catch(n){console.log(n)}console.log("API processed"),r.content=E.generate(i),console.log("Content generated"),a.numToUrl.forEach(function(e){r.content=r.content.replace(e.name,"import "+e.name+' = require("./'+e.name+'");\nvar '+e.varName+"="+e.name+".createApi("+e.generateArguments()+");")}),r.content='import assert = require("assert")\nimport prompt = require("./prompt")\nimport executor = require("./deps/executor");\n'+r.content+"\n            "}catch(n){console.log(n.stack)}console.log("Content updated")})}return e.prototype.doBasicReplacements=function(e){var t=(C.analyze(e),this);M.replace(e,{enter:function(e,t){var n=ee.doMatch(e);if(n){var r=P.block(n.expressions.map(function(e){return P.exprStmt(e)}));return r}}}),t.renamers=[{}];var n=0;M.replace(e,{enter:function(e,r){var i=void 0,a=void 0,o=void 0,s=Q.doMatch(e);if(s)i=s.left,a=s.right,o=s.operator;else if("VariableDeclaration"==e.type){var u=e;i=u.declarations[0].id,a=u.declarations[0].init,o="="}if(i&&a&&"Identifier"==i.type&&"="==o&&0==n){var l=i;if("assert"==l.name)return M.VisitorOption.Remove;d(a)&&(a=P.literal(""));var c=t.renamers[0][l.name];if(c){c+=1;var p=P.varDecl(P.ident(l.name+c),a);return t.renamers[0][l.name]=c,p}var p=P.varDecl(i,a);return t.renamers[0][l.name]=1,p}if(i&&a&&"Identifier"==i.type&&"="==o&&0!=n){var l=i;if("assert"==l.name)return M.VisitorOption.Remove;var m=t.renamers[n][l.name];if(m)return M.VisitorOption.Skip;for(var c=void 0,h=t.renamers.length-2;h>=0&&!(c=t.renamers[h][l.name]);h--);if(!c){var p=P.varDecl(i,a);return t.renamers[n][l.name]=1,p}if("VariableDeclaration"==e.type)return t.renamers[n][l.name]=c+1,P.varDecl(P.ident(l.name+(c+1)),a);if(1!=c)return P.exprStmt(P.assignExpr(P.ident(l.name+c),a,"="))}else if("Identifier"==e.type){var f=!0;if("MemberExpression"==r.type){var y=r;y.property!==e||y.computed||(f=!1)}else if("Property"==r.type){var v=r;f=e!=v.key}if(f){for(var l=e,c=void 0,h=t.renamers.length-1;h>=0&&!(c=t.renamers[h][l.name]);h--);if(c&&1!=c)return P.ident(l.name+c)}}var g=z.doMatch(e);if(g){var b=e;return P.memberExp(b.object.object,b.property)}return w.exprStmt(X).doMatch(e)?M.VisitorOption.Remove:w.exprStmt(W).doMatch(e)?M.VisitorOption.Remove:"FunctionExpression"==e.type||"FunctionDeclaration"==e.type||"IfStatement"==e.type?M.VisitorOption.Skip?(n++,t.renamers.push({}),e):M.VisitorOption.Skip:void 0},leave:function(e,r){return"FunctionExpression"==e.type||"FunctionDeclaration"==e.type||"IfStatement"==e.type?(n--,t.renamers.pop(),e):void 0}}),M.replace(e,{enter:function(e,t){var n=Y.doMatch(e);if(n){var r=e,i=r.object.name;if(i&&_.stringEndsWith(i,"Response"))return P.memberExp(P.memberExp(P.memberExp(r.object,P.ident(N.HAR_ENTRY_FIELD_NAME)),P.ident("response")),P.ident("status"))}}})},e.prototype.toJavascript=function(e){for(var t=[],n=0,r=e.length,i=e.indexOf("```javascript");i>=0;i=e.indexOf("```javascript",n))t.push(new ae(n,i,"comment",e)),i+="```javascript".length,n=e.indexOf("```",i),n>=0?(t.push(new ae(i,n,"code",e)),n+="```".length):t.push(new ae(i,r,"comment",e));n>=0&&t.push(new ae(n,r,"comment",e));var a=[];t.forEach(function(e){var t=e.blockString().trim();t.length>0&&("comment"==e.blockType?(a.push("/***"),t.split("\n").filter(function(e){return e.trim().length>0}).forEach(function(e){return a.push(" * "+e.replace("**","").trim())}),a.push(" **/")):"code"==e.blockType&&t.split("\n").filter(function(e){return e.trim().length>0}).forEach(function(e){return a.push(e.trim())}))});var o=a.join("\n");this.content=o},e}(),ae=function(){function e(e,t,n,r){this.start=e,this.end=t,this.blockType=n,this.content=r}return e.prototype.blockString=function(){return this.content.substring(this.start,this.end)},e}();t.noteBookToRamlScript=i,t.getPDecl=a,t.getPcalls=o,t.createDependncies=s,t.noteBookToRamlScript2=c,t.loadAndWrapApi=p,t.loadApi=m,t.generateClient=h;var oe="deps",se="typings";t.generateClient1=f,t.generateJavaClient1=y},function(e,t){e.exports=require("wrench")},function(e,t){var n,r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=function(){function e(){}return e.prototype.match=function(e){throw new Error},e.prototype.nodeType=function(){throw new Error},e.prototype.doMatch=function(e){return this.nodeType()==e.type?this.match(e):void 0},e}(),a=function(e){function t(t,n){e.call(this),this.calleeMatcher=t,this.tr=n}return r(t,e),t.prototype.match=function(e){return this.calleeMatcher.doMatch(e.callee)?this.tr(e):null},t.prototype.nodeType=function(){return"CallExpression"},t}(i),o=function(e){function t(t,n){e.call(this),this.expression=t,this.tr=n}return r(t,e),t.prototype.match=function(e){var t=this.expression.doMatch(e.expression);if(t){var n=this.tr(e.expression);return 1==n?t:n}return null},t.prototype.nodeType=function(){return"ExpressionStatement"},t}(i),s=function(e){function t(t,n,r){e.call(this),this.left=t,this.right=n,this.tr=r}return r(t,e),t.prototype.match=function(e){return this.left.doMatch(e.left)&&this.right.doMatch(e.right)?this.tr(e):null},t.prototype.nodeType=function(){return"AssignmentExpression"},t}(i),u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return"SequenceExpression"},t}(i),l=function(e){function t(t){e.call(this),this.val=t}return r(t,e),t.prototype.match=function(e){return e.name==this.val?!0:null},t.prototype.nodeType=function(){return"Identifier"},t}(i),c=function(e){function t(t,n,r){e.call(this),this.objectMatcher=t,this.propertyMatcher=n,this.tr=r}return r(t,e),t.prototype.match=function(e){return this.objectMatcher.doMatch(e.object)&&this.propertyMatcher.doMatch(e.property)?this.tr(e):null},t.prototype.nodeType=function(){return"MemberExpression"},t}(i),p=function(){function e(e){this.arguments=null,this.name=e}return e}(),m=function(){function e(){}return e.prototype.doMatch=function(e){return!0},e.prototype.nodeType=function(){return null},e}();!function(e){function t(e,t){return void 0===t&&(t=function(e){return!0}),new a(e,t)}function n(e){return new l(e)}function r(e,t,n){return void 0===n&&(n=function(e){return!0}),new c(e,t,n)}function i(e,t,r){return void 0===r&&(r=function(e){return!0}),new c(n(e),n(t),r)}function d(){return new m}function h(e,t){return void 0===t&&(t=function(e){return!0}),new o(e,t)}function f(e,t,n){return void 0===n&&(n=function(e){return!0}),new s(e,t,n)}function y(){return new u}function v(e,t){void 0===t&&(t=function(e){
return!0});for(var r=e.split("."),i=null,o=0;o<r.length;o++){var s=r[o],u=s.indexOf("(*)"),l=!1;-1!=u&&(s=s.substr(0,u),l=!0),i=null==i?"*"==s?d():n(s):new c(i,"*"==s?d():n(s),t),l&&(i=new a(i,t))}return i}var g=function(){function e(e){this.isGeneralCall=!1,this.path=[],this.base=e}return e.prototype.toString=function(){return this.path.map(function(e){return e.name}).join(".")},e}();e.CallPath=g;var b=function(){function t(e){this.rootMatcher=e}return t.prototype.doMatch=function(t){if("CallExpression"==t.type){var n=t,r=this.doMatch(n.callee);if(r){if(r.path.length>0&&null==r.path[r.path.length-1].arguments)return r.path[r.path.length-1].arguments=n.arguments,r;if(0==r.path.length&&n.arguments.length>0&&"Literal"==n.arguments[0].type){var i=n.arguments[0],a=i.value;0==a.indexOf("/")&&(a=a.substring(1));var o=a.toString().split("/");return o.forEach(function(e){return r.path.push(new p(e))}),r.isGeneralCall=!0,r}return null}}else if("MemberExpression"==t.type){var s=t,u=this.doMatch(s.object);if(u)return"Identifier"==s.property.type?(u.path.push(new p(s.property.name)),u):"Literal"==s.property.type?(u.path.push(new p(s.property.value.toString())),u):null}else if("Identifier"==t.type){var l=t;if(this.rootMatcher.doMatch(l))return new e.CallPath(l.name)}return null},t.prototype.nodeType=function(){return null},t}();e.CallBaseMatcher=b,e.call=t,e.ident=n,e.member=r,e.memberFromString=i,e.anyNode=d,e.exprStmt=h,e.assign=f,e.sequence=y,e.memberFromExp=v}(n||(n={})),e.exports=n},function(e,t){e.exports=require("estraverse")},function(e,t){e.exports=require("escope")},function(e,t,n){function r(e,t,n,i){var l=n&&n.pathReplacements,c=n&&n.contentReplacements,p=n&&n.forceDelete;if(a.lstatSync(t).isDirectory())a.readdirSync(t).forEach(function(a){var o=s.resolve(t,a);if(!i||i(o)){var u=s.resolve(e,a);r(u,o,n,i)}});else{if(l&&(e=u.replaceMap(e,l)),!p&&a.existsSync(e))return;o.sync(s.dirname(e));var m=a.readFileSync(t);if(c){var d=m.toString();d=u.replaceMap(d,c),a.writeFileSync(e,d)}else a.writeFileSync(e,m)}}function i(e){if(a.existsSync(e)){if(!a.lstatSync(e).isDirectory())return void a.unlinkSync(e);a.readdirSync(e).map(function(t){return s.resolve(e,t)}).forEach(function(e){return i(e)}),a.rmdirSync(e)}}var a=n(4),o=n(143),s=n(10),u=n(66);t.copyDirSyncRecursive=r,t.removeDirSyncRecursive=i},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(4),a=n(10),o=n(181),s=n(66),u=n(143),l=function(){function e(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=3),this._name=e,this._path=t,this._depRoot=n,this.stepsToModulesDir=r}return e.prototype.name=function(){return this._name},e.prototype.isExternal=function(){return!1},e.prototype.dependencies=function(){return this.parseDepencencies()},e.prototype.parseDepencencies=function(){var e=this,t=this.content(),n=[];return t.forEach(function(t){var r=e.moduleFromLine(t);r&&n.push(r)}),n},e.prototype.moduleFromLine=function(t){var n=null,r=t.indexOf("require(");if(-1!=r){var i=t.substr(r+"require(".length+1),a=i.substr(0,i.indexOf(")")-1),o=this.resolve(a);n=o?new e(this.resolveName(a),o):new p(a)}return n},e.prototype.resolve=function(e){var t=this.depFolder(),n=a.resolve(t,e+".ts");return i.existsSync(n)?n:null},e.prototype.depFolder=function(){return null!=this._depRoot?this._depRoot:this.actualFolder()},e.prototype.actualFolder=function(){return a.dirname(this._path)},e.prototype.resolveName=function(e){var t=e.lastIndexOf("/");return-1!=t?e.substr(t+1):e},e.prototype.rewrittenContent=function(){var t=this,n=this.content(),r=[];return n.forEach(function(n){var i=n.indexOf("require(");if(-1!=i){var o=n.substr(0,i),s=t.moduleFromLine(n),u=n.indexOf(")",i)+1;if(s.isExternal())r.push(n);else{var l=o+"require('"+t.depPath()+s.name()+"')"+n.substring(u).trim();r.push(l)}}else-1!=n.indexOf('/// <reference path="')?e.requiredTypings.forEach(function(e){return r.push('/// <reference path="'+t.depPath()+"typings/"+a.basename(e)+'" />')}):r.push(n)}),r.join("\n")},e.prototype.depPath=function(){return"./deps/"},e.prototype.rewrite=function(e){void 0===e&&(e={});var t=this._path;if(!e[t]){e[t]=!0;var n=this.createDepFolder();this.dependencies().forEach(function(t){if(!t.isExternal()){var r=n+"/"+t.name()+".ts";i.writeFileSync(r,t.content().join("\n"));var a=t.actualFolder();new c(t.name(),r,a).rewrite(e)}})}i.writeFileSync(this._path,this.rewrittenContent())},e.prototype.createDepFolder=function(){var e=this.actualFolder()+"/deps";try{u.sync(e+"/typings/");var t=a.resolve(__dirname,"../../typings"),n=a.resolve(e,"typings");this.copyContent(t,n);for(var r=a.resolve(n,"tsd.d.ts"),o=i.readFileSync(r).toString(),s="",l=0;l++<this.stepsToModulesDir;s+="../");o=o.replace(new RegExp("\\.\\./","g"),s),i.writeFileSync(r,o)}catch(c){console.log(c)}return e},e.prototype.copyContent=function(e,t){o.copyDirSyncRecursive(e,t,{forceDelete:!0})},e.prototype.content=function(){return i.readFileSync(this._path).toString().split("\n")},e.requiredTypings=["tsd.d.ts"],e}(),c=function(e){function t(t,n,r){e.call(this,t,n,r)}return r(t,e),t.prototype.depPath=function(){return"./"},t.prototype.createDepFolder=function(){return this.actualFolder()},t}(l),p=function(){function e(e){this._name=e}return e.prototype.actualFolder=function(){throw new Error("Unsupported operation exception")},e.prototype.name=function(){return this._name},e.prototype.isExternal=function(){return!0},e.prototype.content=function(){throw new Error("Unsupported operation exception")},e.prototype.dependencies=function(){return[]},e}(),m=function(){function e(e,t,n){void 0===e&&(e=__dirname),void 0===t&&(t=!1),void 0===n&&(n=3),this._rootPath=e,this.patchExternalOnly=t,this.stepsToModulesDir=n,this.modules={},this.matchRules=[new f(new v,!0,["ts","json"]),new f(new g,!0),new f(new b,!1)]}return e.prototype.updateDeps=function(e){new l("dependencyManager",e,this._rootPath,this.stepsToModulesDir).rewrite()},e.prototype.transportDependencies=function(e,t,n,r){this.patchDeps(e,t,this._rootPath,n,r,!0);var s=a.resolve(t,"typings"),l=a.resolve(a.resolve(n,r),"typings");u.sync(l),o.copyDirSyncRecursive(s,l,{forceDelete:!0});for(var c=a.resolve(l,"tsd.d.ts"),p=i.readFileSync(c).toString(),m="",d=0;d++<this.stepsToModulesDir;m+="../");p=p.replace(/(\.\.\/)+/,m),i.writeFileSync(c,p)},e.prototype.patchDeps=function(e,t,n,r,o,s,u){var l=this;void 0===u&&(u={});var c=this.getDependencies(e,n);if(c.forEach(function(e){e.srcProjectRoot=t,e.dstProjectRoot=r,e.dstDepsFolder=o}),s){var p=i.readFileSync(e).toString(),m=0,d="";c.filter(function(e){return!(l.patchExternalOnly&&e.isInternal())}).forEach(function(e){d+=p.substring(m,e.start),d+=e.replacement(),m=e.end}),d+=p.substring(m,p.length),i.writeFileSync(e,d)}c.filter(function(e){return e.matchRule.isRecursive()&&!u[e.getAbsoluteDestinationPath()]}).forEach(function(e){e.copySync(),u[e.getAbsoluteDestinationPath()]=!0,l.patchDeps(e.absPath,t,a.dirname(e.absPath),r,o,!1,u)})},e.prototype.getDependencies=function(e,t){var n=this,r=i.readFileSync(e).toString(),o=[];return this.matchRules.forEach(function(e){return e.matcher().match(r).forEach(function(u){if(!(u.end<=u.start)){var l=r.substring(u.start,u.end).trim();if(!s.stringStartsWith(l,"."))return void(n.modules[l]=!0);var c=a.resolve(t,l),p=!1;e.extensions().forEach(function(t){t=s.stringStartsWith(t,".")||0==t.length?t:"."+t;var n=c+t;i.existsSync(n)&&(o.push(new d(l,u.start,u.end,e,n)),p=!0)}),p||(n.modules[l]=!0)}})}),o.sort(function(e,t){return e.start-t.start})},e}();t.DependencyManager=m;var d=function(){function e(e,t,n,r,i){this.path=e,this.start=t,this.end=n,this.matchRule=r,this.absPath=i}return e.prototype.isInternal=function(){return s.stringStartsWith(this.path,"./")},e.prototype.patch=function(e){var t=this.replacement(),n=e.substring(0,this.start)+t+e.substr(this.end);return n},e.prototype.replacement=function(){var e=this.getAbsoluteDestinationPath(),t=e.substring(this.dstProjectRoot.length);t=t.replace(/\\/g,"/"),"/"!=t.charAt(0)&&(t="/"+t),t="."+t;var n=t,r=n.lastIndexOf("."),i=0>r?"":n.substring(r+1);return r=0>r?n.length:r,this.matchRule.extensions().indexOf(i)>=0&&(n=n.substring(0,r)),n},e.prototype.copySync=function(){var e=this.getAbsoluteDestinationPath(),t=i.readFileSync(this.absPath).toString();if(u.sync(a.dirname(e)),i.writeFileSync(e,t),s.stringEndsWith(e,".ts")){var n=e.substring(0,e.length-".ts".length)+".js";i.existsSync(n)&&i.unlinkSync(n)}},e.prototype.getAbsoluteDestinationPath=function(){var e=a.relative(this.srcProjectRoot,this.absPath),t=a.resolve(this.dstProjectRoot,this.dstDepsFolder),n=a.resolve(t,e);return n},e}(),h=function(){function e(e,t){this.start=e,this.end=t}return e}(),f=function(){function e(e,t,n){void 0===n&&(n=[""]),this._matcher=e,this._isRecursive=t,this._extensions=n}return e.prototype.matcher=function(){return this._matcher},e.prototype.isRecursive=function(){return this._isRecursive},e.prototype.extensions=function(){return this._extensions},e}(),y=function(){function e(e,t){this.startSeq=e,this.endSeq=t}return e.prototype.match=function(e){for(var t=[],n=0,r=this.nextMatch(e,n);r;)t.push(r),n=r.end,r=this.nextMatch(e,n);return t},e.prototype.nextMatch=function(e,t){var n=this.matchStringSequence(e,this.startSeq,t);if(!n)return null;var r=this.matchStringSequence(e,this.endSeq,n.end);if(!r)return null;var i=e.substring(n.end,r.start).trim(),a=e.indexOf(i,n.end),o=a+i.length;return new h(a+1,o-1)},e.prototype.matchStringSequence=function(e,t,n){for(var r=-1,i=-1,a=0;a<t.length;a++){var o=t[a],s=e.indexOf(o,n);if(0>s){n=-1;break}a>0&&e.substring(n,s).trim().length>0?a=-1:(0==a&&(r=s),n=s+o.length)}return 0>n?null:(i=n,new h(r,i))},e}(),v=function(e){function t(){e.call(this,["require","("],[")"])}return r(t,e),t}(y),g=function(e){function t(){e.call(this,["require.resolve","("],[")"])}return r(t,e),t}(y),b=function(e){function t(){e.call(this,["///","<","reference","path","="],["/",">"])}return r(t,e),t}(y)},function(e,t){e.exports=require("raml-parser")},function(e,t,n){var r=n(135),i=n(118),a=n(67),o=n(182),s=n(134),u=n(183),l=n(17),c=o.exprStmt(o.assign(o.anyNode(),o.anyNode()),function(e){return e}),p=function(){function e(){this.segments=[],this.method=null,this.mediaTypeExtensionValue=null}return e.prototype.methods=function(){return this.segments[this.segments.length-1].methods()},e}(),m=(function(){function e(){}return e}(),function(){function e(e){this.infos={},this.calls=[],this.callOccurences=[],this.callMap={},this.num=10,this.notebook=e}return e.prototype.findResource=function(e,t,n){var r=t,a=l.find(n.resources(),function(n){return i.escapedName(n.relativeUri())==i.escapedName(e.path[t].name)});if(!a)for(var o=t+2;o<e.path.length;o++){var s=e.path.slice(t,o).map(function(e){return e.name}).join("_");if(a=l.find(n.resources(),function(e){return i.escapedName(e.relativeUri())==i.escapedName(s)}),r++,a)break}if(a){var u,c=l.find(a.uriParameters(),function(e){return"mediaTypeExtension"==e.name()});if(c){var m=r,d=c.definitions();d.forEach(function(t){var n=t["enum"]();if(n.isDefined()){var i=n.getOrThrow().map(function(e){var t=e.toString().toLowerCase();return t.length>0&&"."==t.charAt(0)&&(t=t.substring(1)),t}),a=e.path[r+1].name;l.find(i,function(e){return e==a.toLowerCase()})&&(u="."+a,r=m+1)}else r=m+1})}var h=null;return r<e.path.length-2?h=this.findResource(e,r+1,a):(h=new p,u&&(h.mediaTypeExtensionValue=u)),h&&h.segments.push(a),h}return null},e.prototype.findCallInfo=function(e){var t=this.infos[e.__$CALL_INDEX];return t},e.prototype.findReplacementCallNode=function(e,t){var n=e.__$CALL_INDEX;if(n){var r=this.infos[n];if(r){delete e.__$CALL_INDEX;var i=r.toCall(t);return this.callOccurences.push(r),i.__$REFINED_CALL_INDEX=this.callOccurences.length,new a(i)}return a.empty()}return a.empty()},e.prototype.markCallResult=function(e,t){if("Identifier"==e.type){var n=this.callMap[e.name];n&&(e.__$REFINED_CALL_INDEX=n)}else{var n=e.__$REFINED_CALL_INDEX;if(n){var r,i=c.doMatch(t);i&&"="==i.operator&&"Identifier"==i.left.type?r=i.left:"VariableDeclarator"==t.type&&(r=t.id),r&&(r.__$REFINED_CALL_INDEX=n,this.callMap[r.name]=n)}}},e.prototype.getMethodCall=function(e){var t=e.__$REFINED_CALL_INDEX;return t?new a(this.callOccurences[t-1]):a.empty()},e.prototype.findMethod=function(e,t){var n=this.findResource(e,0,t);if(n||console.log("Resource not found "+e.toString()),n){n.segments=n.segments.reverse();var r=l.find(n.methods(),function(t){return t.method()==e.path[e.path.length-1].name});return r?(n.method=r,n):null}return null},e.prototype.gatherCallsInfo=function(t,n){var a=this,l=this,c={enter:function(t,c){var p=o.ident("client"),m=new o.CallBaseMatcher(p);if("CallExpression"==t.type){var d=a.num;t.__$CALL_INDEX=d,a.num++;var h=t,f=m.doMatch(h);if(f){var y=f;try{var v=l.notebook.apiInformation.apis[y.base];h.arguments.forEach(function(e){return u.traverse(e,a)});var g=a.findMethod(y,v);if(g){for(var b=0,S=[],A=0;A<g.segments.length;A++){var T=g.segments[A].relativeUri().substr(1).split("/"),w=[];if(f.isGeneralCall){var P=h.callee.object.arguments;if(P.length>1){var M=P[1],E=g.segments[A].uriParameters();M&&E&&E.forEach(function(e){var t=M.properties.filter(function(t){return t.key.name==e.name()});t.length>0&&(w=w.concat(t[0].value))})}}else for(var C=0;C<T.length;C++){var N=y.path[b+C].arguments;N&&(N=N.filter(function(e){return null!=e}),w=w.concat(N))}var _=g.method.resource().uriParameters();_=_.filter(function(e){return i.emitParameter(n,e)});for(var I=w.length;I<_.length;I++)"mediaTypeExtension"==_[I].name()&&g.mediaTypeExtensionValue?w.push(r.literal(g.mediaTypeExtensionValue)):w.push(r.literal(""));S.push(w),b+=T.length}var R=e.initParams(y.path[y.path.length-1].arguments,g.method),x=new s.HTTPCallOccurence(y.base,g.method,g.segments,S,R.body,R.params);return a.infos[d]=x,u.VisitorOption.Skip}console.log("HTTP Method not found:"+y.toString())}catch(L){console.log(L.stack)}}}}};u.traverse(t,c)},e.initParams=function(e,t){var n="post"==t.method()||"put"==t.method();n=n||t.bodies().filter(function(e){var t=e.mediaType();return t&&t.indexOf("json")>=0}).length>0;var i=t.bodies().filter(function(e){return"application/x-www-form-urlencoded"==e.mediaType()||"multipart/form-data"==e.mediaType()}).length>0,a=r.object(),o=null;if(i){var s=e[0];s&&s.properties.forEach(function(e){var t=r.remapProperty("form_",e);a.properties.push(t)})}else if(n)o=e[0];else{var s=e[0];s&&s.properties.forEach(function(e){var t=r.remapProperty("",e);a.properties.push(t)})}if(e.length>1){var u=e[e.length-1];if("ObjectExpression"==u.type){var s=u;s.properties&&s.properties.forEach(function(t){if("Identifier"==t.key.type){var n=t.key;if("query"==n.name){e[1]=t.value;var i=t.value;i.properties&&i.properties.forEach(function(e){var t=r.remapProperty("",e);a.properties.push(t)})}if("headers"==n.name){var o=t.value;o.properties&&o.properties.forEach(function(e){var t=r.remapProperty("header_",e);a.properties.push(t)})}}})}}return{params:a,body:o}},e}());t.HTTPCallInformationFinder=m},function(e,t){e.exports=require("typescript-compiler")},function(e,t,n){function r(e,t){return new x(t).buildConversion()(e)}function i(e,t,n,r){var i=new U(e,t,r).buildConversion()(n),i="export function createApi("+s(e)+"):Api{\n    return new ApiImpl("+u(e)+");\n}\n"+i+"\n";return i}function a(e){var t=new x(new M),n=new A.TSAPIModule(A.Universe,new M);t.module=n;t.nodeClass2ts(e,e.nameId());return t.module.serializeToString()}function o(e,t){void 0===t&&(t=new M);var n=r(e,t),a=i(e,t,n);return a}function s(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function u(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name())}),t.join(",")}function l(e){var t=e&&e.value()?e.value().match(/[^\r\n]+/g):[""];if(!t)return"";var n="";return t.forEach(function(e){return n+=" "+e}),n}function c(e){return e?(e=0==e.indexOf("/")?e.substring(1):e,e=e.replace(/[\{\}]/g,""),e=f.escapeToIdentifier(e),e=e.replace(t.MEDIA_TYPE_SUFFIX,""),e=e.replace(t.MEDIA_TYPE_EXTENSION,"")):e}function p(e,n){return e.collapseMediaTypes?n.name()!=t.MEDIA_TYPE_SUFFIX&&n.name()!=t.MEDIA_TYPE_EXTENSION:!0}function m(e){var t={imports:"",register:""},n=[],r=e.securitySchemes();return r&&r.forEach(function(e,t){!e.settings()}),t.register="["+n.join(",")+"]",t}function d(){return"/// <reference path=\"./typings/tsd.d.ts\" />\nvar apiEncoded = require('../apiEncoded.json')\n\nexport function api():string{\n    return JSON.stringify(apiEncoded);\n}\n    "}var h=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},f=n(119),y=n(66),v=n(14),g=n(95),b=n(22),S=n(16),A=n(121),T=n(123),w=n(124),P=n(191);t.MODEL_CLASS_RESOURCE_MAPPED_API_ELEMENT="$resource-mapped-api-element",t.MODEL_CLASS_FULLY_MAPPED_API_ELEMENT="$fully-mapped-api-element",t.MODEL_CLASS_RESOURCE_MAPPED_REFERENCE="$resource-mapped-reference",t.MODEL_CLASS_RESOURCE_MAPPED_INTERFACE="$resource-mapped-interface";var M=function(){function e(){this.numberIsString=!0,this.createTypesForResources=!0,this.queryParametersSecond=!0,this.collapseGet=!1,this.collapseOneMethod=!1,this.collapseMediaTypes=!1,this.methodNamesAsPrefixes=!1,this.storeHarEntry=!0,this.createTypesForParameters=!0,this.reuseTypeForParameters=!0,this.createTypesForSchemaElements=!0,this.reuseTypesForSchemaElements=!0,this.throwExceptionOnIncorrectStatus=!1,this.async=!1,this.debugOptions={generateImplementation:!0,generateSchemas:!0,generateInterface:!0,schemaNameFilter:function(e){return!0},resourcePathFilter:null},this.overwriteModules=!0}return e}();t.Config=M,t.HAR_ENTRY_FIELD_NAME="__$harEntry__",t.MEDIA_TYPE_SUFFIX="mediaTypeSuffix",t.MEDIA_TYPE_EXTENSION="mediaTypeExtension",t.createApiModule=r,t.serializeModuleToTS=i,t.type2ts=a,t.raml2ts=o,t.toComment=l;var E=function(e){function n(t,n,r){if(e.call(this,t,n),null==r)throw new Error("Original Resource is null for TSResourceMappedApiElement");this.originalResource=r}return h(n,e),n.prototype.absolutePath=function(){return g.completeRelativeUri(this.originalResource)},n.prototype.commentCode=function(){return"\n        /**\n         * "+l(this.originalResource.description())+"\n         * @ramlpath "+this.absolutePath()+"\n         **/\n\n\n         "},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_API_ELEMENT},n}(A.TSAPIElementDeclaration);t.TSResourceMappedApiElement=E;var C=function(e){function n(t,n,r){e.call(this,t,n,g.parentResource(r)),this.originalMethod=r}return h(n,e),n.prototype.commentCode=function(){return"\n        /**\n         * "+l(this.originalMethod.description())+"\n         * @ramlpath "+this.absolutePath()+"  "+this.originalMethod.method()+"\n         **/\n         "},n.prototype.modelClass=function(){return t.MODEL_CLASS_FULLY_MAPPED_API_ELEMENT},n}(E);t.TSFullyMappedApiElement=C,t.escapedName=c;var N=function(e){function t(t,n){e.call(this,t,n.module,n.cfg),this.owner=n}return h(t,e),t.prototype.createTypeDeclaration=function(e){for(var t=y.firstToUpper(c(this.name))+y.firstToUpper(c(e.name)),n=t,r=0;this.module.getInterface(n).isDefined();)r++,n=t+r;return new A.TSInterface(this.module,n)},t.prototype.replace=function(t){return this.owner.cfg.reuseTypesForSchemaElements?this.owner.collapseToTypeAliasOrAdd(t):this.module.addChild(t),e.prototype.replace.call(this,t)},t}(T.JSONSchematToTS);t.CollapsingJSONToTSConvertor=N;var _=function(e){function n(t,n){e.call(this,t,n.name),this._resourceInterface=n}return h(n,e),n.prototype.resourceInterface=function(){return this._resourceInterface},n.prototype.isFunctor=function(){return this._resourceInterface.isFunctor()},n.prototype.getFunctor=function(){return this._resourceInterface.getFunctor()},n.prototype.children=function(){return this._resourceInterface.children()},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_REFERENCE},n}(A.TSSimpleTypeReference);t.ResourceMappedReference=_;var I=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(A.TSInterface);t.OptionsInterface=I;var R=function(e){function n(t,n,r){e.call(this,t,n),this._resource=r}return h(n,e),n.prototype.resource=function(){return this._resource},n.prototype.toReference=function(){return new _(A.Universe,this)},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_INTERFACE},n}(A.TSInterface);t.ResourceMappedInterface=R,t.emitParameter=p;var x=function(){function e(e){var t=this;this.inlinable=function(e,t){return 1===e.methods().length},this.schemas=[],this.schemaContentToSchema={},this.schemaNameToSchema={},this.typeHashToType={},this.num=0,this.bodyKeys={xml:"xml",json:"json","form-data":"form","form-urlencoded":"form"},this.raml2TSModel=function(e){t.api=e;var n=new A.TSAPIModule(A.Universe,t.cfg);if(t.module=n,t.cfg.debugOptions.generateSchemas){var r=e.schemas();t.cfg.debugOptions.schemaNameFilter&&(r=r.filter(function(e){return t.cfg.debugOptions.schemaNameFilter(e.key())})),r.forEach(function(e){try{var n=t.cfg.createTypesForSchemaElements?new N(e.key(),t):new T.JSONSchematToTS(e.key(),t.module),r=n.parse(e.value().value());t.addSchema(r,e.key(),e.value().value())}catch(i){}})}var i=A.Universe.getConfig();if(A.Universe.setConfig(t.cfg),t.cfg.debugOptions.generateInterface){var a=new A.TSInterface(n,"Api");t.processChildResources(a,e)}return A.Universe.setConfig(i),n},this.typesMap={integer:"number",string:"string","boolean":"boolean",number:"number",file:"string",date:"string"},this.cfg=e}return e.prototype.processResource=function(e,n,r){var i=this,a=g.uriParameters(n).filter(function(e){return i.collapse(e)}).map(function(e){var n,r=e.name();if(r==t.MEDIA_TYPE_SUFFIX||r==t.MEDIA_TYPE_EXTENSION){var a,o={};e instanceof v.StringTypeDeclarationImpl&&(a=e["enum"]()),a.forEach(function(e){e.toLowerCase().indexOf("json")>=0?o.json=e:e.toLowerCase().indexOf("xml")>=0?o.xml=e:o["default"]=e}),["default","xml","json"].forEach(function(e){o[e]&&(n=o[e])})}return new A.Param(u,e.name(),0,i.getParamType(e),n)}),o=!0;if(this.cfg.methodNamesAsPrefixes&&(n.methods().sort(this.methodComparator).forEach(function(t){return i.customizeMethod(e,t,!1,a)}),o=n.resources().length>0),o){if(!r){var s=n.relativeUri().value();if(1==s.length)r=e;else{var u=new E(e,c(s),n);r=this.createResourceType(u),u.rangeType=r.toReference(),u.parameters=a}}this.processChildResources(r,n)}return!this.cfg.methodNamesAsPrefixes&&r&&n.methods().sort(this.methodComparator).forEach(function(e){return i.customizeMethod(r,e,i.inlinable(n,r))}),r},e.prototype.methodComparator=function(e,t){var n={options:1,"delete":2,patch:3,put:4,post:5,get:6},r=n[e.method()],i=n[t.method()];return r=r?r:0,i=i?i:0,i-r},e.prototype.processChildResources=function(e,n){var r=this,i={};n.resources().forEach(function(e){var n=e.relativeUri().value(),r=n.replace("{"+t.MEDIA_TYPE_EXTENSION+"}","").replace("{"+t.MEDIA_TYPE_SUFFIX+"}",""),a=i[r];a||(a=[],i[r]=a),n!=r?i[r]=[e].concat(a):a.push(e)}),Object.keys(i).forEach(function(t){for(var n=i[t],a=r.processResource(e,n[0]),o=1;o<n.length;o++)r.processResource(e,n[o],a)})},e.prototype.createResourceType=function(e){if(this.cfg.createTypesForResources){var t=e.name;t||(t="Unknown");for(var n=y.firstToUpper(t)+"Resource",r=n,i=0;this.module.getInterface(r).isDefined();)i++,r=n+i;return new R(this.module,r,e)}return new A.TSStructuralTypeReference(e)},e.prototype.collapse=function(e){return p(this.cfg,e)},e.prototype.convertTypeName=function(e){return"integer"==e?"number;":this.cfg.numberIsString&&"string"==e?"string|number|boolean;":e},e.prototype.addSchema=function(e,t,n){this.schemas.push(e),this.schemaContentToSchema[n]=e,this.schemaNameToSchema[t]=e},e.prototype.createSchema=function(e,t,n,r){if(void 0===r&&(r=!1),!e||!t)return null;try{if(this.cfg.debugOptions.schemaNameFilter&&!this.cfg.debugOptions.schemaNameFilter(t))return new A.TSInterface(A.Universe,"Dummy").toReference();var i,a=c(e);return n.indexOf("json")>=0?i=new T.JSONSchematToTS(a,this.module,this.cfg).parse(t,r):n.indexOf("xml")>=0&&(i=new w.XMLSchematToTS(a,this.module,this.cfg).parse(t,r)),this.addSchema(i,e,t),i}catch(o){return console.log(o.stack),null}},e.prototype.schemes2ts=function(e,t,n,r){var i=this,a={},o={};Object.keys(this.bodyKeys).forEach(function(e){a[i.bodyKeys[e]]=[],o[i.bodyKeys[e]]=[]});var s=this.api.mediaType()?this.api.mediaType().value():null;e.forEach(function(t){var n=t.name();!n&&s&&1==e.length&&(n=s),n&&Object.keys(i.bodyKeys).filter(function(e){return n.indexOf(e)>=0}).forEach(function(e){var n=i.bodyKeys[e],r=g.schema(t,i.api);r.isDefined()&&r.getOrThrow().content()?o[n].push(r.getOrThrow()):a[n].push(t)})});var u=new A.AnyType;return o.json.forEach(function(e){var n=i.schema2ts(e,"json",t);n&&(u=u.union(n))}),this.cfg&&this.cfg.collapseMediaTypes?u:(o.xml.forEach(function(e){var n=i.schema2ts(e,"xml",t);n&&(u=u.union(n))}),Object.keys(a).forEach(function(e){return a[e].forEach(function(a){var o=i.defaultTypeName(n,e,r),s=i.type2ts(a,t,o);null!=s&&(u=u.union(s))})}),u)},e.prototype.type2ts=function(e,t,n){var r=e.highLevel().definition().getAdapter(b.RAMLService).toRuntime();if(!r)return null;var i=0;if(e.name()==r.nameId()){for(var a=n;this.module.getInterface(a).isDefined();)a=n+ ++i;return this.nodeClass2ts(r,a)}return this.nodeClass2ts(r)},e.prototype.nodeClass2ts=function(e,t){for(var n=this,r=0;e instanceof S.Array;)e=e.component,r++;var i;if(e.isValueType()){var a=e,o=a.getNameAtRuntime()?a.getNameAtRuntime():e.nameId();i=new A.TSSimpleTypeReference(A.Universe,o)}else{var s=this.flattenUnionType(e);if(s.length>1&&(i=new A.AnyType,s.forEach(function(e){return i=i.union(n.nodeClass2ts(e))})),e instanceof S.Union){new A.AnyType;i=new A.AnyType,this.flattenUnion(e).forEach(function(e){return i=i.union(n.nodeClass2ts(e))}),e.nameId()&&(new A.TSTypeAssertion(this.module,e.nameId(),i),i=new A.TSSimpleTypeReference(A.Universe,e.nameId()))}else{e=s[0];var o=t?t:e.nameId();if(o&&this.module.getInterface(o).isDefined())i=this.module.getInterface(o).getOrThrow().toReference();else{o||(o=t);var u;if(o){var l=new A.TSInterface(this.module,o);u=l;var c=e.superTypes();c.forEach(function(e){l["extends"].push(n.nodeClass2ts(e))})}else u=new A.TSStructuralTypeReference(this.module);e.properties().forEach(function(e){var t=e.nameId(),r=e.isRequired(),i=e.range(),a=n.nodeClass2ts(i),o=new A.TSAPIElementDeclaration(u,t);o.optional=!r,o.rangeType=a}),i=u.toReference()}}}for(;r>0;)i=new A.TSArrayReference(i),r--;return i},e.prototype.flattenUnionType=function(e){if(e instanceof S.Union){var t=[];return t=t.concat(this.flattenUnionType(e.left)),t=t.concat(this.flattenUnionType(e.right))}return[e]},e.prototype.flattenUnion=function(e){if(e instanceof S.Union){var t=e,n=[].concat(this.flattenUnion(t.leftType())).concat(this.flattenUnion(t.rightType()));return n}return[e]},e.prototype.schema2ts=function(e,t,n){return void 0===n&&(n=!1),this.schemaNameToSchema[e.name()]||this.schemaContentToSchema[e.content()]||this.createSchema(e.name(),e.content(),t,n)},e.prototype.customizeMethod=function(e,t,n,r){var i=c(t.method());this.cfg.methodNamesAsPrefixes?i+=y.firstToUpper(c(g.parentResource(t).relativeUri().value())):("get"===t.method()&&this.cfg.collapseGet||n&&this.cfg.collapseOneMethod)&&(i="");var a=new C(e,i,t),o=t.queryParameters(),s=t.headers();if(o.length>0||s.length>0){var u=new A.TSStructuralTypeReference(a);if(this.cfg.createTypesForParameters)if(e.parent()instanceof E){var l=y.firstToUpper(e.parent().name)+y.firstToUpper(a.name)+"Options";u=new I(this.module,l)}else{var l=y.firstToUpper(e.name)+y.firstToUpper(a.name)+"Options";u=new I(this.module,l)}this.processParameters(u,o,""),this.processParameters(u,s,"header_"),this.cfg.reuseTypeForParameters&&this.collapseToTypeAliasOrAdd(u);var p=new A.Param(a,"options",2,u.toReference());p.optional=u.canBeOmmited(),a.parameters.push(p)}var m=[];t.responses().filter(function(e){return g.isOkRange(e)&&null!=e.body()}).forEach(function(e){return m=m.concat(e.body())});var d=this.schemes2ts(m,!0,t,"response"),h=new A.AnyType;if(t.body()&&(h=this.schemes2ts(t.body(),!1,t,"body")),h instanceof A.AnyType||a.parameters.push(new A.Param(a,"payload",1,h)),this.cfg.queryParametersSecond&&(a.parameters=a.parameters.reverse()),r&&(a.parameters=r.concat(a.parameters)),this.cfg.async){var f=new A.TSSimpleTypeReference(a,"Promise");f.typeParameters=[d],a.rangeType=f}else a.rangeType=d;new P.AnnotationProcessor(a,e).processAnnotations()},e.prototype.defaultTypeName=function(e,t,n){var r=g.parentResource(e),i=y.firstToUpper(e.method().toLowerCase())+r.relativeUri().value().split("/").map(function(e){return y.firstToUpper(f.escapeToIdentifier(e.toLowerCase()))}).join("")+y.firstToUpper(t.toLowerCase())+y.firstToUpper(n.toLowerCase());return i},e.prototype.generateFormSchema=function(e,t){for(var n="",r=g.completeRelativeUri(g.parentResource(t)).split("/"),i=r.length-1;i>=0;i--){var a=r[i];if(0!=a.trim().length){var o=a.indexOf("{");if(0!=o){0>o&&(o=a.length),n=a.substring(0,o);break}}}for(var s=y.firstToUpper(c(n))+y.firstToUpper(t.method())+"Form",u=s,i=1;this.module.getInterface(u).isDefined();)u=s+i++;var l=new A.TSInterface(this.module,u);return l.toReference()},e.prototype.collapseToTypeAliasOrAdd=function(e){var t=e.hash(),n=e,r=this.typeHashToType[t];if(r){for(var i=n.name,a=i,o=0;this.module.getInterface(a).isDefined();)o++,a=i+o;new A.TSTypeAssertion(this.module,a,r.toReference())}else this.typeHashToType[t]=n,this.module.addChild(n)},e.prototype.processParameters=function(e,t,n){var r=this;t.forEach(function(t){var i=new A.TSAPIElementDeclaration(e,n+t.name());i.rangeType=r.getParamType(t,i),i.optional=!t.required()})},e.prototype.buildConversion=function(){return this.raml2TSModel},e.prototype.getParamType=function(e,t){void 0===t&&(t=A.Universe);var n=e.type();if(0==n.length){var r=f.ramlType2TSType("string");return new A.TSSimpleTypeReference(t,r)}var i=new A.AnyType;return n.forEach(function(e){var n=f.ramlType2TSType(e),r=new A.TSSimpleTypeReference(t,n);i=i.union(r)}),i},e.prototype.mapRamlType=function(e){var t=this.typesMap[e];return t||(t="string"),t},e}();t.ShortStyleModelBuilder=x;var L=function(){function e(){this.strings=[]}return e.prototype.append=function(e){this.strings.push(e)},e.prototype.getResult=function(){return this.strings.join("")},e}(),O=function(){function e(e,t){this._api=e,this.generatedDeclarations=[],this.generatedCode=[],this.isInP=!1,this.level=0,this.isInPatch=!1,this.isInFunct=!1,this.isInFunction=!1,this.cfg=t}return e.prototype.betweenElements=function(){this.level>1&&this.generatedCode.push(",\n")},e.prototype.getResult=function(){return this.generatedCode.join("")},e.prototype.startTypeDeclaration=function(e){var t=this;return this.generatedCode.push("\n{\n"),this.isInP=this.isInPatch,this.isInPatch=!1,0==this.level&&(this.generateDeclarations(),this.level++,e.children().forEach(function(e){return t.writePatchPart(e,"(<any>this)",!1)}),this.generatedCode.push("}\n"),this.level--),this.level++,!0},e.prototype.genInvoke=function(){m(this._api)},e.prototype.generateConstructorParameters=function(){return"op:any={}"},e.prototype.generateOpAssignment=function(){return"this.options=op;"},e.prototype.generateDeclarations=function(){this.generatedCode.push("\n            private inv:invoker\n            private options:any\n            "+this.genInvoke()+"\n            constructor("+this.generateConstructorParameters()+"inv:invoker=null/*fixme*/){\n\n            "+this.generateOpAssignment()+"\n            ")},e.prototype.endTypeDeclaration=function(e){this.generatedCode.push("\n /* type ending */ }\n"),this.level--,this.isInPatch=this.isInP},e.prototype.startVisitElement=function(e){if(this.isInPatch||this.generatedCode.push(""+(e.isPrivate?"private ":"")+e.name),null!=e.rangeType&&e.rangeType.isFunctor())return this.generateFunctionInline(e),
!1;var t=e.rangeType;if(t&&t.array()&&(t=t.componentType),e.isFunction())if(this.isInPatch||this.isInFunction||this.generatedCode.push(this.level>1?":":this.isInFunct?":any =":"="),this.generatedCode.push(e.paramStr(!0)),this.generatedCode.push("=>{\n"),e.isInterfaceMethodWithBody())this.generatedCode.push(e.body());else{if(this.generatedCode.push("var res=<any> \n"),!t)throw new Error("Range type is not defined");(t instanceof A.TSSimpleTypeReference||t instanceof A.TSUnionTypeReference)&&(t instanceof _?this.subResourceProxyCreation(e,e.rangeType):this.generateCall(e))}else if(t instanceof _){var n=t;if(n.resourceInterface().isFunctor()){var r=this.isInFunct;this.isInFunct=!0;var i=n.resourceInterface().getFunctor();return i.visit(this),this.isInFunct=r,!1}this.isInPatch||this.generatedCode.push("="),this.subResourceProxyCreation(e,n)}else this.generatedCode.push(":"+e.rangeType.serializeToString()+"\n                ");return!0},e.prototype.subResourceProxyCreation=function(e,t){var n=this,r=t.resourceInterface().resource().originalResource.relativeUri().value();this.generatedCode.push("new "+t.name+"Impl("),this.generatedCode.push(g.baseUriParameters(this._api).map(function(e){return"this."+e.name()+", "}).join("")),e.parameters.forEach(function(e){return n.generatedCode.push(e.name+", ")}),this.generatedCode.push("this,this.canonicPath.concat('"+r+"'))\n");var i=null;this.genSubResource(e,i,t)},e.prototype.genSubResource=function(e,t,n){var r=new D(e,t,this.cfg,this._api);n.resourceInterface&&n.resourceInterface().visit(r),this.generatedDeclarations=this.generatedDeclarations.concat(r.generatedDeclarations),this.generatedDeclarations.push("class "+n.name+"Impl\n"+r.getResult())},e.prototype.generateFunctionInline=function(e){var t=this.isInFunct,n=this.isInFunction;this.isInFunct=!0,e.isFunction()&&(this.generatedCode.push(e.paramStr()+":any"+(this.isInPatch?"=>":"")+"{\n"),this.generatedCode.push("var result:any= "),this.isInFunction=!0);var r=e.rangeType.getFunctor();null!=r?r.visit(this):this.generatedCode.push("{}\n"),e.isFunction()&&(this.writePatchPart(e,"result",!0),this.generatedCode.push("return result\n"),this.generatedCode.push("}\n")),this.isInFunct=t,this.isInFunction=n},e.prototype.generateCall=function(e){if(!(e instanceof C))throw new Error("Should never happen");var n=e,r=g.absoluteUri(n.originalResource);this.cfg.collapseMediaTypes&&(r=r.replace("{"+t.MEDIA_TYPE_SUFFIX+"}","JSON"),r=r.replace("{"+t.MEDIA_TYPE_EXTENSION+"}",".json"));var i=this.urlTemplate(r,e);this.generatedCode.push("this.invoke("+i+",'"+n.originalMethod.method()+"',this.canonicPath,{\n"),this.generatedCode.push(n.parameters.filter(function(e){return!e.isEmpty()}).map(function(e){return'"'+e.name+'":'+e.name+"\n"}).join(", ")),this.generatedCode.push("});\n")},e.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&g.baseUriParameters(this._api).forEach(function(e){n[e.name()]=!0});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},e.prototype.writePatch=function(e,t){var n=this;e.rangeType&&e.rangeType.children().forEach(function(e){null!=e.rangeType&&e.rangeType.isFunctor()&&e.rangeType.children().forEach(function(r){if(!r.isAnonymousFunction()){var i=t+"."+e.name+"."+r.name;n.generatedCode.push(i+"="),n.writePatchDetails(r),n.writePatchPart(r,i,!1)}})})},e.prototype.writePatchDetails=function(e){var t=this.isInPatch;this.isInPatch=!0,e.visit(this),this.isInPatch=t,this.generatedCode.push(";\n")},e.prototype.writePatchPart=function(e,t,n){var r=this;null==e.rangeType||!e.rangeType.isFunctor()||e.isFunction()&&!n||e.rangeType.children().forEach(function(i){if(!i.isAnonymousFunction()){var a=t+"."+(n?"":e.name+".")+i.name;r.generatedCode.push(a+"="),r.writePatchDetails(i)}})},e.prototype.endVisitElement=function(e){e.isFunction()&&(this.writePatch(e,"res"),e.isInterfaceMethodWithBody()||this.generatedCode.push("return res;"),this.generatedCode.push("/*d*"+e.name+"*/}"),this.generatedCode.push("\n"))},e}(),k=function(e){function t(t,n,r){e.call(this,t,n),this.serializeOptions=r}return h(t,e),t.prototype.generateDeclarations=function(){var e=this._api.baseUri()?this._api.baseUri().value():"";e=e?e:"",y.stringEndsWith(e,"/")&&(e=e.substring(0,e.length-1)),this.generatedCode.push("private baseUrl:string='"+e+"'\n"),this.generateVersionFieled(),this.generatedCode.push("private cfgEncoded=/*CONFIGENCODEDSTART*/"+JSON.stringify(this.cfg)+";/*CONFIGENCODEDEND*/\n"),this.generatedCode.push("\ndeclaration():RamlWrapper.Api{\n    var serializeOptions = "+JSON.stringify(this.serializeOptions)+";\n    var unit = new JsonModel.CompilationUnit(null,null,apiProvider.api(),null,true,serializeOptions);\n    var highLevelNode:highLevel.IHighLevelNode = new highLevelImpl.ASTNodeImpl(unit.ast(),null,<any>apiType,null);\n    var api : RamlWrapper.Api = new RamlWrapper.ApiImpl(highLevelNode);\n    endpoints.setApi(api);\n    return api;\n}\n\nsecurityProvider():authManager.SecurityParametersProvider{\n    var api:RamlWrapper.Api = this.declaration();\n    return env.getSecurityProvider().getSubProvider(api.title()).getSubProvider(api.version());\n}\n\n"),this.generatedCode.push("authentificate(schemaName:string, options?:any){}\n"),this.generateAuthentification(),this.generateBaseUrlResolveCall(),this.generatedCode.push("\n            private inv:executor.APIExecutor\n            private options:any\n            private canonicPath:string[] = []\n            "+this.genInvoke()+"\n\n            authenticate(schemaName?:string,options?:any):any{return null;}\n\n            constructor("+this.generateConstructorParameters()+"){\n                this.inv=new executor.APIExecutor(this.declaration(),this.baseUrlResolved(),<any>this.cfgEncoded);\n                "+this.generateOpAssignment()+"\n            ")},t.prototype.generateVersionFieled=function(){var e=g.baseUriParameters(this._api).filter(function(e){return"version"==e.name()});e.length>0&&this.generatedCode.push("private version = '"+(this._api.version()?this._api.version():1)+"';")},t.prototype.genInvoke=function(){var e=m(this._api),t=this.cfg&&this.cfg.async?"executeAsync":"execute";return"\n        invoke(path:string,method:string,canonicPath:string[],obj:any){\n            env.registerApi(this.declaration())\n            env.getAuthManager().registerSchemes(this.declaration(),"+e.register+")\n            return this.inv."+t+"(path,method,obj,canonicPath)\n        }"},t.prototype.generateParameterReplace=function(){var e="";return g.baseUriParameters(this._api).forEach(function(t){e=e+"burl=burl.replace('{"+t.name()+"}',this."+t.name()+")\n"}),e},t.prototype.generateOpAssignment=function(){return""},t.prototype.generateBaseUrlResolveCall=function(){this.generatedCode.push("baseUrlResolved():string{\n        var burl=this.baseUrl;\n        "+this.generateParameterReplace()+"\n        return burl;\n        }")},t.prototype.generateConstructorParameters=function(){var e=[];return this._api.baseUriParameters().forEach(function(t){"version"!=t.name()&&e.push("private "+t.name()+":string")}),e.join(",")},t.prototype.generateAuthentification=function(){this.generatedCode.push("log(vName:string,val:any){this.inv.log(vName,val);return val;}")},t}(O),D=function(e){function n(t,n,r,i){e.call(this,i,r),this._decl=t,this._parent=n}return h(n,e),n.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&t.parameters.forEach(function(e){0===e.location&&(n[e.name]=!0)});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},n.prototype.subResourceProxyCreation=function(e,n){var r=this,i=n.resourceInterface().resource().originalResource.relativeUri().value();this.generatedCode.push("new "+n.name+"Impl(");for(var a=this,o=[],s=g.baseUriParameters(this._api).map(function(e){return"this."+e.name()});a;)a._decl.parameters&&a._decl.parameters.length>0&&o.push(a._decl),a=a._parent;o.reverse().forEach(function(e){return e.parameters.filter(function(e){return e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX}).forEach(function(e){return s.push("this."+e.name)})}),this.generatedCode.push(s.map(function(e){return e+", "}).join("")),e.parameters.forEach(function(e){return r.generatedCode.push(e.name+", ")}),this.generatedCode.push("this, this.canonicPath.concat('"+i+"'))\n");var u=this;this.genSubResource(e,u,n)},n.prototype.extraParams=function(){for(var e=this,n=[],e=this;e;e=e._parent)n.push(e._decl);var r=g.baseUriParameters(this._api).map(function(e){return"private "+e.name()});return n.reverse().forEach(function(e,i){var a=e.parameters.filter(function(e){return i==n.length-1||e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX});r=r.concat(a.map(function(e){return"private "+e.name}))}),r.map(function(e){return e+", "}).join("")},n.prototype.generateDeclarations=function(){var e=this.extraParams(),t="";e.indexOf("mediaTypeExtension")>=0&&(t='if(this.mediaTypeExtension){\n                if(this.mediaTypeExtension.length>0){\n                    this.mediaTypeExtension = ("." + this.mediaTypeExtension).replace("..",".")\n                }\n            }'),this.generatedCode.push("\n\n            invoke(path:string,method:string,canonicPath:string[],obj:any){\n                return this._parent.invoke(path,method,canonicPath,obj);\n            }\n\n\n            constructor("+e+"\n                private _parent:{invoke(path:string,method:string,canonicPath:string[],obj:any):void},\n                private canonicPath:string[]){\n                "+t+"\n            ")},n}(O),U=(function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.startTypeDeclaration=function(e){return this.append("{/*ts*/"),!0},t.prototype.endTypeDeclaration=function(e){this.append("}")},t.prototype.betweenElements=function(){this.append(",")},t.prototype.startVisitElement=function(e){return e.isFunction(),!0},t.prototype.endVisitElement=function(e){this.append("}")},t}(L),function(){function e(e,n,r){var i=this;void 0===r&&(r={}),this._api=e,this.serializeOptions=r,this.tsModule2Src=function(e){var n=m(i._api),r=new k(i._api,i.cfg,i.serializeOptions);i.cfg.debugOptions.generateImplementation&&e.getInterface("Api").value().visit(r),e.getInterface("Api").getOrThrow().addCode("declaration():RamlWrapper.Api;"),e.getInterface("Api").getOrThrow().addCode("securityProvider():authManager.SecurityParametersProvider;"),e.getInterface("Api").getOrThrow().addCode("authenticate(schemaName?:string,options?:any):any;"),e.getInterface("Api").value().addCode("log(vName:string,val:any)");var a="\n\n"+(i.cfg.storeHarEntry?"export interface UnknownResponse{ "+t.HAR_ENTRY_FIELD_NAME+" : har.Entry }":"")+"\nexport interface payloadType{}\nexport interface responseType{}\nexport interface invoker{ (url:String,method:string,options:any):any; }\nexport class ApiImpl implements Api "+r.getResult()+"\n            ",o="";return e.children().forEach(function(e){return o+=e.serializeToString()}),a=r.generatedDeclarations.join("")+o+a,a+="\n var meta={}",'import fs=require("fs")\nimport path=require("path")\nimport RamlWrapper=require("../raml1/artifacts/raml10parser")\nimport executor=require("./executor")\nimport env=require("./executionEnvironment")\nimport authManager=require("./authenticationManager")\nimport endpoints=require("./endpoints")\nimport JsonModel=require(\'../raml1/jsyaml/json2lowLevel\')\nimport lowLevel=require("../raml1/lowLevelAST")\nimport highLevel=require("../raml1/highLevelAST")\nimport highLevelImpl=require("../raml1/highLevelImpl")\nimport raml2ts1=require("./raml2ts1")\nimport AnnotationsImpl=require("./annotationsImpl")\nimport apiProvider=require("./deps/apiProvider")\n\n'+n.imports+'\n\nvar universe10 = require("../raml1/definition-system/universeProvider")("RAML10");\nvar apiType = universe10.type("Api")\n\nenv.setPath(__dirname);\nenv.getReportManager().setLogPath(__dirname);\n\n\n'+a},this.cfg=n}return e.prototype.buildConversion=function(){return this.tsModule2Src},e}());t.apiProviderContent=d},function(e,t,n){function r(e,t){var n=i(e);if(!n)return new s.AnyType;var r=n.rangeType.componentType;return r}function i(e){if(a(e)){var t=e.typeParameters;if(t&&t.length>0)return i(t[0])}if(e instanceof s.TSDeclaredInterfaceReference)for(var n=e.getOriginal(),r=n.children(),o=0;o<r.length;o++){var u=r[o];if(u.rangeType.array())return u}return null}function a(e){if(e instanceof s.TSSimpleTypeReference){var t=e.name;if("Promise"==t)return!0}return!1}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(121),u=n(23),l=function(){function e(e,t,n,r){this.method=e,this.pageSizeParam=t,this.offsetParam=n,this.collectionField=r}return e.prototype.forEach=function(e,t){void 0===t&&(t={});var n=5;t[this.pageSizeParam]=n;for(var r=0;!0;r++){t[this.offsetParam]=r*n;var i=this.method(t),a=this.getMainCollection(i);if(!a)break;a.forEach(e)}},e.prototype.itemAt=function(e,t){void 0===t&&(t={}),t.form_limit=1,t.form_skip=e;var n=this.method(t),r=this.getMainCollection(n);return r?r[0]:null},e.prototype.getMainCollection=function(e){if(this.collectionField){var t=e[this.collectionField];return Array.isArray(t)&&t.length>0?t:null}for(var n=Object.keys(e),r=0;r<n.length;r++){var t=e[n[r]];if(Array.isArray(t))return t.length>0?t:null}},e}();t.PagingImpl=l;var c=function(){function e(e,t,n,r){this.method=e,this.pageSizeParam=t,this.offsetParam=n,this.collectionField=r}return e.prototype.forEach=function(e,t){void 0===t&&(t={});var n=5;t[this.pageSizeParam]=n;var r=function(i){var a=this;t[this.offsetParam]=i*n;var o=this.method(t);o.then(function(t){var n=a.getMainCollection(t);n&&(n.forEach(e),r(i+1))})};r(0)},e.prototype.itemAt=function(e,t){var n=this;void 0===t&&(t={}),t.form_limit=1,t.form_skip=e;var r=this.method(t);return r.then(function(e){var t=n.getMainCollection(e);return t?t[0]:null})},e.prototype.getMainCollection=function(e){if(this.collectionField){var t=e[this.collectionField];return Array.isArray(t)&&t.length>0?t:null}for(var n=Object.keys(e),r=0;r<n.length;r++){var t=e[n[r]];if(Array.isArray(t))return t.length>0?t:null}},e}();t.PagingImplAsync=c;var p=function(){function e(e,t){this.method=e,this.parent=t}return e.prototype.processAnnotations=function(){var e=this;this.method.originalMethod.annotations().map(function(e){return e.value()}).forEach(function(t){if(t instanceof u.StructuredValue){var n=t;n.valueName().indexOf(".paging")>0&&e.processPagingAnnotation(n)}})},e.prototype.processPagingAnnotation=function(e){new f(this.parent,this.method),new m(this.parent,this.method,e),new d(this.parent,this.method),new h(this.parent,this.method)},e}();t.AnnotationProcessor=p;var m=function(e){function t(t,n,o){e.call(this,t,"initPaging"),this.method=n,this.annotation=o;var u=o.children(),l={};u.forEach(function(e){var t=e.lowLevel().value(),n=t.indexOf("application/x-www-form-urlencoded")>=0||t.indexOf("application/form-data")>=0?"form_":"",r=n+t.substring(t.lastIndexOf(".")+1);l[e.valueName()]=r});var c=i(this.method.rangeType),p=c.name,m=a(n.rangeType)?"PagingImplAsync":"PagingImpl",d=[r(this.method.rangeType,this),this.method.rangeType].concat(this.method.parameters.map(function(e){return e.ptype})).map(function(e){return e.serializeToString()}).join(",");this._body="\n            if(!this.pagingImpl){\n                this.pagingImpl = new AnnotationsImpl."+m+"<"+d+">(this."+this.method.name+",'"+l.pageSize+"','"+l.offset+"','"+p+"');\n            }\n        ",this.rangeType=new s.TSSimpleTypeReference(this,"void"),this.isPrivate=!0,this.isFunc=!0}return o(t,e),t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),d=function(e){function t(t,n){e.call(this,t,"forEach"),this.method=n,this.initParams(),this._body="\n            this.initPaging();\n            return this.pagingImpl.forEach("+this.parameters.map(function(e){return e.name}).join(",")+");\n        ",this.rangeType=new s.TSSimpleTypeReference(this,"void"),this.componentType=r(this.method.rangeType,this)}return o(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * Apply function to all the elements of the collection\n         **/\n            "},t.prototype.initParams=function(){var e=this,t=new s.TSFunctionReference(this);t.parameters.push(new s.Param(this,"x",3,r(this.method.rangeType,this),null)),this.parameters.push(new s.Param(this,"f",3,t,null)),this.method.parameters.forEach(function(t,n){var r=new s.Param(e,"options"+(n>0?n:""),3,t.ptype,{});e.parameters.push(r)})},t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),h=function(e){function t(t,n){e.call(this,t,"itemAt"),this.method=n,this.initParams(),this._body="\n            this.initPaging();\n            return this.pagingImpl.itemAt("+this.parameters.map(function(e){return e.name}).join(",")+");\n        ",this.componentType=r(this.method.rangeType,this),a(n.rangeType)?(this.rangeType=new s.TSSimpleTypeReference(this,"Promise"),this.rangeType.typeParameters=[this.componentType]):this.rangeType=this.componentType}return o(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * Retrieve certain element of the collection\n         * @param i element index\n         **/\n            "},t.prototype.initParams=function(){var e=this;this.parameters.push(new s.Param(this,"i",3,new s.TSSimpleTypeReference(this,"number"))),this.method.parameters.forEach(function(t,n){var r=new s.Param(e,"options"+(n>0?n:""),3,t.ptype,{});e.parameters.push(r)})},t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),f=function(e){function t(t,n){e.call(this,t,"pagingImpl"),this.method=n;var i=a(n.rangeType)?"PagingImplAsync":"PagingImpl",o=new s.TSSimpleTypeReference(this,"AnnotationsImpl."+i);this.rangeType=o,o.typeParameters=[r(this.method.rangeType,this),this.method.rangeType].concat(this.method.parameters.map(function(e){return e.ptype})),this.isPrivate=!0}return o(t,e),t}(s.TSAPIElementDeclaration)},function(e,t,n){function r(e){return o.escapeToJavaIdentifier(e)}function i(e){return{__$$ROOT_PACKAGE__:e.rootPackage,__$$MAVEN_GROUP_ID__:e.mavenGroupId,__$$MAVEN_ARTIFACT_ID__:e.mavenArtifactId,__$$MAVEN_ARTIFACT_VERSION__:e.mavenArtifactVersion,__$$PROJECT_NAME__:e.projectName}}function a(e){return{__$$ROOT_PACKAGE__:e.rootPackage.replace(/\./g,"/")}}var o=n(119),s=n(66),u=n(95),l=n(137),c=n(121),p=n(190),m=n(10),d=n(143),h=n(4),f=function(){function e(e){e&&(this.apiPath=e.apiPath,this.rootPackage=e.rootPackage,this.sourceFolderAbsolutePath=e.sourceFolderAbsolutePath,this.resourcesFolderAbsolutePath=e.resourcesFolderAbsolutePath,this.dstWorkspacePath=e.dstWorkspacePath,this.projectName=e.projectName,this.pretty=e.pretty,this.mavenGroupId=e.mavenGroupId,this.mavenArtifactId=e.mavenArtifactId,this.mavenArtifactVersion=e.mavenArtifactVersion,this.forceDelete=e.forceDelete,this.javascriptTemporaryFolder=e.javascriptTemporaryFolder)}return e.prototype.sourcePath=function(){if(this.sourceFolderAbsolutePath)return this.sourceFolderAbsolutePath;if(!this.dstWorkspacePath||!this.projectName)throw new Error("Can not determine destination source folder path. Please, specify 'sourceFolderAbsolutePath' or 'dstWorkspacePath' and 'projectName'");return m.resolve(m.resolve(this.dstWorkspacePath,this.projectName),"src/main/java")},e.prototype.resourcePath=function(){if(this.resourcesFolderAbsolutePath)return this.resourcesFolderAbsolutePath;if(!this.dstWorkspacePath||!this.projectName)throw new Error("Can not determine destination resource folder path. Please, specify 'resourcesFolderAbsolutePath' or 'dstWorkspacePath' and 'projectName'");return m.resolve(m.resolve(this.dstWorkspacePath,this.projectName),"src/main/resources")},e.prototype.clientProjectPath=function(){return m.resolve(this.dstWorkspacePath,this.projectName)},e.prototype.pathReplacements=function(){return a(this)},e.prototype.contentReplacements=function(){return i(this)},e}();t.Config=f;var y=function(){function e(e,t,n){this.modelClasses={},this.assertionMap={},this.unionTypes=new c.TSAPIModule,this.tsModule=e,this.api=t,this.cfg=n,this.init()}return e.prototype.serializeAll=function(){var e=this;if(this.tsModule.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.setPackage(t)}),this.tsModule.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.serializeInterface(t)}),this.tsModule.children().filter(function(e){return e instanceof c.TSTypeAssertion}).forEach(function(t){return e.serializeTypeAssertion(t)}),this.unionTypes.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.serializeInterface(t)}),this.serializeJaxbProperties(),this.api.securitySchemes().length>0){var t=this.createSecurityModule();this.serializeSecurityModule(t)}},e.prototype.setPackage=function(e){var t="client";this.isModel(e)?t="model":this.isOptions(e)&&(t="options"),e.meta.subpackage=t},e.prototype.serializeInterface=function(e,t){t||(t=e.name),"client"==e.meta.subpackage?this.serializeClient(e):this.serializeModel(e,r(t))},e.prototype.serializeTypeAssertion=function(e){var t=e.name(),n=this.assertionMap[t];if(n){var r=this.tsModule.getInterface(n);r.isDefined()&&this.serializeInterface(r.getOrThrow(),t)}},e.prototype.serializeModel=function(e,t,n){var i=this;n||(n=e.meta.subpackage);var a={"import javax.xml.bind.annotation.XmlElement;":!0};e.children().filter(function(e){return e.rangeType.array()}).length>0&&(a["import java.util.List;"]=!0),this.isUnionType(e)&&(a["import "+this.cfg.rootPackage+".client.executor.UnionType;"]=!0);var o=[];e.children().forEach(function(e){var u=e.name,l=r(u),p=e.rangeType,m=p.array();if(m&&(p=p.componentType),p instanceof c.AnyType)o.push('    @XmlElement(name="'+u+'")\n    public '+(m?"List<Object>":"Object")+" "+l+";");else if(p instanceof c.TSSimpleTypeReference){var d=p,h=i.convertType(d.name);if(p instanceof c.TSDeclaredInterfaceReference){var f=p.getOriginal(),y=f.meta.subpackage;y!=n&&(a["import "+i.cfg.rootPackage+"."+y+"."+h+";"]=!0)}o.push('    @XmlElement(name="'+u+'")\n    public '+(m?"List<"+h+">":h)+" "+l+";")}else if(p instanceof c.TSUnionTypeReference){var h=i.getUnionTypeInterface(p,n).name;o.push('    @XmlElement(name="'+u+'")\n    public '+(m?"List<Object>":"Object")+" "+l+";")}else if(p instanceof c.TSStructuralTypeReference){var v=p,g=t+s.firstToUpper(l);i.serializeModel(v,g,n),o.push('    @XmlElement(name="'+u+'")\n    public '+(m?"List<"+g+">":g)+" "+l+";")}});var u=this.isUnionType(e)?" extends UnionType":"",l="package "+this.cfg.rootPackage+"."+n+";\n\n"+Object.keys(a).sort().join("\n")+"\n\npublic class "+t+u+" {\n\n"+o.join("\n\n\n")+"\n\n}",p=this.rootPackagePath()+"/"+n.replace(/\./g,"/")+"/"+t+".java";this.write(p,l)},e.prototype.serializeClient=function(e,t,n,i,a){var o=this;if(e instanceof p.ResourceMappedInterface){var s=e,l=s.resource().originalResource;n=u.absoluteUri(l),i=u.absoluteUriParameters(l),a=u.relativeUriSegments(l),t=s.name}else e instanceof c.TSInterface&&(n=this.api.baseUri().value(),i=[].concat(u.baseUriParameters(this.api)),a=[],t="Api");var m="Api"==t,d=m&&this.api.securitySchemes().length>0,h=[],f=['private String uri = "'+n+'";\n    private String[] relativeUriSegments = new String[]{'+a.map(function(e){return'"'+e+'"'}).join(", ")+"};"],y=[];m?(f.push("private final JavaExecutor executor;"),y.push("this.executor = new JavaExecutor();"),i.filter(function(e){return"version"==e.name()}).length>0&&y.push('this.version = "'+(this.api.version()?this.api.version():1)+'";')):(y.push("this.executor = executor;"),f.push("private final JavaExecutor executor;")),i.forEach(function(e){return f.push("private final "+o.paramDecl(e)+";")}),i.filter(function(e){return!("version"==e.name()&&m)}).forEach(function(e){return y.push("this."+r(e.name())+" = "+r(e.name())+";")}),i.forEach(function(e){return y.push('this.uri = this.uri.replace("{'+e.name()+'}",this.'+r(e.name())+");")});var v={};v["import "+this.cfg.rootPackage+".client.executor.JavaExecutor;"]=!0,d&&(v["import "+this.cfg.rootPackage+".client.security.ApiSecurity;"]=!0),e.children().filter(function(e){return e instanceof p.TSResourceMappedApiElement&&!(e instanceof p.TSFullyMappedApiElement)}).forEach(function(e){var s=e,l=s.originalResource,m=e.name,d=r(m),g=u.uriParameters(l),b=i.concat(g),S=e.rangeType,A="Object";if(S instanceof p.ResourceMappedReference)A=S.name;else if(S instanceof c.TSStructuralTypeReference){var T=S;A=t+d;var w=l.relativeUri().value(),P=n+w;o.serializeClient(T,A,P,b,a.concat(w))}else S instanceof c.TSUnionTypeReference&&(A=o.getUnionTypeInterface(S,"client").name,v["import "+o.cfg.rootPackage+".client.union."+A+";"]=!0);A&&(g.length>0?h.push("    public "+A+" "+d+"("+g.map(function(e){return o.paramDecl(e)}).join(", ")+"){\n        return new "+A+"(this.executor"+i.map(function(e){return", this."+r(e.name())}).concat(g.map(function(e){return", "+r(e.name())})).join("")+");\n    }"):(f.push("final public "+A+" "+d+";"),y.push("this."+d+" = new "+A+"(this.executor"+i.map(function(e){return", this."+r(e.name())}).join("")+");")))}),e.isFunctor()&&this.serializeMethod(e.children().filter(function(e){return e.isAnonymousFunction()})[0],v,h,"self"),e.children().filter(function(e){return e instanceof p.TSFullyMappedApiElement}).forEach(function(e){return o.serializeMethod(e,v,h)});var g="package "+this.cfg.rootPackage+".client;\n\n"+Object.keys(v).sort().join("\n")+"\n\npublic class "+t+" {\n\n    "+(m?"public ":"")+t+"("+("Api"!=t?"JavaExecutor executor":"")+i.filter(function(e){return!("version"==e.name()&&m)}).map(function(e){return", "+o.paramDecl(e)}).join("")+"){\n\n"+y.map(function(e){return"         "+e}).join("\n\n")+"\n\n    }\n\n\n"+f.map(function(e){return"    "+e}).join("\n\n\n")+"\n\n\n\n\n"+h.join("\n\n\n")+"\n\n\n\n\n";d&&(g+="\n    public ApiSecurity security(){\n        return new ApiSecurity(this.executor);\n    }\n\n"),g+="}";var b=this.rootPackagePath()+"/client/"+t+".java";this.write(b,g)},e.prototype.serializeMethod=function(e,t,n,i){var a=this;if(!i){var s=e.name;i=r(s)}var u=e.rangeType;u.array()&&(u=u.componentType);var l="Object";if(u instanceof c.TSSimpleTypeReference){l=u.name;var p=!1,m=this.typeAssertion(l);if(m){var d=m.ref();d instanceof c.TSUnionTypeReference&&(this.getUnionTypeInterface(d,"model",l),o.tsToJavaTypeMap[l]?l=o.tsToJavaTypeMap[l]:t["import "+this.cfg.rootPackage+".model.union."+l+";"]=!0,p=!0)}p||(o.tsToJavaTypeMap[l]?l=o.tsToJavaTypeMap[l]:t["import "+this.cfg.rootPackage+".model."+l+";"]=!0)}else u instanceof c.TSUnionTypeReference&&(l=this.getUnionTypeInterface(u,"model").name,o.tsToJavaTypeMap[l]?l=o.tsToJavaTypeMap[l]:t["import "+this.cfg.rootPackage+".model.union."+l+";"]=!0);var h,f,y=!1,v=!1,g=e.parameters.map(function(e){var n=e.name,o=e.ptype,s="";if(o instanceof c.TSDeclaredInterfaceReference){var u=o.name;s=r(u),"payload"==n&&a.modelClasses[u]?(t["import "+a.cfg.rootPackage+".model."+s+";"]=!0,h=s,y=!0):(t["import "+a.cfg.rootPackage+".options."+s+";"]=!0,f=s,v=!0)}else if(o instanceof c.TSStructuralTypeReference)s=i+n,a.serializeModel(o,s,"options"),t["import "+a.cfg.rootPackage+".options."+s+";"]=!0;else if(o instanceof c.TSUnionTypeReference){var l=o;"payload"==n&&a.modelClasses[u]?(s=a.getUnionTypeInterface(l,"model").name,t["import "+a.cfg.rootPackage+".model.union."+s+";"]=!0,h=s,y=!0):(s=a.getUnionTypeInterface(l,"options").name,t["import "+a.cfg.rootPackage+".options.union."+s+";"]=!0,f=s,v=!0)}return""+s+("options"==n?"...":"")+" "+n}),b=e.originalMethod.method();n.push("    public "+l+" "+i+"("+g.join(", ")+'){\n        return this.executor.invoke(this.uri, this.relativeUriSegments, "'+b+'", '+l+".class, "+(h?h+".class":"null")+", "+(f?f+".class":"null")+", "+(y?"payload":"null")+", "+(v?"options":"null")+");\n    }")},e.prototype.paramDecl=function(e){var t=e.type(),n=t&&t.length>0?t[0]:"string";return this.convertType(n)+" "+r(e.name())},e.prototype.rootPackagePath=function(){return this.cfg.rootPackage.replace(/\./g,"/")},e.prototype.write=function(e,t){var n=m.resolve(this.cfg.sourcePath(),e);d.sync(m.dirname(n)),h.writeFileSync(n,t)},e.prototype.convertType=function(e){var t=o.tsToJavaTypeMap[e];return t?t:e},e.prototype.isModel=function(e){return e instanceof c.TSInterface?e instanceof p.ResourceMappedInterface?!1:e instanceof p.OptionsInterface?!1:"Api"==e.name?!1:!0:!1},e.prototype.isOptions=function(e){return e instanceof p.OptionsInterface},e.prototype.isUnionType=function(e){return e.meta.isUnionType},e.prototype.init=function(){var e=this;this.tsModule.children().filter(function(t){return e.isModel(t)}).forEach(function(t){return e.modelClasses[t.name]=t}),this.tsModule.children().filter(function(e){return e instanceof c.TSTypeAssertion}).forEach(function(t){var n=t;if(n.ref()instanceof c.TSSimpleTypeReference){var r=n.ref();e.assertionMap[n.name()]=r.name}})},e.prototype.createSecurityModule=function(){var e=this,t=new c.TSAPIModule,n=new c.TSInterface(t,"ApiSecurity");return this.api.securitySchemes().forEach(function(r){var i=e.createSecuritySchemeClass(r,t),a=new c.TSAPIElementDeclaration(n,"get"+i.name);a.isFunc=!0,a.rangeType=i.toReference(),a.meta.type="schemaGetter"}),this.addSecurityParamSetter(n),t},e.prototype.createSecuritySchemeClass=function(e,t){var n=this,i=e.name(),a=s.firstToUpper(r(i)),o=new c.TSInterface(t,a),u=new c.TSAPIElementDeclaration(o,"schemaName");u.isPrivate=!0,u.meta.value=i,u.rangeType=new c.TSSimpleTypeReference(u,"string");var p=e.type(),m=[],d=[],h=e.describedBy();if(h&&(m=h.headers(),d=h.queryParameters()),p==l.SCHEMA_TYPE_OAUTH2)this.addSecurityParamSetter(o,"clientId"),this.addSecurityParamSetter(o,"clientSecret"),this.addSecurityParamSetter(o,"accessToken");else if(p==l.SCHEMA_TYPE_OAUTH1);else if(p==l.SCHEMA_TYPE_DIGEST);else if(p==l.SCHEMA_TYPE_BASIC)this.addSecurityParamSetter(o,"username"),this.addSecurityParamSetter(o,"password");else if(s.stringStartsWith(p,"x-")){m.forEach(function(e){return n.addSecurityParamSetter(o,e.name())}),d.forEach(function(e){return n.addSecurityParamSetter(o,e.name())});e.settings()}return o},e.prototype.addSecurityParamSetter=function(e,t){var n=t?"set"+s.firstToUpper(r(t)):"setParamValue",i=new c.TSAPIElementDeclaration(e,n);if(t)i.meta.actualName=t;else{var a=new c.Param(i,"paramName",3);i.parameters.push(a)}var a=new c.Param(i,"paramValue",3);i.parameters.push(a),i.meta.type="paramSetter",i.rangeType=new c.TSSimpleTypeReference(i,"void")},e.prototype.serializeSecurityModule=function(e){var t=this;e.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(e){return t.seralizeSecurityClass(e)})},e.prototype.seralizeSecurityClass=function(e){var t=this,n=e.name,r=e.children().filter(function(e){return!e.isFunction()}).map(function(e){return t.serializeSecurityField(e)}),i=e.children().filter(function(e){return e.isFunction()}).map(function(e){return t.serializeSecurityMethod(e)}),a=["import "+this.cfg.rootPackage+".client.executor.JavaExecutor;","import "+this.cfg.rootPackage+".client.security.core.JavaApiSecurity;"],o="package "+this.cfg.rootPackage+".client.security;\n\n"+a.join("\n")+"\n\npublic class "+n+" extends JavaApiSecurity{\n\n    public "+n+"(JavaExecutor executor){\n        super(executor);\n    }\n\n\n"+r.join("\n\n")+"\n\n\n"+i.join("\n\n")+"\n\n}",s=this.rootPackagePath()+"/client/security/"+n+".java";this.write(s,o)},e.prototype.serializeSecurityField=function(e){
var t=e.meta.value;return"    "+(e.isPrivate?"private":"public")+" "+this.convertType(e.rangeType.serializeToString())+" "+e.name+(t?' = "'+t.toString()+'"':"")+";"},e.prototype.serializeSecurityMethod=function(e){var t=this,n=this.convertType(e.rangeType.serializeToString()),r="//some method body";if("paramSetter"==e.meta.type){var i=e.meta.actualName,a=i?"this.schemaName":"null",o=i?'"'+i+'"':"paramName";r="super.setValue("+o+", paramValue, "+a+");"}else"schemaGetter"==e.meta.type&&(r="return new "+n+"(this.executor);");return"    "+(e.isPrivate?"private":"public")+" "+n+" "+e.name+"("+e.parameters.map(function(e){return t.convertType(e.ptype.serializeToString())+" "+e.name}).join(", ")+"){\n        "+r+"\n    }"},e.prototype.serializeJaxbProperties=function(){var e="javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory",t=m.resolve(this.cfg.sourcePath(),this.rootPackagePath());["model","options"].map(function(e){return m.resolve(t,e)}).filter(function(e){return h.existsSync(e)}).forEach(function(t){return h.writeFileSync(m.resolve(t,"jaxb.properties"),e)})},e.prototype.getUnionTypeInterface=function(e,t,n){var r=this,i=e.children().filter(function(e){return e instanceof c.TSSimpleTypeReference}).map(function(e){return e});return n||(n=i.map(function(e){return e.name}).join("")+"Union"),this.unionTypes.getInterface(n).getOrElseF(function(){var e=new c.TSInterface(r.unionTypes,n);return i.forEach(function(t){var n=new c.TSAPIElementDeclaration(e,t.name);n.rangeType=t}),e.meta.isUnionType=!0,e.meta.subpackage=t+".union",e})},e.prototype.typeAssertion=function(e){var t=this.tsModule.children().filter(function(t){return t instanceof c.TSTypeAssertion?t.name()==e:void 0}).map(function(e){return e});return 0==t.length?null:t[0]},e}();t.Serializer=y,t.escape=r,t.contentReplacements=i,t.pathReplacements=a},function(e,t,n){function r(e,t){var n=t.resourcePath();m.sync(n);var r=i(""),h=p.resolve(e,"executorWrapper.ts");c.writeFileSync(h,a());var f="jsClient.instrumented",y=f+".ts",v=p.resolve(e,y);c.writeFileSync(v,r),c.writeFileSync(p.resolve(n,"apiEncoded.json"),c.readFileSync(p.resolve(e,"apiEncoded.json")).toString()),l.compile([h,v],"--sourcemap --module commonjs");var g={context:e,entry:"./"+f,output:{path:n,filename:d},resolve:{aliase:{XMLHttpRequest:"xmlhttprequest"}},externals:[{"./deps/apiProvider":"apiProvider",apiProvider:!0,"z-schema":"schema",child_process:!0,http:!0,https:!0,fs:!0,console:!0,tap:!0,net:!0,tls:!0,module:!0,"aws-sdk":!0,"spawn-sync":"_spawn_sync",_spawn_sync:!0,"try-thread-sleep":"_try_thread_sleep",_try_thread_sleep:!0,"./deps/endpoints":"endpoints","./platformExecution":"platformExecution","./executorWrapper":"executorWrapper"}],plugins:t.pretty?[]:[new u.optimize.UglifyJsPlugin({minimize:!0,compress:{}})],module:{loaders:[{test:/\.json$/,loader:"json"}]},node:{console:!1,global:!0,process:!0,Buffer:!0,__filename:!0,__dirname:!0,setImmediate:!0}};u(g,function(e,t){var r=o(t),i=r["/node_modules/xmldom/dom-parser.js"],a=r["/node_modules/jsonix/jsonix.js"];if(s(p.resolve(n,d),a,"var DOMParser = __webpack_require__("+i+").DOMParser;"),e)return void console.log(e.message);console.log("Webpack Building Bundle:"),console.log(t.toString({reasons:!0,errorDetails:!0})),t.toString({reasons:!0,errorDetails:!0});try{}catch(u){console.log("deploy was failed"),console.log(u.message)}finally{c.unlinkSync(v),c.unlinkSync(v.replace(/\.ts$/,".js")),c.unlinkSync(v.replace(/\.ts$/,".js.map")),c.unlinkSync(h),c.unlinkSync(h.replace(/\.ts$/,".js")),c.unlinkSync(h.replace(/\.ts$/,".js.map"))}})}function i(e){return'import client = require("./client")\nimport executorWrapper = require("./executorWrapper")\n\nfunction run(){\n\n    console.log("We are running!!!");\n\n    var _client = client.createApi('+e+");\n    var func = function (path:string, method:string, canonicPathStr: string,body:string):string {\n        var canonicPath=JSON.parse(canonicPathStr);\n        var obj:any = {};\n        try{\n            obj = JSON.parse(body);\n        }\n        catch(e){}\n        return JSON.stringify((<any>_client).invoke(path, method, canonicPath, obj), null, 2);\n    };\n    executorWrapper.setExecuteMethod(func);\n\n    var spSetter = function (paramName:string, paramValue:string, schemaName:string){\n\n        var sp = (<any>_client).securityProvider();\n        if(schemaName){\n            sp = sp.getSubProvider(schemaName);\n        }\n        sp.writeValue(paramName,paramValue);\n    };\n    executorWrapper.setAssignSecurityParameterMethod(spSetter);\n}\n\nrun();"}function a(){return"export function append(){}\n\nexport var executeMethod:any\n\nexport var assignSecurityParameterMethod:any\n\nexport function setExecuteMethod(executeMethod:any){\n    executeMethod = executeMethod;\n}\n\nexport function setAssignSecurityParameterMethod(assignSecurityParameterMethod:any){\n    assignSecurityParameterMethod = assignSecurityParameterMethod;\n}"}function o(e){var t={},n=e.compilation._modules;return Object.keys(n).forEach(function(e){var r=e.lastIndexOf(p.sep+"node_modules"+p.sep);if(!(0>r)){for(var i=e.substring(r),a=i.replace(p.sep,"/");i!=a;)i=a,a=i.replace(p.sep,"/");t[i]=n[e].id}}),t}function s(e,t,n){var r=c.readFileSync(e).toString(),i="/* "+t+" */\n/***/ function(module, exports, __webpack_require__) {",a=r.indexOf(i);a+=i.length,c.writeFileSync(e,r.substring(0,a)),c.appendFileSync(e,"\n\n"+n,"utf8"),c.appendFileSync(e,r.substring(a),"utf8")}var u={},l=n(189),c=n(4),p=n(10),m=n(143),d="bundle.js";t.deploy=r},function(e,t,n){function r(e){var t=(e.title(),new i.JSONSchematToTS("RequestBody")),n=e.allMethods()[0].bodies()[0].schema().getOrElse(null).content(),r=t.parse(n).serializeToString(),a="import endpoints = require('./deps/endpoints');\n\nexport class Request {\n    private body:RequestBody;\n\n    private headers;\n\n    private params;\n\n    constructor(headers, params, body) {\n        this.body = prepareBody(body);\n\n        this.headers = headers;\n\n        this.params = params;\n    }\n\n    requestBody(): RequestBody {\n        return this.body;\n    }\n\n    requestHeaders() {\n        return this.headers;\n    }\n\n    requestParams() {\n        return this.params;\n    }\n}\n\nfunction prepareBody(body):RequestBody {\n    var bodyObj = JSON.parse(body);\n\n    if(bodyObj.payload) {\n        bodyObj.payload = JSON.parse(bodyObj.payload);\n    }\n\n    return <RequestBody>bodyObj;\n}\n\nexport interface Service {\n    (request : Request);\n}\n\nexport function bind(service: Service, url: string) {\n    endpoints.exportService(service, function(headers, params, body) {\n        return new Request(headers, params, body);\n    }, url);\n}\n\n"+r;return a}var i=n(123);t.generateEndpointFromRamlApi=r},function(e,t,n){function r(e,t){return e}function i(e,t){return r(e,a(t))}function a(e){var t=o.getGrammerFromMime(e);return t?t.scopeName:void 0}var o=n(12);t.highlight=r,t.highlightByMime=i,t.scopeFromMime=a},function(e,t,n){function r(){return p||(p=new c),p}function i(){r().show()}function a(){m.registerQuickCommands(r()),p.add("api-workbench:editor-tools","Show Editor Tools",function(){return d.initEditorTools()},function(){return 0==d.editorToolsStatus()})}var o=n(197),s=n(160),u=n(164),l=function(){function e(e,t,n,r,i){this.id=e,this.title=t,this.command=n,this.priority=r,this.when=i}return e.prototype.registerAsAtomCommand=function(e){this.atomCommand&&0==this.atomCommand.disposed&&this.atomCommand.dispose(),this.atomCommand=s.commands.add(e,this.id,this.command)},e.prototype.dispose=function(){this.atomCommand&&0==this.atomCommand.disposed&&this.atomCommand.dispose(),p.unregister(this)},e}();t.QuickCommand=l;var c=function(){function e(){this.commands={},this.panel=new o.SelectListView(function(e){return e.command()},function(e){return e.title},"title")}return e.prototype.register=function(e){return null!=this.commands[e.id]&&this.unregister(e.id),this.commands[e.id]=e,e},e.prototype.unregister=function(e){"string"==typeof e&&this.unregister(this.commands[e]);var t=e;return null==t?null:(delete this.commands[t.id],t)},e.prototype.add=function(e,t,n,r,i,a){var o=new l(e,t,n,i?i:0,r?r:function(){return!0});return a&&o.registerAsAtomCommand(a),this.register(o),o},e.prototype.show=function(e){var t={};for(var n in this.commands)t[n]=this.commands[n];this.getDynamicCommands().forEach(function(e){t[e.id]=e});var r=Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return t.priority-e.priority}).filter(function(e){return e.when()});e&&(r=r.filter(e)),this.panel.show(r)},e.prototype.getDynamicCommands=function(){var e=[],t=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);return t.forEach(function(t){var n=new l(t.name,t.label?t.label:t.name,t.onClick,1,function(){return!0}),r=n;r.__module__="editorTools",e.push(n)}),e},e}();t.CommandManager=c;var p;t.manager=r,t.showCommands=i;var m=n(198),d=n(158);t.registerCommands=a},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(160),a=n(7),o=function(e){function t(t,n,r){void 0===r&&(r=""),e.call(this,[]),this._confirmed=t,this.label=n,this.filterKey=r}return r(t,e),t.prototype.getFilterKey=function(){return this.filterKey},t.prototype.viewForItem=function(e){return"<li>"+this.label(e)+"</li>"},t.prototype.cancel=function(){this.panel.hide(),e.prototype.cancel.call(this)},t.prototype.hide=function(){this.panel&&this.panel.hide()},t.prototype.confirmed=function(e){return this._confirmed(e),this.hide(),this.getSelectedItemView()},t.prototype.show=function(e){this.storeFocusedElement(),this.panel||(this.panel=i.workspace.addModalPanel({item:this})),this.setItems(e),this.panel.show(),this.focusFilterEditor()},t}(a.SelectListView);t.SelectListView=o},function(e,t,n){function r(e){if(!e||!e.parent())return!1;var t=e.parent();l.aquireManager()._view.forEachViewer(function(t){return t.remove(e)}),t.remove(e),l.aquireManager().updateText(t.lowLevel())}function i(e){return e&&e.property()?f.isResourcesProperty(e.property())?e:i(e.parent()):null}function a(e){return e&&e.property()?!f.isMethodType(e.definition())&&!f.isTraitType(e.definition())||e.definition().getAdapter(h.RAMLService).isUserDefined()?null:e:null}function o(e,t){return e&&e.property()&&e.definition().isAssignableFrom(t)?e:null}function s(e){l.aquireManager()||l.initEditorTools(!1);var t=[];t.forEach(function(e){return e.__module__="editorTools"}),c.addAction({name:"Add new resource",target:c.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){return m.newResource(l.aquireManager().getSelectedNode())},stateCalculator:new y,shouldDisplay:function(e){return null!=e}}),c.addAction({name:"Delete current node",target:c.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){return r(l.aquireManager().getSelectedNode())},stateCalculator:new v,shouldDisplay:function(e){return null!=e}}),c.addAction({name:"Create new API",target:c.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){return m.newApi()},stateCalculator:new g,shouldDisplay:function(e){return null!=e}}),c.addSimpleAction("Add new method",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newMethod(i(l.aquireManager().getSelectedNode()))},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=i(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new URI Parameter",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(i(l.aquireManager().getSelectedNode()),"Create new URI Parameter","uriParameters")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=i(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Query Parameter",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(a(l.aquireManager().getSelectedNode()),"Create new Query Parameter","queryParameters")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Header",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(a(l.aquireManager().getSelectedNode()),"Create new Header","headers")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Response Header",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(o(l.aquireManager().getSelectedNode(),"Response"),"Create new Header","headers")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"Response")}),c.addSimpleAction("Create new Response Body",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(o(l.aquireManager().getSelectedNode(),"Response"),"Create new Response Body","body")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"Response")}),c.addSimpleAction("Create new Property",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(o(l.aquireManager().getSelectedNode(),"ObjectTypeDeclaration"),"Create new Property","properties")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"ObjectTypeDeclaration")}),c.addSimpleAction("Create new Body",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(a(l.aquireManager().getSelectedNode()),"Create new Body","body")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Response",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return m.newNode(a(l.aquireManager().getSelectedNode()),"Create new Response","responses","200")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())})}var u=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},l=n(158),c=n(164),p=n(199),m=n(155),d=n(10),h=n(22),f=n(84),y=function(e){function t(){e.apply(this,arguments)}return u(t,e),t.prototype.calculate=function(){var e=this.getEditor();if(!e)return null;if(".raml"!=d.extname(e.getPath()))return null;var t=this.getGeneralState();if(!t)return{};var n=t.node;return f.isResourceType(n.definition())||f.isApiType(n.definition())?n:null},t}(p.CommonASTStateCalculator),v=function(e){function t(){e.apply(this,arguments)}return u(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;return f.isApiType(t.definition())?null:t},t}(p.CommonASTStateCalculator),g=function(e){function t(){e.apply(this,arguments)}return u(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(e)return null;var t=this.getEditor();if(!t)return null;if(".raml"!=d.extname(t.getPath()))return null;var n=t.getText().trim();return""!=n?null:{}},t}(p.CommonASTStateCalculator);t.getResourceParent=i,t.registerQuickCommands=s},function(e,t,n){function r(){}function i(){a(),r()}function a(){var e={id:"editorContextActionContributor",calculateItems:function(){var e=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);if(!e)return[];var t=[];return e.forEach(function(e){t.push({selector:'atom-text-editor[data-grammar="source raml"],.raml-outline',name:e.label?e.label:e.name,categories:e.category,onClick:e.onClick})}),t}};o.registerContributor(e);var t={id:"editorContextActionContributor",calculateItems:function(){var e=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);if(!e)return[];var t=[];return e.forEach(function(e){t.push({selector:'atom-text-editor[data-grammar="source raml"],.raml-outline',id:e.label?e.label:e.name,callBack:e.onClick})}),t}};s.registerContributor(t)}var o=n(200),s=n(201),u=n(164),l=n(10),c=n(157),p=n(74),m=n(158);t.initialize=i;var d=function(){function e(){}return e.prototype.calculate=function(){},e}();t.NullCalculator=d;var h=function(){function e(){var e=this;this.state=null,this.contextCalculationStarted=function(){null==e.state&&(e.state=e.calculateState())},this.contextCalculationFinished=function(){e.state=null}}return e.prototype.calculate=function(){return null==this.state&&(this.state=this.calculateState()),this.state},e.prototype.calculateState=function(){var e=!1,t=null;if(atom.workspace.getActiveTextEditor()?t=atom.workspace.getActiveTextEditor():m.aquireManager()&&(t=m.aquireManager().getCurrentEditor(),e=!0),!t)return null;if(".raml"!=l.extname(t.getPath()))return null;var n={editor:t,bufferPosition:t.getCursorBufferPosition()},r=null;if(e)r=m.aquireManager().getSelectedNode();else{if(t.getBuffer()){var i=t.getBuffer().getEndPosition();if(i.column==n.bufferPosition.column&&i.row==n.bufferPosition.row)return null;if(0==n.bufferPosition.row&&0==n.bufferPosition.column)return null}r=c.getAstNode(n,!1)}if(!r)return null;var a=n.editor.getBuffer().characterIndexForPosition(n.bufferPosition),o=p.determineCompletionKind(t.getBuffer().getText(),a);return{editor:t,offset:a,node:r,completionKind:o}},e}();t.GeneralASTStateCalculator=h,t.generalASTStateCalculator=new h;var f=function(){function e(){this.contextCalculationStarted=function(){t.generalASTStateCalculator.contextCalculationStarted()},this.contextCalculationFinished=function(){t.generalASTStateCalculator.contextCalculationFinished()}}return e.prototype.calculate=function(){return null},e.prototype.getGeneralState=function(){return t.generalASTStateCalculator.calculate()},e.prototype.getEditor=function(){return m.aquireManager()?m.aquireManager().getCurrentEditor():atom.workspace.getActiveTextEditor()},e}();t.CommonASTStateCalculator=f},function(e,t,n){function r(){b||(b=!0,f=atom.contextMenu.constructor.prototype.showForEvent,atom.contextMenu.constructor.prototype.showForEvent=function(e){u(),f.apply(atom.contextMenu,[e]),m()})}function i(e){g[e.id]=e}function a(e,t,n,r){}function o(e){}function s(e,t,n){}function u(){try{var e=d(),t={};p(),v.deleteCommandsByTag(v.DYNAMIC_COMMAND_TAG),e.forEach(function(e){var n=t[e.selector];n||(n=c(e.selector),t[e.selector]=n);var r=l(e);n.items.push(r)})}catch(n){console.log(n.message)}}function l(e){var t={label:e.name};if(e.children.length>0)t.submenu=[];else{var n="api-workbench:"+e.name;v.listCommands();v.addCommand(e.selector,n,e.onClick,v.DYNAMIC_COMMAND_TAG),t.command=n}return e.children.forEach(function(e){var n=l(e);t.submenu.push(n)}),t}function c(e){var t=y.find(atom.contextMenu.itemSets,function(e){return e.tag&&e.tag==T});return t||(t={items:[],selector:e,specificity:11,tag:T},atom.contextMenu.itemSets.push(t),y.find(A,function(t){return t==e})||A.push(e)),t}function p(){var e=y.filter(atom.contextMenu.itemSets,function(e){return e.tag&&e.tag==T});e.forEach(function(e){e.items=[]})}function m(){}function d(){var e=[];for(var t in g){var n=g[t];n.calculationStarted&&n.calculationStarted()}for(var t in g){var n=g[t];n.calculateItems().forEach(function(t){h(e,t)})}for(var t in g){var n=g[t];n.calculationFinished&&n.calculationFinished()}return e}function h(e,t){var n=e;if(t.categories)for(var r in t.categories){var i=t.categories[r],a=y.find(n,function(e){return e.name==i});a||(a=new S(t,i),n.push(a)),a.children?n=a.children:(n=[],a.children=n)}var o=y.find(n,function(e){return e.name==t.name});if(o){var s=n.indexOf(o,0);void 0!=s&&n.splice(s,1)}o=new S(t),n.push(o)}var f,y=n(17),v=n(201);t.initialize=r,t.registerContributor=i,t.addMenuItem=a,t.deleteMenuItems=o,t.deleteMenuItem=s;var g={},b=!1,S=function(){function e(e,t){this.selector=e.selector,t?this.name=t:this.name=e.name,this.categories=e.categories,this.onClick=e.onClick,this.children=[]}return e}(),A=[],T="DYNAMIC_SET_TAG"},function(e,t,n){function r(e,t,n,r){if(!p.find(s(),function(e){return e==t?!0:!1})){var i=atom.commands.add(e,t,n),a={commandId:t,tag:r,disposable:i};if(m[t]=a,r){var o=d[r];o||(o=[],d[r]=o),o.push(a)}}}function i(e){atom.commands.registeredCommands[e]=null,atom.commands.selectorBasedListenersByCommandName[e]=null}function a(e){var t=m[e];if(t&&(t.disposable.dispose(),delete m[e],t.tag)){var n=d[t.tag];if(!n)return;var r=-1;p.find(n,function(t,n){return t.commandId==e?(r=n,!0):!1}),-1!=r&&n.splice(r,1)}}function o(e){var t=d[e];if(t){for(var n in t){var r=t[n];r.disposable.dispose(),delete m[r.commandId]}delete d[e]}}function s(){var e=[];for(var t in atom.commands.selectorBasedListenersByCommandName)e.push(t);return e}function u(){if(!h){h=!0;try{atom.packages.activatePackage("command-palette");var e=function(){c()};e.commandManager=!0,atom.commands.add("atom-workspace","command-palette:toggle",e);var t=atom.commands.selectorBasedListenersByCommandName["command-palette:toggle"];t.forEach(function(e){e.callback.commandManager&&(e.sequenceNumber=1005e5)})}catch(n){console.error(n.message)}}}function l(e){f[e.id]=e}function c(){o(t.DYNAMIC_COMMAND_TAG);for(var e in f){var n=f[e];n.calculationStarted&&n.calculationStarted()}for(var e in f){var n=f[e];n.calculateItems().forEach(function(e){r(e.selector,"api-workbench:"+e.id,e.callBack,t.DYNAMIC_COMMAND_TAG)})}for(var e in f){var n=f[e];n.calculationFinished&&n.calculationFinished()}}var p=n(17);t.DYNAMIC_COMMAND_TAG="DYNAMIC_COMMAND_TAG";var m={},d={};t.addCommand=r,t.deleteUnmanagedCommand=i,t.deleteManagedCommand=a,t.deleteCommandsByTag=o,t.listCommands=s;var h=!1;t.initialize=u;var f={};t.registerContributor=l},function(e,t,n){function r(e){new m(e).show()}function i(){var e=atom.workspace.getActiveTextEditor();if(e){var t=e.getPath(),n=a.basename(t),i=a.extname(n);u.isAllowedExtension(i)&&o.existsSync(t)&&r(e)}}var a=n(10),o=n(4),s=(n(7),n(157)),u=n(203),l=(n(150),n(151)),c=n(168),p=n(158),m=function(){function e(e){this._editor=e}return e.prototype.extraContent=function(e){},e.prototype.show=function(){var e=this,t=null,n=null,r=s.getAstNode({bufferPosition:this._editor.getCursorBufferPosition(),editor:this._editor},!1,!1),i=l.section("Quick outline:"),a=c.createTree(r.root(),function(e){return e.selection&&e.selection.elements.length>0?(n=e.selection.elements[0],void u.setDisabled(!1)):void u.setDisabled(!0)},function(n){var r=e._editor,i=r.getBuffer(),a=i.positionForCharacterIndex(n.lowLevel().start());r.setCursorScreenPosition(a),t.destroy()});a.setStyle("max-height","800px"),a.addClass("tree-view-scroller"),i.addChild(a);var o=l.buttonSimple("Cancel",function(e){t.destroy()},0);o.setStyle("float","right").margin(4,10);var u=l.button("Ok",0,1,0,function(e){n&&p.aquireManager().setSelectedNode(n),t.destroy()});u.setStyle("float","right").margin(4,10),u.setDisabled(!0),i.addChild(u),i.addChild(o);var m=i.renderUI();m.tabIndex=0,m.onkeypress=function(e){27==e.keyCode&&t.destroy()},t=atom.workspace.addModalPanel({item:m}),m.focus()},e}();t.show=i},function(e,t,n){function r(e,t){var n=e[0],r=n.rootElement.querySelectorAll(t);return l.$(r[0])}function i(e){return".raml"==e||".yaml"==e}function a(e,t){}function o(e,t){var n=t.clientX,i=t.clientY,a=r([e],".lines")[0].getBoundingClientRect(),o=i-a.top,s=n-a.left;return{top:o,left:s}}function s(e,t){return e.getModel().screenPositionForPixelPosition(o(e,t))}function u(e,t){var n=l.$(atom.views)[0].getView(e),r=o(n,t);r.top-=e.displayBuffer.getScrollTop(),r.left-=e.displayBuffer.getScrollLeft();var i=n.getBoundingClientRect();return r.top+=i.top,r.left+=i.left,r}var l=n(7),c=n(204),p=(c.Subscriber,this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=n(7),d=m.$,p=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},h=function(e){function t(t){e.call(this),this.options=t,this.init()}return p(t,e),Object.defineProperty(t.prototype,"$",{get:function(){return this},enumerable:!0,configurable:!0}),t.content=function(){throw new Error("Must override the base View static content member")},t.prototype.init=function(){},t}(m.View);(function(e){function t(t){e.call(this),this.options=t,this.init()}return p(t,e),Object.defineProperty(t.prototype,"$",{get:function(){return this},enumerable:!0,configurable:!0}),t.content=function(){throw new Error("Must override the base View static content member")},t.prototype.init=function(){},t})(m.ScrollView),function(e){function t(t){e.call(this,t),this.rect=t,d(document.body).append(this.$),this.updatePosition()}return p(t,e),t.content=function(){var e=this;return this.div({"class":"atom-typescript-tooltip tooltip"},function(){e.div({"class":"tooltip-inner",outlet:"inner"})})},t.prototype.updateText=function(e){this.inner.html(e),this.updatePosition(),this.$.fadeTo(300,1)},t.prototype.updatePosition=function(){var e=10,t=this.rect.right,n=this.rect.bottom,r=void 0;t+this.$[0].offsetWidth>=d(document.body).width()&&(t=d(document.body).width()-this.$[0].offsetWidth-e),0>t&&(this.$.css({"white-space":"pre-wrap"}),t=e,r=e),n+this.$[0].offsetHeight>=d(document.body).height()&&(n=this.rect.top-this.$[0].offsetHeight),this.$.css({left:t,top:n})},t}(h);t.getFromShadowDom=r,t.isAllowedExtension=i,t.attach=a,t.screenPositionFromMouseEvent=s,t.screenPositionFromMouse=u},function(e,t){e.exports=require("emissary")},function(e,t,n){function r(e){var t=(new Date).getTime(),n=o.ast(e);if(null==n)return[];for(var r=[],a=(new u(e,r),n.lowLevel()?n.lowLevel().unit().contents():""),l=0;;){var l=a.indexOf("	",l);if(-1==l)break;var c=e.getBuffer().positionForCharacterIndex(l),p=e.getBuffer().positionForCharacterIndex(l+1),m="Using tabs  can lead to unpredictable results",d={type:"Warning",filePath:e.getPath(),text:m,trace:[],range:[[c.row,c.column],[p.row,p.column]]};r.push(d),l++}if(!n.lowLevel())return[];i(n,r,e);var h=(new Date).getTime(),f={};r.forEach(function(e){var t=JSON.parse(JSON.stringify(e));t.trace=null;var n=JSON.stringify(t),r=f[n];r?r.push(e):f[n]=[e]});var y=[];for(var v in f){var g=JSON.parse(v);g.trace=[];var b=f[v];b.forEach(function(e){e.trace&&(g.trace=g.trace.concat(e.trace))}),y.push(g)}return s.aquireManager()&&s.aquireManager().performanceDebug&&console.log("Linting took:"+(h-t)),y}function i(e,t,n){e&&e.validate(new u(n,t))}var a=n(206),o=n(207),s=n(158);t.grammarScopes=["source.raml"],t.scope="file",t.lintOnFly=!0,t.lint=r;var u=function(){function e(e,t){this.editor=e,this.errors=t,this.buffers={}}return e.prototype.begin=function(){},e.prototype.accept=function(e){var t=this,n=this.editor.getBuffer().positionForCharacterIndex(e.start),r=this.editor.getBuffer().positionForCharacterIndex(e.end),i=e.message,o=i.lastIndexOf(" at line ");-1!=o&&(i=i.substring(0,o));var s={type:e.isWarning?"Warning":"Error",filePath:e.path?e.path:this.editor.getPath(),text:i,trace:[],range:[[n.row,n.column],[r.row,r.column]]};this.errors.push(s),e.extras&&e.extras.forEach(function(e){var n=e.message,r=t.editor.getBuffer(),i=e.path;e.unit&&(i=e.unit.absolutePath()),i&&(t.buffers[i]?r=t.buffers[i]:(r=new a(e.unit.contents()),t.buffers[i]=r));var o=r.positionForCharacterIndex(e.start),u=r.positionForCharacterIndex(e.end),l={type:"Trace",filePath:e.path?i:t.editor.getPath(),text:n,range:[[o.row,o.column],[u.row,u.column]]};s.trace.push(l)})},e.prototype.end=function(){},e}()},function(e,t){e.exports=require("basarat-text-buffer")},function(e,t,n){function r(e){var t=s.aquireManager();if(s.aquireManager()&&t.getCurrentEditor()==e)return t.ast;var n=e.getPath(),r=new a.Project(i.dirname(n)),u=r.unit(i.basename(n)),l=e.getBuffer().getText();if(!u)return null;u.updateContent(l);var c=o.fromUnit(u);return c}var i=n(10),a=n(24),o=n(15),s=n(158);t.ast=r},function(e,t,n){function r(e){new L(e,"Create Global Schema").show()}function i(e,t,n){var r=P.getActiveEditor(),i=p.resolve(p.dirname(r.getPath()),p.dirname(t));c.existsSync(i)||c.mkdirSync(i);var a=p.resolve(p.dirname(r.getPath()),t);c.writeFileSync(a,n)}function a(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function o(e,t){for(var n=P.splitOnLines(e),r=[],i=0;i<n.length;i++)0==i?r.push(n[0]):r.push(n[i].substring(t.length));return r.join("")}function s(e,t){if((e.keyStart()>t||e.valueEnd()<t)&&e.parent())return null;var n=e.children();for(var r in n){var i=n[r],a=s(i,t);if(a)return a}return e}function u(){T.addAction({name:"Create global schema",target:T.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){return r(e)},stateCalculator:new R,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Move resource",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new A.MoveElementsDialog(e,"Resource Type",!0).show()},stateCalculator:new I,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Complete body",target:T.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){var t=e;t.lowLevel().show("BODY"),new D(t.parent().parent(),t).show()},stateCalculator:new k,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Extract Resource Type",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new b.ExtractTypesAndTraitsDialog(e,"Resource Type",!0).show()},stateCalculator:new U,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Extract Trait",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new b.ExtractTypesAndTraitsDialog(e,"Trait",!1).show()},stateCalculator:new F,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Move content to other file",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new q(e).show()},stateCalculator:new j,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Convert JSON schema to type",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new x(e,"Convert JSON schema to type").show()},stateCalculator:new K,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Expand type to JSON schema",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){var t=e,n=t.root(),r=t.attrValue("type"),i=n.elementsOfKind("types"),a=f.find(i,function(e){return e.name()==r});if(a){t.attr("type").setValue("");var o=(new M.ModelToSchemaGenerator).generateSchema(a),s=JSON.stringify(o,null,2);t.attrOrCreate("schema").setValue(s),s=n.lowLevel().unit().contents(),P.getActiveEditor().setText(s)}},stateCalculator:new V,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Expand type to JSON schema definition",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){var t=e,n=t.root(),r=(new M.ModelToSchemaGenerator).generateSchema(t),i=JSON.stringify(r,null,2);console.log("schema: "+i);var a=m.createStub0(n,"schemas",t.name());a.attrOrCreate("value").setValue(i),n.add(a);var o=n.lowLevel().unit().contents();P.getActiveEditor().setText(o)},stateCalculator:new B,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Extract Library",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new b.ExtractLibraryDialog(e,"Extract Library").show()},stateCalculator:new H,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Extract Overlay",target:T.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){new b.ExtractOverlayDialog(e,"Extract Overlay").show()},stateCalculator:new G,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Modify Overlay",target:T.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){new b.ModifyOverlayDialog(e,"Modify Overlay").show()},stateCalculator:new W,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Pull Up",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new b.PullUpDialog(e,"Pull Up").show()},stateCalculator:new J,shouldDisplay:function(e){
return null!=e}}),T.addAction({name:"Extract Supertype",target:T.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new b.ExtractSupertypeDialog(e,"Extract Supertype").show()},stateCalculator:new Y,shouldDisplay:function(e){return null!=e}}),T.addAction({name:"Comment node",target:T.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){var t=e.node;if(t.lowLevel()){var n=s(t.lowLevel(),e.offset);if(n)for(var r=n.keyStart(),i=n.valueEnd(),a=e.editor.getBuffer(),o=a.positionForCharacterIndex(r),u=o.row,l=a.positionForCharacterIndex(i),c=l.row,p=u;c>=p;p++){var m=a.rangeForRow(p,!0),d=a.getTextInRange(m),h="#"+d;a.setTextInRange(m,h)}}},stateCalculator:new X,shouldDisplay:function(e){return null!=e}})}var l=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},c=n(4),p=n(10),m=n(23),d=(n(74),n(79)),h=n(15),f=n(17),y=n(150),v=n(151),g=n(80),b=n(172),S=n(209),A=n(171),T=n(164),w=n(199),P=n(156),M=n(210),E=n(14),C=n(84),N=n(22),_=function(){function e(e,t){this.parentNode=e,this.name=t}return e.prototype.validate=function(){return null},e.prototype.performOk=function(){},e.prototype.createBody=function(e){},e.prototype.show=function(){if(console.log("Original node tree:"),this.getParentNode()&&console.log(this.getParentNode().printDetails()),this.getParentNode()){var e=v.section(this.name+":",145,!1,!1);this.createValidationIndicator(e),this.createBody(e),this.createButtonBar(e),e.setPercentWidth(100);var t=e.renderUI();this.rootAtomPanel=atom.workspace.addModalPanel({item:t}),t.focus(),this.performValidation()}},e.prototype.performValidation=function(){var e=this.validate();this.okButton&&(e?this.okButton.setDisabled(!0):this.okButton.setDisabled(!1)),this.errorLabel&&(e?(this.errorLabel.setDisplay(!0),this.errorLabel.setText(e)):(this.errorLabel.setDisplay(!1),this.errorLabel.setText("")))},e.prototype.createValidationIndicator=function(e){this.errorLabel=v.label("",19,7,0),e.addChild(v.vc(this.errorLabel))},e.prototype.saveUnit=function(e){var t=e.absolutePath(),n=e.contents(),r=f.find(atom.workspace.getTextEditors(),function(e){var n=e.getPath();return n==t});r?r.setText(n):c.writeFileSync(t,n)},e.prototype.createButtonBar=function(e){var t=this,n=v.hc().setPercentWidth(100).setStyle("display","flex");n.addChild(v.label("",null,null,null).setStyle("flex","1")),n.addChild(v.button("Cancel",0,0,0,function(e){t.rootAtomPanel.destroy()}).margin(10,10)),this.okButton=v.button("Extract",0,3,0,function(e){t.performOk(),t.rootAtomPanel.destroy()}),this.okButton.setDisabled(!0),n.addChild(this.okButton),e.addChild(n)},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.getActiveEditor=function(){return P.getActiveEditor()},e.prototype.getNodeId=function(e){if(e.parent()){var t=this.getNodeId(e.parent());t+="."+e.name();var n=e.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(e);t+="["+r+"]"}return t}return e.name()?e.definition&&e.definition()&&"Api"==e.definition().name()?"":"."+e.name():""},e.prototype.nodesEqualById=function(e,t){return this.getNodeId(e)==this.getNodeId(t)},e.prototype.isParentOf=function(e,t){for(var n=t.parent();null!=n;){if(n==e||this.nodesEqualById(n,e))return!0;n=n.parent()}return!1},e}();t.AbstractDialogWithValidation=_;var I=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return C.isResourceType(t.definition())?t:null},t}(w.CommonASTStateCalculator),R=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(0!=e.completionKind&&1!=e.completionKind)return null;var t=e.node,n=f.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().getAdapter(N.RAMLPropertyService).isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();if(!C.isSchemaProperty(r))return null;var i=(n.value(),r.getAdapter(N.RAMLPropertyService).referenceTargets(t)),a=f.find(i,function(e){return e.name()==n.value()});return a?null:n},t}(w.CommonASTStateCalculator),x=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.createBody=function(e){var t=this;e.addChild(v.label("Type name:").pad(5,0)),this.typeNameTextField=y.texfField("","NewType",function(e){t.performValidation()}),e.addChild(this.typeNameTextField)},t.prototype.validate=function(){if(!this.typeNameTextField||!this.typeNameTextField.getBinding())return null;var e=this.typeNameTextField.getBinding().get();return 0==e.trim().length?"Enter type name":null},t.prototype.performOk=function(){var e=this.getParentNode(),t=e.root(),n=e.attrValue("schema");e.attr("schema").setValue("");var r=this.typeNameTextField.getBinding().get(),i=(new M.SchemaToModelGenerator).generateTo(t,n,r);i.length>0&&e.attrOrCreate("type").setValue(i[0]),this.saveUnit(t.lowLevel().unit())},t}(_);t.ExtractJSONSchemaToTypeDialog=x;var L=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.createBody=function(e){var t=this;e.addChild(v.label("Schema name:").pad(5,0)),this.schemaNameTextField=y.texfField("",this.getDefaultSchemaName(),function(e){t.performValidation()}),e.addChild(this.schemaNameTextField)},t.prototype.validate=function(){if(!this.schemaNameTextField||!this.schemaNameTextField.getBinding())return null;var e=this.schemaNameTextField.getBinding().get();if(0==e.trim().length)return"Enter schema name";var t=this.getParentNode(),n=t.value(),r=this.getSchemaFilePath(e,n);return c.existsSync(r)?"Schema file "+r+" already exists":null},t.prototype.performOk=function(){var e=this.schemaNameTextField.getBinding().get(),t=this.getParentNode(),n=t.value(),r=this.getSchemaFilePath(e,n),i=t.parent().root(),a=t.property().range().universe().type("GlobalSchema"),o=a.getAdapter(N.RAMLService).createStubNode(a.universe().type("Api").property("schemas"),e);o.attrOrCreate("value").setValue("!include "+this.getSchemaRelativePath(e,n)),i.add(o),t.setValue(e),this.saveUnit(t.lowLevel().unit());var s=p.dirname(r);c.existsSync(s)||c.mkdirSync(s),c.writeFileSync(r,n)},t.prototype.getSchemaFilePath=function(e,t){var n=p.resolve(p.dirname(this.getActiveEditor().getPath()),"schemas"),r=this.determineSchemaExtension(t),i=e+"."+r;return p.resolve(n,i)},t.prototype.getSchemaRelativePath=function(e,t){var n=this.determineSchemaExtension(t),r=e+"."+n;return"schemas/"+r},t.prototype.determineSchemaExtension=function(e){var t=e.trim();return 0==t.indexOf("{")||0==t.indexOf("[")?"json":"xsd"},t.prototype.getDefaultSchemaName=function(){return"NewSchema"},t}(_);t.CreateGlobalSchemaDialog=L,t.createGlobalSchema=r;var O=(function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(0!=e.completionKind)return null;var t=e.node,n=f.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().getAdapter(N.RAMLPropertyService).isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();return C.isSignatureProperty(r)?n:null},t}(w.CommonASTStateCalculator),function(e,t){for(var n=e,r=e;r>=0;r--){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i||"	"==i){n=r+1;break}}for(var a="",r=n;r<t.length;r++){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i||"	"==i||":"==i)break;a+=i}return a}),k=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;if(C.isResponseType(t.definition())||C.isMethodType(t.definition())){var n=e.editor.getText(),r=O(e.offset,n);if("body"==r)return t}return C.isBodyLikeType(t.definition())&&0==t.elements().length?t:null},t}(w.CommonASTStateCalculator);t.saveExample=i;var D=function(){function e(e,t,n){void 0===n&&(n="Fill body"),this.h=e,this.body=t,this.title=n,this.name="",this.needXML=!0,this.needJSON=!0,this.jsexample='{\n "message":"Hello world"\n}',this.xmlexample="",this.xmlschema="",this.jsschema=""}return e.prototype.extraContent=function(e){},e.prototype.updateButtons=function(){if(this.createButton){if(0==this.name.length)return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("Please type name of your payload");if(this.needJSON){try{JSON.parse(this.jsexample)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("JSON example is not correct")}try{d.getJSONSchema(this.jsschema)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("JSON schema is not correct")}}if(this.needXML){try{g(this.xmlexample)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("XML example is not correct")}try{d.getXMLSchema(this.xmlschema)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("XML schema is not correct")}}this.em.setDisplay(!1),this.createButton.setDisabled(!1)}},e.prototype.show=function(){var e=this,t=null;this.em=v.label("Please type name of your payload",19,7,0);var n=v.section(this.title,14,!1,!1,this.em,y.h3("Please type name for your payload")).pad(10,10);n.addChild(y.texfField("",this.name,function(t){e.name=t.getBinding().get(),e.updateButtons()}));var r=v.checkBox("Create XML body");r.setValue(this.needXML),r.getBinding().addListener(function(t){e.needXML=r.getValue(),e.updateButtons()}),n.addChild(r);var i=v.checkBox("Create JSON body");i.setValue(this.needJSON),i.getBinding().addListener(function(t){e.needJSON=i.getValue(),e.updateButtons()}),n.addChild(i);var a=v.hc().setPercentWidth(100).setStyle("display","flex");a.addChild(v.label("",null,null,null).setStyle("flex","1")),a.addChild(v.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10)),this.createButton=v.button("Create",0,3,0,function(n){e.onOk(t),t.destroy()}),a.addChild(this.createButton);var o=new y.TabFolder;this.createButton.setDisabled(!0),this.createTextSection(o,"JSON Example","source.json","jsexample"),this.createTextSection(o,"JSON Schema","source.json","jsschema"),this.createTextSection(o,"XML Example","text.xml","xmlexample"),this.createTextSection(o,"XML Schema","text.xml","xmlschema"),o.setOnSelected(function(){var t=o.selectedComponent(),n=t.children()[1];n.setText(e[t.id()])}),n.addChild(o),n.addChild(a),t=atom.workspace.addModalPanel({item:n.renderUI()})},e.prototype.createTextSection=function(e,t,n,r){var i=this,a=v.vc();a.setCaption(t),a.setId(r);var o=new y.AtomEditorElement("",function(e){return e});if(o.setMini(!1),o.getBinding().addListener(function(e){i[r]=o.getValue(),i.updateButtons()}),o.setText(""+this[r]),o.setCaption(t),o.setGrammar(n),o.setStyle("height","400px"),o.setStyle("border","solid"),o.setStyle("border-width","1px"),a.addChild(y.h3("Please type your example here:")),a.addChild(o),"jsexample"==r){var s=v.button("Generate JSON schema",0,3,0,function(t){try{var n=S.generateSchema(i.jsexample,"application/json");i.jsschema=n,e.setSelectedIndex(1)}catch(r){i.jsschema=r.message,e.setSelectedIndex(1)}});a.addChild(s.margin(5,5,5,5))}if("xmlexample"==r){var s=v.button("Generate JSON example",0,3,0,function(t){try{var n=g(i.xmlexample);i.jsexample=JSON.stringify(n,null,2),e.setSelectedIndex(0)}catch(r){i.jsexample=r.message,e.setSelectedIndex(0)}});a.addChild(s.margin(5,5,5,5))}e.add(t,null,a)},e.prototype.onOk=function(e){var t=this.body.definition().universe().type("BodyLike");if(t){var n=this.body;C.isBodyProperty(n.property())&&(n=n.parent());var r=n.definition();if(this.needJSON){var a=t.getAdapter(N.RAMLService).createStubNode(r.property("name"),"application/json");a.createAttr("schema",this.name),a.createAttr("example","!include ./examples/"+this.name+".json"),n.add(a),P.createGlobalSchemaFromNameAndContent(this.h.root(),this.name,"schemas/"+this.name+".json",this.jsschema),i(this.h,"./examples/"+this.name+".json",this.jsexample)}if(this.needXML){var a=t.getAdapter(N.RAMLService).createStubNode(r.property("name"),"application/xml");a.createAttr("schema",this.name+"-xml"),a.createAttr("example","!include ./examples/"+this.name+".xml"),n.add(a);var o=this.xmlschema;P.createGlobalSchemaFromNameAndContent(this.h.root(),this.name+"-xml","schemas/"+this.name+".xml",o),i(this.h,"./examples/"+this.name+".xml",this.xmlexample)}}else{var s=this.body;if(!C.isResponseType(s.property().range()))return void console.log("Incorrect parent "+s.printDetails()+" , expecting response");var u=new E.ResponseImpl(s);if(this.needJSON){var l="application/json",c=new E.TypeDeclarationImpl(l);c.setSchema(this.name),c.setExample("!include ./examples/"+this.name+".json"),P.createGlobalSchemaFromNameAndContent(this.h.root(),this.name,"schemas/"+this.name+".json",this.jsschema),i(this.h,"./examples/"+this.name+".json",this.jsexample),u.add(c)}if(this.needXML){var l="application/xml",c=new E.TypeDeclarationImpl(l);c.setSchema(this.name+"-xml"),c.setExample("!include ./examples/"+this.name+".xml");var o=this.xmlschema;P.createGlobalSchemaFromNameAndContent(this.h.root(),this.name+"-xml","schemas/"+this.name+".xsd",o),i(this.h,"./examples/"+this.name+".xml",this.xmlexample),u.add(c)}}var p=this.h.lowLevel().unit().contents();P.getActiveEditor().setText(P.cleanEmptyLines(p))},e}(),U=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return C.isResourceType(t.definition())?t:null},t}(w.CommonASTStateCalculator),F=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return C.isMethodType(t.definition())?t:null},t}(w.CommonASTStateCalculator),j=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return 0==t.children().length?null:t},t}(w.CommonASTStateCalculator),K=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(1!=e.completionKind&&0!=e.completionKind)return null;var n=f.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().getAdapter(N.RAMLPropertyService).isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();return C.isSchemaProperty(r)?"string"!=typeof n.value()||-1==n.value().indexOf("{")?null:t:null},t}(w.CommonASTStateCalculator),V=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(1!=e.completionKind&&0!=e.completionKind)return null;var n=(e.editor.getText(),f.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().getAdapter(N.RAMLPropertyService).isKey()}));if(!n)return null;if(!n.value())return null;var r=n.property();return C.isTypeProperty(r)?t:null},t}(w.CommonASTStateCalculator),B=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;return 6!=e.completionKind?null:C.isTypesProperty(t.property())?t:null},t}(w.CommonASTStateCalculator),q=function(){function e(e){this.node=e}return e.prototype.show=function(){var e=this,t=null,n=this.node,r=v.section("Move node content to new file ",145,!1,!1),i=v.label("Please enter destination file path",19,7,0);r.addChild(v.vc(i)),r.addChild(v.label("Please enter destination path"));var s=y.texfField("","",function(t){if(s){var n=null;if(e.destination=s.getBinding().get(),0==e.destination.trim().length)n="Please enter destination file path";else if(!p.extname(e.destination)||p.extname(e.destination).trim().length<=2)n="Please enter destination file extension";else{var r=p.resolve(p.dirname(P.getActiveEditor().getPath()),p.dirname(e.destination));if(c.existsSync(r)){var a=c.statSync(r);a.isDirectory()||(n="Parent path is not a directory")}else n="Parent directory does not exist"}n?(i.setDisplay(!0),i.setText(n),l.setDisabled(!0)):(i.setDisplay(!1),l.setDisabled(!1))}});r.addChild(v.vc(s));var u=v.hc().setPercentWidth(100).setStyle("display","flex");u.addChild(v.label("",null,null,null).setStyle("flex","1")),u.addChild(v.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var l=v.button("Move",0,3,0,function(r){var i=p.resolve(p.dirname(P.getActiveEditor().getPath()),e.destination),s=e.node.lowLevel().dump(),u=P.splitOnLines(s),l=a(u.length>1?u[1]:u[0]);s=s.substring(e.node.lowLevel().keyEnd()-e.node.lowLevel().start()+1).trim(),s=o(s,l);var m=h.isRAML10(e.node)?"#%RAML 1.0 ":"#%RAML 0.8 ";s=m+e.node.definition().nameId()+"\n"+s,c.writeFileSync(i,s);var d=n.lowLevel().unit().contents(),f=d.substring(n.lowLevel().end()),y=d.substring(0,n.lowLevel().keyEnd()+1),v=y+" !include "+e.destination+f;P.getActiveEditor().setText(v),t.destroy()});l.setDisabled(!0),u.addChild(l),r.addChild(u);var m=r.renderUI();t=atom.workspace.addModalPanel({item:m}),m.focus()},e}();t.MoveToNewFileDialog=q;var H=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t},t}(w.CommonASTStateCalculator),G=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t},t}(w.CommonASTStateCalculator),W=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t.definition&&C.isOverlayType(t.definition())?t:null},t}(w.CommonASTStateCalculator),z=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.isTypeNode=function(e){return e.property&&e.property().range&&C.isTypeDeclarationType(e.property().range())&&C.isTypesProperty(e.property())},t}(w.CommonASTStateCalculator),J=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(!t)return null;for(;null!=t.parent();){if(this.isTypeNode(t)){var n=b.findUserDefinedSupertypes(t);return n&&n.length>0?t:null}t=t.parent()}return null},t}(z),Y=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(!t)return null;for(;null!=t.parent();){if(this.isTypeNode(t)){var n=b.findUserDefinedSupertypes(t);return n&&0!=n.length?null:t}t=t.parent()}return null},t}(z),X=function(e){function t(){e.apply(this,arguments)}return l(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();return e?e:null},t}(w.CommonASTStateCalculator);t.findLowLevelNodeByOffset=s,t.initialize=u},function(e,t){function n(e,t){var n=new r,i=JSON.parse(e),a=n.generateSchema(i),o=JSON.stringify(a,null,2);return o}var r=function(){function e(){}return e.prototype.generateSchema=function(e){var t={};return t.required=!0,t.$schema="http://json-schema.org/draft-03/schema",this.pass(e,t),t},e.prototype.pass=function(e,t){var n=this.detectType(e);t.type=n,e&&null!=e&&(Array.isArray(e)?this.passArray(e,t):e instanceof Object&&this.passObject(e,t))},e.prototype.passObject=function(e,t){var n=this;Object.keys(e).forEach(function(r){return n.registerProperty(r,e[r],t)})},e.prototype.registerProperty=function(e,t,n){var r=n.properties;r||(r={},n.properties=r);var i=r[e];i||(i={},r[e]=i),i.required=!1,this.pass(t,i)},e.prototype.passArray=function(e,t){var n=this,r=t.items;r||(r=[],t.items=r);var i=(e.length,[]);e.forEach(function(e){var t={};n.pass(e,t),i.push(t)}),r.push(i[0])},e.prototype.detectType=function(e){return Array.isArray(e)?"array":typeof e},e}();t.JsonSchemaGenerator=r,t.generateSchema=n},function(e,t,n){var r=n(17),i=n(58),a=n(14),o=function(){function e(){}return e.prototype.generateText=function(e){var t=this,n=JSON.parse(e),r=n.items;if(!r)return"";var i="",a=r instanceof Array?r:[r];return i+="types:\n",a.forEach(function(e){i+="  - "+e.title+":\n",i+=t.generateObj(e,3)}),i},e.prototype.generateObj=function(e,t){var n="";if(n+=i.indent(t,"type: "+e.type)+"\n",e.properties){n+=i.indent(t,"properties:\n");for(var r in e.properties){var a=e.properties[r];n+=i.indent(t+1,r+":\n"),n+="object"==a.type?this.generateObj(a,t+2):i.indent(t+2,"type: "+a.type)+"\n"}return n}},e.prototype.generateTo=function(e,t,n){var r=this,i=JSON.parse(t),o=i.items;if(o){var s=o instanceof Array?o:[o],u=[];return s.forEach(function(t){var n=new a.ObjectTypeDeclarationImpl(t.title);r.generateObjTo(n,t),new a.BasicSecuritySchemeImpl(e).addToProp(n,"types"),u.push(t.title)}),u}i.title&&(n=i.title);var l=new a.ObjectTypeDeclarationImpl(n);return this.generateObjTo(l,i),new a.BasicSecuritySchemeImpl(e).addToProp(l,"types"),[n]},e.prototype.generateObjTo=function(e,t){if(e.setType(t.type),t.properties)for(var n in t.properties){var r=t.properties[n],i=this.makeTypeField(n,r);"array"==r.type,e.addToProp(i,"properties")}},e.prototype.makeTypeField=function(e,t){var n=this.makeType(e,t.type);if(t.type&&n.setType(t.type),"number"==t.type){var r=n;void 0!=t.minimum&&r.setMinimum(t.minimum),void 0!=t.maximum&&r.setMaximum(t.maximum)}if("array"==t.type){var i=t.items.type;n.setType(i+"[]");var a=n;void 0!=t.minItems&&a.setMinItems(t.minItems),void 0!=t.maxItems&&a.setMaxItems(t.maxItems),void 0!=t.uniqueItems&&a.setUniqueItems(t.uniqueItems)}return"object"==t.type&&this.generateObjTo(n,t),n},e.prototype.makeType=function(e,t){return"number"==t?new a.NumberTypeDeclarationImpl(e):"string"==t?new a.StringTypeDeclarationImpl(e):"array"==t?new a.ArrayTypeDeclarationImpl(e):new a.ObjectTypeDeclarationImpl(e)},e.prototype.generateItemsTo=function(e,t){var n=t.items;if(n){var r=n instanceof Array?n:[n];r.forEach(function(e){})}},e}();t.SchemaToModelGenerator=o;var s=function(){function e(){}return e.prototype.generateSchema=function(e){var t=this.generateType(e);return t.$schema="http://json-schema.org/draft-04/schema#",t},e.prototype.isSimpleType=function(e){return"string"==e||"number"==e||"boolean"==e||"object"==e},e.prototype.generateType=function(e){var t=this.allTypes(e),n={};n.title=e.attrValue("name");if(e.attrValue("type")){var i=e.attributes("type"),a=!1,o=!1;for(var s in i){var u=i[s].value(),l=i[s].lowLevel();if(n.type="",l.isValueInclude()){var c=JSON.parse(u);n.type="object",n.properties=c.properties}else if(this.isSimpleType(u)){if(n.type=u,o=!0,a)throw new Error("couldn't mix user defined and basic types in inheritance")}else{var p=this.resolveType(e,u);if(p){var m=this.generateTypeExp(u,t);if(n.properties?r.extend(n.properties,m.properties):n.properties=m.properties,n.type="object",a=!0,o)throw new Error("couldn't mix user defined and basic types in inheritance")}else{var m=this.generateTypeExp(u,t);n.type="object",a=!0,m.anyOf&&(n.anyOf=m.anyOf)}}}}else n.type="object";var d=this.generateProperties(e);return n.properties?r.extend(n.properties,d):n.properties=d,n},e.prototype.makeUnion=function(e,t){var n=this,r=[];return e.forEach(function(e){e=e.trim(),t[e]?r.push({type:"object",properties:n.generateType(t[e]).properties}):r.push({type:e})}),r},e.prototype.generateTypeExp=function(e,t){var n={};if(i.endsWith(e,"[]"))n.type="array",n.items={type:e.substring(0,e.length-2)};else if(e.indexOf("|")>0){var r=e.split("|");n.anyOf=this.makeUnion(r,t)}else if(t[e]){var a=this.generateType(t[e]);n.type="object",n.properties=a.properties}else n.type=e;return n},e.prototype.allTypes=function(e){var t=e.root(),n=t.elementsOfKind("types"),r={};return n.forEach(function(e){r[e.name()]=e}),r},e.prototype.resolveType=function(e,t){var n=this.allTypes(e);return n[t]},e.prototype.generateProperty=function(e,t){var n=this,i=this.allTypes(e),a={},o=e.definition().allProperties();o.forEach(function(t){if("name"!=t.nameId()){var o=e.attrValue(t.nameId());if(o&&void 0!=o&&"undefined"!=o)if("type"==t.nameId()){var s=n.generateTypeExp(o,i);r.extend(a,s)}else if("enum"==t.nameId()){var u=e.attributes("enum"),l=u.map(function(e){return e.value()});a["enum"]=l}else a[t.nameId()]=o}}),t&&(a.required=!1);var s=(e.elements(),this.generateProperties(e));return Object.getOwnPropertyNames(s).length>0&&(a.properties=s),a},e.prototype.generateProperties=function(e){var t=this,n={},r=e.elements(),i=!0;return r.forEach(function(e){var r=e.attrValue("name").trim(),a=!1;"?"==r[r.length-1]&&(r=r.substring(0,r.length-1),a=!0),n[r]=t.generateProperty(e,a),i=!1}),n},e}();t.ModelToSchemaGenerator=s},function(e,t){e.exports=require("atom-package-deps")}]);
//# sourceMappingURL=main.js.map