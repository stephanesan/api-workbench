module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i=n(1),a=n(109),o=n(170),s=n(151),u=n(188),l=n(150),c=n(194),p=n(149),d=n(197),m=n(5).CompositeDisposable,h=n(193),f=n(192),y=n(191),g=n(200);!function(e){function t(e){n(203).install("api-workbench",!0).then(function(){S.add(atom.commands.add("atom-workspace",{"api-workbench:popular-apis":o.showPopularApis,"api-workbench:editorTools":s.initEditorTools,"api-workbench:console":i.toggle,"api-workbench:gotoDecl":p.gotoDeclaration,"api-workbench:findUsages":p.findUsages,"api-workbench:quickOutline":c.show,"api-workbench:quick-commands":u.showCommands,"api-workbench:rename":p.renameRAMLElement,"api-workbench:newProject":p.newProject,"api-workbench:selectNode":p.select})),S.add(atom.workspace.addOpener(i.opener)),S.add(atom.workspace.addOpener(a.opener)),h.initialize(),f.initialize(),y.initialize(),u.registerCommands(),g.initialize(),s.initEditorTools()})}function r(){return l}function v(){return d}function b(){S.dispose()}var S=new m;e.activate=t,e.getProvider=r,e.provideLinter=v,e.deactivate=b,e.config={grammars:{type:"array","default":["source.raml"]},openConsoleInSplitPane:{type:"boolean","default":!0}}}(r||(r={})),e.exports=r},function(e,t,n){function r(e){return new f.RAMLConsoleView(e)}function i(e){return e instanceof f.RAMLConsoleView}function a(){if(i(atom.workspace.getActivePaneItem()))return void atom.workspace.destroyActivePaneItem();var e=atom.workspace.getActiveTextEditor();if(e){var t=atom.config.get("api-workbench.grammars")||[];return-1===t.indexOf(e.getGrammar().scopeName)?void atom.notifications.addInfo("The API Console can only be opened from RAML files."):o(e)?void 0:void s(e)}}function o(e){var t=f.RAMLConsoleView.getUriForEditor(e),n=atom.workspace.paneForURI(t);return n?(n.destroyItem(n.itemForURI(t)),!0):!1}function s(e,t){return m(f.RAMLConsoleView.getUriForEditor(e),t)}function u(e,t){return m(f.RAMLConsoleView.getUriForFilename(e),t)}function l(e){try{var t=h.parse(e),n=t.protocol,i=t.host,a=t.pathname}catch(o){return}if("raml-console:"===n){try{a=decodeURI(a||"").substr(1)}catch(o){return}return r("editor"===i?{editorId:a}:{filename:a})}}function c(){return atom.config.get("api-workbench.openConsoleInSplitPane")}function p(){return{activatePane:!1,searchAllPanes:!0,split:c()?"right":void 0}}function d(e,t){var n=atom.workspace.getActivePane(),i=r({raml:e,state:t});return c()&&(n=n.findOrCreateRightmostSibling()),atom.workspace.itemOpened(i),n.activateItem(i),Promise.resolve(i)}function m(e,t){var n=p();atom.workspace.getActivePane();return atom.workspace.open(e,n).then(function(e){return e.setState(t),e})}var h=n(2),f=n(3);atom.deserializers.add({name:"RAMLConsoleView",deserialize:function(e){return e?r(e):void 0}}),t.createConsoleView=r,t.isConsoleView=i,t.toggle=a,t.removeConsoleForEditor=o,t.addConsoleForEditor=s,t.addConsoleForFile=u,t.opener=l,t.openView=d},function(e,t){e.exports=require("url")},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(4),a=n(5),o=n(6),s=n(7),u=n(8),l=n(9),c=n(10),p=n(11),d=n(13),m=n(18),h=n(14),f=n(102),y=n(104),g=a.CompositeDisposable,v=!1,b=function(e){function t(t){var n=this;e.call(this),this.loaded=!1,this.isAttached=!1,this.isParsing=!1,this.disposables=new g,this.paths={},this.editors={},this.resolver=new S(function(e){return n.readFileSync(e)}),this.state=l({parameters:{},headers:{},uriParameters:{},baseUriParameters:{},queryParameter:{},bodies:{},authentication:{}},t.state),this.filename=t.filename,this.editorId=t.editorId,t.raml&&(this.raml=f.expandTraitsAndResourceTypes(t.raml),this.project=t.raml.highLevel().lowLevel().unit().project().cloneWithResolver(this.resolver),this.loaded=!0)}return r(t,e),t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.getUriForFilename=function(e){return"raml-console://file/"+e},t.getUriForEditor=function(e){return"raml-console://editor/"+e.id},t.prototype.attached=function(){var e=this;this.isAttached||(this.render(),this.isAttached=!0,this.editorId?this.resolveEditor(this.editorId):this.filename&&this.resolveFilename(this.filename),this.disposables.add(atom.workspace.observeTextEditors(function(t){var n=t.getPath();e.paths[n]&&(e.watchEditor(t),e.stopWatchingPath(n))})),v&&this.disposables.add(atom.workspace.onDidChangeActivePaneItem(function(t){e.observeActiveEditor()})))},t.prototype.resolveEditor=function(e){var t=this,n=function(){if(t.editor=p.getEditorById(e),t.editor)return t.trigger("title-changed"),void t.loadRAML();var n=t.parents(".pane").view();return n&&n.destroyItem(t)};atom.workspace?n():this.disposables.add(atom.packages.onDidActivateInitialPackages(n))},t.prototype.resolveFilename=function(e){var t=this,n=function(){t.file=new u.File(e),t.trigger("title-changed"),t.loadRAML()};atom.workspace?n():this.disposables.add(atom.packages.onDidActivateInitialPackages(n))},t.prototype.readFileSync=function(e){var t,n=p.getEditorByPath(e);if(n)t=n.getText(),this.watchEditor(n);else{try{t=i.readFileSync(e,"utf8")}catch(r){if("ENOENT"===r.code)return void this.watchForFile(e);throw r}this.watchFile(e)}return t},t.prototype.watchEditor=function(e){var t=this,n=e.getPath();if(!this.editors[n]){var r=new g;this.editors[n]=r,r.add(e.onDidStopChanging(function(){t.updateUnit(n,e.getText())}));var i=function(){t.stopWatchingEditor(n),t.updateUnit(n,t.readFileSync(n))};r.add(e.onDidDestroy(i)),r.add(e.onDidChangePath(i))}},t.prototype.observeActiveEditor=function(){var e=this;this.cursorSubscription&&this.cursorSubscription.dispose();var t=this.getActiveEditor();t&&this.editors[t.getPath()]&&(this.cursorSubscription=t.onDidChangeCursorPosition(function(){e.updatePosition()}),this.updatePosition())},t.prototype.getActiveEditor=function(){return atom.workspace.getActiveTextEditor()},t.prototype.updatePosition=function(){var e=this.getActiveEditor();if(e&&this.raml){var t=e.getCursorBufferPosition(),n=e.getBuffer().characterIndexForPosition(t),r=this.getUnit(e.getPath());if(r){var i=h.fromUnit(r).root().findElementAtOffset(n);i?this.setState({id:i.id()}):this.setState({id:""})}}},t.prototype.stopWatchingPath=function(e){var t=this.paths[e];t&&(t.close(),delete this.paths[e])},t.prototype.stopWatchingEditor=function(e){var t=this.editors[e];t&&(t.dispose(),delete this.editors[e])},t.prototype.watchFile=function(e){var t=this;if(!this.paths[e]){var n=u.watch(e,function(n){"change"===n?t.updateUnit(e,t.readFileSync(e)):(t.stopWatchingPath(e),t.deleteUnit(e))});this.paths[e]=n}},t.prototype.watchForFile=function(e){var t=this;this.watchForPath(e,function(){t.updateUnit(e,t.readFileSync(e))})},t.prototype.watchForPath=function(e,t){var n=this,r=c.dirname(e),i=function(){var a=u.watch(r,function(a,o){"change"===a?o===e&&(n.stopWatchingPath(r),t()):(n.watchForPath(r,i),n.stopWatchingPath(r))});n.paths[r]=a};try{i()}catch(a){this.watchForPath(r,i)}},t.prototype.stopWatching=function(){var e=this;Object.keys(this.paths).forEach(function(t){e.stopWatchingPath(t)}),Object.keys(this.editors).forEach(function(t){e.stopWatchingEditor(t)})},t.prototype.navigate=function(e){this.setState({id:e},function(){document.getElementById("raml-console-view").scrollTop=0})},t.prototype.render=function(e){var t=this,n={state:this.state,raml:this.raml,loaded:this.loaded,errors:this.errors,setState:function(e){return t.setState(e)},navigate:function(e){return t.navigate(e)}};o.render(o.createElement(y.Console,n),this.element,e)},t.prototype.updateRAML=function(){this.isParsing=!0;try{var e=this.getUnit(this.getFilename()),t=e.ast().errors();this.errors=t,t.length||(this.raml=f.expandTraitsAndResourceTypes(new d.ApiImpl(h.fromUnit(e).root())))}catch(n){this.raml=void 0,this.errors=[n]}finally{this.loaded=!0,this.isParsing=!1,this.render(),this.trigger("title-changed")}},t.prototype.loadRAML=function(){this.stopWatching(),this.project=new m.Project(c.dirname(this.getFilename()),this.resolver),this.updateRAML(),this.observeActiveEditor()},t.prototype.serialize=function(){return{deserializer:"RAMLConsoleView",filename:this.getFilename(),state:this.state}},t.prototype.getFilename=function(){return this.file?this.file.getPath():this.editor?this.editor.getPath():void 0},t.prototype.getTitle=function(){var e="RAML";return this.raml&&null!=this.raml.title()?e=this.raml.title():this.file?e=c.basename(this.getFilename()):this.editor&&(e=this.editor.getTitle()),e+" Console"},t.prototype.destroy=function(){this.cursorSubscription&&this.cursorSubscription.dispose(),this.stopWatching(),this.disposables.dispose(),o.unmountComponentAtNode(this.element)},t.prototype.setState=function(e,t){this.state=l(this.state,e),this.render(t)},t.prototype.getURI=function(){return t.getUriForFilename(this.getFilename())},t.prototype.getUnit=function(e){return this.project.unit(e,!0)},t.prototype.deleteUnit=function(e){this.project.deleteUnit(e),this.updateRAML()},t.prototype.updateUnit=function(e,t){this.getUnit(e).updateContent(this.readFileSync(e)),this.updateRAML()},t}(s.ScrollView);t.RAMLConsoleView=b;var S=function(e){function t(t){e.call(this),this.readFileSync=t}return r(t,e),t.prototype.content=function(e){return this.readFileSync(e)},t}(m.FSResolver)},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("atom")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("atom-space-pen-views")},function(e,t){function n(e,t){return{close:function(){}}}var r=function(){function e(e){this.path=e}return e.prototype.getPath=function(){return this.path},e.prototype.close=function(){},e}();t.File=r,t.watch=n},function(e,t){e.exports=require("xtend")},function(e,t){e.exports=require("path")},function(e,t,n){function r(e){for(var t=atom.workspace.getTextEditors(),n=0;n<t.length;n++){var r=t[n];if(String(r.id)===e)return r}}function i(e){for(var t=atom.workspace.getTextEditors(),n=0;n<t.length;n++){var r=t[n];if(r.getPath()===e)return r}}function a(e){if(null==e)return atom.grammars.grammarsByScopeName["text.plain.null-grammar"];for(var t=o.extension(e),n=atom.grammars.getGrammars(),r=0;r<n.length;r++){var i=n[r];if(i.fileTypes.indexOf(t)>-1)return i}return atom.grammars.grammarsByScopeName["text.plain.null-grammar"]}var o=n(12);o.define({"text/xml":["xml"]}),t.getEditorById=r,t.getEditorByPath=i,t.getGrammerFromMime=a},function(e,t){e.exports=require("mime")},function(e,t,n){function r(e){var t=re.universeProvider("RAML10"),n=t.getType("Api"),r=n.createStubNode(null,e);return r}function i(e){var t=re.universeProvider("RAML10"),n=t.getType("OLibrary"),r=n.createStubNode(null,e);return r}function a(e){var t=re.universeProvider("RAML10"),n=t.getType("RAMLLanguageElement"),r=n.createStubNode(null,e);return r}function o(e){var t=re.universeProvider("RAML10"),n=t.getType("DocumentationItem"),r=n.createStubNode(null,e);return r}function s(e){var t=re.universeProvider("RAML10"),n=t.getType("ScriptSpec"),r=n.createStubNode(null,e);return r}function u(e){var t=re.universeProvider("RAML10"),n=t.getType("ApiDescription"),r=n.createStubNode(null,e);return r}function l(e){var t=re.universeProvider("RAML10"),n=t.getType("CallbackAPIDescription"),r=n.createStubNode(null,e);return r}function c(e){var t=re.universeProvider("RAML10"),n=t.getType("RAMLProject"),r=n.createStubNode(null,e);return r}function p(e){var t=re.universeProvider("RAML10"),n=t.getType("SecuritySchemaType"),r=n.createStubNode(null,e);return r}function d(e){var t=re.universeProvider("RAML10"),n=t.getType("DataElement"),r=n.createStubNode(null,e);return r}function m(e){var t=re.universeProvider("RAML10"),n=t.getType("XMLInfo"),r=n.createStubNode(null,e);return r}function h(e){var t=re.universeProvider("RAML10"),n=t.getType("ExampleSpec"),r=n.createStubNode(null,e);return r}function f(e){var t=re.universeProvider("RAML10"),n=t.getType("FileParameter"),r=n.createStubNode(null,e);return r}function y(e){var t=re.universeProvider("RAML10"),n=t.getType("ArrayField"),r=n.createStubNode(null,e);return r}function g(e){var t=re.universeProvider("RAML10"),n=t.getType("UnionField"),r=n.createStubNode(null,e);return r}function v(e){var t=re.universeProvider("RAML10"),n=t.getType("ObjectField"),r=n.createStubNode(null,e);return r}function b(e){var t=re.universeProvider("RAML10"),n=t.getType("StrElement"),r=n.createStubNode(null,e);return r}function S(e){var t=re.universeProvider("RAML10"),n=t.getType("BooleanElement"),r=n.createStubNode(null,e);return r}function w(e){var t=re.universeProvider("RAML10"),n=t.getType("ValueElement"),r=n.createStubNode(null,e);return r}function P(e){var t=re.universeProvider("RAML10"),n=t.getType("NumberElement"),r=n.createStubNode(null,e);return r}function M(e){var t=re.universeProvider("RAML10"),n=t.getType("IntegerElement"),r=n.createStubNode(null,e);return r}function T(e){var t=re.universeProvider("RAML10"),n=t.getType("RAMLPointerElement"),r=n.createStubNode(null,e);return r}function E(e){var t=re.universeProvider("RAML10"),n=t.getType("RAMLExpression"),r=n.createStubNode(null,e);return r}function A(e){var t=re.universeProvider("RAML10"),n=t.getType("ScriptHookElement"),r=n.createStubNode(null,e);return r}function C(e){var t=re.universeProvider("RAML10"),n=t.getType("SchemaElement"),r=n.createStubNode(null,e);return r}function N(e){var t=re.universeProvider("RAML10"),n=t.getType("DateElement"),r=n.createStubNode(null,e);return r}function I(e){var t=re.universeProvider("RAML10"),n=t.getType("SecuritySchemaPart"),r=n.createStubNode(null,e);return r}function _(e){var t=re.universeProvider("RAML10"),n=t.getType("MethodBase"),r=n.createStubNode(null,e);return r}function x(e){var t=re.universeProvider("RAML10"),n=t.getType("HasNormalParameters"),r=n.createStubNode(null,e);return r}function R(e){var t=re.universeProvider("RAML10"),n=t.getType("Response"),r=n.createStubNode(null,e);return r}function O(e){var t=re.universeProvider("RAML10"),n=t.getType("Trait"),r=n.createStubNode(null,e);return r}function L(e){var t=re.universeProvider("RAML10"),n=t.getType("Library"),r=n.createStubNode(null,e);return r}function k(e){var t=re.universeProvider("RAML10"),n=t.getType("GlobalSchema"),r=n.createStubNode(null,e);return r}function D(e){var t=re.universeProvider("RAML10"),n=t.getType("RAMLSimpleElement"),r=n.createStubNode(null,e);return r}function U(e){var t=re.universeProvider("RAML10"),n=t.getType("ImportDeclaration"),r=n.createStubNode(null,e);return r}function F(e){var t=re.universeProvider("RAML10"),n=t.getType("ResourceType"),r=n.createStubNode(null,e);return r}function j(e){var t=re.universeProvider("RAML10"),n=t.getType("ResourceBase"),r=n.createStubNode(null,e);return r}function V(e){var t=re.universeProvider("RAML10"),n=t.getType("Method"),r=n.createStubNode(null,e);return r}function K(e){var t=re.universeProvider("RAML10"),n=t.getType("Resource"),r=n.createStubNode(null,e);return r}function B(e){var t=re.universeProvider("RAML10"),n=t.getType("AnnotationType"),r=n.createStubNode(null,e);return r}function q(e){var t=re.universeProvider("RAML10"),n=t.getType("SecuritySchema"),r=n.createStubNode(null,e);return r}function H(e){var t=re.universeProvider("RAML10"),n=t.getType("SecuritySchemaSettings"),r=n.createStubNode(null,e);return r}function G(e){var t=re.universeProvider("RAML10"),n=t.getType("OAuth1SecuritySchemeSettings"),r=n.createStubNode(null,e);return r}function W(e){var t=re.universeProvider("RAML10"),n=t.getType("OAuth2SecuritySchemeSettings"),r=n.createStubNode(null,e);return r}function z(e){var t=re.universeProvider("RAML10"),n=t.getType("PassThroughSettings"),r=n.createStubNode(null,e);return r}function Y(e){var t=re.universeProvider("RAML10"),n=t.getType("Oath2"),r=n.createStubNode(null,e);return r}function J(e){var t=re.universeProvider("RAML10"),n=t.getType("Oath1"),r=n.createStubNode(null,e);return r}function $(e){var t=re.universeProvider("RAML10"),n=t.getType("PassThrough"),r=n.createStubNode(null,e);return r}function X(e){var t=re.universeProvider("RAML10"),n=t.getType("Basic"),r=n.createStubNode(null,e);return r}function Q(e){var t=re.universeProvider("RAML10"),n=t.getType("Digest"),r=n.createStubNode(null,e);return r}function Z(e){var t=re.universeProvider("RAML10"),n=t.getType("Custom"),r=n.createStubNode(null,e);return r}function ee(e){var t=re.universeProvider("RAML10"),n=t.getType("Overlay"),r=n.createStubNode(null,e);return r}function te(e){var t=re.universeProvider("RAML10"),n=t.getType("Extension"),r=n.createStubNode(null,e);return r}var ne=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},re=n(14),ie=n(90),ae=function(e){function t(t){e.call(this,t)}return ne(t,e),t.prototype.wrapperClassName=function(){return"BasicNodeImpl"},t.prototype.parent=function(){return e.prototype.parent.call(this)},t}(ie.BasicSuperNodeImpl);t.BasicNodeImpl=ae;var oe=function(e){function t(t){e.call(this,"string"==typeof t?a(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLLanguageElementImpl"},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(ae);t.RAMLLanguageElementImpl=oe;var se=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ValueTypeImpl"},e.prototype.value=function(){return this.attr.value()},e.prototype.highLevel=function(){return this.attr},e}();t.ValueTypeImpl=se;var ue=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeImpl"},t}(se);t.NumberTypeImpl=ue;var le=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeImpl"},t}(se);t.BooleanTypeImpl=le;var ce=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ReferenceImpl"},t.prototype.value=function(){return ie.toStructuredValue(this.attr)},t}(se);t.ReferenceImpl=ce;var pe=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeRefImpl"},t}(ce);t.ResourceTypeRefImpl=pe;var de=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"TraitRefImpl"},t}(ce);t.TraitRefImpl=de;var me=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaRefImpl"},t}(ce);t.SecuritySchemaRefImpl=me;var he=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"AnnotationRefImpl"},t}(ce);t.AnnotationRefImpl=he;var fe=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"DataElementRefImpl"},t}(ce);t.DataElementRefImpl=fe;var ye=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ramlexpressionImpl"},t}(se);t.ramlexpressionImpl=ye;var ge=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"AnnotationTargetImpl"},t}(se);t.AnnotationTargetImpl=ge;var ve=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"pointerImpl"},t}(se);t.pointerImpl=ve;var be=function(e){function t(t){e.call(this,t),this.attr=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"StringTypeImpl"},t}(se);t.StringTypeImpl=be;var Se=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"UriTemplateImpl"},t}(be);t.UriTemplateImpl=Se;var we=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"RelativeUriImpl"},t}(Se);t.RelativeUriImpl=we;var Pe=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"FullUriTemplateImpl"},t}(Se);t.FullUriTemplateImpl=Pe;var Me=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"StatusCodeImpl"},t}(be);t.StatusCodeImpl=Me;var Te=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"FixedUriImpl"},t}(be);t.FixedUriImpl=Te;var Ee=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ContentTypeImpl"},t}(be);t.ContentTypeImpl=Ee;var Ae=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ValidityExpressionImpl"},t}(be);t.ValidityExpressionImpl=Ae;var Ce=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"DateFormatSpecImpl"},t}(be);t.DateFormatSpecImpl=Ce;var Ne=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"FunctionalInterfaceImpl"},t}(be);t.FunctionalInterfaceImpl=Ne;var Ie=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"SchemaStringImpl"},t}(be);t.SchemaStringImpl=Ie;var _e=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"JSonSchemaStringImpl"},t}(Ie);t.JSonSchemaStringImpl=_e;var xe=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"XMLSchemaStringImpl"},t}(Ie);t.XMLSchemaStringImpl=xe;var Re=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ExampleStringImpl"},t}(be);t.ExampleStringImpl=Re;var Oe=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"ScriptingHookImpl"},t}(be);t.ScriptingHookImpl=Oe;var Le=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaHookScriptImpl"},t}(Oe);t.SecuritySchemaHookScriptImpl=Le;var ke=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLPointerImpl"},t}(be);t.RAMLPointerImpl=ke;var De=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLSelectorImpl"},t}(be);t.RAMLSelectorImpl=De;var Ue=function(e){function t(){e.apply(this,arguments)}return ne(t,e),t.prototype.wrapperClassName=function(){return"MimeTypeImpl"},t}(be);t.MimeTypeImpl=Ue;var Fe=function(e){function t(t){e.call(this,t),this.attr=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"MarkdownStringImpl"},t}(be);t.MarkdownStringImpl=Fe;var je=function(e){function t(t){e.call(this,"string"==typeof t?o(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"DocumentationItemImpl"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",function(e){return new Fe(e)})},t}(oe);t.DocumentationItemImpl=je;var Ve=function(e){function t(t){e.call(this,"string"==typeof t?s(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ScriptSpecImpl"},t.prototype.language=function(){return e.prototype.attribute.call(this,"language",this.toString)},t.prototype.setLanguage=function(e){return this.highLevel().attrOrCreate("language").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",this.toString)},t.prototype.setContent=function(e){return this.highLevel().attrOrCreate("content").setValue(""+e),this},t}(oe);t.ScriptSpecImpl=Ve;var Ke=function(e){function t(t){e.call(this,"string"==typeof t?u(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ApiDescriptionImpl"},t.prototype.apiFiles=function(){return e.prototype.elements.call(this,"apiFiles")},t.prototype.script=function(){return e.prototype.elements.call(this,"script")},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t}(oe);t.ApiDescriptionImpl=Ke;var Be=function(e){function t(t){e.call(this,"string"==typeof t?l(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"CallbackAPIDescriptionImpl"},t.prototype.callbackFor=function(){return e.prototype.element.call(this,"callbackFor")},t}(Ke);t.CallbackAPIDescriptionImpl=Be;var qe=function(e){function t(t){e.call(this,"string"==typeof t?c(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLProjectImpl"},t.prototype.relatedProjects=function(){return e.prototype.elements.call(this,"relatedProjects")},t.prototype.declaredApis=function(){return e.prototype.elements.call(this,"declaredApis")},t.prototype.license=function(){return e.prototype.attribute.call(this,"license",this.toString)},t.prototype.setLicense=function(e){return this.highLevel().attrOrCreate("license").setValue(""+e),this},t.prototype.overview=function(){return e.prototype.attribute.call(this,"overview",this.toString)},t.prototype.setOverview=function(e){return this.highLevel().attrOrCreate("overview").setValue(""+e),this},t.prototype.url=function(){return e.prototype.attribute.call(this,"url",this.toString)},t.prototype.setUrl=function(e){return this.highLevel().attrOrCreate("url").setValue(""+e),this},t}(oe);t.RAMLProjectImpl=qe;var He=function(e){function t(t){e.call(this,"string"==typeof t?p(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaTypeImpl"},t.prototype.requiredSettings=function(){return e.prototype.elements.call(this,"requiredSettings")},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t}(oe);t.SecuritySchemaTypeImpl=He;var Ge=function(e){function t(t){e.call(this,"string"==typeof t?d(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"DataElementImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.xml=function(){return e.prototype.element.call(this,"xml")},t.prototype.facets=function(){return e.prototype.elements.call(this,"facets")},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",this.toString)},t.prototype.setSchema=function(e){return this.highLevel().attrOrCreate("schema").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attributes.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.location=function(){return e.prototype.attribute.call(this,"location",function(e){return new ze(e)})},t.prototype.locationKind=function(){return e.prototype.attribute.call(this,"locationKind",function(e){return new Ye(e)})},t.prototype["default"]=function(){return e.prototype.attribute.call(this,"default",this.toString)},t.prototype.setDefault=function(e){return this.highLevel().attrOrCreate("default").setValue(""+e),this},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",this.toString)},t.prototype.setExample=function(e){return this.highLevel().attrOrCreate("example").setValue(""+e),this},t.prototype.examples=function(){return e.prototype.elements.call(this,"examples")},t.prototype.repeat=function(){return e.prototype.attribute.call(this,"repeat",this.toBoolean)},t.prototype.setRepeat=function(e){return this.highLevel().attrOrCreate("repeat").setValue(""+e),this},t.prototype.required=function(){return e.prototype.attribute.call(this,"required",this.toBoolean)},t.prototype.setRequired=function(e){return this.highLevel().attrOrCreate("required").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(oe);t.DataElementImpl=Ge;var We=function(e){function t(t){e.call(this,"string"==typeof t?m(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"XMLInfoImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.namespace=function(){return e.prototype.attribute.call(this,"namespace",this.toString)},t.prototype.setNamespace=function(e){return this.highLevel().attrOrCreate("namespace").setValue(""+e),this},t.prototype.prefix=function(){return e.prototype.attribute.call(this,"prefix",this.toString)},t.prototype.setPrefix=function(e){return this.highLevel().attrOrCreate("prefix").setValue(""+e),this},t.prototype.attribute=function(){return e.prototype.attribute.call(this,"attribute",this.toBoolean)},t.prototype.setAttribute=function(e){return this.highLevel().attrOrCreate("attribute").setValue(""+e),this},t.prototype.wrapped=function(){return e.prototype.attribute.call(this,"wrapped",this.toBoolean)},t.prototype.setWrapped=function(e){return this.highLevel().attrOrCreate("wrapped").setValue(""+e),this},t}(ae);t.XMLInfoImpl=We;var ze=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ModelLocationImpl"},e}();t.ModelLocationImpl=ze;var Ye=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"LocationKindImpl"},e}();t.LocationKindImpl=Ye;var Je=function(e){function t(t){e.call(this,"string"==typeof t?h(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ExampleSpecImpl"},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",this.toString)},t.prototype.setContent=function(e){return this.highLevel().attrOrCreate("content").setValue(""+e),this},t.prototype.strict=function(){return e.prototype.attribute.call(this,"strict",this.toBoolean)},t.prototype.setStrict=function(e){return this.highLevel().attrOrCreate("strict").setValue(""+e),this},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){
return new he(e)})},t}(oe);t.ExampleSpecImpl=Je;var $e=function(e){function t(t){e.call(this,"string"==typeof t?f(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"FileParameterImpl"},t.prototype.fileTypes=function(){return e.prototype.attributes.call(this,"fileTypes",function(e){return new Ee(e)})},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t}(Ge);t.FileParameterImpl=$e;var Xe=function(e){function t(t){e.call(this,"string"==typeof t?y(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ArrayFieldImpl"},t.prototype.uniqueItems=function(){return e.prototype.attribute.call(this,"uniqueItems",this.toBoolean)},t.prototype.setUniqueItems=function(e){return this.highLevel().attrOrCreate("uniqueItems").setValue(""+e),this},t.prototype.items=function(){return e.prototype.element.call(this,"items")},t.prototype.minItems=function(){return e.prototype.attribute.call(this,"minItems",this.toNumber)},t.prototype.setMinItems=function(e){return this.highLevel().attrOrCreate("minItems").setValue(""+e),this},t.prototype.maxItems=function(){return e.prototype.attribute.call(this,"maxItems",this.toNumber)},t.prototype.setMaxItems=function(e){return this.highLevel().attrOrCreate("maxItems").setValue(""+e),this},t}(Ge);t.ArrayFieldImpl=Xe;var Qe=function(e){function t(t){e.call(this,"string"==typeof t?g(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"UnionFieldImpl"},t.prototype.discriminator=function(){return e.prototype.attribute.call(this,"discriminator",this.toString)},t.prototype.setDiscriminator=function(e){return this.highLevel().attrOrCreate("discriminator").setValue(""+e),this},t}(Ge);t.UnionFieldImpl=Qe;var Ze=function(e){function t(t){e.call(this,"string"==typeof t?v(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ObjectFieldImpl"},t.prototype.properties=function(){return e.prototype.elements.call(this,"properties")},t.prototype.minProperties=function(){return e.prototype.attribute.call(this,"minProperties",this.toNumber)},t.prototype.setMinProperties=function(e){return this.highLevel().attrOrCreate("minProperties").setValue(""+e),this},t.prototype.maxProperties=function(){return e.prototype.attribute.call(this,"maxProperties",this.toNumber)},t.prototype.setMaxProperties=function(e){return this.highLevel().attrOrCreate("maxProperties").setValue(""+e),this},t.prototype.additionalProperties=function(){return e.prototype.element.call(this,"additionalProperties")},t.prototype.patternProperties=function(){return e.prototype.elements.call(this,"patternProperties")},t.prototype.discriminator=function(){return e.prototype.attribute.call(this,"discriminator",function(e){return new ve(e)})},t.prototype.discriminatorValue=function(){return e.prototype.attribute.call(this,"discriminatorValue",this.toString)},t.prototype.setDiscriminatorValue=function(e){return this.highLevel().attrOrCreate("discriminatorValue").setValue(""+e),this},t}(Ge);t.ObjectFieldImpl=Ze;var et=function(e){function t(t){e.call(this,"string"==typeof t?b(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"StrElementImpl"},t.prototype.pattern=function(){return e.prototype.attribute.call(this,"pattern",this.toString)},t.prototype.setPattern=function(e){return this.highLevel().attrOrCreate("pattern").setValue(""+e),this},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString)},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t}(Ge);t.StrElementImpl=et;var tt=function(e){function t(t){e.call(this,"string"==typeof t?S(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"BooleanElementImpl"},t}(Ge);t.BooleanElementImpl=tt;var nt=function(e){function t(t){e.call(this,"string"==typeof t?w(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ValueElementImpl"},t}(Ge);t.ValueElementImpl=nt;var rt=function(e){function t(t){e.call(this,"string"==typeof t?P(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"NumberElementImpl"},t.prototype.minimum=function(){return e.prototype.attribute.call(this,"minimum",this.toNumber)},t.prototype.setMinimum=function(e){return this.highLevel().attrOrCreate("minimum").setValue(""+e),this},t.prototype.maximum=function(){return e.prototype.attribute.call(this,"maximum",this.toNumber)},t.prototype.setMaximum=function(e){return this.highLevel().attrOrCreate("maximum").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString)},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t.prototype.format=function(){return e.prototype.attribute.call(this,"format",this.toString)},t.prototype.setFormat=function(e){return this.highLevel().attrOrCreate("format").setValue(""+e),this},t.prototype.multipleOf=function(){return e.prototype.attribute.call(this,"multipleOf",this.toNumber)},t.prototype.setMultipleOf=function(e){return this.highLevel().attrOrCreate("multipleOf").setValue(""+e),this},t}(Ge);t.NumberElementImpl=rt;var it=function(e){function t(t){e.call(this,"string"==typeof t?M(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"IntegerElementImpl"},t.prototype.format=function(){return e.prototype.attribute.call(this,"format",this.toString)},t.prototype.setFormat=function(e){return this.highLevel().attrOrCreate("format").setValue(""+e),this},t}(rt);t.IntegerElementImpl=it;var at=function(e){function t(t){e.call(this,"string"==typeof t?T(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLPointerElementImpl"},t.prototype.target=function(){return e.prototype.attribute.call(this,"target",function(e){return new De(e)})},t}(Ge);t.RAMLPointerElementImpl=at;var ot=function(e){function t(t){e.call(this,"string"==typeof t?E(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLExpressionImpl"},t}(Ge);t.RAMLExpressionImpl=ot;var st=function(e){function t(t){e.call(this,"string"==typeof t?A(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ScriptHookElementImpl"},t.prototype.declaredIn=function(){return e.prototype.attribute.call(this,"declaredIn",this.toString)},t.prototype.setDeclaredIn=function(e){return this.highLevel().attrOrCreate("declaredIn").setValue(""+e),this},t.prototype.interfaceName=function(){return e.prototype.attribute.call(this,"interfaceName",this.toString)},t.prototype.setInterfaceName=function(e){return this.highLevel().attrOrCreate("interfaceName").setValue(""+e),this},t}(Ge);t.ScriptHookElementImpl=st;var ut=function(e){function t(t){e.call(this,"string"==typeof t?C(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"SchemaElementImpl"},t}(Ge);t.SchemaElementImpl=ut;var lt=function(e){function t(t){e.call(this,"string"==typeof t?N(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"DateElementImpl"},t.prototype.dateFormat=function(){return e.prototype.attribute.call(this,"dateFormat",function(e){return new Ce(e)})},t}(Ge);t.DateElementImpl=lt;var ct=function(e){function t(t){e.call(this,"string"==typeof t?x(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"HasNormalParametersImpl"},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t}(oe);t.HasNormalParametersImpl=ct;var pt=function(e){function t(t){e.call(this,"string"==typeof t?_(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"MethodBaseImpl"},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new de(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new me(e)})},t}(ct);t.MethodBaseImpl=pt;var dt=function(e){function t(t){e.call(this,"string"==typeof t?R(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ResponseImpl"},t.prototype.code=function(){return e.prototype.attribute.call(this,"code",function(e){return new Me(e)})},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(oe);t.ResponseImpl=dt;var mt=function(e){function t(t){e.call(this,"string"==typeof t?O(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"TraitImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(pt);t.TraitImpl=mt;var ht=function(e){function t(t){e.call(this,"string"==typeof t?L(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"LibraryImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.schemas=function(){return e.prototype.elements.call(this,"schemas")},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.types=function(){return e.prototype.elements.call(this,"types")},t.prototype.traits=function(){return e.prototype.elements.call(this,"traits")},t.prototype.resourceTypes=function(){return e.prototype.elements.call(this,"resourceTypes")},t.prototype.annotationTypes=function(){return e.prototype.elements.call(this,"annotationTypes")},t.prototype.securitySchemaTypes=function(){return e.prototype.elements.call(this,"securitySchemaTypes")},t.prototype.securitySchemes=function(){return e.prototype.elements.call(this,"securitySchemes")},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(ae);t.LibraryImpl=ht;var ft=function(e){function t(t){e.call(this,"string"==typeof t?D(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"RAMLSimpleElementImpl"},t}(ae);t.RAMLSimpleElementImpl=ft;var yt=function(e){function t(t){e.call(this,"string"==typeof t?U(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ImportDeclarationImpl"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.element.call(this,"value")},t}(ft);t.ImportDeclarationImpl=yt;var gt=function(e){function t(t){e.call(this,"string"==typeof t?k(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"GlobalSchemaImpl"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.attribute.call(this,"value",function(e){return new Ie(e)})},t}(ft);t.GlobalSchemaImpl=gt;var vt=function(e){function t(t){e.call(this,"string"==typeof t?j(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ResourceBaseImpl"},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new de(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new pe(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new me(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t}(oe);t.ResourceBaseImpl=vt;var bt=function(e){function t(t){e.call(this,"string"==typeof t?V(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"MethodImpl"},t.prototype.signature=function(){return e.prototype.attribute.call(this,"signature",function(e){return new Ie(e)})},t.prototype.method=function(){return e.prototype.attribute.call(this,"method",this.toString)},t.prototype.setMethod=function(e){return this.highLevel().attrOrCreate("method").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new de(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new me(e)})},t}(pt);t.MethodImpl=bt;var St=function(e){function t(t){e.call(this,"string"==typeof t?K(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ResourceImpl"},t.prototype.signature=function(){return e.prototype.attribute.call(this,"signature",function(e){return new Ie(e)})},t.prototype.relativeUri=function(){return e.prototype.attribute.call(this,"relativeUri",function(e){return new we(e)})},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(vt);t.ResourceImpl=St;var wt=function(e){function t(t){e.call(this,"string"==typeof t?F(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(vt);t.ResourceTypeImpl=wt;var Pt=function(e){function t(t){e.call(this,"string"==typeof t?B(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"AnnotationTypeImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.parameters=function(){return e.prototype.elements.call(this,"parameters")},t.prototype.allowMultiple=function(){return e.prototype.attribute.call(this,"allowMultiple",this.toBoolean)},t.prototype.setAllowMultiple=function(e){return this.highLevel().attrOrCreate("allowMultiple").setValue(""+e),this},t.prototype.allowedTargets=function(){return e.prototype.attributes.call(this,"allowedTargets",function(e){return new ge(e)})},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t}(oe);t.AnnotationTypeImpl=Pt;var Mt=function(e){function t(t){e.call(this,"string"==typeof t?q(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(oe);t.SecuritySchemaImpl=Mt;var Tt=function(e){function t(t){e.call(this,"string"==typeof t?H(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaSettingsImpl"},t}(ae);t.SecuritySchemaSettingsImpl=Tt;var Et=function(e){function t(t){e.call(this,"string"==typeof t?G(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"OAuth1SecuritySchemeSettingsImpl"},t.prototype.requestTokenUri=function(){return e.prototype.attribute.call(this,"requestTokenUri",function(e){return new Te(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new Te(e)})},t.prototype.tokenCredentialsUri=function(){return e.prototype.attribute.call(this,"tokenCredentialsUri",function(e){return new Te(e)})},t.prototype.signatures=function(){return e.prototype.attributes.call(this,"signatures",this.toString)},t.prototype.setSignatures=function(e){return this.highLevel().attrOrCreate("signatures").setValue(""+e),this},t}(Tt);t.OAuth1SecuritySchemeSettingsImpl=Et;var At=function(e){function t(t){e.call(this,"string"==typeof t?W(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"OAuth2SecuritySchemeSettingsImpl"},t.prototype.accessTokenUri=function(){return e.prototype.attribute.call(this,"accessTokenUri",function(e){return new Te(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new Te(e)})},t.prototype.authorizationGrants=function(){return e.prototype.attributes.call(this,"authorizationGrants",this.toString)},t.prototype.setAuthorizationGrants=function(e){return this.highLevel().attrOrCreate("authorizationGrants").setValue(""+e),this},t.prototype.scopes=function(){return e.prototype.attributes.call(this,"scopes",this.toString)},t.prototype.setScopes=function(e){return this.highLevel().attrOrCreate("scopes").setValue(""+e),this},t}(Tt);t.OAuth2SecuritySchemeSettingsImpl=At;var Ct=function(e){function t(t){e.call(this,"string"==typeof t?z(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"PassThroughSettingsImpl"},t.prototype.queryParameterName=function(){return e.prototype.attribute.call(this,"queryParameterName",this.toString)},t.prototype.setQueryParameterName=function(e){return this.highLevel().attrOrCreate("queryParameterName").setValue(""+e),this},t.prototype.headerName=function(){return e.prototype.attribute.call(this,"headerName",this.toString)},t.prototype.setHeaderName=function(e){return this.highLevel().attrOrCreate("headerName").setValue(""+e),this},t}(Tt);t.PassThroughSettingsImpl=Ct;var Nt=function(e){function t(t){e.call(this,"string"==typeof t?Y(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"Oath2Impl"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(Mt);t.Oath2Impl=Nt;var It=function(e){function t(t){e.call(this,"string"==typeof t?J(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"Oath1Impl"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(Mt);t.Oath1Impl=It;var _t=function(e){function t(t){e.call(this,"string"==typeof t?$(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"PassThroughImpl"},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(Mt);t.PassThroughImpl=_t;var xt=function(e){function t(t){e.call(this,"string"==typeof t?X(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"BasicImpl"},t}(Mt);t.BasicImpl=xt;var Rt=function(e){function t(t){e.call(this,"string"==typeof t?Q(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"DigestImpl"},t}(Mt);t.DigestImpl=Rt;var Ot=function(e){function t(t){e.call(this,"string"==typeof t?Z(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"CustomImpl"},t}(Mt);t.CustomImpl=Ot;var Lt=function(e){function t(t){e.call(this,"string"==typeof t?I(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaPartImpl"},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.queryString=function(){return e.prototype.element.call(this,"queryString")},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new de(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new me(e)})},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t}(pt);t.SecuritySchemaPartImpl=Lt;var kt=function(e){function t(t){e.call(this,"string"==typeof t?i(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"OLibraryImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.schemas=function(){return e.prototype.elements.call(this,"schemas")},t.prototype.types=function(){return e.prototype.elements.call(this,"types")},t.prototype.traits=function(){return e.prototype.elements.call(this,"traits")},t.prototype.resourceTypes=function(){return e.prototype.elements.call(this,"resourceTypes")},t.prototype.annotationTypes=function(){return e.prototype.elements.call(this,"annotationTypes")},t.prototype.securitySchemaTypes=function(){return e.prototype.elements.call(this,"securitySchemaTypes")},t.prototype.securitySchemes=function(){return e.prototype.elements.call(this,"securitySchemes")},t.prototype.uses=function(){return e.prototype.elements.call(this,"uses")},t}(oe);t.OLibraryImpl=kt;var Dt=function(e){function t(t){e.call(this,"string"==typeof t?r(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ApiImpl"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.version=function(){return e.prototype.attribute.call(this,"version",this.toString)},t.prototype.setVersion=function(e){return this.highLevel().attrOrCreate("version").setValue(""+e),this},t.prototype.baseUri=function(){return e.prototype.attribute.call(this,"baseUri",function(e){return new Pe(e)})},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.mediaType=function(){return e.prototype.attribute.call(this,"mediaType",function(e){return new Ue(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new me(e)})},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.documentation=function(){return e.prototype.elements.call(this,"documentation")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new Fe(e)})},t.prototype.annotations=function(){return e.prototype.attributes.call(this,"annotations",function(e){return new he(e)})},t.prototype.securitySchemaTypes=function(){return e.prototype.elements.call(this,"securitySchemaTypes")},t}(kt);t.ApiImpl=Dt;var Ut=function(e){function t(t){e.call(this,"string"==typeof t?ee(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"OverlayImpl"},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.masterRef=function(){return e.prototype.attribute.call(this,"masterRef",this.toString)},t.prototype.setMasterRef=function(e){return this.highLevel().attrOrCreate("masterRef").setValue(""+e),this},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t}(Dt);t.OverlayImpl=Ut;var Ft=function(e){function t(t){e.call(this,"string"==typeof t?te(t):t),this.nodeOrKey=t}return ne(t,e),t.prototype.wrapperClassName=function(){return"ExtensionImpl"},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.masterRef=function(){return e.prototype.attribute.call(this,"masterRef",this.toString)},t.prototype.setMasterRef=function(e){return this.highLevel().attrOrCreate("masterRef").setValue(""+e),this},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t}(Dt);t.ExtensionImpl=Ft},function(e,t,n){function r(e){var t={};return e.attrs().forEach(function(e){t[e.property().name()]=e.value()}),e.elements().forEach(function(e){var n=t[e.property().name()];Array.isArray(n)&&n.push(r(e)),t[e.property().name()]=e.property().isMultiValue()?[r(e)]:r(e)}),t}function i(e){if(null==e)return null;var n=e.contents(),r=e.ast(),i=t.getDefinitionSystemType(n,r),a=i.ptype,o=i.localUniverse,s=o.type(a);s||(s=o.type("Api"));var u=new S.ASTNodeImpl(r,null,s,null);return u.setUniverse(o),u}function a(e){return e.parent()?a(e.parent())+"/"+e.localId():void 0}function o(e,t){for(var n=e.children(),r=n.length,i=0;r>i;i++){var a=n[i];if(a.lowLevel().start()>t)break;if(!(a.lowLevel().end()<t)){var s=o(a,t);return null!=s?s:a}}}function s(e){return 0==e.getKind()}function u(e){return 2==e.getKind()}function l(e){return 1==e.getKind()}function c(e){return l(e)&&e.definition&&"Resource"==e.definition().name()}function p(e){if(!c(e))return!1;var t=e,n=t.attr("relativeUri");if(n&&n.value()&&"string"==typeof n.value()&&n.value().indexOf(".")>=0){var r=t.attrValue("signature");return r?"string"==typeof r&&0==r.length?!1:!0:!1}return!1}function d(e){var t=e.lowLevel().unit().contents();return t.indexOf("#%RAML 1.0")>=0}function m(e){var t=e.lowLevel().unit().contents();return t.indexOf("#%RAML 0.8")>=0}function h(e){return e.getKind?2!=e.getKind()?null:e:null}function f(e){return e.getKind?1!=e.getKind()?null:e:null}function y(e){return f(e)&&"Library"==f(e).definition().name()}function g(e){return y(e)?f(e).attrValue("name"):null}var v=n(15);!function(e){e[e.BASIC=0]="BASIC",e[e.NODE=1]="NODE",e[e.ATTRIBUTE=2]="ATTRIBUTE"}(t.NodeKind||(t.NodeKind={}));t.NodeKind;!function(e){e[e.UNRESOLVED_REFERENCE=0]="UNRESOLVED_REFERENCE",e[e.YAML_ERROR=1]="YAML_ERROR",e[e.UNKNOWN_NODE=2]="UNKNOWN_NODE",e[e.MISSING_REQUIRED_PROPERTY=3]="MISSING_REQUIRED_PROPERTY",e[e.PROPERTY_EXPECT_TO_HAVE_SINGLE_VALUE=4]="PROPERTY_EXPECT_TO_HAVE_SINGLE_VALUE",e[e.KEY_SHOULD_BE_UNIQUE_INTHISCONTEXT=5]="KEY_SHOULD_BE_UNIQUE_INTHISCONTEXT",e[e.UNABLE_TO_RESOLVE_INCLUDE_FILE=6]="UNABLE_TO_RESOLVE_INCLUDE_FILE",e[e.INVALID_VALUE_SCHEMA=7]="INVALID_VALUE_SCHEMA",e[e.MISSED_CONTEXT_REQUIREMENT=8]="MISSED_CONTEXT_REQUIREMENT",e[e.NODE_HAS_VALUE=9]="NODE_HAS_VALUE",e[e.ONLY_OVERRIDE_ALLOWED=10]="ONLY_OVERRIDE_ALLOWED"}(t.IssueCode||(t.IssueCode={}));var b=(t.IssueCode,function(){function e(){this.code=0;
}return e.prototype.isOk=function(){return 0==this.code},e}());t.Problem=b,t.ast2Object=r,t.universeProvider=n(98);var S=n(17);t.getDefinitionSystemType=function(e,n){for(var r="",i="Api",a=0,o=0,s=0;s<e.length;s++){var u=e.charAt(s);if("\r"==u||"\n"==u){r?i=e.substring(o,s).trim():r=e.substring(0,s).trim();break}" "==u&&(a++,r||2!=a||(r=e.substring(0,s),o=s))}var l="#%RAML 1.0"==r?new v.Universe("RAML10",t.universeProvider("RAML10"),"RAML10"):new v.Universe("RAML08",t.universeProvider("RAML08"));return n&&n.children().filter(function(e){return"swagger"==e.key()}).length>0&&(l=new v.Universe("Swagger",t.universeProvider("Swagger2"),"Swagger"),i="SwaggerObject"),"API"==i&&(i="Api"),"NamedExample"==i&&(i="ExampleSpec"),"DataType"==i&&(i="DataElement"),"SecurityScheme"==i&&(i="SecuritySchema"),l.setTopLevel(i),l.setTypedVersion(r),{ptype:i,localUniverse:l}},t.fromUnit=i,t.globalId=a,t.nodeAtPosition=o,t.kindBasic=s,t.kindAttribute=u,t.kindNode=l,t.isResourceNode=c,t.isResourceWithSignature=p,t.isRAML10=d,t.isRAML08=m,t.asAttribute=h,t.asNode=f,t.isLibrary=y,t.getLibraryName=g},function(e,t,n){function r(e,t,n,r){var i=new k(e,t);return i.withDomain(n).withRange(r)}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(16),o=n(17),s=n(18),u=n(78),l=n(75),c=n(69),p=n(96),d=n(15),m=n(66),h=function(){function e(e){this._name=e}return e.prototype.name=function(){return this._name},e}();t.Annotation=h;var f=function(){function e(e,t){void 0===t&&(t=""),this._name=e,this._description=t,this._issues=[],this._toClarify=[],this._itCovers=[],this._tags=[]}return e.prototype.name=function(){return this._name},e.prototype.description=function(){return this._description},e.prototype.withIssue=function(e){return this._issues.push(e),this},e.prototype.withTag=function(e){return this._tags.push(e),this},e.prototype.withClarify=function(e){return this._toClarify.push(e),this},e.prototype.getCoveredStuff=function(){return this._itCovers},e.prototype.withThisFeatureCovers=function(e){return this._itCovers.push(e),this},e.prototype.withVersion=function(e){this._version=e},e.prototype.version=function(){return this._version},e.prototype.issues=function(){return this._issues},e.prototype.toClarify=function(){return this._toClarify},e.prototype.tags=function(){return this._tags},e.prototype.withDescription=function(e){return this._description=e,this},e}();t.Described=f;var y=function(){function e(e,t){this.name=e,this.value=t}return e}();t.ValueRequirement=y;var g=function(e){function t(t,n,r){e.call(this,t),this._universe=n,this._path=r,this._superTypes=[],this._subTypes=[],this._annotations=[],this._requirements=[],this._aliases=[],this._defining=[],this.fixedFacets={},this._methods=[]}return i(t,e),t.prototype.isRuntime=function(){return!1},t.prototype.union=function(){return null},t.prototype.isUserDefined=function(){return!1},t.prototype.isArray=function(){return!1},t.prototype.isUnion=function(){return!1},t.prototype.fixFacet=function(e,t){this.fixedFacets[e]=t},t.prototype.getFixedFacets=function(){if(this._af)return this._af;var e=this.allSuperTypes(),t={};for(var n in this.fixedFacets)t[n]=this.fixedFacets[n];return e.forEach(function(e){if(e instanceof P){e.contributeFacets(t);var n=e.fixedFacets;for(var r in n)t[r]=n[r]}}),this.contributeFacets(t),this._af=t,t},t.prototype.contributeFacets=function(e){},t.prototype.setDeclaringNode=function(e){this._node=e},t.prototype.getDeclaringNode=function(){return this._node},t.prototype.toRuntime=function(){return this},t.prototype.setConsumesRefs=function(e){this._consumesRef=e},t.prototype.definingPropertyIsEnough=function(e){this._defining.push(e)},t.prototype.getDefining=function(){return this._defining},t.prototype.getConsumesRefs=function(){return this._consumesRef},t.prototype.addAlias=function(e){this._aliases.push(e)},t.prototype.getAliases=function(){return this._aliases},t.prototype.isValid=function(e,t,n){return!0},t.prototype.getPath=function(){return this._path},t.prototype.withFunctionalDescriminator=function(e){this._fDesc=e},t.prototype.addMethod=function(e,t){this._methods.push({name:e,text:t})},t.prototype.methods=function(){return this._methods},t.prototype.setNameAtRuntime=function(e){this._nameAtRuntime=e},t.prototype.getNameAtRuntime=function(){return this._nameAtRuntime},t.prototype.getFunctionalDescriminator=function(){return this._fDesc},t.prototype.getRuntimeExtenders=function(){return[]},t.prototype.universe=function(){return this._universe},t.prototype.superTypes=function(){return[].concat(this._superTypes)},t.prototype.isAssignableFrom=function(e){if(this.name()==e)return this.isUserDefined()?!1:!0;for(var t=this.allSuperTypes(),n=0;n<t.length;n++)if(t[n].name()==e)return!0;return!1},t.prototype.subTypes=function(){return[].concat(this._subTypes)},t.prototype.allSubTypes=function(){var e=[];return this.subTypes().forEach(function(t){e.push(t),e=e.concat(t.allSubTypes())}),a.unique(e)},t.prototype.allSuperTypes=function(){var e=[];return this.allSuperTypesRecurrent(this,{},e),a.unique(e)},t.prototype.allSuperTypesRecurrent=function(e,t,n){var r=this;e.superTypes().forEach(function(e){n.push(e),t[e.name()]||(t[e.name()]=e,r.allSuperTypesRecurrent(e,t,n))})},t.prototype.addRequirement=function(e,t){this._requirements.push(new y(e,t))},t.prototype.valueRequirements=function(){return this._requirements},t.prototype.annotations=function(){return this._annotations},t}(f);t.AbstractType=g;var v=function(e){function t(t,n,r,i,a){void 0===i&&(i=""),void 0===a&&(a=null),e.call(this,t,n,r),this._restriction=a,this._declaredBy=[]}return i(t,e),t.prototype.hasStructure=function(){return"structure"==this.name()?!0:!1},t.prototype.isValid=function(e,t,n){try{if("AnnotationRef"==this.name()){var r=n.referenceTargets(e),i=a.find(r,function(n){return o.qName(n,e)==t});if(null!=i){var s=i.attributes("allowedTargets");if(s){var c=s.map(function(e){return e.value()});if(c.length>0){var d=!1,h=e.definition().allSuperTypes();h=h.concat([e.definition()]);var f=h.map(function(e){return e.name()});if(c.forEach(function(t){"API"==t&&(t="Api"),"NamedExample"==t&&(t="ExampleSpec"),"SecurityScheme"==t&&(t="SecuritySchema"),"SecuritySchemeSettings"==t&&(t="SecuritySchemaSettings"),a.find(f,function(e){return e==t})?d=!0:("Parameter"==t&&e.computedValue("location")&&(d=!0),"Field"==t&&e.computedValue("field")&&(d=!0))}),!d)return new Error("annotation "+t+" can not be placed at this location, allowed targets are:"+c)}}}return y}if("SchemaString"==this.name()){var y=u.createSchema(t);return y instanceof Error&&(y.canBeRef=!0),y}if("StatusCode"==this.name()){if(3!=t.length)return new Error("Status code should be 3 digits number with optional 'x' as wildcards");for(var g=0;g<t.length;g++){var v=t[g];if(!a.find(["0","1","2","3","4","5","6","7","8","9","x","X"],function(e){return e==v}))return new Error("Status code should be 3 digits number with optional 'x' as wildcards")}}if("JSonSchemaString"==this.name()){var b=u.getJSONSchema(t);return b instanceof Error&&(b.canBeRef=!0),b}if("XMLSchemaString"==this.name()){var S=u.getXMLSchema(t);return S instanceof Error&&(S.canBeRef=!0),S}if("BooleanType"==this.name()&&"true"!=t&&"false"!=t)return new Error("'true' or 'false' is expected here");if("NumberType"==this.name()){var w=parseFloat(t);if(isNaN(w))return new Error("number is expected here")}if("ramlexpression"==this.name())try{"condition"==n.name()&&(e=e.computedValue("response")?e.parent().parent().parent():e.parent().parent()),("validWhen"==n.name()||"requiredWhen"==n.name())&&(e=e.parent()),p.validate(t,e)}catch(P){return P}if("pointer"==this.name()){var M=m.resolveRamlPointer(e,t);if(!M)return new Error("Unable to resolve raml pointer:"+t);var T=n,E=T.getSelector(e);if(E){var A=e;A.definition().isAnnotation()&&(A=A.parent());var C=E.apply(A);if(!a.find(C,function(e){return e==M}))return new Error("Pointer does not fits to scope "+t)}}if("RAMLSelector"==this.name())try{var E=l.parse(e,t);return E}catch(P){return new Error("Unable to parse RAML selector :"+P.message)}return!0}catch(P){return P.canBeRef=!0,P}},t.prototype.isValueType=function(){return!0},t.prototype.isUnionType=function(){return!1},t.prototype.properties=function(){return[]},t.prototype.allProperties=function(){return[]},t.prototype.globallyDeclaredBy=function(){return this._declaredBy},t.prototype.setGloballyDeclaredBy=function(e){this._declaredBy.push(e)},t.prototype.getValueRestriction=function(){return this._restriction},t.prototype.match=function(e){return!1},t}(g);t.ValueType=v;var b=function(e){function t(){e.apply(this,arguments),this.values=[]}return i(t,e),t}(v);t.EnumType=b;var S=function(e){function t(t,n,r,i){e.call(this,t,i,n),this.referenceTo=r}return i(t,e),t.prototype.getReferencedType=function(){return this.universe().getType(this.referenceTo)},t.prototype.hasStructure=function(){var e=this.getReferencedType();return e?e.isInlinedTemplates()||null!=e.findMembersDeterminer()||"SecuritySchema"==e.name():!1},t}(v);t.ReferenceType=S;var w=function(e){function t(t,n,r,i){e.call(this,t,i,n),this.refTo=r}return i(t,e),t.prototype.getReferencedType=function(){return this.universe().getType(this.refTo)},t}(v);t.ScriptingHookType=w;var P=function(e){function t(t,n,r,i){void 0===i&&(i=""),e.call(this,t,n,r),this._properties=[],this._declaresType=null,this._runtimeExtenders=[],this._inlinedTemplates=!1,this._contextReq=[],this._allowQuestion=!1,this._canInherit=[]}return i(t,e),t.prototype.isRuntime=function(){return this._isRuntime},t.prototype.isUserDefined=function(){return!1},t.prototype.getRepresentationOf=function(){return this._representationOf},t.prototype.toRuntime=function(){var e=new t(this.name(),this.universe(),"");return e._isRuntime=!0,e._representationOf=this,e},t.prototype.allFacets=function(e){if(void 0===e&&(e={}),this._allFacets)return this._allFacets;if(e[this.name()])return[];e[this.name()]=this;var n={};return this.superTypes().length>0&&this.superTypes().forEach(function(r){r instanceof t&&r.allFacets(e).forEach(function(e){return n[e.name()]=e})}),this._properties.forEach(function(e){return n[e.name()]=e}),this._allFacets=Object.keys(n).map(function(e){return n[e]}),this._allFacets},t.prototype.facet=function(e){return a.find(this.allFacets(),function(t){return t.name()==e})},t.prototype.isDeclaration=function(){return this._inlinedTemplates?!0:this._convertsToGlobal?!0:this._declaresType?!0:"Library"==this.name()?!0:!1},t.prototype.isAnnotation=function(){return this._annotationChecked?this._isAnnotation:(this._annotationChecked=!0,this._isAnnotation=null!=a.find(this.allSuperTypes(),function(e){return"Annotation"==e.name()}),this._isAnnotation)},t.prototype.allowValue=function(){return this._allowValueSet?this._allowValue:a.find(this.allProperties(),function(e){return e.isValue()||e.canBeValue()})?(this._allowValue=!0,this._allowValueSet=!0,!0):(this._allowValueSet=!0,!1)},t.prototype.printDetails=function(){var e="";return e+=this.name()+"\n",this.properties().forEach(function(t){e+="  "+t.name()+":"+t.range()+"\n"}),e},t.prototype.withCanInherit=function(e){this._canInherit.push(e)},t.prototype.getCanInherit=function(){return this._canInherit},t.prototype.getReferenceIs=function(){return this._referenceIs},t.prototype.withReferenceIs=function(e){this._referenceIs=e},t.prototype.withAllowQuestion=function(){this._allowQuestion=!0},t.prototype.requiredProperties=function(){return this.allProperties().filter(function(e){return e.isRequired()})},t.prototype.getAllowQuestion=function(){return this._allowQuestion},t.prototype.withAllowAny=function(){this._allowAny=!0},t.prototype.getAllowAny=function(){return this._allowAny},t.prototype.withActuallyExports=function(e){this._actuallyExports=e},t.prototype.withConvertsToGlobal=function(e){this._convertsToGlobal=e},t.prototype.getConvertsToGlobal=function(){return this._convertsToGlobal},t.prototype.getActuallyExports=function(){return this._actuallyExports},t.prototype.withContextRequirement=function(e,t){this._contextReq.push({name:e,value:t})},t.prototype.getContextRequirements=function(){return this._contextReq},t.prototype.isGlobalDeclaration=function(){return this._actuallyExports?!0:this._inlinedTemplates?!0:this._declaresType?!0:!1},t.prototype.findMembersDeterminer=function(){return a.find(this.allProperties(),function(e){return e.isThisPropertyDeclaresTypeFields()})},t.prototype.isTypeSystemMember=function(){return null!=this._declaresType},t.prototype.hasStructure=function(){return!0},t.prototype.getExtendedType=function(){return this.universe().type(this._declaresType)},t.prototype.setInlinedTemplates=function(e){return this._inlinedTemplates=e,this},t.prototype.isInlinedTemplates=function(){return this._inlinedTemplates},t.prototype.setExtendedTypeName=function(e){this._declaresType=e;var n=this.universe().type(e);if(n instanceof t){var r=n;r._runtimeExtenders.push(this)}},t.prototype.getRuntimeExtenders=function(){return this._runtimeExtenders},t.prototype.createStubNode=function(e,t){void 0===t&&(t=null);var n=s.createNode(t?t:"key"),r=new o.ASTNodeImpl(n,null,this,e);return this.allProperties().forEach(function(e){if(e.range().isValueType()&&!e.isSystem()){r.attr(e.name())}}),r.children(),r},t.prototype.createProperty=function(e,t){void 0===t&&(t=null);var n=(s.createNode(t?t:"key"),new k("zzz"));return n},t.prototype.descriminatorValue=function(){return 0==this.valueRequirements().length?this.name():this.valueRequirements()[0].value},t.prototype.match=function(e,t){var n=this;if(e.isAttr()||e.isUnknown())return!1;var r=e,i=a.find(this.superTypes(),function(e){var t=a.find(e.allProperties(),function(e){return e.isDescriminating()});if(t){var i=r.attr(t.name());if(i&&i.value()==n.name())return!0}return!1});if(i)return!0;if(0==this.valueRequirements().length)return!1;var o=!0;return this.valueRequirements().forEach(function(e){var i=r.attr(e.name);if(i)if(i.value()==e.value);else if(n.getConsumesRefs()){var s=i.value(),u=[];n.superTypes().forEach(function(e){return e.allSubTypes().forEach(function(e){u.push(e)})});var l=[];a.unique(u).forEach(function(e){l.push(e.name()),e.valueRequirements().forEach(function(e){l.push(e.value)}),e.getAliases().forEach(function(e){return l.push(e)})}),a.find(l,function(e){return e==s})&&(o=!1)}else o=!1;else{var c=n.getDefining(),p=!1;if(c.forEach(function(e){r.lowLevel().children().forEach(function(t){if(t.key()==e&&(p=!0),"$ref"==t.key()&&"Swagger"==r.definition().universe().version()){var n=m.resolveReference(t,t.value());n&&a.find(n.children(),function(t){return t.key()==e})&&(p=!0)}})}),p)return void(o=!0);if(!t){var d=n.property(e.name);d&&d.defaultValue()==e.value||(o=!1)}}}),o},t.prototype.allProperties=function(e){if(void 0===e&&(e={}),this._props)return this._props;if(e[this.name()])return[];e[this.name()]=this;var n={};this.superTypes().length>0&&this.superTypes().forEach(function(r){r instanceof t?r.allProperties(e).forEach(function(e){return n[e.name()]=e}):r.allProperties().forEach(function(e){return n[e.name()]=e})});for(var r in this.getFixedFacets())delete n[r];return this._properties.forEach(function(e){return n[e.name()]=e}),this._props=Object.keys(n).map(function(e){return n[e]}),this._props},t.prototype.isValueType=function(){return!1},t.prototype.isAbstract=function(){return this._isAbstract},t.prototype.isUnionType=function(){return!1},t.prototype.property=function(e){return a.find(this.allProperties(),function(t){return t.name()==e})},t.prototype.properties=function(){return[].concat(this._properties)},t.prototype.getKeyProp=function(){return a.find(this.allProperties(),function(e){return e.isKey()})},t.prototype.registerProperty=function(e){if(e.domain()!=this)throw new Error("Should be already owned by this");if(-1!=this._properties.indexOf(e))throw new Error("Already included");this._properties.push(e)},t.prototype.allRuntimeProperties=function(e){return void 0===e&&(e={}),[]},t}(g);t.NodeClass=P;var M=function(e){function t(t,n,r,i,a){e.call(this,t,n,i,a),this.uc=!1,this.setDeclaringNode(r)}return i(t,e),t.prototype.addRuntimeProperty=function(e){this._runtimeProperties.push(e)},t.prototype.isArray=function(){return null!=a.find(this.allSuperTypes(),function(e){return e.isArray()})},t.prototype.isUnion=function(){return null!=a.find(this.allSuperTypes(),function(e){var t=e;if(t.uc)return!1;t.uc=!0;try{return e.isUnion()}finally{t.uc=!1}})},t.prototype.isUserDefined=function(){return!0},t.prototype.contributeFacets=function(e){this.findFacets(this.getDeclaringNode(),e)},t.prototype.findFacets=function(e,t){if(e){var n=e.lowLevel().children(),r=a.find(n,function(e){return"minProperties"==e.key()});r&&(t[r.key()]=r);var r=a.find(n,function(e){return"maxProperties"==e.key()});r&&(t[r.key()]=r)}},t.prototype.initRuntime=function(){var e=this;this._runtimeProperties=[];var t=this.getDeclaringNode();if(t){var n=t.elementsOfKind("properties");n.forEach(function(t){var n=c.elementToProp(t,!0);e.addRuntimeProperty(n)})}},t.prototype.isValueType=function(){return this.isRuntime()?this._value:this.isAssignableFrom("ObjectField")?!1:!0},t.prototype.componentType=function(){var e=this.allSuperTypes(),t=null;return e.forEach(function(e){e instanceof D&&(t=e.component)}),t},t.prototype.union=function(){var e=this.allSuperTypes(),t=null;return e.forEach(function(e){e instanceof F&&(t=e)}),t},t.prototype.toRuntime=function(){var e=new t(this.name(),this.universe(),null,this.getPath(),"");if(e._isRuntime=!0,e._representationOf=this,e._properties=this.allRuntimeProperties(),e.setDeclaringNode(this.getDeclaringNode()),this.isAssignableFrom("ObjectField")?(e._value=!1,0==e._properties.length&&e.withAllowAny()):e._value=!0,this.isUnion()){var n=new F(this.name(),this.universe(),this.getPath(),"");n._representationOf=this,n._isRuntime=!0,n.setDeclaringNode(this.getDeclaringNode());var r=this.union();return r?(r.left&&(n.left=r.left.toRuntime()),r.right&&(n.right=r.right.toRuntime()),n):n}if(this.isArray()){var i=new d.Array(this.name(),this.universe(),this.getPath(),"");i._representationOf=this,i.setDeclaringNode(this.getDeclaringNode());var r=this.componentType();return r&&(i.component=r.toRuntime()),i}return e},t.prototype.allRuntimeProperties=function(e){if(void 0===e&&(e={}),this._runtimeProperties||(this.initRuntime(),this._rprops=null),this._rprops)return this._rprops;if(e[this.name()])return[];e[this.name()]=this;var t={};return this.superTypes().length>0&&this.superTypes().forEach(function(n){n instanceof P&&n.allRuntimeProperties(e).forEach(function(e){return t[e.name()]=e})}),this._runtimeProperties.forEach(function(e){return t[e.name()]=e}),this._rprops=Object.keys(t).map(function(e){return t[e]}),this._rprops},t.prototype.getRuntimeProperties=function(){return this._runtimeProperties||this.initRuntime(),this._runtimeProperties},t}(P);t.UserDefinedClass=M;var T=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.allProperties=function(t){void 0===t&&(t={});var n=e.prototype.allProperties.call(this,t);if(n.length<=1){var r=new j("value");r.withDomain(this),r._node=this.getDeclaringNode(),r.withCanBeValue(),r.withRequired(!1),r.withRange(this.universe().getType("StringType"));var i=[].concat(n);return i.push(r),i}return n},t}(M);t.AnnotationType=T;var E=function(e){function t(t,n,r){void 0===t&&(t=""),void 0===n&&(n=null),void 0===r&&(r="RAML08"),e.call(this,t),this._parent=n,this._classes=[],this._uversion="RAML08",this.aMap={},this._uversion=r}return i(t,e),t.prototype.setTopLevel=function(e){this._topLevel=e},t.prototype.getTopLevel=function(){return this._topLevel},t.prototype.setTypedVersion=function(e){this._typedVersion=e},t.prototype.getTypedVersion=function(){return this._typedVersion},t.prototype.version=function(){return this._uversion},t.prototype.setUniverseVersion=function(e){this._uversion=e},t.prototype.types=function(){var e=[].concat(this._classes);return null!=this._parent&&(e=e.concat(this._parent.types())),e},t.prototype.type=function(e){if(this.aMap[e])return this.aMap[e];var t=a.find(this._classes,function(t){return t.name()==e});if(null==t&&this._parent){var t=this._parent.type(e);if(t instanceof g){var n=t;n._universe=this}}return t},t.prototype.getType=function(e){return this.type(e)},t.prototype.register=function(e){return this._classes.push(e),e instanceof P&&this._classes.forEach(function(t){if(t instanceof P){var n=t;n.getExtendedType()==e&&e.getRuntimeExtenders().push(t)}}),this},t.prototype.registerAlias=function(e,t){this.aMap[e]=t},t.prototype.unregister=function(e){this._classes=this._classes.filter(function(t){return t!=e});var t=e.superTypes();return t.forEach(function(t){var n=t;n._superTypes=n._superTypes.filter(function(t){return t!=e})}),t=e.subTypes(),t.forEach(function(t){var n=t;n._subTypes=n._subTypes.filter(function(t){return t!=e})}),this},t.prototype.registerSuperClass=function(e,t){var n=e,r=t;n._superTypes.push(t),r._subTypes.push(e)},t}(f);t.Universe=E;var A=function(){function e(){}return e.prototype.test=function(e,t,n){throw new Error("Should be overriden in subclasses")},e}();t.ValueRestriction=A;var C=function(e){function t(t){e.call(this),this._requiredClass=t}return i(t,e),t.prototype.requiredClass=function(){return this._requiredClass},t}(A);t.ReferenceTo=C;var N=function(e){function t(t){e.call(this),this._allowedValues=t}return i(t,e),t.prototype.values=function(){return this._allowedValues},t}(A);t.FixedSetRestriction=N;var I=function(e){function t(t){e.call(this),this._regExp=t}return i(t,e),t.prototype.regeExp=function(){return this._regExp},t}(A);t.RegExpRestriction=I;var _=function(){function e(e){this._base=e}return e.prototype.isUserDefined=function(){return!1},e.prototype.isRuntime=function(){return!1},e.prototype.isArray=function(){return!1},e.prototype.isUnion=function(){return!0},e.prototype.union=function(){return null},e.prototype.getRuntimeExtenders=function(){return[]},e.prototype.methods=function(){return[]},e.prototype.superTypes=function(){return[]},e.prototype.allSuperTypes=function(){return[]},e.prototype.isAssignableFrom=function(e){return!1},e.prototype.subTypes=function(){return[]},e.prototype.name=function(){return this._base.map(function(e){return e.name()}).join(",")},e.prototype.hasStructure=function(){return!1},e.prototype.description=function(){return""},e.prototype.isValid=function(){return!0},e.prototype.universe=function(){return this._base[0].universe()},e.prototype.match=function(e){return!1},e.prototype.allSubTypes=function(){throw new Error("Union types should not be used in this context")},e.prototype.annotations=function(){throw new Error("Union types should not be used in this context")},e.prototype.allProperties=function(){throw new Error("Union types should be never used in this context")},e.prototype.getAlternatives=function(){return[].concat(this._base)},e.prototype.valueRequirements=function(){throw new Error("Union types should be never used in this context")},e.prototype.toRuntime=function(){throw new Error("Not implemented")},e.prototype.properties=function(){var e=[];return this._base.forEach(function(t){return e.concat(t.properties())}),e},e.prototype.isValueType=function(){return this._base.filter(function(e){return 1==e.isValueType()}).length==this._base.length?!0:this._base.filter(function(e){return 0==e.isValueType()}).length==this._base.length?!1:null},e.prototype.isUnionType=function(){return!0},e}();t.UnionType=_;var x=function(){function e(){}return e}();t.PropertyTrait=x;var R=function(e){function t(t,n){e.call(this),this._where=t,this._childKeyDefined=n}return i(t,e),t.prototype.where=function(){return this._where},t.prototype.definesKeyOf=function(){return this._childKeyDefined},t}(x);t.DefinesImplicitKey=R;var O=function(e){function t(){e.call(this)}return i(t,e),t}(x);t.ExpansionTrait=O,t.prop=r;var L=function(){function e(e,t){this.name=e,this.value=t}return e}();t.ChildValueConstraint=L;var k=function(e){function t(){e.apply(this,arguments),this._keyShouldStartFrom=null,this._isMultiValue=!1,this._isFromParentValue=!1,this._isFromParentKey=!1,this._isRequired=!1,this._key=!1,this._traits=[],this._describes=null,this._descriminates=!1,this._selfNode=!1,this._contextReq=[],this._vrestr=[],this.determinesChildValues=[]}return i(t,e),t.prototype.withNoDirectParse=function(){this._noDirectParse=!0},t.prototype.isNoDirectParse=function(){return this._noDirectParse},t.prototype.setDocTableName=function(e){this._docTableName=e},t.prototype.docTableName=function(){return this._docTableName},t.prototype.setHidden=function(e){this._isHidden=e},t.prototype.isHidden=function(){return this._isHidden},t.prototype.setMarkdownDescription=function(e){this._markdownDescription=e},t.prototype.markdownDescription=function(){return this._markdownDescription},t.prototype.setValueDescription=function(e){this._valueDescription=e},t.prototype.valueDescription=function(){return this._valueDescription},t.prototype.isExampleProperty=function(){return this.domain()&&!this.domain().isUserDefined()&&("example"==this.name()||"content"==this.name())},t.prototype.getFacetValidator=function(){return this.facetValidator},t.prototype.setFacetValidator=function(e){this.facetValidator=e},t.prototype.withSelfNode=function(){this._selfNode=!0},t.prototype.isSelfNode=function(){return this._selfNode},t.prototype.getSelector=function(e){var t=this._selector;return t instanceof l.Selector?t:e&&this._selector?l.parse(e,this._selector):null},t.prototype.setSelector=function(e){return this._selector=e,this},t.prototype.valueDocProvider=function(){return this._vprovider},t.prototype.setValueDocProvider=function(e){return this._vprovider=e,this},t.prototype.suggester=function(){return this._suggester},t.prototype.setValueSuggester=function(e){this._suggester=e},t.prototype.enumOptions=function(){return this._enumOptions&&"string"==typeof this._enumOptions?[this._enumOptions+""]:this._enumOptions},t.prototype.getOftenKeys=function(){return this._oftenKeys},t.prototype.withOftenKeys=function(e){return this._oftenKeys=e,this},t.prototype.withCanBeValue=function(){return this._canBeValue=!0,this},t.prototype.withInherited=function(e){this._isInherited=e},t.prototype.isInherited=function(){return this._isInherited},t.prototype.isAllowNull=function(){return this._isAllowNull},t.prototype.withAllowNull=function(){this._isAllowNull=!0},t.prototype.isDescriminator=function(){return this._descriminates},t.prototype.getCanBeDuplicator=function(){return this._canBeDuplicator},t.prototype.isValue=function(){return this._isFromParentValue},t.prototype.canBeValue=function(){return this._canBeValue},t.prototype.setCanBeDuplicator=function(){return this._canBeDuplicator=!0,!0},t.prototype.inheritedContextValue=function(){return this._inheritsValueFromContext},t.prototype.withInheritedContextValue=function(e){return this._inheritsValueFromContext=e,this},t.prototype.withPropertyGrammarType=function(e){this._propertyGrammarType=e},t.prototype.getPropertyGrammarType=function(){return this._propertyGrammarType},t.prototype.withContextRequirement=function(e,t){this._contextReq.push({name:e,value:t})},t.prototype.getContextRequirements=function(){return this._contextReq},t.prototype.withDescriminating=function(e){return this._descriminates=e,this},t.prototype.isDescriminating=function(){return this._descriminates},t.prototype.withDescribes=function(e){return this._describes=e,this},t.prototype.withValueRewstrinction=function(e,t){return this._vrestr.push({exp:e,message:t}),this},t.prototype.getValueRestrictionExpressions=function(){return this._vrestr},t.prototype.describesAnnotation=function(){return null!=this._describes},t.prototype.describedAnnotation=function(){return this._describes},t.prototype.createAttr=function(e){var t=s.createMapping(this.name(),e),n=new o.ASTPropImpl(t,null,this.range(),this);return n},t.prototype.isReference=function(){return this.range()instanceof S},t.prototype.referencesTo=function(){return this.range().getReferencedType()},t.prototype.newInstanceName=function(){return this._newInstanceName?this._newInstanceName:this.range().name()},t.prototype.withThisPropertyDeclaresFields=function(e){return void 0===e&&(e=!0),this._declaresFields=e,this},t.prototype.isThisPropertyDeclaresTypeFields=function(){return this._declaresFields},t.prototype.withNewInstanceName=function(e){return this._newInstanceName=e,this},t.prototype.addChildValueConstraint=function(e){this.determinesChildValues.push(e)},t.prototype.setDefaultVal=function(e){return this._defaultVal=e,this},t.prototype.defaultValue=function(){return this._defaultVal},t.prototype.getChildValueConstraints=function(){return this.determinesChildValues},t.prototype.childRestrictions=function(){return this.determinesChildValues},t.prototype.isSystem=function(){return this._isSystem},t.prototype.withSystem=function(e){return this._isSystem=e,this},t.prototype.isEmbedMap=function(){return this._isEmbedMap},t.prototype.withEmbedMap=function(){return this._isEmbedMap=!0,this},t.prototype.id=function(){return this._id?this._id:this._groupName?this.domain().getDeclaringNode()?null:(this._id=this._groupName+this.domain().name(),this._id):null},t.prototype.isValidValue=function(e,t){var n=m.declRoot(t);n._cach||(n._cach={});var r=this.id();if(r){var i=n._cach[r];if(i)return null!=i[e]}var a=this.enumValues(t),o={};return a.forEach(function(e){return o[e]=1}),this._groupName&&(n._cach[r]=o),null!=o[e]},t.prototype.enumValues=function(e){if(e){var t=[];if(this.isTypeExpr()){var n=m.globalDeclarations(e).filter(function(e){if("GlobalSchema"==e.definition().name())return!0;var t=e.definition().allSuperTypes();return a.find(t,function(e){return"DataElement"==e.name()})?!0:"DataElement"==e.definition().name()&&"models"==e.property().name()});t=n.map(function(t){return o.qName(t,e)});var r=e.definition().universe().getType("DataElement");if(r){var i=r.allSubTypes();t=t.concat(i.map(function(e){return e.descriminatorValue()}))}return t}if("SchemaString"==this.range().name()&&"RAML10"==this.range().universe().version()&&this.range()instanceof d.ValueType){var n=m.globalDeclarations(e).filter(function(e){if("GlobalSchema"==e.definition().name())return!0;var t=e.definition().allSuperTypes();return a.find(t,function(e){return"DataElement"==e.name()})?!0:"DataElement"==e.definition().name()&&"models"==e.property().name()});t=n.map(function(t){return o.qName(t,e)})}if(this.isDescriminating()){var i=m.subTypesWithLocals(this.domain(),e);t=t.concat(i.map(function(e){return e.descriminatorValue()}))}else if(this.isReference())t=m.nodesDeclaringType(this.referencesTo(),e).map(function(t){return o.qName(t,e)});else if(this.range().isValueType()&&this.range()instanceof v){var s=this.range();if(s.globallyDeclaredBy().length>0){var n=m.globalDeclarations(e).filter(function(e){return null!=a.find(s.globallyDeclaredBy(),function(t){return t==e.definition()})});t=t.concat(n.map(function(t){return o.qName(t,e)}))}}return this.isAllowNull()&&t.push("null"),this._enumOptions&&(t=t.concat(this._enumOptions)),t}return this._enumOptions&&"string"==typeof this._enumOptions?[this._enumOptions+""]:this._enumOptions},t.prototype.isTypeExpr=function(){return this.teDef,this.domain()&&(this.texpr=("type"==this.name()||"schema"==this.name())&&"DataElement"==this.domain().name()||"schema"==this.name()&&"BodyLike"==this.domain().name()||"type"==this.name()&&"BodyLike"==this.domain().name()||"signature"==this.name()&&"Resource"==this.domain().name()||"signature"==this.name()&&"MethodBase"==this.domain().name()),this.texpr||"SchemaString"==this.range().name()&&"RAML10"==this.range().universe().version()&&this.range()instanceof d.ValueType&&(this.texpr=!0),this.teDef=!0,this.texpr},t.prototype.priority=function(){return this.isKey()?128:this.isReference()?64:this.isTypeExpr()?32:"example"==this.name()?0:-1024},t.prototype.referenceTargets=function(e){if(this.isTypeExpr()){
var t=m.globalDeclarations(e).filter(function(e){if("GlobalSchema"==e.definition().name())return!0;var t=e.definition().allSuperTypes();return a.find(t,function(e){return"DataElement"==e.name()})?!0:"DataElement"==e.definition().name()&&"models"==e.property().name()});return t}if(this.isDescriminating()){var n=m.nodesDeclaringType(this.range(),e);return n}if(this.isReference()){var r=this.referencesTo(),n=m.nodesDeclaringType(r,e);return n}if(this.range().isValueType()){var i=this.range();if(i.globallyDeclaredBy().length>0){var t=m.globalDeclarations(e).filter(function(e){return null!=a.find(i.globallyDeclaredBy(),function(t){return t==e.definition()})});return t}}return[]},t.prototype.getEnumOptions=function(){return this._enumOptions&&"string"==typeof this._enumOptions?[this._enumOptions+""]:this._enumOptions},t.prototype.withEnumOptions=function(e){return this._enumOptions=e,this},t.prototype.withDomain=function(e){return this._ownerClass=e,e.registerProperty(this),this},t.prototype.withRange=function(e){return this._nodeRange=e,this},t.prototype.getTraits=function(){return this._traits},t.prototype.keyPrefix=function(){return this._keyShouldStartFrom},t.prototype.isAnnotation=function(){return"annotations"==this._groupName&&this.domain()&&!this.domain().isUserDefined()},t.prototype.matchKey=function(e){if(null==e)return!1;if(null!=this._groupName)return this.isAnnotation()?"("==e.charAt(0)&&")"==e.charAt(e.length-1)?!0:!1:this._groupName==e;if(null!=this._keyShouldStartFrom&&0==e.indexOf(this._keyShouldStartFrom))return!0;if(this._enumOptions&&-1!=this._enumOptions.indexOf(e))return!0;if(this.getKeyRegexp())try{if(new RegExp(this.getKeyRegexp()).test(e))return!0}catch(t){}return!1},t.prototype.withMultiValue=function(e){return void 0===e&&(e=!0),this._isMultiValue=e,this},t.prototype.withFromParentValue=function(e){return void 0===e&&(e=!0),this._isFromParentValue=e,this},t.prototype.withFromParentKey=function(e){return void 0===e&&(e=!0),this._isFromParentKey=e,this},t.prototype.isFromParentKey=function(){return this._isFromParentKey},t.prototype.isFromParentValue=function(){return this._isFromParentValue},t.prototype.withGroupName=function(e){return this._groupName=e,this},t.prototype.withRequired=function(e){return this._isRequired=e,this},t.prototype.unmerge=function(){return this._groupName=this.name(),this},t.prototype.merge=function(){return this._groupName=null,this},t.prototype.withKey=function(e){return this._key=e,this},t.prototype.withKeyRestriction=function(e){return this._keyShouldStartFrom=e,this},t.prototype.withKeyRegexp=function(e){this._keyRegexp=e},t.prototype.getKeyRegexp=function(){return this._keyRegexp},t.prototype.domain=function(){return this._ownerClass},t.prototype.range=function(){return this._nodeRange},t.prototype.isKey=function(){return this._key},t.prototype.isValueProperty=function(){return this._nodeRange.isValueType()},t.prototype.isRequired=function(){return this._isRequired},t.prototype.isMultiValue=function(){return this.range()&&this.range()instanceof D?!0:this._isMultiValue},t.prototype.isMerged=function(){return null==this._groupName},t.prototype.isPrimitive=function(){var e=this._nodeRange.name();return"StringType"==e||"NumberType"==e||"BooleanType"==e},t.prototype.groupName=function(){return this._groupName},t}(f);t.Property=k;var D=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.isArray=function(){return!0},t.prototype.isUserDefined=function(){return!0},t.prototype.componentType=function(){return this.component},t.prototype.findFacets=function(e,t){if(e){var n=e.lowLevel().children(),r=a.find(n,function(e){return"minItems"==e.key()});r&&(t[r.key()]=r);var r=a.find(n,function(e){return"maxItems"==e.key()});r&&(t[r.key()]=r);var r=a.find(n,function(e){return"uniqueItems"==e.key()});r&&(t[r.key()]=r)}},t.prototype.isValid=function(e,t,n){return this.component?this.component.isValid(e,t,n):!0},t.prototype.toRuntime=function(){var e=new t(this.name(),this.universe(),"");e._af={};var n=this.getFixedFacets();for(var r in n)e._af[r]=n[r];return e._representationOf=this,e.component=this.component?this.component.toRuntime():this.component,e.dimensions=this.dimensions,e},t}(P);t.Array=D;var U=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.isUserDefined=function(){return!0},t}(P);t.ExternalType=U;var F=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.leftType=function(){return this.left},t.prototype.rightType=function(){return this.right},t.prototype.isUserDefined=function(){return!0},t.prototype.toRuntime=function(){var e=new t(this.name(),this.universe(),"");return e.left=this.left,e.right=this.right,e.setDeclaringNode(this.getDeclaringNode()),this},t.prototype.union=function(){return this},t.prototype.isUnion=function(){return!0},t.prototype.isArray=function(){return this.left&&this.right?this.left.isArray()||this.right.isArray():this.left?this.left.isArray():this.right?this.right.isArray():void 0},t}(P);t.Union=F;var j=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.withDisplayName=function(e){this._displayName=e},t.prototype.getDisplayName=function(){return this._displayName},t.prototype.node=function(){return this._node},t}(k);t.UserDefinedProp=j},function(e,t){e.exports=require("underscore")},function(e,t,n){function r(e,t){var n=R.declRoot(t),r=e.name(),i=r.indexOf("<");for(-1!=i&&(r=r.substring(0,i));;){var a=e.parent();if(!a||a==n)break;"Library"==a.definition().name()&&a.parent()&&(r=a.name()+"."+r),e=a}return r}function i(e){for(var t=e;;){if(t.definition().isInlinedTemplates())return!0;var n=t.parent();if(!n)break;t=n}return!1}function a(e,t,n){return new D.Function(e).call(t,n)}function o(e,t,n,r){return void 0===r&&(r=!1),_.createIssue(e,t,n,r)}function s(e,t,n,r){var i=E.newMap(n.map(function(e){return E.newMapping(E.newScalar(e.key),E.newScalar(e.value))})),a=new S.ASTNode(i,r?r.lowLevel().unit():null,r?r.lowLevel():null,null,null);return new F(a,r,r?r.definition().property(e):null,t)}function u(e,t){var n=e.property();return n&&n.getContextRequirements().forEach(function(r){e.checkContextValue(r.name,r.value,e.parent().toRuntimeModel())||t.accept(o(8,r.name+" should be "+r.value+" to use property "+n.name(),e))}),n}function l(e){return x.typeFromNode(e)}function c(e,t,n){var r=e.definition().property(t);if(!r)return null;var i=r.range(),a=i.createStubNode(r,n);return a}function p(e,t,n){var r=e.definition().property(t);if(!r)return null;var i=r.range(),a=i.createStubNode(r,n);a.isInEdit=!0;var o=e.lowLevel().unit().stub();return a.lowLevel()._unit=o,a._parent=e.copy(),a._parent.lowLevel()._unit=o,a}function d(e,t){return p(e,"resources",t)}function m(e,t){return p(e,"methods",t)}function h(e,t){return p(e,"responses",t)}function f(e,t){return p(e,"body",t)}function y(e,t){return p(e,"uriParameters",t)}function g(e,t){return p(e,"queryParameters",t)}function v(e,t){var n=e.definition().universe().getType("ObjectField"),r=e.definition().property("types");r=r.withRange(n),console.log("property: "+r.name());var i=r.range();return i.createStubNode(r,t)}var b=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},S=n(18),w=n(15),P=n(14),M=n(20),T=n(16),E=n(19),A=n(58),C=n(64),N=n(15),I=n(85),_=n(77),x=n(69),R=n(66),O=n(52),L=n(86),k=n(91);t.qName=r;var D=n(84);t.evalInSandbox=a;var U=function(){function e(e,t){this._node=e,this._parent=t,this._implicit=!1,this.values={},e&&e.setHighLevelParseResult(this)}return e.prototype.getKind=function(){return 0},e.prototype.hashkey=function(){return this._hashkey||(this._hashkey=this.parent()?this.parent().hashkey()+"/"+this.name():this.name()),this._hashkey},e.prototype.root=function(){return this.parent()?this.parent().root():this},e.prototype.checkContextValue=function(e,t,n){var r=this.computedValue(e);if(r&&-1!=r.indexOf(t))return!0;if(!r)try{var i=a("return "+e,n,[]);if(void 0!=i)return""+i==t}catch(o){}return t==r||"false"==t},e.prototype.printDetails=function(e){return(e?e:"")+"Unkown\n"},e.prototype.errors=function(){var e=[],t={accept:function(t){e.push(t)},begin:function(){},end:function(){}};return this.validate(t),e},e.prototype.toRuntimeModel=function(){var e=this,t={};return this.children().forEach(function(n){if(n instanceof j){var r=n,i=r.value();if(i){var a=r.property().range();i=e.fillValue(a,i),t[n.name()]=i}}}),t},e.prototype.fillValue=function(e,t){return e.methods().forEach(function(e){if("string"==typeof t){var n={};n.value=new D.Function("return this._value"),n._value=t,t=n}var r=e.name,i=e.text,a=i.substring(i.indexOf("{")+1,i.lastIndexOf("}")),o=new D.Function(a);t[r]=o}),t.$$=this,t},e.prototype.markCh=function(){var e=this.lowLevel();return e=e._node?e._node:e,e.markCh?!0:void(e.markCh=1)},e.prototype.unmarkCh=function(){var e=this.lowLevel();e=e._node?e._node:e,delete e.markCh},e.prototype.validate=function(e){var t=this;if(this.lowLevel()&&null==this._parent&&this.lowLevel().errors().forEach(function(n){var r={code:1,message:n.message,node:null,start:n.mark.position,end:n.mark.position+1,isWarning:!1,path:t.lowLevel().unit()==t.root().lowLevel().unit()?null:t.lowLevel().unit().path(),unit:t.lowLevel().unit()};e.accept(r)}),this.validateIncludes(e),this.isUnknown()&&(this.needSequence&&e.accept(o(2,"node: "+this.name()+" should be wrapped in sequence",this)),this.unresolvedRef&&e.accept(o(2,"reference : "+this.lowLevel().value()+" can not be resolved",this)),this.knownProperty&&this.lowLevel().value()?e.accept(o(2,"property "+this.name()+" can not have scalar value",this)):e.accept(o(2,"Unknown node:"+this.name(),this))),this.markCh()&&!this.allowRecursive())return void e.accept(o(2,"Recursive definition:"+this.name(),this));try{this.directChildren().forEach(function(t){return t.validate(e)})}finally{this.unmarkCh()}},e.prototype.allowRecursive=function(){return!1},e.prototype.validateIncludes=function(e){var t=this;this.lowLevel()&&this.lowLevel().includeErrors().forEach(function(n){var r=o(6,n,t);e.accept(r)})},e.prototype.setComputed=function(e,t){this.values[e]=t},e.prototype.computedValue=function(e){var t=this.values[e];return!t&&this.parent()?this.parent().computedValue(e):t},e.prototype.lowLevel=function(){return this._node},e.prototype.expansionSpec=function(){return null},e.prototype.name=function(){var e=this.lowLevel().key();return e?e:""},e.prototype.parent=function(){return this._parent},e.prototype.setParent=function(e){this._parent=e},e.prototype.isElement=function(){return!1},e.prototype.directChildren=function(){return this.children()},e.prototype.children=function(){return[]},e.prototype.isAttached=function(){return null!=this.parent()},e.prototype.isImplicit=function(){return this._implicit},e.prototype.isAttr=function(){return!1},e.prototype.isUnknown=function(){return!0},e.prototype.id=function(){var e=this;if(this._parent){var t=this.parent().id();t+="."+this.name();var n=this.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(this);t+="["+r+"]"}return t}return""},e.prototype.localId=function(){return this.name()},e.prototype.property=function(){return null},e}();t.BasicASTNode=U,t.createIssue=o;var F=function(){function e(e,t,n,r){void 0===r&&(r=null),this.node=e,this._parent=t,this.kv=r,this._pr=n}return e.prototype.valueName=function(){var e=null;return this.kv&&(e=this.kv),e=this.node.key(),this._pr&&this._pr.isAnnotation()&&e&&"("==e.charAt(0)&&(e=e.substring(1,e.length-1)),e},e.prototype.children=function(){return this.node.children().map(function(t){return new e(t,null,null)})},e.prototype.lowLevel=function(){return this.node},e.prototype.toHighlevel=function(e){!e&&this._parent&&(e=this._parent);var t=this.valueName(),n=this._pr.referenceTargets(e).filter(function(n){return r(n,e)==t});if(n&&n[0]){var i=x.typeFromNode(n[0]),a=new K(this.node,e,i,this._pr);return this._pr&&this._pr.childRestrictions().forEach(function(e){a.setComputed(e.name,e.value)}),a}return null},e}();t.StructuredValue=F,t.genStructuredValue=s;var j=function(e){function t(t,n,r,i,a){void 0===a&&(a=!1),e.call(this,t,n),this._def=r,this._prop=i,this.fromKey=a}return b(t,e),t.prototype.definition=function(){return this._def},t.prototype.getKind=function(){return 2},t.prototype.owningWrapper=function(){return{node:this.parent().wrapperNode(),property:this.name()}},t.prototype.patchType=function(e){this._def=e},t.prototype.findReferenceDeclaration=function(){var e=this,t=this.property().referenceTargets(this.parent()),n=this.value();if(n instanceof F)var i=n,a=i.valueName();else var a=""+n;var o=T.find(t,function(t){return r(t,e.parent())==a});return o},t.prototype.findReferencedValue=function(){var e=this.findReferenceDeclaration();if(e){var t=e.attr("value");if("GlobalSchema"==e.definition().name()){if(t){var n=t.value();if(n){var r=this._def.isValid(this.parent(),n,t.property());return r}}return null}}return e},t.prototype.validate=function(e){var t=u(this,e),n=this.value();if(!this.property().range().hasStructure()&&n instanceof F&&!this.property().isSelfNode()){if(("schema"==this.property().name()||"type"==this.property().name())&&"BodyLike"==this.property().domain().name()){var r=new K(this.lowLevel(),this.parent(),this.parent().definition().universe().getType("ObjectField"),this.property());return void r.validate(e)}e.accept(o(7,"Scalar is expected here",this))}if(this.parent().allowsQuestion()&&this.property().isKey()&&null!=n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),!("string"==typeof n&&-1!=n.indexOf("<<")&&n.indexOf(">>")>n.indexOf("<<")&&i(this.parent()))){if(this.validateIncludes(e),"MimeType"==this.property().range().name()||"name"==this.property().name()&&"body"==this.parent().property().name())return void(new _.MediaTypeValidator).validate(this,e);if(this.property().isKey()&&-1!=n.indexOf(" ")&&e.accept(o(7,"Keys should not have spaces '"+this.value()+"'",this)),"signature"==this.name()&&("Resource"==this.property().domain().name()||"Method"==this.property().domain().name()||"MethodBase"==this.property().domain().name())&&this.property().domain()instanceof w.NodeClass)return void(new _.SignatureValidator).validate(this,e);if("example"==this.property().name()||"content"==this.property().name()){this.parent().definition().name();(new _.ExampleValidator).validate(this,e)}if("name"==this.property().name()){if(this.parent().property()&&"uriParameters"==this.parent().property().name())return void(new _.UrlParameterNameValidator).validate(this,e);if(this.parent().property()&&"baseUriParameters"==this.parent().property().name())return void(new _.UrlParameterNameValidator).validate(this,e)}if("RelativeUri"==this.property().range().name())return void(new _.UriValidator).validate(this,e);if("FullUriTemplate"==this.property().range().name())return void(new _.UriValidator).validate(this,e);if("pattern"==this.name()&&"StringType"==this.definition().name()&&this.parent().definition().isAssignableFrom("StrElement"))try{new RegExp(this.value())}catch(a){e.accept(o(7,"Illegal pattern "+this.value(),this))}if("name"==this.name()&&"StringType"==this.definition().name()&&"string"==typeof this.value()&&0==this.value().indexOf("[")&&this.value().lastIndexOf("]")==this.value().length-1&&this.parent()instanceof K&&"properties"==this.parent().property().name()&&this.parent().parent()instanceof K&&"ObjectField"==this.parent().parent().definition().name())try{var s=this.value().substr(1,this.value().length-2);new RegExp(s)}catch(a){e.accept(o(7,"Illegal pattern "+s,this))}if("SchemaString"==this.property().range().name()&&this.property().range()instanceof N.ValueType&&"RAML10"==this.property().range().universe().version()){this.parent().definition().name();return void(new _.SchemaOrTypeValidator).validate(this,e)}return this.property()instanceof N.Property&&t.isTypeExpr()?void(new _.SchemaOrTypeValidator).validate(this,e):void(t.isReference()||t.isDescriminator()?(new _.DescriminatorOrReferenceValidator).validate(this,e):(new _.NormalValidator).validate(this,e))}},t.prototype.toRuntime=function(){var e=this.value(),t=this.fillValue(this.property().range(),e);if(t.parse)try{return t.parse()}catch(n){return n}return t},t.prototype.isElement=function(){return!1},t.prototype.property=function(){return this._prop},t.prototype.convertMultivalueToString=function(e){for(var t=0,n=2;" "==e[n];)t++,n++;var r=O.splitOnLines(e);return r=r.map(function(e){return e.substring(t,e.length)}),r.join("")},t.prototype.value=function(){if(this._computed)return this.computedValue(this.property().name());if(this.fromKey)return this._node.key();if(this.property().isAnnotation()&&this._node.key()&&"annotations"!=this._node.key())return new F(this._node,this.parent(),this._prop);var e=this._node.value();if(this.property().isSelfNode()&&(!e||e instanceof S.ASTNode)&&(e=this._node,0==e.children().length&&(e=null)),e instanceof S.ASTNode||e instanceof A.LowLevelProxyNode)return new F(e,this.parent(),this._prop);if(O.isMultiLineValue(e)){var t=this.convertMultivalueToString(e);return t}return e},t.prototype.name=function(){return this._prop.name()},t.prototype.printDetails=function(e){var t=this.definition().name(),n=this.property().range().name();return(e?e:"")+(this.name()+" : "+t+"["+n+"]  =  "+this.value())+"\n"},t.prototype.isAttr=function(){return!0},t.prototype.isUnknown=function(){return!1},t.prototype.setValue=function(e){if(e!=this.value()){var t=new M.CompositeCommand;if("string"==typeof e){var n=e;this._prop.isFromParentKey()||this._prop.isAnnotation()?(this._prop.isAnnotation()&&(n="("+n+")"),t.commands.push(M.setKey(this._node,n))):n&&0!=n.length||this.isEmbedded()?(n||(n=""),t.commands.push(M.setAttr(this._node,n))):(t.commands.push(M.removeNode(this._node.parent(),this._node)),this.parent().clearChildrenCache())}else{if(this._prop.isFromParentKey())throw"couldn't set structured value to a key: "+this._prop.name();var r=e;t.commands.push(M.setAttrStructured(this._node,r))}this._node.execute(t)}},t.prototype.setKey=function(e){if(e!=this.name()){var t=new M.CompositeCommand;t.commands.push(M.setKey(this._node,e)),this._node.execute(t)}},t.prototype.children=function(){return[]},t.prototype.addStringValue=function(e){var t=S.createScalar(e),n=this.lowLevel();n.isScalar()?n=n.parent():n.isMapping();var r=new M.CompositeCommand;r.commands.push(M.insertNode(n,t,null,!0)),this.lowLevel().execute(r),this.parent().clearChildrenCache()},t.prototype.addStructuredValue=function(e){var t=this.lowLevel();if(t.isScalar())t=t.parent();else if(t.isMapping()){this.lowLevel()}var n=new M.CompositeCommand;n.commands.push(M.insertNode(t,e.lowLevel(),null,!0)),this.lowLevel().execute(n),this.parent().clearChildrenCache()},t.prototype.addValue=function(e){if(!this.property().isMultiValue())throw"setValue(string) only apply to multi-values properties";"string"==typeof e?this.addStringValue(e):this.addStructuredValue(e)},t.prototype.isEmbedded=function(){var e=this.lowLevel().asMapping().key.value;return this.property().canBeValue()&&e!=this.property().name()},t.prototype.remove=function(){var e=this.lowLevel().parent();if(!this.property().isMultiValue()&&this.isEmbedded())this.setValue("");else{var t=new M.CompositeCommand;t.commands.push(M.removeNode(e,this.lowLevel())),this.lowLevel().execute(t),this.parent().clearChildrenCache()}},t.prototype.setValues=function(e){var t=this;if(!this.property().isMultiValue())throw"setValue(string[]) only apply to multi-values properties";var n=this.parent();if(this.isEmpty());else{var r=(n.lowLevel(),n.attributes(this.name()));r.forEach(function(e){return e.remove()})}e.forEach(function(e){return n.attrOrCreate(t.name()).addValue(e)})},t.prototype.isEmpty=function(){if(!this.property().isMultiValue())throw"isEmpty() only apply to multi-values attributes";var e=this.parent(),t=(e.lowLevel(),e.attributes(this.name()));if(0==t.length)return!0;if(1==t.length){var n=t[0].lowLevel();return n.isMapping()?!0:!1}return!1},t}(U);t.ASTPropImpl=j;var V=new I.BasicNodeBuilder,K=function(e){function t(t,n,r,i){e.call(this,t,n),this._def=r,this._prop=i,this._expanded=!1,this._allowQuestion=!1,this._subTypesCache=null,this._auxChecked=!1,t&&t.setHighLevelNode(this)}return b(t,e),t.prototype.getKind=function(){return 1},t.prototype.wrapperNode=function(){return this._wrapperNode||(this._wrapperNode=L.buildWrapperNode(this)),this._wrapperNode},t.prototype.propertiesAllowedToUse=function(){var e=this;return this.definition().allProperties().filter(function(t){return e.isAllowedToUse(t)})},t.prototype.isAllowedToUse=function(e){var t=this,n=!0;return e.isSystem()?!1:(e.getContextRequirements().forEach(function(e){if(-1!=e.name.indexOf("("))return!0;var r=t.computedValue(e.name);r?n=n&&r==e.value:e.value&&(n=!1)}),n)},t.prototype.allowRecursive=function(){return this.definition().isUserDefined()?!0:!1},t.prototype.setWrapperNode=function(e){this._wrapperNode=e},t.prototype.setAssociatedType=function(e){this._associatedDef=e},t.prototype.associatedType=function(){return this._associatedDef},t.prototype.findById=function(e){var t=this,n=this._knownIds;if(!n){this._knownIds={};var r=R.allChildren(this);r.forEach(function(e){return t._knownIds[e.id()]=e})}return this._knownIds[e]},t.prototype.isAuxilary=function(){var e=this;if(this._isAux)return!0;if(this._auxChecked)return!1;this._auxChecked=!0;var t=T.find(this.lowLevel().children(),function(e){return"masterRef"==e.key()});if(t&&t.value()){this._isAux=!0;var n=t.value(),r=this.lowLevel().unit().project().resolve(this.lowLevel().unit().path(),n),i=P.fromUnit(r);if(i){var a=R.allChildren(i);this._knownIds={},a.forEach(function(t){return e._knownIds[t.id()]=t}),this._knownIds[""]=i}return!0}return!1},t.prototype.insideOfDeclaration=function(){return this.definition().isDeclaration()?!0:this.parent()?this.parent().insideOfDeclaration():void 0},t.prototype.isAllowedId=function(){var e=this.root();if(""==this.id())return!0;if("Extension"==e.definition().name())return!0;if(e.isAuxilary()){if("annotationTypes"==this.property().name()&&"AnnotationType"==this.definition().name())return!0;if("types"==this.property().name()&&this.definition().isAssignableFrom("DataElement"))return!0;if(this.insideOfDeclaration()){var t=this.computedValue("decls");if("true"==t)return!0}if(e._knownIds){var n=null!=e._knownIds[this.id()];return!n&&this.parent()&&this.parent().parent()&&this.parent().isAllowedId()?!0:n}return this.parent()&&this.parent().parent()&&this.parent().isAllowedId()?!0:!1}return!0},t.prototype.printDetails=function(e){var t="";e||(e="");var n=this.definition().name(),r=this.property()?this.property().range().name():"",i=this.property()?this.property().name():"";return t+=e+i+" : "+n+"["+r+"]\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")}),t},t.prototype.getExtractedChildren=function(){var e=this.root();if(e.isAuxilary()){if(e._knownIds){var t=e._knownIds[this.id()];if(t)return t.children()}return[]}return[]},t.prototype.allowsQuestion=function(){return this._allowQuestion||this.definition().getAllowQuestion()},t.prototype.findReferences=function(){var e=[];R.refFinder(this.root(),this,e);var t=[];return e.forEach(function(e){T.find(t,function(t){return t==e})||t.push(e)}),t},t.prototype.name=function(){var t=T.find(this.directChildren(),function(e){return e.property()&&e.property().isKey()});if(t&&t instanceof j){var n=t.value();if(n){var r=n.indexOf(":");if(-1!=r)return n.substring(0,r)}return n}return e.prototype.name.call(this)},t.prototype.findElementAtOffset=function(e){return this._findNode(this,e,e)},t.prototype.isElement=function(){return!0},t.prototype.universe=function(){return this._universe?this._universe:this.definition().universe()},t.prototype.setUniverse=function(e){this._universe=e},t.prototype.validate=function(t){var n=this;if(this.definition()){if(!this.parent()){var r=this.universe(),i=r.getTypedVersion();if(i&&0==i.indexOf("#%")){if("#%RAML 0.8"!=i&&"#%RAML 1.0"!=i){var a=o(9,"Unknown version of RAML expected to see one of '#%RAML 0.8' or '#%RAML 1.0'",this);t.accept(a)}var s=r.getTopLevel();if(s&&s!=this.definition().name()){var a=o(9,"Unknown top level type:"+s,this);t.accept(a)}}if("Api"==this.definition().name()&&!this.definition().isUserDefined()&&"RAML08"!=this.definition().universe().version()){var l=new k.OverloadingValidator;l.validateApi(this.wrapperNode(),t)}var c=this.lowLevel().unit();this.lowLevel().visit(function(e){if(e.unit()!=c)return!1;if(e.value()&&e._node.value&&e._node.value.doubleQuoted){var r=(e.value()+"").indexOf(":"),i=(e.value()+"").indexOf("\n");if(-1!=r&&-1!=i&&(!e.includePath()||0==e.includePath().length)){var a=o(9,'Suspicious double quoted multiline scalar, it is likely that you forgot closing " '+e.value(),n,!0);a.start=e._node.value.startPosition,a.end=e._node.value.endPosition,a.start==a.end&&a.end++,t.accept(a)}}return!0}),_.lintNode(this,t)}if(!(this.isAllowedId()||this.property()&&"annotations"==this.property().name()||"GlobalSchema"==this.definition().name())){var a=o(10,"This node does not override any node from master api:"+this.id(),this);t.accept(a)}var p=this.definition();if(this.definition().getAllowAny()?this.validateIncludes(t):e.prototype.validate.call(this,t),p instanceof N.NodeClass){var d=p;if(p.isAssignableFrom("DataElement")){var m=this.elementsOfKind("properties");if(m.length>0){var h=this.attributes("type");h.forEach(function(e){var r=C.getType(n,e.value(),{});if(r instanceof N.NodeClass){var i=r,a=i.allRuntimeProperties();a.forEach(function(n){var r=T.find(m,function(e){return e.name()==n.name()});if(r){var i=o(10,"overriding property "+r.name()+" inhertied from "+e.value(),r);t.accept(i)}})}})}var f=this.elementsOfKind("facets");if(f.length>0){var h=this.attributes("type");h.forEach(function(e){var r=C.getType(n,e.value(),{});if(r instanceof N.NodeClass){var i=r,a=i.allProperties();a.forEach(function(n){var r=T.find(f,function(e){return e.name()==n.name()});if(r){var i=o(10,"overriding facet "+r.name()+" inhertied from "+e.value(),r);t.accept(i)}})}})}}if(d.isRuntime()){var y=d.getFixedFacets();for(var g in y){var v=d.getRepresentationOf().facet(g);if(v){var b=v.getFacetValidator();if(b){var S=this.lowLevel().dumpToObject();S=S[this.lowLevel().key()];try{var w=b(S,y[g]);if("string"==typeof w){var a=o(7,""+w,this);t.accept(a)}}catch(P){var a=o(7,P.message,this);t.accept(a)}}}}}}if(u(this,t),"string"==typeof this.value()&&!this.definition().allowValue()&&this.parent()){var a=o(9,"node "+this.name()+" can not be a scalar",this);t.accept(a)}if(this.definition().requiredProperties().forEach(function(e){var r=e.range();if(r instanceof N.Array){var i=r;r=i.component}if(r.isValueType()){var a=n.attr(e.name());if(!a){var s=o(3,"Missing required property "+e.name(),n);t.accept(s)}}else{var u=n.elementsOfKind(e.name());if(!u||0==u.length){var s=o(3,"Missing required property "+e.name(),n);t.accept(s)}}}),this.definition().getContextRequirements().forEach(function(e){n.checkContextValue(e.name,e.value,n.toRuntimeModel())||t.accept(o(8,e.name+" should be "+e.value+" to use type "+n.definition().name(),n))}),"RAML08"==this.definition().universe().version()){var M={},E=this.directChildren().filter(function(e){return e.isElement()});E.forEach(function(e){if(!e._computed&&e.name()){var n=e.lowLevel().parent()?e.lowLevel().parent().end():"",r=e.name()+n;if(M[r]){var i=o(5,e.name()+" already exists in this context",e);t.accept(i)}else M[r]=1}})}else{var M={},E=this.directChildren().filter(function(e){return e.isElement()});E.forEach(function(e){if(!e._computed&&e.name()&&!B[e.property().name()]){var n=e.name()+e.property().name();if(M[n]){var r=o(5,e.name()+" already exists in this context",e);t.accept(r)}else M[n]=1}})}var A=this.lowLevel().children(),I=T.groupBy(A,function(e){return e.key()}),R=this.directChildren().filter(function(e){return e.isAttr()}),O=T.groupBy(R,function(e){return e.name()}),L=this.directChildren(),D=T.groupBy(L,function(e){return e.name()}),U=!1;if(Object.keys(I).forEach(function(e){"("==e.charAt(0)&&I[e].length>1&&(U||(U=!0,R.forEach(function(e){if(e.property().isAnnotation()){var t=(e.property().range(),e),n=t.findReferenceDeclaration();if(null!=n){var r=n,i=r.attr("allowMultiple");if(i){var a=i.value();"true"==a&&delete I[t.lowLevel().key()]}}}})))}),Object.keys(I).forEach(function(e){if(e&&I[e].length>1&&!D[e]){var r=o(4,e+" should have a single value",n);r.start=I[e][0].keyStart(),r.end=I[e][0].keyEnd(),t.accept(r)}}),Object.keys(O).forEach(function(e){O[e].length>1&&!O[e][0].property().isMultiValue()&&O[e].forEach(function(e){var n=o(4,e.property().name()+" should have a single value",e);t.accept(n)})}),this._def&&this.property()&&"types"==this.property().name()){if(q[this.name()]){var a=o(7,"You can not redeclare build in types",this);t.accept(a)}var F=this.attributes("type");if(F){var j=!1;if(F.forEach(function(e){if(e.value()==n.name()){var r=o(7,"Recurrent type definition",n.attr("type")?n.attr("type"):n);return t.accept(r),void(j=!0)}}),j)return}try{this.traverseDec(this._def,t,0)}catch(P){}if(this._associatedDef||T.find(this.definition().allSuperTypes(),function(e){return"DataElement"==e.name()})&&(this._associatedDef=x.typeFromNode(this)),this._associatedDef){var V=this._associatedDef.superTypes(),K={};V.forEach(function(e){K[e.name()]=e});var H=[];for(var G in K)H.push(K[G]);if(V=H,V.length>1){if(T.find(V,function(e){return n.isPrimitive(e)})&&T.find(V,function(e){return n.isObject(e)})){var a=o(7,"You can not inherit both from types of different kind",this.attr("type")?this.attr("type"):this);return void t.accept(a)}if(T.find(V,function(e){return n.isArray(e)})&&T.find(V,function(e){return!n.isArray(e)})){var a=o(7,"You can not inherit both from types of different kind",this.attr("type")?this.attr("type"):this);return void t.accept(a)}if(T.filter(V,function(e){return n.isPrimitive(e)}).length>1){var a=o(7,"You can not inherit from two primitive types",this.attr("type")?this.attr("type"):this);return void t.accept(a)}}}}}},t.prototype.isPrimitive=function(e){return!this.isArray(e)&&!this.isObject(e)&&!this.isUnion(e)&&"DataElement"!=e.name()},t.prototype.isObject=function(e){return"ObjectField"==e.name()||null!=T.find(e.allSuperTypes(),function(e){return"ObjectField"==e.name()})},t.prototype.isArray=function(e){return null!=T.find(e.allSuperTypes(),function(e){return e instanceof w.Array})},t.prototype.isUnion=function(e){return null!=T.find(e.allSuperTypes(),function(e){return e instanceof w.Union})},t.prototype.traverseDec=function(e,t,n,r){var i=this;if(void 0===r&&(r={}),null!=e){if(e instanceof N.Array&&n>0){var a=o(7,"Extending from types extending array types is not allowed",this.attr("type")?this.attr("type"):this);return void t.accept(a)}if(e instanceof N.Union&&n>0){var a=o(7,"Extending from types extending union types is not allowed",this.attr("type")?this.attr("type"):this);return void t.accept(a)}if(r[e.name()]){var a=o(7,"Recurrent type definition",this.attr("type")?this.attr("type"):this);throw t.accept(a),new Error}r[e.name()]=this.definition();try{if(e.name()==this.name()&&n>0){var a=o(7,"Recurrent type definition",this.attr("type")?this.attr("type"):this);throw t.accept(a),new Error}if(e instanceof w.Array)return void this.traverseDec(e.component,t,n+1,r);if(e instanceof w.Union){var s=n+1,u=n+1,l=e;if(e.left instanceof w.Union){var c=e.left;l.getDeclaringNode()==c.getDeclaringNode()&&(s=n)}if(e.right instanceof w.Union){var c=e.right;l.getDeclaringNode()==c.getDeclaringNode()&&(u=n)}return s==n+1&&this.traverseDec(e.left,t,s,r),void(u==n+1&&this.traverseDec(e.right,t,u,r))}var p=e.allSuperTypes();p.forEach(function(e){if(e instanceof w.AbstractType){var a=e.getDeclaringNode();(a||e instanceof w.Array||e instanceof w.Union)&&i.traverseDec(e,t,n+1,r)}})}finally{delete r[e.name()]}}},t.prototype._findNode=function(e,t,n){var r=this;if(null==e)return null;
if(e.lowLevel()&&e.lowLevel().start()<=t&&e.lowLevel().end()>=n){var i=e;return e.elements().forEach(function(a){if(a.lowLevel().unit()==e.lowLevel().unit()){var o=r._findNode(a,t,n);o&&(i=o)}}),i}return null},t.prototype.isStub=function(){return!this.lowLevel().unit()||this.lowLevel().unit().isStubUnit()},t.prototype.findInsertionPointLowLevel=function(e,t,n){var r=(this.lowLevel().children(),null),i=t&&t.isEmbedMap();if(i&&T.find(this.lowLevel().children(),function(e){return e.key()==t.name()})&&(i=!1),n||i){var a=this.findLastAttribute();r=a?a:S.InsertionPoint.atStart()}return r},t.prototype.findInsertionPoint=function(e){this.isStub()||this.clearChildrenCache();var t=this.children(),n=null,r=e.property()&&e.property().isEmbedMap();if(r&&T.find(this.lowLevel().children(),function(t){return t.key()==e.property().name()})&&(r=!1),e.isAttr()||r){for(var i=0;i<t.length&&t[i].isAttr();i++)n=t[i].lowLevel();null==n&&(n=this.lowLevel())}return n},t.prototype.add=function(e){!this.isStub()&&this.isEmptyRamlFile()&&this.initRamlFile();var t=e.lowLevel();if(this._children||(this._children=[]),!e.property()){var n=e,r=this.definition().allProperties(),i=null;if(r.forEach(function(e){var t=e.range();t==n.definition()&&(i=e);var r=T.find(n.definition().allSuperTypes(),function(e){return e==t});r&&(i=e)}),!i)throw new Error("Unable to find correct child");n._prop=i}var a=this.findInsertionPoint(e),o=new M.CompositeCommand,s=null;if(e.property().isMerged()||e.property().range().isValueType())o.commands.push(M.insertNode(this.lowLevel(),e.lowLevel(),a)),s=this.lowLevel();else{var u=e.property().name(),l=this.lowLevel(),c=this.lowLevel().find(u);if(s=c,c)e.property().isEmbedMap()?o.commands.push(M.insertNode(c,e.lowLevel(),a,!0)):o.commands.push(M.insertNode(c,e.lowLevel(),a,!1));else{var p=null;if(e.property().isEmbedMap()){var d="RAML10"==this.definition().universe().version();p=t.isValueMap()&&d?S.createMapNode(u):S.createSeqNode(u),p.addChild(e.lowLevel())}else p=S.createNode(u),p.addChild(e.lowLevel());o.commands.push(M.insertNode(l,p,a)),s=l}}if(this.isStub()){var m=this.findLastAttributeIndex();return 0>m?this._children.push(e):this._children.splice(m,0,e),void o.commands.forEach(function(e){return s.addChild(e.value)})}this.lowLevel().execute(o),this._children.push(e),e.setParent(this)},t.prototype.remove=function(e){if(this.isStub()){if(e instanceof t){var n=e;if(n.isInEdit)return}if(!this._children)return;return void(this._children=this._children.filter(function(t){return t!=e}))}var r=new M.CompositeCommand;if(e instanceof t){var i=e;i.property().isMerged()?r.commands.push(M.removeNode(this.lowLevel(),i.lowLevel())):1==this.elementsOfKind(i.property().name()).length?r.commands.push(M.removeNode(this.lowLevel(),i.lowLevel().parent().parent())):r.commands.push(M.removeNode(this.lowLevel(),i.lowLevel()))}else r.commands.push(M.removeNode(this.lowLevel(),e.lowLevel()));this.lowLevel().execute(r),this._children=this._children.filter(function(t){return t!=e})},t.prototype.dump=function(e){return this._node.dump()},t.prototype.patchType=function(e){this._def=e;this._associatedDef;this._associatedDef=null,this._children=null},t.prototype.children=function(){if(this._children){var e=this.getExtractedChildren(),t=this._children.concat(e);return t}if(this._node){this._children=V.process(this,this._node.children()),this._children=this._children.filter(function(e){return null!=e});var e=this.getExtractedChildren(),t=this._children.concat(e);return t}return[]},t.prototype.directChildren=function(){return this._children?this._children:this._node?(this._children=V.process(this,this._node.children()),this._children):[]},t.prototype.resetChildren=function(){this._children=null},t.prototype.findLastAttributeIndex=function(){for(var e=-1,t=this.lowLevel().children(),n=0;n<t.length;n++){var r=t[n];if(r.isMapping()){var i=r.asMapping().key.value,a=this.definition().property(i);a&&(a.isValue()||a.range().isValueType())&&(e=n)}}return e},t.prototype.findLastAttribute=function(){var e=this.lowLevel().children(),t=this.findLastAttributeIndex();return 0>t?null:e[t]},t.prototype.isEmptyRamlFile=function(){var e=this.lowLevel().root();return e.isScalar()},t.prototype.initRamlFile=function(){var e=(this.lowLevel().root(),new M.CompositeCommand),t=S.createMap([]);e.commands.push(M.initRamlFile(this.lowLevel(),t)),this.lowLevel().execute(e);var n=this.root();n._node=t,n.clearChildrenCache()},t.prototype.createAttr=function(e,t){var n=S.createMapping(e,t);if(this.isStub()){var r=this.findLastAttributeIndex();this._node.addChild(n,r+1)}else{this.isEmptyRamlFile()&&this.initRamlFile();var i=new M.CompositeCommand,a=this.findInsertionPointLowLevel(n,this.definition().property(e),!0);i.commands.push(M.insertNode(this.lowLevel(),n,a)),this.lowLevel().execute(i)}this.clearChildrenCache()},t.prototype.isAttr=function(){return!1},t.prototype.isUnknown=function(){return!1},t.prototype.value=function(){return this._node.value()},t.prototype.valuesOf=function(e){var t=this._def.property(e);return null!=t?this.elements().filter(function(e){return e.property()==t}):[]},t.prototype.attr=function(e){return T.find(this.attrs(),function(t){return t.name()==e})},t.prototype.attrOrCreate=function(e){var t=this.attr(e);return t||this.createAttr(e,""),this.attr(e)},t.prototype.attrValue=function(e){var t=this.attr(e);return t?t.value():null},t.prototype.attributes=function(e){return T.filter(this.attrs(),function(t){return t.name()==e})},t.prototype.attrs=function(){return this.children().filter(function(e){return e.isAttr()})},t.prototype.elements=function(){return this.children().filter(function(e){return!e.isAttr()&&!e.isUnknown()})},t.prototype.element=function(e){var t=this.elementsOfKind(e);return t.length>0?t[0]:null},t.prototype.elementsOfKind=function(e){var t=this.elements().filter(function(t){return t.property().name()==e});return t},t.prototype.definition=function(){return this._def},t.prototype.property=function(){return this._prop},t.prototype.isExpanded=function(){return this._expanded},t.prototype.copy=function(){return new t(this.lowLevel().copy(),this.parent(),this.definition(),this.property())},t.prototype.clearChildrenCache=function(){this._children=null},t}(U);t.ASTNodeImpl=K,t.typeFromNode=l,t.createStub0=c,t.createStub=p,t.createResourceStub=d,t.createMethodStub=m,t.createResponseStub=h,t.createBodyStub=f,t.createUriParameterStub=y,t.createQueryParameterStub=g,t.createObjectFieldStub=v;var B={resources:1,queryParameters:1,headers:1,body:1,methods:1,responses:1},q={string:1,date:1,"boolean":1,number:1,integer:1,object:1,array:1,union:1,file:1,value:1,any:1,scalar:1}},function(e,t,n){function r(e){if(null==e)return null;switch(e.kind){case 0:return{errors:[],startPosition:e.startPosition,endPosition:e.endPosition,value:e.value,kind:0,parent:e.parent};case 1:var t=e;return{errors:[],key:r(t.key),value:r(t.value),startPosition:t.startPosition,endPosition:t.endPosition,kind:1,parent:t.parent};case 2:var n=e;return{errors:[],startPosition:e.startPosition,endPosition:e.endPosition,mappings:n.mappings.map(function(e){return r(e)}),kind:2,parent:n.parent}}return e}function i(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function a(e,t){for(var n=i(e),r=[],a=0;a<n.length;a++)0==a?r.push(n[0]):r.push(n[a].substring(t.length));return r.join("")}function o(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function s(e,t){var n=e.substr(t.offset,t.replacementLength);return-1!=n.indexOf("\n")?!0:-1!=t.text.indexOf("\n")?!0:void 0}function u(e){var t=g.newMapping(g.newScalar(e),g.newMap());return new R(t,null,null,null,null)}function l(e){var t=g.newMap(e);return new R(t,null,null,null,null)}function c(e){var t=g.newScalar(e);return new R(t,null,null,null,null)}function p(e,t,n){return new R(e,n,t,null,null)}function d(e){var t=g.newMapping(g.newScalar(e),g.newItems());return new R(t,null,null,null,null)}function m(e){var t=g.newMapping(g.newScalar(e),g.newMap());return new R(t,null,null,null,null)}function h(e,t){var n=g.newMapping(g.newScalar(e),g.newScalar(t));return new R(n,null,null,null,null)}function f(e){if(!(e instanceof R))return null;var t=e,n=new R(t.yamlNode(),t.unit(),null,null,null,!0);return n._errors=t._errors,n}function y(e){var t=e.highLevelNode();if(t)return t.definition();var n=e.parent();if(!n)return null;var r=e.key();if(!r)return null;var i=n.nodeDefinition();if(!i)return null;if(!i.property)return null;var a=i.property(r);return a?a.range():null}var g=n(19),v=n(20),b=n(10),S=n(4),w=n(21),P=n(51),M=n(24),T=n(52),E=n(53),A=function(){function e(e){this.text="",this.indent=e}return e.prototype.isLastNL=function(){return this.text.length>0&&"\n"==this.text[this.text.length-1]},e.prototype.addWithIndent=function(e,t){this.isLastNL()&&(this.text+=T.indent(e),this.text+=this.indent),this.text+=t},e.prototype.addChar=function(e){this.isLastNL()&&(this.text+=this.indent),this.text+=e},e.prototype.append=function(e){for(var t=0;t<e.length;t++)this.addChar(e[t])},e}();t.MarkupIndentingBuffer=A;var C=function(){function e(e,t,n,r,i){this._path=e,this._content=t,this._tl=n,this._project=r,this._apath=i}return e.prototype.isStubUnit=function(){return this.stu},e.prototype.cloneToProject=function(t){var n=new e(this._path,this._content,this._tl,t,this._apath);return n},e.prototype.clone=function(){var t=new e(this._path,this._content,this._tl,this.project(),this._apath);return t},e.prototype.stub=function(){var t=new e(this._path,this._content,this._tl,this.project(),this._apath);return t.stu=!0,t},e.prototype.isDirty=function(){return!1},e.prototype.absolutePath=function(){return this._apath},e.prototype.isRAMLUnit=function(){var e=b.extname(this._path);return".raml"==e||".yaml"==e},e.prototype.contents=function(){return this._content},e.prototype.resolve=function(e){var t=this._project.resolve(this._path,e);return t},e.prototype.path=function(){return this._path},e.prototype.lexerErrors=function(){return null==this.errors&&this.ast(),this.errors},e.prototype.ast=function(){var e=this;if(this._node)return this._node;try{var t=w.load(this._content,{});return this.errors=t.errors,this.errors.forEach(function(t){t.mark&&(t.mark.filePath=e.absolutePath())}),this._node=new R(t,this,null,null,null),this._node._errors=this.errors,this._node}catch(n){return this.errors=[],this.errors.push(new M(n.message)),this._node=null,this._node}},e.prototype.isTopLevel=function(){return this._tl},e.prototype.updateContent=function(e){this._content=e,this.errors=null,this._node=null},e.prototype.updateContentSafe=function(e){this._content=e},e.prototype.project=function(){return this._project},e}();t.CompilationUnit=C;var N=function(){function e(){}return e.prototype.content=function(e){if(!S.existsSync(e))return null;try{return S.readFileSync(e).toString()}catch(t){return null}},e.prototype.list=function(e){return S.readdirSync(e)},e}();t.FSResolver=N;var I=function(e,t,n){if(t&&(t.startPosition>=e&&(t.startPosition+=n),t.endPosition>e&&(t.endPosition+=n),1==t.kind)){var r=t;I(e,r.key,n),I(e,r.value,n)}},_=function(e,t){for(var n="",r=e.start()-1;r>0;){var i=t[r];if(" "!=i&&"-"!=i)break;n=" "+n,r--}return n},x=function(){function e(e,t,n){void 0===t&&(t=new N),void 0===n&&(n=null),this.rootPath=e,this.resolver=t,this._httpResolver=n,this.listeners=[],this.tlisteners=[],this.pathToUnit={}}return e.prototype.cloneWithResolver=function(t,n){void 0===n&&(n=null);var r=new e(this.rootPath,t,n?n:this._httpResolver);for(var i in this.pathToUnit)r.pathToUnit[i]=this.pathToUnit[i].cloneToProject(r);return r},e.prototype.setCachedUnitContent=function(e,t,n){void 0===n&&(n=!0);var r=e,i=b.resolve(this.rootPath,e),a=new C(r,t,n,this,i);return this.pathToUnit[i]=a,a},e.prototype.resolve=function(e,t){if(!t)return null;if("/"==t.charAt(0))return this.unit(t);if(0==t.indexOf("http://")||0==t.indexOf("https://"))return this.unit(t,!0);if("/"==e.charAt(0)){var n=b.resolve(b.dirname(e),t);return this.unit(n,!0)}var n=b.resolve(b.dirname(b.resolve(this.rootPath,e)),t);return this.unit(n,!0)},e.prototype.units=function(){var e=this,t=this.resolver.list(this.rootPath).filter(function(e){return".raml"==b.extname(e)});return t.map(function(t){return e.unit(t)}).filter(function(e){return e.isTopLevel()})},e.prototype.lexerErrors=function(){var e=[];return this.units().forEach(function(t){e=e.concat(t.lexerErrors())}),e},e.prototype.deleteUnit=function(e,t){void 0===t&&(t=!1);var n=null;n=0==e.indexOf("http://")||0==e.indexOf("https://")?e:t?e:b.resolve(this.rootPath,e),delete this.pathToUnit[n]},e.prototype.unit=function(e,t){void 0===t&&(t=!1);var n=null,r=e;if(0==e.indexOf("http://")||0==e.indexOf("https://")){if(this.pathToUnit[r])return this.pathToUnit[r];n=this._httpResolver?this._httpResolver.getResource(e):E.readFromCacheOrGet(e)}else{"/"!=e.charAt(0)||t||(e=e.substr(1));var r=t?e:b.resolve(this.rootPath,e);if(this.pathToUnit[r])return this.pathToUnit[r];n=this.resolver.content(r)}if(null==n)return null;var i=0==n.indexOf("#%RAML"),a=b.relative(this.rootPath,r),o=new C(a,n,i,this,r);return this.pathToUnit[r]=o,o},e.prototype.visualizeNewlines=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];"\r"==r&&(r="\\r"),"\n"==r&&(r="\\n"),t+=r}return t},e.prototype.indent=function(e){var t=e.unit().contents();if(e==e.root())return"";var n=_(e,t),r=i(e.dump());if(r.length>1&&r[1].trim().length>0){var a=o(r[1]);return n+a}return n+"  "},e.prototype.startIndent=function(e){e.unit().contents();if(e==e.root())return"";var t=i(e.dump());if(t.length>0){console.log("FIRST: "+t[0]);var n=o(t[0]);return n+"  "}return""},e.prototype.canWriteInOneLine=function(e){return!1},e.prototype.isOneLine=function(e){return e.text().indexOf("\n")<0},e.prototype.recalcPositionsUp=function(e){for(var t=e;t;)t.recalcEndPositionFromChilds(),t=t.parent()},e.prototype.add2=function(e,t,n,r,i){void 0===i&&(i=!1);var a=e.unit(),o=(e.root(),null);if(r&&(r instanceof R&&(o=r),r instanceof L&&(o=r.point)),e.isValueInclude()){var s=e.children();if(0==s.length)throw"not implemented: insert into empty include ref";var u=s[0].parent();return void this.add2(u,t,n,o,i)}var l=(new T.TextRange(a.contents(),t.start(),t.end()),new T.TextRange(a.contents(),e.start(),e.end()),e.unit().contents());3==e.valueKind()&&(e=p(e.valueAsSeq(),e,e.unit()));var i=this.isJson(e),c=i?"":this.indent(e.isSeq()?e.parent():e),d=c,m=c.length,h=e.isSeq()||e.isMapping()&&(e.isValueSeq()||e.isValueScalar()||!e.asMapping().value);n=n,n&&(i||h&&(d+="  ",m+=2));var f=new A(d);t.markupNode(f,t._actualNode(),0,i);var y=f.text;if(n){var g=T.trimEnd(y),v=y.length-g.length;if(v>0){var b=y.length;y=y.substring(0,b-v),t.shiftNodes(b-v,-v)}}n&&!i?(t.highLevelNode(),e.isMapping(),y=e.isSeq()||e.isMapping()&&(e.isValueSeq()||e.isValueScalar()||!e.asMapping().value)?c+"- "+y:c+y):y=c+y;var S=e.end();if(o)o!=e?S=o.end():i&&n||(S=e.keyEnd()+1,S=new T.TextRange(l,S,S).extendAnyUntilNewLines().endpos());else if(i&&n){var w=e.asSeq();w&&(S=w.items.length>0?w.items[w.items.length-1].endPosition:w.endPosition-1)}else if(r&&r instanceof L){var P=r;1==P.type&&(S=e.keyEnd()+1,S=new T.TextRange(l,S,S).extendAnyUntilNewLines().endpos())}var M=new T.TextRange(l,0,S);if(S=M.extendToNewlines().reduceSpaces().endpos(),i&&e.isSeq()){var w=e.asSeq();w.items.length>0&&(y=", "+y,m+=2)}else S>0&&"\n"!=l[S-1]&&(y="\n"+y,m++);var E=0;n&&!i&&(y+="\n",E++);var C=l.substring(0,S)+y+l.substring(S,l.length),N=a;if(N.updateContentSafe(C),this.executeReplace(new T.TextRange(l,S,S),y,N),e.root().shiftNodes(S,m+(t.end()-t.start())+E),o){for(var s=e.children(),I=-1,_=0;_<s.length;_++){var x=s[_];if(x.start()==o.start()&&x.end()==o.end()){I=_;break}}I>=0?e.addChild(t,I+1):e.addChild(t)}else e.addChild(t);t.shiftNodes(0,S+m),this.recalcPositionsUp(e),t.setUnit(e.unit()),t.visit(function(t){var n=t;return n.setUnit(e.unit()),!0})},e.prototype.isJsonMap=function(e){if(!e.isMap())return!1;var t=e.text().trim();return t.length>=2&&"{"==t[0]&&"}"==t[t.length-1]},e.prototype.isJsonSeq=function(e){if(!e.isSeq())return!1;var t=e.text().trim();return t.length>=2&&"["==t[0]&&"]"==t[t.length-1]},e.prototype.isJson=function(e){return this.isJsonMap(e)||this.isJsonSeq(e)},e.prototype.remove=function(e,t,n){var r=n.parent();if(n._oldText=n.dump(),this.isOneLine(n)&&n.isMapping()&&n.parent().isMap()){var i=n.parent();if(1==i.asMap().mappings.length&&null!=i.parent())return void this.remove(e,i.parent(),i)}if(this.isOneLine(n)&&n.isScalar()&&n.parent().isSeq()){var a=n.parent(),o=a.asSeq();if(1==o.items.length)return void this.remove(e,a.parent(),a)}if(t.isMapping()&&n.isSeq()){var s=t.parent();return void this.remove(e,s,t)}var u=new T.TextRange(e.contents(),n.start(),n.end()),l=(new T.TextRange(e.contents(),t.start(),t.end()),new T.TextRange(e.contents(),r.start(),r.end()),u.startpos());if(t.isSeq()){var c=n.isSeq()?n:n.parentOfKind(3);u=c&&this.isJson(c)?u.extendSpaces().extendCharIfAny(",").extendSpaces():u.extendToStartOfLine().extendAnyUntilNewLines().extendToNewlines()}t.isMap()&&(u=u.trimEnd().extendAnyUntilNewLines().extendToNewlines(),u=u.extendToStartOfLine().extendUntilNewlinesBack()),1==t.kind()&&(this.isJson(n)&&this.isOneLine(n)||(u=u.extendSpacesUntilNewLines(),u=u.extendToNewlines(),u=u.extendToStartOfLine().extendUntilNewlinesBack())),n.isSeq()&&(u=u.reduceSpaces());var p=e;p.updateContentSafe(u.remove()),this.executeReplace(u,"",p),n.parent().removeChild(n);var d=-u.len();t.root().shiftNodes(l,d),this.recalcPositionsUp(t)},e.prototype.changeKey=function(e,t,n){var r=new T.TextRange(t.unit().contents(),t.keyStart(),t.keyEnd());if(1==t.kind()){var i=t._actualNode().key;i.value=n,i.endPosition=i.startPosition+n.length}var a=e;this.executeReplace(r,n,a);var o=n.length-r.len();t.root().shiftNodes(r.startpos(),o,t),this.recalcPositionsUp(t)},e.prototype.executeReplace=function(e,t,n){var r=new v.TextChangeCommand(e.startpos(),e.endpos()-e.startpos(),t,n);n.project();try{this.tlisteners.forEach(function(e){return e(r)})}catch(i){return!1}var a=e.replace(t);return n.updateContentSafe(a),!0},e.prototype.changeValue=function(e,t,n){var r,i=new T.TextRange(t.unit().contents(),t.start(),t.end()),a=0,o=0,s=null,u=null;if(0==t.kind()){if("string"!=typeof n)throw"not implemented";t.asScalar().value=n,r=n}else if(1==t.kind()){if(u=t.asMapping(),t.isValueInclude()){var c=t.valueAsInclude(),p=c.value,d=t.unit().resolve(p);if(null==d)return void console.log("attr.setValue: couldn't resolve: "+p);if(d.isRAMLUnit())return;return void d.updateContent(n)}if(i=u.value?i.withStart(t.valueStart()).withEnd(t.valueEnd()):i.withStart(t.keyEnd()+1).withEnd(t.keyEnd()+1),i=i.reduceNewlinesEnd(),null==n)r="",u.value=null;else if("string"==typeof n||null==n){var m=n,h=this.indent(t);if(m&&T.isMultiLine(m)&&(m=""+T.makeMutiLine(m,h.length/2)),r=m,u.value){if(3==u.value.kind){console.log("seq value");u.value.items[0];throw"assign value!!!"}if(0==u.value.kind){var f=u.value,y=f.value;f.value=m,u.value.endPosition=u.value.startPosition+m.length,u.endPosition=u.value.endPosition,o+=m.length-y.length}}else if(console.log("no value"),u.value=g.newScalar(m),u.value.startPosition=t.keyEnd()+1,u.value.endPosition=u.value.startPosition+m.length,u.endPosition=u.value.endPosition,e.contents().length>t.keyEnd()+1){var v=t.keyEnd()+1;":"==e.contents()[v-1]&&(r=" "+r,u.value.startPosition++,u.value.endPosition++,u.endPosition++,o++)}}else{var b=n;if(b.isMapping())n=l([b.asMapping()]),b=n;else if(!b.isMap())throw"only MAP/MAPPING nodes allowed as values";var S=new A("");b.markupNode(S,b._actualNode(),0,!0),r=""+S.text,b.shiftNodes(0,i.startpos()+o),s=b}}else console.log("Unsupported change value case: "+t.kindName());var w=e;this.executeReplace(i,r,w);var P=r.length-i.len();t.root().shiftNodes(i.endpos()+a,P,t),s&&(u.value=s._actualNode()),this.recalcPositionsUp(t)},e.prototype.initWithRoot=function(e,t){var n=e.end();t.markup(!1),t._actualNode().startPosition=n,t._actualNode().endPosition=n,t.setUnit(e.unit())},e.prototype.execute=function(e){var t=this;e.commands.forEach(function(e){switch(e.kind){case 4:var n=e.target,r=n.value();r||(r="");var i=e.value;if("string"==typeof r&&"string"==typeof i)r!=i&&t.changeValue(n.unit(),n,i);else if("string"==typeof r&&"string"!=typeof i)t.changeValue(n.unit(),n,i);else if("string"!=typeof r&&"string"==typeof i){var a=e.value;if(1!=r.kind())throw"unsupported case: attribute value conversion: "+typeof r+" ==> "+typeof i+" not supported";T.isMultiLine(a)?(n.children().forEach(function(e){t.remove(n.unit(),n,e)}),t.changeValue(n.unit(),n,a)):t.changeKey(n.unit(),r,a)}else{if("string"==typeof r||"string"==typeof i)throw"shouldn't be this case: attribute value conversion "+typeof r+" ==> "+typeof i+" not supported";var o=i;if(o.isMapping()&&(i=l([o.asMapping()])),r==i)break;var s=i;s.asMap();n.children().forEach(function(e){t.remove(n.unit(),n,e)}),s.children().forEach(function(e){}),t.changeValue(n.unit(),n,i)}return;case 3:var n=e.target;return void t.changeKey(n.unit(),n,e.value);case 0:var n=e.target,u=e.value;return void t.add2(n,u,e.toSeq,e.insertionPoint);case 1:var c=e.target,s=e.value;return void t.remove(c.unit(),c,s);case 5:var p=e.target,d=e.value;return void t.initWithRoot(p,d);default:return void console.log("UNSUPPORTED COMMAND: "+v.CommandKind[e.kind])}})},e.prototype.replaceYamlNode=function(e,t,n,r,i){var a=w.load(t,{});this.updatePositions(e.start(),a),e.root().shiftNodes(n,r);var o=e.parent(),s=e._actualNode(),u=s.parent;if(a.parent=u,o&&2==o.kind()){var l=o._actualNode();l.mappings=l.mappings.map(function(e){return e!=s?e:a})}e.updateFrom(a),this.recalcPositionsUp(e)},e.prototype.executeTextChange2=function(e){var t=e.unit,n=t.contents(),r=e.target;if(r){var i=n.substring(r.start(),r.end());n=n.substr(0,e.offset)+e.text+n.substr(e.offset+e.replacementLength);var a=i.substr(0,e.offset-r.start())+e.text+i.substr(e.offset-r.start()+e.replacementLength);if(t.updateContentSafe(n),e.offset>r.start())try{var o=e.text.length-e.replacementLength,s=e.offset;r.unit().project().replaceYamlNode(r,a,s,o,e.unit)}catch(u){console.log("New node contents (causes error below): \n"+a),console.log("Reparse error: "+u.stack)}}else n=n.substr(0,e.offset)+e.text+n.substr(e.offset+e.replacementLength);t.updateContent(n),this.listeners.forEach(function(e){e(null)}),this.tlisteners.forEach(function(t){t(e)})},e.prototype.executeTextChange=function(e){(new Date).getTime();try{var t=e.unit.contents(),n=e.target;null==n&&(n=this.findNode(e.unit.ast(),e.offset,e.offset+e.replacementLength));var i=e.unit;if(n){var a=t.substring(n.start(),n.end()),o=t;t=t.substr(0,e.offset)+e.text+t.substr(e.offset+e.replacementLength);var u=a.substr(0,e.offset-n.start())+e.text+a.substr(e.offset-n.start()+e.replacementLength);i.updateContentSafe(t);s(o,e);if(e.offset>n.start())try{var l=w.load(u,{});this.updatePositions(n.start(),l);var c=e.text.length-e.replacementLength;if(e.unit.ast().shiftNodes(e.offset,c),null!=l&&2==l.kind){var p=l.mappings[0],d=n._actualNode(),m=d.parent,h=new v.ASTDelta,f=e.unit;if(h.commands=[new v.ASTChangeCommand(4,new R(r(d),f,null,null,null),new R(p,f,null,null,null),0)],m&&2==m.kind){var y=m;y.mappings=y.mappings.map(function(e){return e!=d?e:p})}return p.parent=m,this.recalcPositionsUp(n),n.updateFrom(p),this.listeners.forEach(function(e){e(h)}),void this.tlisteners.forEach(function(t){t(e)})}}catch(g){console.log("New node contents (causes error below): \n"+u),console.log("Reparse error: "+g.stack)}}else t=t.substr(0,e.offset)+e.text+t.substr(e.offset+e.replacementLength);(new Date).getTime();i.updateContent(t),this.listeners.forEach(function(e){e(null)}),this.tlisteners.forEach(function(t){t(e)})}finally{(new Date).getTime()}},e.prototype.updatePositions=function(e,t){var n=this;if(null!=t)switch(-1==t.startPosition?t.startPosition=e:t.startPosition=e+t.startPosition,t.endPosition=e+t.endPosition,t.kind){case 2:var r=t;r.mappings.forEach(function(t){return n.updatePositions(e,t)});break;case 1:var i=t;this.updatePositions(e,i.key),this.updatePositions(e,i.value);break;case 0:break;case 3:var a=t;a.items.forEach(function(t){return n.updatePositions(e,t)})}},e.prototype.findNode=function(e,t,n){var r=this;if(null==e)return null;var i=e;if(e.start()<=t&&e.end()>=n){var a=e;return i.directChildren().forEach(function(e){var i=r.findNode(e,t,n);i&&(a=i)}),a}return null},e.prototype.addTextChangeListener=function(e){this.tlisteners.push(e)},e.prototype.removeTextChangeListener=function(e){this.tlisteners=this.tlisteners.filter(function(t){return t!=e})},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e}();t.Project=x;var R=function(){function e(e,t,n,r,i,a){void 0===a&&(a=!1),this._node=e,this._unit=t,this._parent=n,this._anchor=r,this._include=i,this.cacheChildren=a,this._errors=[],null==e&&console.log("null")}return e.prototype.yamlNode=function(){return this._node},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.start=function(){return this._node.startPosition},e.prototype.errors=function(){return this._errors},e.prototype.parent=function(){return this._parent},e.prototype.recalcEndPositionFromChilds=function(){var e=(this.children(),this.children()[0]),t=this.children()[this.children().length-1];if(this.isMapping()){var n=this.asMapping();if(n.value)if(2==n.value.kind){var r=n.value;r.startPosition<0&&e&&(r.startPosition=e.start()),t&&(this._node.endPosition=t._node.endPosition),this._node.endPosition=Math.max(this._node.endPosition,n.value.endPosition)}else if(3==n.value.kind){var i=n.value;if(i.startPosition<0&&i.items.length>0){var a=i.items[0].startPosition,o=new T.TextRange(this.unit().contents(),a,a);o=o.extendSpacesBack().extendCharIfAnyBack("-"),i.startPosition=o.startpos()}if(i.items.length>0){var s=i.items[i.items.length-1];this._node.endPosition=Math.max(this._node.endPosition,i.endPosition,s.endPosition),i.endPosition=Math.max(this._node.endPosition,i.endPosition,s.endPosition)}}else 0==n.value.kind||t&&(this._node.endPosition=t._node.endPosition)}else t&&(this._node.endPosition=t._node.endPosition)},e.prototype.isValueLocal=function(){if(1==this._node.kind){var e=this._node.value.kind;return 5!=e&&4!=e}return!0},e.prototype.keyStart=function(){return 1==this._node.kind?this._node.key.startPosition:-1},e.prototype.keyEnd=function(){return 1==this._node.kind?this._node.key.endPosition:-1},e.prototype.valueStart=function(){if(1==this._node.kind){var e=this.asMapping();return e.value?e.value.startPosition:e.endPosition}return-1},e.prototype.valueEnd=function(){if(1==this._node.kind){var e=this.asMapping();return e.value.endPosition}return-1},e.prototype.end=function(){return this._node.endPosition},e.prototype.dump=function(){if(this._oldText)return this._oldText;if(this._unit&&this._node.startPosition>0&&this._node.endPosition>0){var e=this._unit.contents().substring(this._node.startPosition,this._node.endPosition);return e=a(e,_(this,this._unit.contents()))}return P.dump(this.dumpToObject(),{})},e.prototype.dumpToObject=function(e){return void 0===e&&(e=!1),this.dumpNode(this._node,e)},e.prototype.dumpNode=function(e,t){var n=this;if(void 0===t&&(t=!1),!e)return null;if(3==e.kind){var r=e,i=[];return r.items.forEach(function(e){return i.push(n.dumpNode(e))}),i}if(1==e.kind){var a=e,o={},s=a.value,u=this.dumpNode(s,t);return o[""+this.dumpNode(a.key,t)]=u,o}if(0==e.kind){var l=e;return l.value}if(2==e.kind){var c=e,p={};return 1==c.mappings.length&&"value"==c.mappings[0].key.value?this.dumpNode(c.mappings[0].value,t):(c.mappings&&c.mappings.forEach(function(e){var r=n.dumpNode(e.value,t);null==r&&(r="!$$$novalue"),((r+"").length>0||t)&&(p[n.dumpNode(e.key,t)+""]=r)}),p)}},e.prototype._actualNode=function(){return this._node},e.prototype.execute=function(e){this.unit()?this.unit().project().execute(e):e.commands.forEach(function(e){switch(e.kind){case 4:var t=e.target,n=e.value,r=t._actualNode();t.start();return void(1==r.kind&&(r.value=g.newScalar(""+n)));case 3:var t=e.target,n=e.value,r=t._actualNode();if(1==r.kind){var i=r.key;i.value=n}return}})},e.prototype.updateFrom=function(e){this._node=e},e.prototype.value=function(){if(!this._node)return"";if(0==this._node.kind)return this._node.value;if(4==this._node.kind){var t=this._node;return new e(t.value,this._unit,this,null,null).value()}if(1==this._node.kind){var n=this._node;return null==n.value?null:new e(n.value,this._unit,this,null,null).value()}if(5==this._node.kind){var r=this._node.value,i=this._unit.resolve(r);if(null==i)return"can not resolve "+r;if(i.isRAMLUnit())return null;var a=i.contents();return T.isMultiLineValue(a)&&(a=T.fromMutiLine(a)),a}if(2==this._node.kind){var o=this._node;if(1==o.mappings.length)return new e(o.mappings[0],this._unit,this,null,null)}if(3==this._node.kind){var s=this._node;if(1==s.items.length)return new e(s.items[0],this._unit,this,null,null).value()}return null},e.prototype.printDetails=function(e){var t="";e||(e="");var n=this.kindName();return 0==this.kind()?t+=e+"["+n+"] "+this.value()+"\n":1==this.kind()&&this._node.value&&0==this._node.value.kind?t+=e+"["+n+"] "+this.key()+" = "+this.value()+"\n":1==this.kind()?(t+=e+"["+n+"] "+this.key()+" = :\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")})):(t+=e+"["+n+"] :\n",this.children().forEach(function(n){t+=n.printDetails(e+"	")})),t},e.prototype.visit=function(e){this.children().forEach(function(t){e(t)&&t.visit(e)})},e.prototype.key=function(){if(!this._node)return"";if(1==this._node.kind){var e=this._node;if(3==e.key.kind){var t=e.key,n="[";return t.items.forEach(function(e){return n+=e.value}),n+"]"}return e.key.value}return null},e.prototype.addChild=function(e,t){void 0===t&&(t=-1);var n=e;if(n._parent=this,this._oldText=null,this.isMap()){var r=this.asMap();(null==r.mappings||void 0==r.mappings)&&(r.mappings=[]),t>=0?r.mappings.splice(t,0,n.asMapping()):r.mappings.push(n.asMapping())}else if(this.isMapping()){var i=this.asMapping(),a=i.value;if(!i.value&&n.isMap())return void(i.value=n._actualNode());if(i.value&&0==i.value.kind&&(i.value=null,a=null),a||(a=n.isScalar()||n.highLevelNode()&&n.highLevelNode().property().isEmbedMap()?g.newSeq():g.newMap(),i.value=a),2==a.kind){var r=a;(null==r.mappings||void 0==r.mappings)&&(r.mappings=[]),n.isScalar(),t>=0?r.mappings.splice(t,0,n.asMapping()):r.mappings.push(n.asMapping())}else{if(3!=a.kind)throw"Insert into mapping with "+g.Kind[i.value.kind]+" value not supported";var o=a;t>=0?o.items.splice(t,0,n._actualNode()):o.items.push(n._actualNode())}}else{if(!this.isSeq())throw"Insert into "+this.kindName()+" not supported";var o=this.asSeq();t>=0?o.items.splice(t,0,n._actualNode()):o.items.push(n._actualNode())}},e.prototype.removeChild=function(e){this._oldText=null;var t,n,r=e;if(3==this.kind()){var i=this.asSeq();t=r._node,n=i.items.indexOf(t),n>-1&&i.items.splice(n,1)}else if(2==this.kind()){var a=this.asMap();t=r.asMapping(),n=a.mappings.indexOf(t),n>-1&&a.mappings.splice(n,1)}else{if(1!=this.kind())throw"Delete from "+g.Kind[this.kind()]+" unsupported";var o=this.asMapping();if(r._actualNode()==o.value)o.value=null;else{var a=o.value;t=r.asMapping(),a&&a.mappings&&(n=a.mappings.indexOf(t),n>-1&&a.mappings.splice(n,1))}}},e.prototype.includeErrors=function(){if(1==this._node.kind){var t=this._node;return null==t.value?[]:new e(t.value,this._unit,this,this._anchor,this._include).includeErrors()}var n=[];if(5==this._node.kind){var t=this._node;if(null==t.value)return[];var r=this.includePath(),i=this._unit.resolve(r);if(null==i)return n.push("Can not resolve "+r),n;if(i.isRAMLUnit()){var a=i.ast();if(a)return[];n.push(""+r+" can not be parsed");
}}return n},e.prototype.children=function(t,n,r){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=!0),null==this._node)return[];if(this.cacheChildren&&this._children)return this._children;var a,o=this._node.kind;if(0==o)a=[];else if(2==o){var s=this._node;a=1!=s.mappings.length||r?s.mappings.map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include,i.cacheChildren)}):new e(s.mappings[0].value,this._unit,this,t,n,this.cacheChildren).children(null,null,!0)}else if(1==o){var u=this._node;a=null==u.value?[]:new e(u.value,this._unit,this,n?n:this._anchor,t?t:this._include,this.cacheChildren).children()}else if(3==o){var l=this._node;a=l.items.filter(function(e){return null!=e}).map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include,i.cacheChildren)})}else if(5==o){if(this._unit){var c=this.includePath(),p=this._unit.resolve(c);if(null==p)a=[];else if(p.isRAMLUnit()){var d=p.ast();d&&(this.cacheChildren&&(d=f(d)),a=p.ast().children(this,null))}}a||(a=[])}else{if(4!=o)throw new M("Should never happen; kind : "+g.Kind[this._node.kind]);var m=this._node;a=new e(m.value,this._unit,this,null,null,this.cacheChildren).children()}return this.cacheChildren&&(this._children=a),a},e.prototype.directChildren=function(t,n,r){var i=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=!0),this._node){switch(this._node.kind){case 0:return[];case 2:var a=this._node;return 1!=a.mappings.length||r?a.mappings.map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include)}):new e(a.mappings[0].value,this._unit,this,t,n).directChildren(null,null,!0);case 1:var o=this._node;return null==o.value?[]:new e(o.value,this._unit,this,n?n:this._anchor,t?t:this._include).directChildren();case 3:var s=this._node;return s.items.filter(function(e){return null!=e}).map(function(r){return new e(r,i._unit,i,n?n:i._anchor,t?t:i._include)});case 5:return[];case 4:return[]}throw new M("Should never happen; kind : "+g.Kind[this._node.kind])}return[]},e.prototype.anchorId=function(){return this._node.anchorId},e.prototype.unit=function(){return this._unit},e.prototype.setUnit=function(e){this._unit=e},e.prototype.includePath=function(){if(5==this._node.kind){var t=this._node.value;return t}if(1==this._node.kind){var n=this._node;return null==n.value?null:new e(n.value,this._unit,this,null,null).includePath()}return null},e.prototype.anchoredFrom=function(){return this._anchor},e.prototype.includedFrom=function(){return this._include},e.prototype.kind=function(){return this._actualNode().kind},e.prototype.valueKind=function(){if(1!=this._node.kind)return null;var e=this._node;return e.value?e.value.kind:null},e.prototype.valueKindName=function(){var e=this.valueKind();return void 0!=e?g.Kind[e]:null},e.prototype.kindName=function(){return g.Kind[this.kind()]},e.prototype.indent=function(e,t){void 0===t&&(t="");for(var n="",r=0;e>r;r++)n+="  ";return n+t},e.prototype.replaceNewlines=function(e,t){void 0===t&&(t=null);for(var n="",r=0;r<e.length;r++){var i=e[r];"\r"==i&&(i=null==t?"\\r":t),"\n"==i&&(i=null==t?"\\n":t),n+=i}return n},e.prototype.shortText=function(e,t){void 0===t&&(t=50);var n=this.end()-this.start(),r=n,i=this.unit();!e&&i&&(e=i.contents());var a;if(e){var o=e;a=o?o.substring(this.start(),this.end()):"[no-text]"}else a="[no-unit]";return a="["+this.start()+".."+this.end()+"] "+n+" // "+a+" //",n>r&&(a+="..."),a=this.replaceNewlines(a)},e.prototype.nodeShortText=function(e,t,n){void 0===n&&(n=50);var r=e.endPosition-e.startPosition,i=r,a=this.unit();!t&&a&&(t=a.contents());var o;if(t){var s=t;o=s?s.substring(e.startPosition,e.endPosition):"[no-text]"}else o="[no-unit]";return o="["+e.startPosition+".."+e.endPosition+"] "+r+" // "+o+" //",r>i&&(o+="..."),o=this.replaceNewlines(o)},e.prototype.show=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=null),e&&0==t&&console.log(e);var r=this.children(),i=this.kindName(),a=this._actualNode().value;1==this.kind()&&(i+="["+this._actualNode().key.value+"]"),i+=a?"/"+g.Kind[a.kind]:"",0==r.length?(console.log(this.indent(t)+i+" // "+this.shortText(n)),this.isMapping()&&this.asMapping().value&&console.log(this.indent(t+1)+"// "+this.valueKindName()+": "+this.nodeShortText(this.asMapping().value,n))):(console.log(this.indent(t)+i+" { // "+this.shortText(n)),this.isMapping()&&this.asMapping().value&&console.log(this.indent(t+1)+"// "+this.valueKindName()+": "+this.nodeShortText(this.asMapping().value,n)),r.forEach(function(e){var r=e;r.show(null,t+1,n)}),console.log(this.indent(t)+"}"))},e.prototype.showParents=function(e,t){void 0===t&&(t=0),e&&0==t&&console.log(e);var n=0;if(this.parent()){var r=this.parent();n=r.showParents(null,t+1)}var i=this.kindName(),a=this._actualNode().value;return i+=a?"/"+g.Kind[a.kind]:"/null",console.log(this.indent(n)+i+" // "+this.shortText(null)),n+1},e.prototype.inlined=function(e){return 0==e||5==e},e.prototype.markupNode=function(e,t,n,r){void 0===r&&(r=!1);var a=e.text.length;switch(t.kind){case 2:r&&e.append("{");for(var o=t.mappings,s=0;s<o.length;s++)r&&s>0&&e.append(", "),this.markupNode(e,o[s],n,r);r&&e.append("}");break;case 3:for(var u=t.items,s=0;s<u.length;s++)e.append(this.indent(n,"- ")),this.markupNode(e,u[s],n+1,r);break;case 1:var l=t,c=l.value;if(r){if(e.append(l.key.value),e.append(": "),0==c.kind){var p=c;e.append(p.value)}else{if(2!=c.kind)throw"markup not implemented: "+g.Kind[c.kind];this.markupNode(e,l.value,n+1,r)}break}if(e.addWithIndent(n,l.key.value+":"),!c){e.append("\n");break}if(0==c.kind)var p=c;l.value?(e.append(this.inlined(l.value.kind)?" ":"\n"),this.markupNode(e,l.value,n+1,r)):e.append("\n");break;case 0:var p=t;if(T.isMultiLine(p.value)){e.append("|\n");for(var d=i(p.value),s=0;s<d.length;s++)e.append(this.indent(n,d[s]));e.append("\n")}else e.append(p.value+"\n");break;case 5:var m=t;e.append("!include "+m.value+"\n");break;default:throw"Unknown node kind: "+g.Kind[t.kind]}for(;a<e.text.length&&" "==e.text[a];)a++;t.startPosition=a,t.endPosition=e.text.length},e.prototype.markup=function(e){void 0===e&&(e=!1);var t=new A("");return this.markupNode(t,this._actualNode(),0,e),t.text},e.prototype.root=function(){for(var e=this;e.parent();){var t=e.parent();e=t}return e},e.prototype.parentOfKind=function(e){for(var t=this.parent();t;){if(t.kind()==e)return t;t=t.parent()}return null},e.prototype.find=function(e){var t=null;return this.directChildren().forEach(function(n){n.key()&&n.key()==e&&(t||(t=n))}),t},e.prototype.shiftNodes=function(e,t,n){if(this.directChildren().forEach(function(r){if(n&&n.start()==r.start()&&n.end()==r.end());else{r.shiftNodes(e,t,n)}}),n&&n.start()==this.start()&&n.end()==this.end());else{var r=this._actualNode();r&&I(e,r,t)}return null},e.prototype.isMap=function(){return 2==this.kind()},e.prototype.isMapping=function(){return 1==this.kind()},e.prototype.isSeq=function(){return 3==this.kind()},e.prototype.isScalar=function(){return 0==this.kind()},e.prototype.asMap=function(){if(!this.isMap())throw"map expected instead of "+this.kindName();return this._actualNode()},e.prototype.asMapping=function(){if(!this.isMapping())throw"maping expected instead of "+this.kindName();return this._actualNode()},e.prototype.asSeq=function(){if(!this.isSeq())throw"seq expected instead of "+this.kindName();return this._actualNode()},e.prototype.asScalar=function(){if(!this.isScalar())throw"scalar expected instead of "+this.kindName();return this._actualNode()},e.prototype.isValueSeq=function(){return 3==this.valueKind()},e.prototype.isValueMap=function(){return 2==this.valueKind()},e.prototype.isValueInclude=function(){return 5==this.valueKind()},e.prototype.isValueScalar=function(){return 0==this.valueKind()},e.prototype.valueAsSeq=function(){if(!this.isMapping())throw"mapping expected instead of "+this.kindName();if(3!=this.valueKind())throw"mappng/seq expected instead of mapping/"+this.kindName();return this.asMapping().value},e.prototype.valueAsMap=function(){if(!this.isMapping())throw"mapping expected instead of "+this.kindName();if(2!=this.valueKind())throw"mappng/map expected instead of mapping/"+this.kindName();return this.asMapping().value},e.prototype.valueAsScalar=function(){if(!this.isMapping())throw"mapping expected instead of "+this.kindName();if(0!=this.valueKind())throw"mappng/scalar expected instead of mapping/"+this.kindName();return this.asMapping().value},e.prototype.valueAsInclude=function(){if(!this.isMapping())throw"mapping expected instead of "+this.kindName();if(5!=this.valueKind())throw"mappng/include expected instead of mapping/"+this.kindName();return this.asMapping().value},e.prototype.text=function(e){if(void 0===e&&(e=null),!e){if(!this.unit())return"[no-text]";e=this.unit().contents()}return e.substring(this.start(),this.end())},e.prototype.copy=function(){var t=r(this._actualNode());return new e(t,this._unit,this._parent,this._anchor,this._include)},e.prototype.nodeDefinition=function(){return y(this)},e}();t.ASTNode=R,function(e){e[e.NONE=0]="NONE",e[e.START=1]="START",e[e.END=2]="END",e[e.POINT=3]="POINT"}(t.InsertionPointType||(t.InsertionPointType={}));var O=t.InsertionPointType,L=function(){function e(e,t){void 0===t&&(t=null),this.type=e,this.point=t}return e.after=function(t){return new e(3,t)},e.atStart=function(){return new e(1)},e.atEnd=function(){return new e(2)},e.node=function(){return new e(0)},e.prototype.show=function(e){e?(console.log(e),console.log("  insertion point type: "+O[this.type])):console.log("insertion point type: "+O[this.type]),3==this.type&&this.point&&this.point.show()},e}();t.InsertionPoint=L,t.createNode=u,t.createMap=l,t.createScalar=c,t.createSeq=p,t.createSeqNode=d,t.createMapNode=m,t.createMapping=h,t.toChildCahcingNode=f,t.getDefinitionForLowLevelNode=y},function(e,t){function n(e,t){var n=t?t.endPosition:e.endPosition+1,r={key:e,value:t,startPosition:e.startPosition,endPosition:n,kind:1,parent:null,errors:[]};return r}function r(e,t,n,r){return{errors:[],referencesAnchor:e,value:r,startPosition:t,endPosition:n,kind:4,parent:null}}function i(e){return void 0===e&&(e=""),{errors:[],startPosition:-1,endPosition:-1,value:e,kind:0,parent:null,doubleQuoted:!1}}function a(){return{errors:[],startPosition:-1,endPosition:-1,items:[],kind:3,parent:null}}function o(){return a()}function s(e){return{errors:[],startPosition:-1,endPosition:-1,mappings:e?e:[],kind:2,parent:null}}!function(e){e[e.SCALAR=0]="SCALAR",e[e.MAPPING=1]="MAPPING",e[e.MAP=2]="MAP",e[e.SEQ=3]="SEQ",e[e.ANCHOR_REF=4]="ANCHOR_REF",e[e.INCLUDE_REF=5]="INCLUDE_REF"}(t.Kind||(t.Kind={}));t.Kind;t.newMapping=n,t.newAnchorRef=r,t.newScalar=i,t.newItems=a,t.newSeq=o,t.newMap=s},function(e,t){function n(e,t){return new p(4,e,t,-1)}function r(e,t){return new p(4,e,t.lowLevel(),-1)}function i(e,t){return new p(3,e,t,-1)}function a(e,t){return new p(1,e,t,-1)}function o(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=new p(0,e,t,-1);return i.insertionPoint=n,i.toSeq=r,i}function s(e,t){return new p(5,e,t,-1)}var u=function(){function e(){}return e}();t.ASTDelta=u,function(e){e[e.ADD_CHILD=0]="ADD_CHILD",e[e.REMOVE_CHILD=1]="REMOVE_CHILD",e[e.MOVE_CHILD=2]="MOVE_CHILD",e[e.CHANGE_KEY=3]="CHANGE_KEY",e[e.CHANGE_VALUE=4]="CHANGE_VALUE",e[e.INIT_RAML_FILE=5]="INIT_RAML_FILE"}(t.CommandKind||(t.CommandKind={}));var l=(t.CommandKind,function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.offset=e,this.replacementLength=t,this.text=n,this.unit=r,this.target=i}return e}());t.TextChangeCommand=l;var c=function(){function e(){this.commands=[]}return e}();t.CompositeCommand=c;var p=function(){function e(e,t,n,r){this.toSeq=!1,this.kind=e,this.target=t,this.value=n,this.position=r}return e}();t.ASTChangeCommand=p,t.setAttr=n,t.setAttrStructured=r,t.setKey=i,t.removeNode=a,t.insertNode=o,t.initRamlFile=s},function(e,t,n){"use strict";function r(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var i=n(22),a=n(51);t.Type=n(28),t.Schema=n(27),t.FAILSAFE_SCHEMA=n(31),t.JSON_SCHEMA=n(30),t.CORE_SCHEMA=n(29),t.DEFAULT_SAFE_SCHEMA=n(26),t.DEFAULT_FULL_SCHEMA=n(46),t.load=i.load,t.loadAll=i.loadAll,t.safeLoad=i.safeLoad,t.safeLoadAll=i.safeLoadAll,t.dump=a.dump,t.safeDump=a.safeDump,t.YAMLException=n(24),t.MINIMAL_SCHEMA=n(31),t.SAFE_SCHEMA=n(26),t.DEFAULT_SCHEMA=n(46),t.scan=r("scan"),t.parse=r("parse"),t.compose=r("compose"),t.addConstructor=r("addConstructor")},function(e,t,n){function r(e){return 10===e||13===e}function i(e){return 9===e||32===e}function a(e){return 9===e||32===e||10===e||13===e}function o(e){return 44===e||91===e||93===e||123===e||125===e}function s(e){var t;return e>=48&&57>=e?e-48:(t=32|e,t>=97&&102>=t?t-97+10:-1)}function u(e){return 120===e?2:117===e?4:85===e?8:0}function l(e){return e>=48&&57>=e?e-48:-1}function c(e){return 48===e?"\x00":97===e?"":98===e?"\b":116===e?"	":9===e?"	":110===e?"\n":118===e?"":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function p(e){return 65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function d(e,t){return new V(t,new K(e.filename,e.input,e.position,e.line-1,e.position-e.lineStart))}function m(e,t){var n=d(e,t),r=n.message+n.mark.position;e.errorMap[r]||(e.errors.push(n),e.errorMap[r]=1);for(var i=e.position;;){if(e.position>=e.input.length-1)return;var a=e.input.charAt(e.position);if("\n"==a)return e.position--,void(e.position==i&&(e.position+=1));if("\r"==a)return e.position--,void(e.position==i&&(e.position+=1));e.position++}}function h(e,t){var n=d(e,t);e.onWarning&&e.onWarning.call(null,n)}function f(e,t,n,r){var i,a,o,s,u=e.result;if(-1==u.startPosition&&(u.startPosition=t),n>t){if(s=e.input.slice(t,n),r)for(i=0,a=s.length;a>i;i+=1)o=s.charCodeAt(i),9===o||o>=32&&1114111>=o||m(e,"expected valid JSON character");u.value+=s,u.endPosition=n}}function y(e,t,n,r,i){if(null!=r){if(null===t&&(t={startPosition:r.startPosition,endPosition:i.endPosition,parent:null,errors:[],mappings:[],kind:2}),"tag:yaml.org,2002:merge"===n)throw new Error("Should not happen");var a=F.newMapping(r,i);return a.parent=t,r.parent=a,null!=i&&(i.parent=a),t.mappings.push(a),t.endPosition=i?i.endPosition:r.endPosition+1,t}}function g(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):m(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function v(e,t,n){for(var a=0,o=e.input.charCodeAt(e.position);0!==o;){for(;i(o);)o=e.input.charCodeAt(++e.position);if(t&&35===o)do o=e.input.charCodeAt(++e.position);while(10!==o&&13!==o&&0!==o);if(!r(o))break;for(g(e),o=e.input.charCodeAt(e.position),a++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==n&&0!==a&&e.lineIndent<n&&h(e,"deficient indentation"),a}function b(e){var t,n=e.position;return t=e.input.charCodeAt(n),45!==t&&46!==t||e.input.charCodeAt(n+1)!==t||e.input.charCodeAt(n+2)!==t||(n+=3,t=e.input.charCodeAt(n),0!==t&&!a(t))?!1:!0}function S(e,t,n){1===n?t.value+=" ":n>1&&(t.value+=j.repeat("\n",n-1))}function w(e,t,n){var s,u,l,c,p,d,m,h,y,g=e.kind,w=e.result,P=F.newScalar();if(e.result=P,y=e.input.charCodeAt(e.position),a(y)||o(y)||35===y||38===y||42===y||33===y||124===y||62===y||39===y||34===y||37===y||64===y||96===y)return!1;if((63===y||45===y)&&(u=e.input.charCodeAt(e.position+1),a(u)||n&&o(u)))return!1;for(e.kind="scalar",l=c=e.position,p=!1;0!==y;){if(58===y){if(u=e.input.charCodeAt(e.position+1),a(u)||n&&o(u))break}else if(35===y){if(s=e.input.charCodeAt(e.position-1),a(s))break}else{if(e.position===e.lineStart&&b(e)||n&&o(y))break;if(r(y)){if(d=e.line,m=e.lineStart,h=e.lineIndent,v(e,!1,-1),e.lineIndent>=t){p=!0,y=e.input.charCodeAt(e.position);continue}e.position=c,e.line=d,e.lineStart=m,e.lineIndent=h;break}}if(p&&(f(e,l,c,!1),S(e,P,e.line-d),l=c=e.position,p=!1),i(y)||(c=e.position+1),y=e.input.charCodeAt(++e.position),e.position>=e.input.length)return!1}return f(e,l,c,!1),-1!=e.result.startPosition?!0:(e.kind=g,e.result=w,!1)}function P(e,t){var n,i,a;if(n=e.input.charCodeAt(e.position),39!==n)return!1;var o=F.newScalar();for(e.kind="scalar",e.result=o,o.startPosition=e.position,e.position++,i=a=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(f(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),o.endPosition=e.position,39!==n)return!0;i=a=e.position,e.position++}else r(n)?(f(e,i,a,!0),S(e,o,v(e,!1,t)),i=a=e.position):e.position===e.lineStart&&b(e)?m(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position,o.endPosition=e.position);m(e,"unexpected end of the stream within a single quoted scalar")}function M(e,t){var n,i,a,o,l,c;if(c=e.input.charCodeAt(e.position),34!==c)return!1;e.kind="scalar";var d=F.newScalar();for(d.doubleQuoted=!0,e.result=d,d.startPosition=e.position,e.position++,n=i=e.position;0!==(c=e.input.charCodeAt(e.position));){if(34===c)return f(e,n,e.position,!0),e.position++,d.endPosition=e.position,!0;if(92===c){if(f(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),r(c))v(e,!1,t);else if(256>c&&re[c])d.value+=ie[c],e.position++;else if((l=u(c))>0){for(a=l,o=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=s(c))>=0?o=(o<<4)+l:m(e,"expected hexadecimal character");d.value+=p(o),e.position++}else m(e,"unknown escape sequence");n=i=e.position}else r(c)?(f(e,n,i,!0),S(e,d,v(e,!1,t)),n=i=e.position):e.position===e.lineStart&&b(e)?m(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}m(e,"unexpected end of the stream within a double quoted scalar")}function T(e,t){var n,r,i,o,s,u,l,c,p,d,h,f=!0,g=e.tag,b=e.anchor;if(h=e.input.charCodeAt(e.position),91===h)o=93,l=!1,r=F.newItems(),r.startPosition=e.position;else{if(123!==h)return!1;o=125,l=!0,r=F.newMap(),r.startPosition=e.position}for(null!==e.anchor&&(r.anchorId=e.anchor,e.anchorMap[e.anchor]=r),h=e.input.charCodeAt(++e.position);0!==h;){if(v(e,!0,t),h=e.input.charCodeAt(e.position),h===o)return e.position++,e.tag=g,e.anchor=b,e.kind=l?"mapping":"sequence",e.result=r,r.endPosition=e.position,!0;if(!f){var S=e.position;m(e,"missed comma between flow collection entries"),e.position=S+1}if(p=c=d=null,s=u=!1,63===h&&(i=e.input.charCodeAt(e.position+1),a(i)&&(s=u=!0,e.position++,v(e,!0,t))),n=e.line,x(e,t,G,!1,!0),p=e.tag,c=e.result,v(e,!0,t),h=e.input.charCodeAt(e.position),!u&&e.line!==n||58!==h||(s=!0,h=e.input.charCodeAt(++e.position),v(e,!0,t),x(e,t,G,!1,!0),d=e.result),l)y(e,r,p,c,d);else if(s){var w=y(e,null,p,c,d);w.parent=r,r.items.push(w)}else c.parent=r,r.items.push(c);r.endPosition=e.position+1,v(e,!0,t),h=e.input.charCodeAt(e.position),44===h?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}m(e,"unexpected end of the stream within a flow collection")}function E(e,t){var n,a,o,s,u=J,c=!1,p=t,d=0,h=!1;if(s=e.input.charCodeAt(e.position),124===s)a=!1;else{if(62!==s)return!1;a=!0}var y=F.newScalar();for(e.kind="scalar",e.result=y,y.startPosition=e.position;0!==s;)if(s=e.input.charCodeAt(++e.position),43===s||45===s)J===u?u=43===s?X:$:m(e,"repeat of a chomping mode identifier");else{if(!((o=l(s))>=0))break;0===o?m(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?m(e,"repeat of an indentation width identifier"):(p=t+o-1,c=!0)}if(i(s)){do s=e.input.charCodeAt(++e.position);while(i(s));if(35===s)do s=e.input.charCodeAt(++e.position);while(!r(s)&&0!==s)}for(;0!==s;){for(g(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!c||e.lineIndent<p)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>p&&(p=e.lineIndent),r(s))d++;else{if(e.lineIndent<p){u===X?y.value+=j.repeat("\n",d):u===J&&c&&(y.value+="\n");break}for(a?i(s)?(h=!0,y.value+=j.repeat("\n",d+1)):h?(h=!1,y.value+=j.repeat("\n",d+1)):0===d?c&&(y.value+=" "):y.value+=j.repeat("\n",d):c&&(y.value+=j.repeat("\n",d+1)),c=!0,d=0,n=e.position;!r(s)&&0!==s;)s=e.input.charCodeAt(++e.position);f(e,n,e.position,!1)}}y.endPosition=e.position;for(var v=e.position-1,b=!1;;){var S=e.input[v];if("\r"==S||"\n"==S){b&&v--;break}if(" "!=S&&"	"!=S)break;v--}return y.endPosition=v,!0}function A(e,t){var n,r,i,o=e.tag,s=e.anchor,u=F.newItems(),l=!1;for(null!==e.anchor&&(u.anchorId=e.anchor,e.anchorMap[e.anchor]=u),u.startPosition=e.position,i=e.input.charCodeAt(e.position);0!==i&&45===i&&(r=e.input.charCodeAt(e.position+1),a(r));)if(l=!0,e.position++,v(e,!0,-1)&&e.lineIndent<=t)u.items.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,x(e,t,z,!1,!0),e.result.parent=u,u.items.push(e.result),v(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)m(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return u.endPosition=e.position,l?(e.tag=o,e.anchor=s,e.kind="sequence",e.result=u,u.endPosition=e.position,!0):!1}function C(e,t,n){var o,s,u,l,c=e.tag,p=e.anchor,d=F.newMap(),h=null,f=null,g=null,b=!1,S=!1;for(d.startPosition=e.position,null!==e.anchor&&(d.anchorId=e.anchor,e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(o=e.input.charCodeAt(e.position+1),u=e.line,63!==l&&58!==l||!a(o)){if(!x(e,n,W,!1,!0))break;if(e.line===u){for(l=e.input.charCodeAt(e.position);i(l);)l=e.input.charCodeAt(++e.position);if(58===l)l=e.input.charCodeAt(++e.position),a(l)||m(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(y(e,d,h,f,null),h=f=g=null),S=!0,b=!1,s=!1,h=e.tag,f=e.result;else{if(!S)return e.tag=c,e.anchor=p,!0;m(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!S)return e.tag=c,e.anchor=p,!0;for(m(e,"can not read a block mapping entry; a multiline key may not be an implicit key");e.position>0;)if(l=e.input.charCodeAt(--e.position),r(l)){e.position++;break}}}else 63===l?(b&&(y(e,d,h,f,null),h=f=g=null),S=!0,b=!0,s=!0):b?(b=!1,s=!0):m(e,"incomplete explicit mapping pair; a key node is missed"),e.position+=1,l=o;if((e.line===u||e.lineIndent>t)&&(x(e,t,Y,!0,s)&&(b?f=e.result:g=e.result),b||(y(e,d,h,f,g),h=f=g=null),v(e,!0,-1),l=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==l)m(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&y(e,d,h,f,null),S&&(e.tag=c,e.anchor=p,e.kind="mapping",e.result=d),S}function N(e){var t,n,r,i,o=!1,s=!1;if(i=e.input.charCodeAt(e.position),33!==i)return!1;if(null!==e.tag&&m(e,"duplication of a tag property"),i=e.input.charCodeAt(++e.position),60===i?(o=!0,i=e.input.charCodeAt(++e.position)):33===i?(s=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do i=e.input.charCodeAt(++e.position);while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):m(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!a(i);)33===i&&(s?m(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),te.test(n)||m(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),ee.test(r)&&m(e,"tag suffix cannot contain flow indicator characters")}return r&&!ne.test(r)&&m(e,"tag name cannot contain such characters: "+r),o?e.tag=r:H.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:m(e,'undeclared tag handle "'+n+'"'),!0}function I(e){var t,n;if(n=e.input.charCodeAt(e.position),38!==n)return!1;for(null!==e.anchor&&m(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!a(n)&&!o(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&m(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function _(e){var t,n,r;e.length,e.input;if(r=e.input.charCodeAt(e.position),42!==r)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!a(r)&&!o(r);)r=e.input.charCodeAt(++e.position);return e.position<=t&&(m(e,"name of an alias node must contain at least one character"),e.position=t+1),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||(m(e,'unidentified alias "'+n+'"'),e.position<=t&&(e.position=t+1)),e.result=F.newAnchorRef(n,t,e.position,e.anchorMap[n]),v(e,!0,-1),!0}function x(e,t,n,r,i){var a,o,s,u,l,c,p,d,f=1,y=!1,g=!1;if(e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=Y===n||z===n,r&&v(e,!0,-1)&&(y=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;N(e)||I(e);)v(e,!0,-1)?(y=!0,s=a,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):s=!1;if(s&&(s=y||i),(1===f||Y===n)&&(p=G===n||W===n?t:t+1,d=e.position-e.lineStart,1===f?s&&(A(e,d)||C(e,d,p))||T(e,p)?g=!0:(o&&E(e,p)||P(e,p)||M(e,p)?g=!0:_(e)?(g=!0,(null!==e.tag||null!==e.anchor)&&m(e,"alias node should not have any properties")):w(e,p,G===n)&&(g=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result,e.result.anchorId=e.anchor)):0===f&&(g=s&&A(e,d))),null!==e.tag&&"!"!==e.tag)if("!include"==e.tag)e.result||(e.result=F.newScalar(),e.result.startPosition=e.position,e.result.endPosition=e.position,m(e,"!include without value")),e.result.kind=5;else if("?"===e.tag)for(u=0,l=e.implicitTypes.length;l>u;u+=1){c=e.implicitTypes[u];var b=e.result.value;if(c.resolve(b)){e.result.valueObject=c.construct(e.result.value),e.tag=c.tag,null!==e.anchor&&(e.result.anchorId=e.anchor,e.anchorMap[e.anchor]=e.result);break}}else H.call(e.typeMap,e.tag)?(c=e.typeMap[e.tag],null!==e.result&&c.kind!==e.kind&&m(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+c.kind+'", not "'+e.kind+'"'),c.resolve(e.result)?(e.result=c.construct(e.result),null!==e.anchor&&(e.result.anchorId=e.anchor,e.anchorMap[e.anchor]=e.result)):m(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.tag||null!==e.anchor||g}function R(e){var t,n,o,s,u=e.position,l=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(s=e.input.charCodeAt(e.position))&&(v(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(l=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),o=[],n.length<1&&m(e,"directive name must not be less than one character in length");0!==s;){for(;i(s);)s=e.input.charCodeAt(++e.position);if(35===s){do s=e.input.charCodeAt(++e.position);while(0!==s&&!r(s));break}if(r(s))break;for(t=e.position;0!==s&&!a(s);)s=e.input.charCodeAt(++e.position);o.push(e.input.slice(t,e.position))}0!==s&&g(e),H.call(se,n)?se[n](e,n,o):(h(e,'unknown document directive "'+n+'"'),e.position++)}return v(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,v(e,!0,-1)):l&&m(e,"directives end mark is expected"),x(e,e.lineIndent-1,Y,!1,!0),v(e,!0,-1),e.checkLineBreaks&&Z.test(e.input.slice(u,e.position))&&h(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&b(e)?void(46===e.input.charCodeAt(e.position)&&(e.position+=3,v(e,!0,-1))):void(e.position<e.length-1&&m(e,"end of the stream or a document separator is expected"))}function O(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new oe(e,t);for(Q.test(n.input)&&m(n,"the stream contains non-printable characters"),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;){var r=n.position;if(R(n),n.position<=r)for(;n.position<n.length-1;n.position++){var i=n.input.charAt(n.position);if("\n"==i)break}}return n.documents.forEach(function(e){return e.errors=n.errors}),n.documents}function L(e,t,n){var r,i,a=O(e,n);for(r=0,i=a.length;i>r;r+=1)t(a[r])}function k(e,t){var n=O(e,t);if(0===n.length)return void 0;if(1===n.length)return n[0].endPosition=e.length,n[0];var r=new V("expected a single document in the stream, but found more");return r.mark=new K("","",0,0,0),r.mark.position=n[0].endPosition,n[0].errors.push(r),n[0]}function D(e,t,n){L(e,t,j.extend({schema:B},n))}function U(e,t){return k(e,j.extend({schema:B},t))}for(var F=n(19),j=n(23),V=n(24),K=n(25),B=n(26),q=n(46),H=Object.prototype.hasOwnProperty,G=1,W=2,z=3,Y=4,J=1,$=2,X=3,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uD800-\uDFFF\uFFFE\uFFFF]/,Z=/[\x85\u2028\u2029]/,ee=/[,\[\]\{\}]/,te=/^(?:!|!!|![a-z\-]+!)$/i,ne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,re=new Array(256),ie=new Array(256),ae=0;256>ae;ae++)re[ae]=c(ae)?1:0,ie[ae]=c(ae);var oe=function(){function e(e,t){this.errorMap={},this.errors=[],this.input=e,this.filename=t.filename||null,this.schema=t.schema||q,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}return e}(),se={YAML:function(e,t,n){var r,i,a;null!==e.version&&m(e,"duplication of %YAML directive"),1!==n.length&&m(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&m(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),1!==i&&m(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=2>a,1!==a&&2!==a&&h(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,i;2!==n.length&&m(e,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],te.test(r)||m(e,"ill-formed tag handle (first argument) of the TAG directive"),H.call(e.tagMap,r)&&m(e,'there is a previously declared suffix for "'+r+'" tag handle'),ne.test(i)||m(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};t.loadAll=L,t.load=k,t.safeLoadAll=D,t.safeLoad=U,e.exports.loadAll=L,e.exports.load=k,e.exports.safeLoadAll=D,e.exports.safeLoad=U},function(e,t){"use strict";function n(e){return"undefined"==typeof e||null===e}function r(e){return"object"==typeof e&&null!==e}function i(e){return Array.isArray(e)?e:n(e)?[]:[e]}function a(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;r>n;n+=1)i=a[n],e[i]=t[i];return e}function o(e,t){var n,r="";for(n=0;t>n;n+=1)r+=e;return r}function s(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}t.isNothing=n,t.isObject=r,t.toArray=i,t.extend=a,t.repeat=o,t.isNegativeZero=s},function(e,t){"use strict";var n=function(){function e(e,t){void 0===t&&(t=null),this.name="YAMLException",this.reason=e,this.mark=t,this.message=this.toString(!1)}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t;return t="JS-YAML: "+(this.reason||"(unknown reason)"),!e&&this.mark&&(t+=" "+this.mark.toString()),t},e}();e.exports=n},function(e,t,n){"use strict";var r=n(23),i=function(){function e(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}return e.prototype.getSnippet=function(e,t){void 0===e&&(e=0),void 0===t&&(t=75);var n,i,a,o,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(a="",o=this.position;o<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if(o+=1,o-this.position>t/2-1){a=" ... ",o-=5;break}return s=this.buffer.slice(i,o),r.repeat(" ",e)+n+s+a+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},e.prototype.toString=function(e){void 0===e&&(e=!0);var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},e}();e.exports=i},function(e,t,n){"use strict";var r=n(27),i=new r({include:[n(29)],implicit:[n(39),n(40)],explicit:[n(41),n(43),n(44),n(45)]});e.exports=i},function(e,t,n){"use strict";function r(e,t,n){var i=[];
return e.include.forEach(function(e){n=r(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&i.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===i.indexOf(t)})}function i(){function e(e){r[e.tag]=e}var t,n,r={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return r}var a=n(23),o=n(24),s=n(28),u=function(){function e(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}return e.DEFAULT=null,e.create=function(){var t,n;switch(arguments.length){case 1:t=e.DEFAULT,n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(t=a.toArray(t),n=a.toArray(n),!t.every(function(t){return t instanceof e}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every(function(e){return e instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new e({include:t,explicit:n})},e}();e.exports=u},function(e,t,n){"use strict";function r(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function i(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===o.indexOf(t))throw new a('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=r(t.styleAliases||null),-1===s.indexOf(this.kind))throw new a('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var a=n(24),o=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=i},function(e,t,n){"use strict";var r=n(27);e.exports=new r({include:[n(30)]})},function(e,t,n){"use strict";var r=n(27);e.exports=new r({include:[n(31)],implicit:[n(35),n(36),n(37),n(38)]})},function(e,t,n){"use strict";var r=n(27);e.exports=new r({explicit:[n(32),n(33),n(34)]})},function(e,t,n){"use strict";var r=n(28);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var r=n(28);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var r=n(28);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function i(){return null}function a(e){return null===e}var o=n(28);e.exports=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function i(e){return"true"===e||"True"===e||"TRUE"===e}function a(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var o=n(28);e.exports=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){return e>=48&&57>=e||e>=65&&70>=e||e>=97&&102>=e}function i(e){return e>=48&&55>=e}function a(e){return e>=48&&57>=e}function o(e){if(null===e)return!1;var t,n=e.length,o=0,s=!1;if(!n)return!1;if(t=e[o],("-"===t||"+"===t)&&(t=e[++o]),"0"===t){if(o+1===n)return!0;if(t=e[++o],"b"===t){for(o++;n>o;o++)if(t=e[o],"_"!==t){if("0"!==t&&"1"!==t)return!1;s=!0}return s}if("x"===t){for(o++;n>o;o++)if(t=e[o],"_"!==t){if(!r(e.charCodeAt(o)))return!1;s=!0}return s}for(;n>o;o++)if(t=e[o],"_"!==t){if(!i(e.charCodeAt(o)))return!1;s=!0}return s}for(;n>o;o++)if(t=e[o],"_"!==t){if(":"===t)break;if(!a(e.charCodeAt(o)))return!1;s=!0}return s?":"!==t?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(o)):!1}function s(e){var t,n,r=e,i=1,a=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),t=r[0],("-"===t||"+"===t)&&("-"===t&&(i=-1),r=r.slice(1),t=r[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(e){a.unshift(parseInt(e,10))}),r=0,n=1,a.forEach(function(e){r+=e*n,n*=60}),i*r):i*parseInt(r,10)}function u(e){return"[object Number]"===Object.prototype.toString.call(e)&&0===e%1&&!l.isNegativeZero(e)}var l=n(23),c=n(28);e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:o,construct:s,predicate:u,represent:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;return l.test(e)?!0:!1}function i(e){var t,n,r,i;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,i=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:0<=t.indexOf(":")?(t.split(":").forEach(function(e){i.unshift(parseFloat(e,10))}),t=0,r=1,i.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)}function a(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(e))return"-0.0";return e.toString(10)}function o(e){return"[object Number]"===Object.prototype.toString.call(e)&&(0!==e%1||s.isNegativeZero(e))}var s=n(23),u=n(28),l=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");e.exports=new u("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a,defaultStyle:"lowercase"})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t;return t=s.exec(e),null===t?!1:!0}function i(e){var t,n,r,i,a,o,u,l,c,p,d=0,m=null;if(t=s.exec(e),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],u=+t[6],t[7]){for(d=t[7].slice(0,3);d.length<3;)d+="0";d=+d}return t[9]&&(l=+t[10],c=+(t[11]||0),m=6e4*(60*l+c),"-"===t[9]&&(m=-m)),p=new Date(Date.UTC(n,r,i,a,o,u,d)),m&&p.setTime(p.getTime()-m),p}function a(e){return e.toISOString()}var o=n(28),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");e.exports=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:i,instanceOf:Date,represent:a})},function(e,t,n){"use strict";function r(e){return"<<"===e||null===e}var i=n(28);e.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;var t,n,r=0,i=e.length,a=l;for(n=0;i>n;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(0>t)return!1;r+=6}return r%8===0}function i(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=l,o=0,u=[];for(t=0;i>t;t++)t%4===0&&t&&(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)),o=o<<6|a.indexOf(r.charAt(t));return n=i%4*6,0===n?(u.push(o>>16&255),u.push(o>>8&255),u.push(255&o)):18===n?(u.push(o>>10&255),u.push(o>>2&255)):12===n&&u.push(o>>4&255),s?new s(u):u}function a(e){var t,n,r="",i=0,a=e.length,o=l;for(t=0;a>t;t++)t%3===0&&t&&(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]),i=(i<<8)+e[t];return n=a%3,0===n?(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]):2===n?(r+=o[i>>10&63],r+=o[i>>4&63],r+=o[i<<2&63],r+=o[64]):1===n&&(r+=o[i>>2&63],r+=o[i<<4&63],r+=o[64],r+=o[64]),r}function o(e){return s&&s.isBuffer(e)}var s=n(42).Buffer,u=n(28),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new u("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,a,u=[],l=e;for(t=0,n=l.length;n>t;t+=1){if(r=l[t],a=!1,"[object Object]"!==s.call(r))return!1;for(i in r)if(o.call(r,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==u.indexOf(i))return!1;u.push(i)}return!0}function i(e){return null!==e?e:[]}var a=n(28),o=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new a("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;n>t;t+=1){if(r=s[t],"[object Object]"!==o.call(r))return!1;if(i=Object.keys(r),1!==i.length)return!1;a[t]=[i[0],r[i[0]]]}return!0}function i(e){if(null===e)return[];var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;n>t;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var a=n(28),o=Object.prototype.toString;e.exports=new a("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:i})},function(e,t,n){"use strict";function r(e){if(null===e)return!0;var t,n=e;for(t in n)if(o.call(n,t)&&null!==n[t])return!1;return!0}function i(e){return null!==e?e:{}}var a=n(28),o=Object.prototype.hasOwnProperty;e.exports=new a("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:i})},function(e,t,n){"use strict";var r=n(27),i=new r({include:[n(26)],explicit:[n(47),n(48),n(49)]});r.DEFAULT=i,e.exports=i},function(e,t,n){"use strict";function r(){return!0}function i(){return void 0}function a(){return""}function o(e){return"undefined"==typeof e}var s=n(28);e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),r="";if("/"===t[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==t[t.length-r.length-1])return!1;t=t.slice(1,t.length-r.length-1)}try{new RegExp(t,r);return!0}catch(i){return!1}}function i(e){var t=e,n=/\/([gim]*)$/.exec(e),r="";return"/"===t[0]&&(n&&(r=n[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)}function a(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var s=n(28);e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t,n){"use strict";function r(e){if(null===e)return!1;try{var t="("+e+")",n=s.parse(t,{range:!0});return"Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type?!1:!0}catch(r){return!1}}function i(e){var t,n="("+e+")",r=s.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(e){i.push(e.name)}),t=r.body[0].expression.body.range,new Function(i,n.slice(t[0]+1,t[1]-1))}function a(e){return e.toString()}function o(e){return"[object Function]"===Object.prototype.toString.call(e)}var s=n(50),u=n(28);e.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:a})},function(e,t){e.exports=require("esprima")},function(e,t,n){"use strict";function r(e,t){var n,r,i,a,o,s,u;if(null===t)return{};for(n={},r=Object.keys(t),i=0,a=r.length;a>i;i+=1)o=r[i],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap[o],u&&_.call(u.styleAliases,s)&&(s=u.styleAliases[s]),n[o]=s;return n}function i(e){var t,n,r;if(t=e.toString(16).toUpperCase(),255>=e)n="x",r=2;else if(65535>=e)n="u",r=4;else{if(!(4294967295>=e))throw new A("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+E.repeat("0",r-t.length)+t}function a(e){this.schema=e.schema||C,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=E.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=r(this.schema,e.styles||null),this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function o(e,t){for(var n,r=E.repeat(" ",t),i=0,a=-1,o="",s=e.length;s>i;)a=e.indexOf("\n",i),-1===a?(n=e.slice(i),i=s):(n=e.slice(i,a+1),i=a+1),n.length&&"\n"!==n&&(o+=r),o+=n;return o}function s(e,t){return"\n"+E.repeat(" ",e.indent*t)}function u(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;r>n;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function l(e){this.source=e,this.result="",this.checkpoint=0}function c(e,t,n){var r,i,a,s,c,d,f,y,g,v,b,S,w,P,M,T,E,A,C,N,I;if(0===t.length)return void(e.dump="''");if(0==t.indexOf("!include"))return void(e.dump=""+t);if(0==t.indexOf("!$$$novalue"))return void(e.dump="");if(-1!==te.indexOf(t))return void(e.dump="'"+t+"'");for(r=!0,i=t.length?t.charCodeAt(0):0,a=L===i||L===t.charCodeAt(t.length-1),(q===i||W===i||z===i||$===i)&&(r=!1),a?(r=!1,s=!1,c=!1):(s=!0,c=!0),d=!0,f=new l(t),y=!1,g=0,v=0,b=e.indent*n,S=80,40>b?S-=b:S=40,P=0;P<t.length;P++){if(w=t.charCodeAt(P),r){if(m(w))continue;r=!1}d&&w===V&&(d=!1),M=ee[w],T=h(w),(M||T)&&(w!==R&&w!==D&&w!==V?(s=!1,c=!1):w===R&&(y=!0,d=!1,P>0&&(E=t.charCodeAt(P-1),E===L&&(c=!1,s=!1)),s&&(A=P-g,g=P,A>v&&(v=A))),w!==D&&(d=!1),f.takeUpTo(P),f.escapeChar())}if(r&&u(e,t)&&(r=!1),C="",(s||c)&&(N=0,t.charCodeAt(t.length-1)===R&&(N+=1,t.charCodeAt(t.length-2)===R&&(N+=1)),0===N?C="-":2===N&&(C="+")),c&&S>v&&(s=!1),y||(c=!1),r)e.dump=t;else if(d)e.dump="'"+t+"'";else if(s)I=p(t,S),e.dump=">"+C+"\n"+o(I,b);else if(c)C||(t=t.replace(/\n$/,"")),e.dump="|"+C+"\n"+o(t,b);else{if(!f)throw new Error("Failed to dump scalar value");f.finish(),e.dump='"'+f.result+'"'}}function p(e,t){var n,r="",i=0,a=e.length,o=/\n+$/.exec(e);for(o&&(a=o.index+1);a>i;)n=e.indexOf("\n",i),n>a||-1===n?(r&&(r+="\n\n"),r+=d(e.slice(i,a),t),i=a):(r&&(r+="\n\n"),r+=d(e.slice(i,n),t),i=n+1);return o&&"\n"!==o[0]&&(r+=o[0]),r}function d(e,t){if(""===e)return e;for(var n,r,i,a=/[^\s] [^\s]/g,o="",s=0,u=0,l=a.exec(e);l;)n=l.index,n-u>t&&(r=s!==u?s:n,o&&(o+="\n"),i=e.slice(u,r),o+=i,u=r+1),s=n+1,l=a.exec(e);return o&&(o+="\n"),o+=u!==s&&e.length-u>t?e.slice(u,s)+"\n"+e.slice(s+1):e.slice(u)}function m(e){return x!==e&&R!==e&&O!==e&&B!==e&&Y!==e&&J!==e&&X!==e&&Z!==e&&U!==e&&j!==e&&K!==e&&k!==e&&Q!==e&&G!==e&&V!==e&&D!==e&&F!==e&&H!==e&&!ee[e]&&!h(e)}function h(e){return!(e>=32&&126>=e||133===e||e>=160&&55295>=e||e>=57344&&65533>=e||e>=65536&&1114111>=e)}function f(e,t,n){var r,i,a="",o=e.tag;for(r=0,i=n.length;i>r;r+=1)S(e,t,n[r],!1,!1)&&(0!==r&&(a+=", "),a+=e.dump);e.tag=o,e.dump="["+a+"]"}function y(e,t,n,r){var i,a,o="",u=e.tag;for(i=0,a=n.length;a>i;i+=1)S(e,t+1,n[i],!0,!0)&&(r&&0===i||(o+=s(e,t)),o+="- "+e.dump);e.tag=u,e.dump=o||"[]"}function g(e,t,n){var r,i,a,o,s,u="",l=e.tag,c=Object.keys(n);for(r=0,i=c.length;i>r;r+=1)s="",0!==r&&(s+=", "),a=c[r],o=n[a],S(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+": ",S(e,t,o,!1,!1)&&(s+=e.dump,u+=s));e.tag=l,e.dump="{"+u+"}"}function v(e,t,n,r){var i,a,o,u,l,c,p="",d=e.tag,m=Object.keys(n);for(i=0,a=m.length;a>i;i+=1)c="",r&&0===i||(c+=s(e,t)),o=m[i],u=n[o],S(e,t+1,o,!0,!0)&&(l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,l&&(c+=e.dump&&R===e.dump.charCodeAt(0)?"?":"? "),c+=e.dump,l&&(c+=s(e,t)),S(e,t+1,u,!0,l)&&(c+=e.dump&&R===e.dump.charCodeAt(0)?":":": ",c+=e.dump,p+=c));e.tag=d,e.dump=p||"{}"}function b(e,t,n){var r,i,a,o,s,u;for(i=n?e.explicitTypes:e.implicitTypes,a=0,o=i.length;o>a;a+=1)if(s=i[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(e.tag=n?s.tag:"?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===I.call(s.represent))r=s.represent(t,u);else{if(!_.call(s.represent,u))throw new A("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');r=s.represent[u](t,u)}e.dump=r}return!0}return!1}function S(e,t,n,r,i){e.tag=null,e.dump=n,b(e,n,!1)||b(e,n,!0);var a=I.call(e.dump);r&&(r=0>e.flowLevel||e.flowLevel>t),(null!==e.tag&&"?"!==e.tag||2!==e.indent&&t>0)&&(i=!1);var o,s,u="[object Object]"===a||"[object Array]"===a;if(u&&(o=e.duplicates.indexOf(n),s=-1!==o),s&&e.usedDuplicates[o])e.dump="*ref_"+o;else{if(u&&s&&!e.usedDuplicates[o]&&(e.usedDuplicates[o]=!0),"[object Object]"===a)r&&0!==Object.keys(e.dump).length?(v(e,t,e.dump,i),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(g(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else if("[object Array]"===a)r&&0!==e.dump.length?(y(e,t,e.dump,i),s&&(e.dump="&ref_"+o+(0===t?"\n":"")+e.dump)):(f(e,t,e.dump),s&&(e.dump="&ref_"+o+" "+e.dump));else{if("[object String]"!==a){if(e.skipInvalid)return!1;throw new A("unacceptable kind of an object to dump "+a)}"?"!==e.tag&&c(e,e.dump,t)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function w(e,t){var n,r,i=[],a=[];for(P(e,i,a),n=0,r=a.length;r>n;n+=1)t.duplicates.push(i[a[n]]);t.usedDuplicates=new Array(r)}function P(e,t,n){var r,i,a;I.call(e);if(null!==e&&"object"==typeof e)if(i=t.indexOf(e),-1!==i)-1===n.indexOf(i)&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;a>i;i+=1)P(e[i],t,n);else for(r=Object.keys(e),i=0,a=r.length;a>i;i+=1)P(e[r[i]],t,n)}function M(e,t){t=t||{};var n=new a(t);return w(e,n),S(n,0,e,!0,!0)?n.dump+"\n":""}function T(e,t){return M(e,E.extend({schema:N},t))}var E=n(23),A=n(24),C=n(46),N=n(26),I=Object.prototype.toString,_=Object.prototype.hasOwnProperty,x=9,R=10,O=13,L=32,k=33,D=34,U=35,F=37,j=38,V=39,K=42,B=44,q=45,H=58,G=62,W=63,z=64,Y=91,J=93,$=96,X=123,Q=124,Z=125,ee={};ee[0]="\\0",ee[7]="\\a",ee[8]="\\b",ee[9]="\\t",ee[10]="\\n",ee[11]="\\v",ee[12]="\\f",ee[13]="\\r",ee[27]="\\e",ee[34]='\\"',ee[92]="\\\\",ee[133]="\\N",ee[160]="\\_",ee[8232]="\\L",ee[8233]="\\P";var te=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];l.prototype.takeUpTo=function(e){var t;if(e<this.checkpoint)throw t=new Error("position should be > checkpoint"),t.position=e,t.checkpoint=this.checkpoint,t;return this.result+=this.source.slice(this.checkpoint,e),this.checkpoint=e,this},l.prototype.escapeChar=function(){var e,t;return e=this.source.charCodeAt(this.checkpoint),t=ee[e]||i(e),this.result+=t,this.checkpoint+=1,this},l.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},t.dump=M,t.safeDump=T},function(e,t){function n(e){return e&&e.indexOf("\n")>=0}function r(e){return n(e)&&e.length>2&&"|"==e[0]&&("\n"==e[1]||"\r"==e[1]||"\n"==e[2])}function i(e,t){var r="";if(n(e)){r+="|\n";for(var i=p(e),a=0;a<i.length;a++)r+=s(t,i[a])}else r+=e;return r}function a(e){if(!r(e))return e;for(var t=null,n=p(e),i=1;i<n.length;i++){var a=n[i],o=a.substring(2);t?t+=o:t=o}return t}function o(e){if(!e)return e;for(var t=0;t<e.length;){var n=e[t];if("\r"!=n&&"\n"!=n&&" "!=n&&"	"!=n)break;t++}return e.substring(t,e.length)}function s(e,t){void 0===t&&(t="");for(var n="",r=0;e>r;r++)n+="  ";return n+t}function u(e,t){void 0===t&&(t=""),console.log(s(e,t))}function l(e,t){void 0===t&&(t=null);for(var n="",r=0;r<e.length;r++){var i=e[r];"\r"==i&&(i=null==t?"\\r":t),"\n"==i&&(i=null==t?"\\n":t),n+=i}return n}function c(e){for(var t=e.length;t>0;){var n=e[t-1];if(" "!=n&&"	"!=n&&"\r"!=n&&"\n"!=n)break;t--}return e.substring(0,t)}function p(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function d(e,t){if(!e||!t||e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!=t[n])return!1;return!0}function m(e,t){if(!e||!t||e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[e.length-1-n]!=t[t.length-1-n])return!1;return!0}t.isMultiLine=n,t.isMultiLineValue=r,t.makeMutiLine=i,t.fromMutiLine=a,t.trimStart=o,t.indent=s,t.print=u,t.replaceNewlines=l,t.trimEnd=c,t.splitOnLines=p,t.startsWith=d,t.endsWith=m;var h=function(){function e(e,t,n){this.contents=e,this.start=t,this.end=n}return e.prototype.text=function(){return this.contents.substring(this.start,this.end)},e.prototype.startpos=function(){return this.start},e.prototype.endpos=function(){return this.end},e.prototype.len=function(){return this.end-this.start},e.prototype.unitText=function(){return this.contents},e.prototype.withStart=function(t){return new e(this.contents,t,this.end)},e.prototype.withEnd=function(t){return new e(this.contents,this.start,t)},e.prototype.sub=function(e,t){return this.contents.substring(e,t)},e.prototype.trimStart=function(){for(var t=this.start;t<this.contents.length-1;){var n=this.contents[t];if(" "!=n&&"	"!=n)break;t++}return new e(this.contents,t,this.end)},e.prototype.trimEnd=function(){for(var t=this.end;t>0;){var n=this.contents[t-1];if(" "!=n&&"	"!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.extendToStartOfLine=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if("\r"==n||"\n"==n)break;t--}return new e(this.contents,t,this.end)},e.prototype.extendAnyUntilNewLines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if("\r"==r||"\n"==r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpacesUntilNewLines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if(" "!=r||"\r"==r||"\n"==r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpaces=function(){for(var t=this.end;t<this.contents.length-1;){var n=this.contents[t];if(" "!=n)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendSpacesBack=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if(" "!=n)break;t--}return new e(this.contents,t,this.end)},e.prototype.extendCharIfAny=function(t){var n=this.end;return n<this.contents.length-1&&this.contents[n]==t&&n++,new e(this.contents,this.start,n)},e.prototype.extendCharIfAnyBack=function(t){var n=this.start;return n>0&&this.contents[n-1]==t&&n--,new e(this.contents,n,this.end)},e.prototype.extendToNewlines=function(){var t=this.end;if(t>0){var n=this.contents[t-1];if("\n"==n)return this}for(;t<this.contents.length-1;){var r=this.contents[t];if("\r"!=r&&"\n"!=r)break;t++}return new e(this.contents,this.start,t)},e.prototype.extendUntilNewlinesBack=function(){for(var t=this.start;t>0;){var n=this.contents[t-1];if("\r"==n||"\n"==n)break;t--}return new e(this.contents,t,this.end)},e.prototype.reduceNewlinesEnd=function(){for(var t=this.end;t>this.start;){var n=this.contents[t-1];if("\r"!=n&&"\n"!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.reduceSpaces=function(){for(var t=this.end;t>this.start;){var n=this.contents[t-1];if(" "!=n)break;t--}return new e(this.contents,this.start,t)},e.prototype.replace=function(e){return this.sub(0,this.start)+e+this.sub(this.end,this.unitText().length)},e.prototype.remove=function(){return this.sub(0,this.start)+this.sub(this.end,this.unitText().length)},e}();t.TextRange=h},function(e,t,n){function r(e,t,n){return null}function i(e){var t=o.get(e);if(t)return t==i?null:t;try{var t=r("GET",e,{timeout:3e3,socketTimeout:5e3,retry:!0});return t=new Buffer(t.body.data).toString(),o.set(e,t),t}catch(n){return o.set(e,i),null}}n(54);n(55),n(56);var a=n(57),o=a(50);t.readFromCacheOrGet=i},function(e,t){e.exports=require("http-response-object")},function(e,t){e.exports=require("concat-stream")},function(e,t){e.exports=require("then-request")},function(e,t){e.exports=require("lrucache")},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=(n(19),n(59)),a=n(63),o=n(18),s=n(60),u=function(){function e(e,t){this._parent=e,this._transformer=t}return e.prototype.transformer=function(){return this._transformer},e.prototype.original=function(){return this._original},e.prototype.start=function(){return this._original.start()},e.prototype.end=function(){return this._original.end()},e.prototype.value=function(){throw"The method must be overridden"},e.prototype.includeErrors=function(){return this._original.includeErrors()},e.prototype.includePath=function(){return this._original.includePath()},e.prototype.setKeyOverride=function(e){this._keyOverride=e},e.prototype.key=function(){return this._keyOverride?this._keyOverride:this._original.key()},e.prototype.children=function(){throw"The method must be overridden"},e.prototype.parent=function(){return this._parent},e.prototype.unit=function(){return this._original.unit()},e.prototype.anchorId=function(){return this._original.anchorId()},e.prototype.errors=function(){return this._original.errors()},e.prototype.anchoredFrom=function(){return this._original.anchoredFrom()},e.prototype.includedFrom=function(){return this._original.includedFrom()},e.prototype.visit=function(e){e(this)&&this.children().forEach(function(t){return t.visit(e)})},e.prototype.addChild=function(e){},e.prototype.execute=function(e){},e.prototype.dump=function(){return null},e.prototype.dumpToObject=function(){return null},e.prototype.keyStart=function(){return this._original.keyStart()},e.prototype.keyEnd=function(){return this._original.keyEnd()},e.prototype.valueStart=function(){return this._original.valueStart()},e.prototype.valueEnd=function(){return this._original.valueEnd()},e.prototype.isValueLocal=function(){return this._original.isValueLocal()},e.prototype.kind=function(){return this._original.kind()},e.prototype.valueKind=function(){return this._original.valueKind()},e.prototype.show=function(e){this._original.show(e)},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.text=function(e){throw"not implemented"},e.prototype.copy=function(){throw"not implemented"},e.prototype.markup=function(e){throw"not implemented"},e.prototype.nodeDefinition=function(){return o.getDefinitionForLowLevelNode(this)},e}();t.LowLevelProxyNode=u;var l=function(e){function t(t,n,r,i){void 0===i&&(i=!0),e.call(this,n,r),this.fromMainTree=i,this._adoptedNodes=[];var a=this.parent()?this.parent().original():null;this._original=new c(t,a,r),this._adoptedNodes.push(this.original())}return r(t,e),t.prototype.adoptedNodes=function(){return this._adoptedNodes},t.prototype.original=function(){return this._original},t.prototype.parent=function(){return this._parent},t.prototype.adopt=function(e,t){t||(t=this._transformer);var n=this.parent()?this.parent().original():null,r=new c(e,n,t);this._adoptedNodes.push(r),this._children&&this._children.forEach(function(e){return e._parent=null}),this._children=null,this.highLevelNode()&&this.highLevelNode().resetChildren()},t.prototype.value=function(){var e=this._adoptedNodes.filter(function(e){return e.value()});return e.length>0?e[0].value():this._original.value()},t.prototype.children=function(){var e=this;if(this._children)return this._children;var n=[],r=!1,i=!1;if(this._adoptedNodes.forEach(function(e){e.children()&&e.children().length>0&&(i=!0,e.children()[0].key()&&(r=!0))}),r)n=this.collectChildrenWithKeys();else if(i){n=this.collectChildrenWithKeys();var a={};this._adoptedNodes.forEach(function(r,i){return r.children().filter(function(e){return!e.key()}).forEach(function(o){var s=e.buildKey(o);if(!a[s]){a[s]=!0;var u=r.transformer()?r.transformer():e.transformer(),l=o instanceof c?o.original():o;n.push(new t(l,e,u,0==i))}})})}else n=[];return this._children=n,n},t.prototype.buildKey=function(e){var t=i.serialize(e),n=this.nodeDefinition();if(n&&("TraitRef"==n.name()||"ResourceTypeRef"==n.name())&&"object"==typeof t){var r=Object.keys(t);r.length>0&&(t=r[0])}return a(t)},t.prototype.collectChildrenWithKeys=function(){var e=this,n=[],r={};return this._adoptedNodes.forEach(function(t,n){t.original().children().forEach(function(i){var a=i.key();if(a){s.stringEndsWith(a,"?")&&(a=a.substring(0,a.length-1));var o=r[a];o||(o=[],r[a]=o),o.push({node:i,transformer:t.transformer(),fromOriginalTree:e.fromMainTree&&0==n})}})}),Object.keys(r).forEach(function(i){var a=r[i],o=!0,u=!1;if(a.forEach(function(e){o=o&&s.stringEndsWith(e.node.key(),"?"),u=u||e.fromOriginalTree}),u||!o){for(var l=a[0].transformer?a[0].transformer:e.transformer(),c=new t(a[0].node,e,l,u),p=1;p<a.length;p++)c.adopt(a[p].node,a[p].transformer);n.push(c)}}),n},t.prototype.valueKind=function(){if(1!=this._original.kind())return null;for(var e=0;e<this._adoptedNodes.length;e++){var t=this._adoptedNodes[e];if(t.value())return t.valueKind()}return null},t.prototype.includePath=function(){for(var e=0;e<this._adoptedNodes.length;e++){var t=this._adoptedNodes[e];if(t.value())return t.includePath()}return null},t.prototype.key=function(){var t=this._adoptedNodes.map(function(e){return e.key()}).filter(function(e){return null!=e&&!s.stringEndsWith(e,"?")});return t.length>0?t[0]:e.prototype.key.call(this)},t}(u);t.LowLevelCompositeNode=l;var c=function(e){function t(t,n,r){e.call(this,n,r),this._original=t}return r(t,e),t.prototype.value=function(){var e=this.original().value(),t=this.transformer();if(t&&(e=t.transform(e),t.error())){t.error();console.log(t.error())}return e},t.prototype.children=function(){var e=this;return this.original().children().map(function(n){return new t(n,e,e._transformer)})},t.prototype.parent=function(){return this._parent},t}(u);t.LowLevelValueTransformingNode=c},function(e,t,n){function r(e){if(0==e.children().length)return e.value()?e.value():"";if(e.children()[0].key()){var t={};return e.children().forEach(function(e){t[i(e.key())]=r(e)}),t}var n=[];return e.children().forEach(function(e){n.push(r(e))}),n}function i(e){return e&&0==e.replace(/\d/g,"").trim().length?"__$EscapedKey$__"+e:e}function a(e){return e&&o.stringStartsWith(e,"__$EscapedKey$__")?e.substring("__$EscapedKey$__".length):e}var o=(n(19),n(60)),s=n(18),u=function(){function e(e,t,n,r,i){this._absolutePath=e,this._path=t,this._content=n,this._project=r,this._isTopoLevel=i,this._node=new l(this,JSON.parse(this._content))}return e.prototype.absolutePath=function(){return this._absolutePath},e.prototype.clone=function(){return null},e.prototype.contents=function(){return this._content},e.prototype.lexerErrors=function(){return[]},e.prototype.path=function(){return this._content},e.prototype.isTopLevel=function(){return this._isTopoLevel},e.prototype.ast=function(){return this._node},e.prototype.isDirty=function(){return!0},e.prototype.isRAMLUnit=function(){
return!0},e.prototype.project=function(){return this._project},e.prototype.updateContent=function(e){},e.prototype.ramlVersion=function(){throw"not implemented"},e.prototype.resolve=function(e){return null},e}();t.CompilationUnit=u;var l=function(){function e(e,t,n,r){var i=this;this._unit=e,this._object=t,this._parent=n,this._key=r,this._object instanceof Object&&Object.keys(this._object).forEach(function(e){var t=a(e);if(t!=e){var n=i._object[e];delete i._object[e],i._object[t]=n}})}return e.prototype.start=function(){return-1},e.prototype.end=function(){return-1},e.prototype.value=function(){return this._object},e.prototype.includeErrors=function(){return[]},e.prototype.includePath=function(){return null},e.prototype.key=function(){return this._key},e.prototype.children=function(){var t=this;return this._object?Array.isArray(this._object)?this._object.map(function(n){return new e(t._unit,n,t)}):this._object instanceof Object?Object.keys(this._object).map(function(n){return new e(t._unit,t._object[n],t,n)}):[]:[]},e.prototype.parent=function(){return this._parent},e.prototype.unit=function(){return this._unit},e.prototype.anchorId=function(){return null},e.prototype.errors=function(){return[]},e.prototype.anchoredFrom=function(){return this},e.prototype.includedFrom=function(){return this},e.prototype.visit=function(e){e(this)&&this.children().forEach(function(t){return t.visit(e)})},e.prototype.dumpToObject=function(){return this._object},e.prototype.addChild=function(e){},e.prototype.execute=function(e){},e.prototype.dump=function(){return JSON.stringify(this._object)},e.prototype.keyStart=function(){return-1},e.prototype.keyEnd=function(){return-1},e.prototype.valueStart=function(){return-1},e.prototype.valueEnd=function(){return-1},e.prototype.isValueLocal=function(){return!0},e.prototype.kind=function(){return Array.isArray(this._object)?3:this._object instanceof Object?2:0},e.prototype.valueKind=function(){return null},e.prototype.show=function(e){},e.prototype.setHighLevelParseResult=function(e){this._highLevelParseResult=e},e.prototype.highLevelParseResult=function(){return this._highLevelParseResult},e.prototype.setHighLevelNode=function(e){this._highLevelNode=e},e.prototype.highLevelNode=function(){return this._highLevelNode},e.prototype.text=function(e){throw"not implemented"},e.prototype.copy=function(){throw"not implemented"},e.prototype.markup=function(e){throw"not implemented"},e.prototype.nodeDefinition=function(){return s.getDefinitionForLowLevelNode(this)},e}();t.AstNode=l,t.serialize=r},function(e,t,n){function r(e){var t={};return e.forEach(function(e){return Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}function i(e,t){return new T(M.find(e||[],t))}function a(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function o(e){var t={};return e.forEach(function(e){return t[e[0]]=e[1]}),t}function s(e,t){return t(e),e}function u(e,t){"object"==typeof e&&Object.keys(e).forEach(function(n){return t(n,e[n])})}function l(e,n,r){void 0===r&&(r=!1);var i={};return e.forEach(function(e){var a=t.shallowCopy(e);r&&delete a[n],i[e[n]]=a}),i}function c(e,t){var n=e.length-t.length;return n>=0&&e.lastIndexOf(t)===n}function p(e,t){return e.length-t.length>=0&&e.substring(0,t.length)===t}function d(e){return"_"==e[e.length-1]}function m(e,t,n){var r,i=!1;e[t]=function(){return i||(i=!0,r=n.apply(e)),r}}function h(e,n){void 0===n&&(n=d);for(var r in e)n(r)&&t.ifInstanceOf(e[r],Function,function(t){return 0===t.length?m(e,r,t):null})}function f(e,t){void 0!==e&&t(e)}function y(e){return"string"!=typeof e||""==e?!1:c(e,".raml")}function g(e){for(var t,n=[],r=new RegExp("require\\('([^']+)'\\)","gi");t=r.exec(e);)n.push(t[1]);for(var i=new RegExp('require\\("([^"]+)"\\)',"gi");t=i.exec(e);)n.push(t[1]);return n=M.unique(n).filter(function(e){return""!=e}),n.sort(),n}function v(e){return"undefined"!=typeof e&&null!=e}function b(e){return 0==e.length?e:e.charAt(0).toUpperCase()+e.substr(1)}function S(e,t,n){void 0===n&&(n=!1);var r=Object.keys(t);if(n){var i={};r.forEach(function(e){return i[e]=!0}),Object.keys(e).forEach(function(e){return i[e]=!0}),r=Object.keys(i)}r.forEach(function(n){var r=e[n];r instanceof Object?(t[n]||(t[n]={}),S(r,t[n],!0)):void 0!=r&&(t[n]=e[n])})}function w(e,t){return Object.keys(t).forEach(function(n){return e=P(e,n,t[n])}),e}function P(e,t,n){for(var r="",i=0,a=e.indexOf(t);a<e.length&&a>=0;a=e.indexOf(t,i))r+=e.substring(i,a),r+=n,i=a+t.length;return r+=e.substring(i,e.length)}var M=n(16),T=n(61);t.defined=function(e){return null!==e&&void 0!==e},t.flattenArrayOfObjects=r,t.find=i,t.isInstance=function(e,t){return e instanceof t?[e]:[]},t.ifInstanceOf=function(e,t,n){return e instanceof t?n(e):null},t.toTuples=a,t.fromTuples=o,t.collectInstancesOf=function(e,n){return s([],function(r){return e.forEach(function(e){return t.ifInstanceOf(e,n,function(e){return r.push(e)})})})},t.collectInstancesOfInMap=function(e,t){return Object.keys(e).map(function(t){return[t,e[t]]}).filter(function(e){return e[1]instanceof t}).map(function(e){return e})},t.asArray=function(e){return t.defined(e)?e instanceof Array?e:[e]:[]},t.shallowCopy=function(e){return s({},function(t){return Object.keys(e).forEach(function(n){return t[n]=e[n]})})},t.flatMap=function(e,n){return t.flatten(e.map(n))},t.flatten=function(e){return Array.prototype.concat.apply([],e)},t.takeWhile=function(e,t){return s([],function(n){for(var r=0;r<e.length&&t(e[r]);r++)n.push(e[r])})},t.tap=s,t.kv=u,t.indexed=l,t.stringEndsWith=c,t.stringStartsWith=p,t.lazypropkeyfilter=d,t.lazyprops=h,t.iff=f,t.isRAMLUrl=y,t.getAllRequiredExternalModulesFromCode=g,t.serial=function(){var e=0;return function(){return e++}}(),t.isEssential=v,t.firstToUpper=b,t.updateObject=S,t.replaceMap=w,t.replace=P},function(e,t,n){var r,i=n(62),a=function(e){return null!=e},o=function(){function e(t){var n=this;this._value=t,this._isDefined=!1,this._isEmpty=!0,this._arr=void 0,this.getOrThrow=function(){return i(n._isDefined,"Opt is empty. Use `Opt#getOrElse` or check `Opt#isDefined`."),n._value},this.value=function(){return n._value},this.isDefined=function(){return n._isDefined},this.isEmpty=function(){return n._isEmpty},this.toArray=function(){return n._arr||(n._arr=n._isDefined?[n._value]:[])},this.getOrElse=function(e){return n._isDefined?n._value:e},this.getOrElseF=function(e){return n._isDefined?n._value:e()},this.map=function(t){return n._isEmpty?e.empty():new e(t(n._value))},this.flatMap=function(t){return n.map(t).getOrElse(e.empty())},this.equals=function(t){return i(t instanceof e,"Expected other to be an `Opt`, but got `%s`",typeof t),n._isDefined===t.isDefined()&&n._value===t.value()},a(this._value)&&(this._isDefined=!0,this._isEmpty=!1)}return e.prototype.forEach=function(e){this.isDefined()&&e(this._value)},e.empty=function(){return r||(r=new e)},e}();e.exports=o},function(e,t){e.exports=require("invariant")},function(e,t){e.exports=require("json-stable-stringify")},function(e,t,n){function r(e,t,n){var r=e.trim();if(r.length>0)try{if("{"==r.charAt(0))return void h.getJSONSchema(e);if("<"==r.charAt(0))return void h.getXMLSchema(e)}catch(i){n.accept(m.createIssue(7,i.message,t))}var a=p.parse(e);u(a,t,n)}function i(e,t,n,r){if(void 0===r&&(r=!1),!t)return e.definition().universe().getType("StrElement");if(r&&y[t]){var i=e.definition().universe().getType(y[t]);return i}if(f[t]){var a=e.definition().universe().getType(f[t]);return a}try{var s=t;if(s=s.trim(),"{"==s.charAt(0))return null;if("<"==s.charAt(0))return null;var u=p.parse(t)}catch(l){return null}return o(e,u,r,n)}function a(e,t,n,r){if(void 0===r&&(r=!1),!t)return e.definition().universe().getType("StrElement");if(r&&y[t]){var i=e.definition().universe().getType(y[t]);if(i){var a=new l.UserDefinedClass(e.name(),e.definition().universe(),e,"","");return a._superTypes.push(i),a}}if(f[t]){var s=e.definition().universe().getType(f[t]);if(s){var a=new l.UserDefinedClass(e.name(),e.definition().universe(),e,"","");return a._superTypes.push(s),a}}try{var u=t;if(u=u.trim(),"{"==u.charAt(0))return null;if("<"==u.charAt(0))return null;var c=p.parse(t)}catch(d){return null}return o(e,c,r,n)}function o(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r={}),"union"==t.type){var i=t,a=o(e,i.first,n,r),s=o(e,i.rest,n,r),u=e.definition().universe().getType("UnionField"),p=new l.Union("Union"+g++,e.definition().universe(),"");return p._superTypes.push(u),p.left=a,p.right=s,p}if("responses"==t.type){var m=t,h=null;return m.codes.forEach(function(t){var i=o(e,t.expr,n,r);if(i)if(h){var a=new l.Union("Union"+g++,e.definition().universe(),"");a.left=h,a.right=i,h=i}else h=i}),h}if("parens"==t.type){var v=t;return o(e,v.expr,n,r)}if("name"==t.type){var b=t,S=b.value,w=S.lastIndexOf("[]");if(-1!=w&&w==S.length-2&&(S=S.substr(0,S.length-2)),b.arr>0){var P=d.subTypesWithLocals(e.definition().universe().getType("DataElement"),e),M=c.find(P,function(e){var t=e.name()==S;if(!t&&e instanceof l.AbstractType){var n=e;n.getAliases().forEach(function(e){e==S&&(t=!0)})}return t});M||y[S]&&(M=e.definition().universe().getType(y[S])),M||(M=new l.ValueType("String",e.definition().universe(),""));var T=e.definition().universe().getType("ArrayField"),E=new l.Array(M.name()+"[]",e.definition().universe(),"");return E._superTypes.push(T),E.component=M,E.dimensions=b.arr,E}if(n&&y[S])return e.definition().universe().getType(y[S]);if(f[S])return e.definition().universe().getType(f[S]);var A=e.definition().universe().getType("DataElement");A||(A=e.definition().universe().getType("GlobalSchema"));var C=d.subTypesWithName(S,e,r);return C?C:(A=e.definition().universe().getType("GlobalSchema"),d.schemasWithName(S,e,r))}return null}function s(e){if("union"==e.type){var t=e;return s(t.first)+"|"+s(t.rest)}if("responses"==e.type){for(var n=e,r="{",i=0;i<n.codes.length;i++)r+=n.codes[i].code,r+=":",r+=s(n.codes[i].expr),i!=n.codes.length-1&&(r+=",");return r+="}"}if("parens"==e.type){var a=e,o="("+s(a.expr)+")";return a.arr&&(o+="[]"),o}if("name"==e.type){var u=e,l=u.value,o=l;return u.arr&&(o+="[]"),o}}function u(e,t,n){if("union"==e.type){var r=e;u(r.first,t,n),u(r.rest,t,n)}if("responses"==e.type){var i=e;i.codes.forEach(function(e){for(var r=e.code,i=0;i<r.length;i++){var a=r[i];if(!c.find(["0","1","2","3","4","5","6","7","8","9","x","X"],function(e){return e==a}))return void n.accept(m.createIssue(7,"Status code should be 3 digits number with optional 'x' as wildcards",t))}u(e.expr,t,n)})}if("parens"==e.type){var a=e;u(a.expr,t,n)}if("name"==e.type){var o=e,s=o.value;-1!=s.lastIndexOf("[]")&&(s=s.substr(0,s.length-2));var l=t.property();if(l.isValidValue(s,t.parent()))return;var p=l.enumValues(t.parent());if(p=p.map(function(e){var t=e.indexOf("<");return-1!=t?e.substring(0,t):e}),o.params&&o.params.forEach(function(e){u(e,t,n)}),p.push("number"),p.push("integer"),p.push("file"),p.push("boolean"),p.push("any"),p.push("date"),p.push("void"),p.push("string"),p.push("value"),!c.find(p,function(e){return e==s}))return n.accept(m.createIssue(0,"Unresolved reference:"+s,t)),!0}}var l=n(15),c=(n(14),n(16)),p=n(65),d=n(66),m=n(77),h=n(78);t.validate=r,t.getType=i,t.getType2=a;var f={string:"StrElement",number:"NumberElement",integer:"IntegerElement",date:"DateElement",object:"ObjectField","boolean":"BooleanElement",value:"ValueElement",file:"FileParameter"},y={string:"string",number:"number",integer:"integer",date:"date",object:"ObjectField","boolean":"boolean",value:"string",file:"file"},g=0;t.deriveType=o,t.nodeToString=s,t.validateNode=u},function(e,t){var n=function(){"use strict";function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function n(e){function n(t){var n,r,i=te[t];if(i)return i;for(n=t-1;!te[n];)n--;for(i=te[n],i={line:i.line,column:i.column,seenCR:i.seenCR};t>n;)r=e.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return te[t]=i,i}function r(e,t){var r=n(e),i=n(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function i(e){ne>Z||(Z>ne&&(ne=Z,re=[]),re.push(e))}function a(e,n,r,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&a(n),new t(null!==e?e:o(n,r),n,r,i)}function o(){var t,n,r,a,u,l,c,d;return t=Z,n=p(),n!==f?(r=s(),r!==f?(a=Z,u=p(),u!==f?(124===e.charCodeAt(Z)?(l=v,Z++):(l=f,0===ie&&i(b)),l!==f?(c=p(),c!==f?(d=o(),d!==f?(u=[u,l,c,d],a=u):(Z=a,a=f)):(Z=a,a=f)):(Z=a,a=f)):(Z=a,a=f),a===f&&(a=null),a!==f?(ee=t,n=S(r,a),t=n):(Z=t,t=f)):(Z=t,t=f)):(Z=t,t=f),t}function s(){var t,n,r,a,s,u,l,d,m,h;if(t=Z,40===e.charCodeAt(Z)?(n=w,Z++):(n=f,0===ie&&i(P)),n!==f)if(r=p(),r!==f)if(a=o(),a!==f)if(s=p(),s!==f)if(41===e.charCodeAt(Z)?(u=M,Z++):(u=f,0===ie&&i(T)),u!==f){for(l=[],d=Z,m=p(),m!==f?(e.substr(Z,2)===E?(h=E,Z+=2):(h=f,0===ie&&i(A)),h!==f?(m=[m,h],d=m):(Z=d,d=f)):(Z=d,d=f);d!==f;)l.push(d),d=Z,m=p(),m!==f?(e.substr(Z,2)===E?(h=E,Z+=2):(h=f,0===ie&&i(A)),h!==f?(m=[m,h],d=m):(Z=d,d=f)):(Z=d,d=f);l!==f?(ee=t,n=C(a,l),t=n):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;else Z=t,t=f;return t===f&&(t=c()),t}function u(){var t,n,r,a,s;if(t=Z,60===e.charCodeAt(Z)?(n=N,Z++):(n=f,0===ie&&i(I)),n!==f)if(r=o(),r!==f){for(a=[],s=l();s!==f;)a.push(s),s=l();a!==f?(62===e.charCodeAt(Z)?(s=_,Z++):(s=f,0===ie&&i(x)),s!==f?(ee=t,n=R(r,a),t=n):(Z=t,t=f)):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;return t}function l(){var t,n,r;return t=Z,44===e.charCodeAt(Z)?(n=O,Z++):(n=f,0===ie&&i(L)),n!==f?(r=o(),r!==f?(ee=t,n=k(r),t=n):(Z=t,t=f)):(Z=t,t=f),t}function c(){var t,n,r,a,o,s,l;if(ie++,t=Z,n=[],r=d(),r!==f)for(;r!==f;)n.push(r),r=d();else n=f;if(n!==f)if(r=u(),r===f&&(r=null),r!==f){for(a=[],o=Z,s=p(),s!==f?(e.substr(Z,2)===E?(l=E,Z+=2):(l=f,0===ie&&i(A)),l!==f?(s=[s,l],o=s):(Z=o,o=f)):(Z=o,o=f);o!==f;)a.push(o),o=Z,s=p(),s!==f?(e.substr(Z,2)===E?(l=E,Z+=2):(l=f,0===ie&&i(A)),l!==f?(s=[s,l],o=s):(Z=o,o=f)):(Z=o,o=f);a!==f?(ee=t,n=U(n,r,a),t=n):(Z=t,t=f)}else Z=t,t=f;else Z=t,t=f;return ie--,t===f&&(n=f,0===ie&&i(D)),t}function p(){var t,n;for(ie++,t=[],j.test(e.charAt(Z))?(n=e.charAt(Z),Z++):(n=f,0===ie&&i(V));n!==f;)t.push(n),j.test(e.charAt(Z))?(n=e.charAt(Z),Z++):(n=f,0===ie&&i(V));return ie--,t===f&&(n=f,0===ie&&i(F)),t}function d(){var t;return K.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i(B)),t===f&&(95===e.charCodeAt(Z)?(t=q,Z++):(t=f,0===ie&&i(H)),t===f&&(45===e.charCodeAt(Z)?(t=G,Z++):(t=f,0===ie&&i(W)),t===f&&(46===e.charCodeAt(Z)?(t=z,Z++):(t=f,0===ie&&i(Y)),t===f&&(J.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i($)),t===f&&(X.test(e.charAt(Z))?(t=e.charAt(Z),Z++):(t=f,0===ie&&i(Q))))))),t}var m,h=arguments.length>1?arguments[1]:{},f={},y={Term:o},g=o,v="|",b={type:"literal",value:"|",description:'"|"'},S=function(e,t){return t?{type:"union",first:e,rest:t[3]}:e},w="(",P={type:"literal",value:"(",description:'"("'},M=")",T={type:"literal",value:")",description:'")"'},E="[]",A={type:"literal",value:"[]",description:'"[]"'},C=function(e,t){return{type:"parens",expr:e,arr:t.length}},N="<",I={type:"literal",value:"<",description:'"<"'},_=">",x={type:"literal",value:">",description:'">"'},R=function(e,t){return[e].concat(t)},O=",",L={type:"literal",value:",",description:'","'},k=function(e){return e},D={type:"other",description:"name"},U=function(e,t,n){return{type:"name",params:t,value:e.join(""),arr:n.length}},F={type:"other",description:"whitespace"},j=/^[ \t\n\r]/,V={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},K=/^[A-Z]/,B={type:"class",value:"[A-Z]",description:"[A-Z]"},q="_",H={type:"literal",value:"_",description:'"_"'},G="-",W={type:"literal",value:"-",description:'"-"'},z=".",Y={type:"literal",value:".",description:'"."'},J=/^[a-z]/,$={type:"class",value:"[a-z]",description:"[a-z]"},X=/^[0-9]/,Q={type:"class",value:"[0-9]",description:"[0-9]"},Z=0,ee=0,te=[{line:1,column:1,seenCR:!1}],ne=0,re=[],ie=0;if("startRule"in h){if(!(h.startRule in y))throw new Error("Can't start parsing from rule \""+h.startRule+'".');g=y[h.startRule]}if(m=g(),m!==f&&Z===e.length)return m;throw m!==f&&Z<e.length&&i({type:"end",description:"end of input"}),a(null,re,ne<e.length?e.charAt(ne):null,ne<e.length?r(ne,ne+1):r(ne,ne))}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t,n){function r(e,n){var r=n.split("."),i=e;return i.definition().isAnnotation()&&(i=i.parent()),r.forEach(function(e){if(null!=i){if("$parent"==e)return void(i=i.parent());if("$root"==e)return void(i=i.root());if("$top"==e)return void(i=t.declRoot(i));var n=N.find(i.elements(),function(t){return t.name()==e});i=n}}),i}function i(e){var n=t.declRoot(e);return s(n)}function a(e,t){var n=e.lowLevel();return n=n._node?n._node:n,n.mark?t:(n.mark=t,null)}function o(e){var t=e.lowLevel();t=t._node?t._node:t,delete t.mark}function s(e){var t=[];a(e,t);try{return e.elements().forEach(function(e){"Library"==e.definition().name()&&(t=t.concat(s(e))),t.push(e)}),t}finally{o(e)}}function u(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else if("\r"==i||"\n"==i)return n}}function l(e,t,n,r){if(void 0===r&&(r=!0),null==e)return null;if(e.lowLevel()&&e.lowLevel().start()<=t&&e.lowLevel().end()>=n){if(e instanceof x.ASTNodeImpl){for(var i=e,a=r?i.children():i.directChildren(),o=0;o<a.length;o++)if(r||a[o].lowLevel().unit()==e.lowLevel().unit()){var s=l(a[o],t,n,r);if(s)return s}return e}if(e instanceof x.ASTPropImpl){var u=e;if(!u.property().isKey()){var c=u.value();if(c instanceof x.StructuredValue){var p=c,d=p.toHighlevel();if(d&&!r&&d.lowLevel().unit()!=e.lowLevel().unit())return null;var s=l(d,t,n,r);if(s)return s}return u}return null}return e}return null}function c(e,t){for(var n=-1,r=t-1;r>=0;r--){var i=e.charAt(r);if("\r"==i||"\n"==i||" "==i||"	"==i||'"'==i||"'"==i||":"==i){n=r+1;break}}for(var a=-1,r=t;r<e.length;r++){var i=e.charAt(r);if("\r"==i||"\n"==i||" "==i||"	"==i||'"'==i||"'"==i||":"==i){a=r;break}}return-1!=n&&-1!=a?e.substring(n,a):""}function p(e,t){for(var n="",r=t;r>=0;r--){var i=e[r];if(" "==i||"\r"==i||"\n"==i||"|"==i||"["==i||"]"==i||":"==i||"("==i||")"==i)break;n=i+n}for(var r=t+1;r<e.length;r++){var i=e[r];if(" "==i||"\r"==i||"\n"==i||"|"==i||"["==i||"]"==i||":"==i||"("==i||")"==i)break;n+=i}return n}function d(e,t){var n=m(e,t);if(n){if(n instanceof x.ASTNodeImpl){var r=n;return{node:r,results:r.findReferences()}}n instanceof x.ASTPropImpl}var i=l(C.fromUnit(e),t,t,!1);if(i instanceof x.ASTNodeImpl)return{node:i,results:i.findReferences()};if(i instanceof x.ASTPropImpl){var a=i;if(a.property().canBeValue())return{node:a.parent(),results:a.parent().findReferences()}}return{node:null,results:[]}}function m(e,t){var n=l(C.fromUnit(e),t,t,!1),r=g(e.contents(),t);if(0==r){var i=n;if(n instanceof x.ASTPropImpl){var a=n;if(a&&a.value()){if(!(a.value()instanceof x.StructuredValue))return O(t,e.contents(),a,i);var o=a.value(),s=o.toHighlevel();if(s){var u=N.find(s.attrs(),function(e){return e.lowLevel().start()<t&&e.lowLevel().end()>=t});if(u)return O(t,e.contents(),u,s,a.property())}}}}if(1==r||6==r){var i=n,p=n.property();if(p instanceof A.UserDefinedProp){var d=p;return d.node()}if(n instanceof x.ASTNodeImpl&&i.definition()instanceof A.UserDefinedClass){var m=i.definition();return m.isAssignableFrom("DataElement")?n:m.getDeclaringNode()}if(n instanceof x.ASTPropImpl){var v=n;if(y(v)){var b=h(v);if(b){var S=f(v,b.toRuntime());if(S){var n=l(S,t,t),p=n.property();if(p instanceof A.UserDefinedProp){var d=p;return d.node()}if(n instanceof x.ASTNodeImpl&&i.definition()instanceof A.UserDefinedClass){var m=i.definition();return m.getDeclaringNode()}}}}}}if(2==r){var w=c(e.contents(),t);if(w){var P=e.resolve(w);return P}}}function h(e){var t=e.parent();return"content"==e.property().name()&&(t=t.parent()),x.typeFromNode(t)}function f(e,t){return e.value()instanceof x.StructuredValue?new x.ASTNodeImpl(e.value().lowLevel(),e.parent(),t,e.property()):null}function y(e){if(!(e instanceof x.ASTPropImpl))return!1;var t=e;if("content"==t.name()&&"StringType"==t.definition().name()){if(t.parent()instanceof x.ASTNodeImpl&&("examples"==t.parent().property().name()||"example"==t.parent().property().name())&&t.parent().parent()instanceof x.ASTNodeImpl&&t.parent().parent().definition().isAssignableFrom("ObjectField"))return!0}else if("example"==t.name()&&"StringType"==t.definition().name()&&t.parent()instanceof x.ASTNodeImpl&&t.parent().definition().isAssignableFrom("ObjectField"))return!0;return!1}function g(e,t){for(var n=!1,r=!1,i=!1,a=t-1;a>=0;a--){var o=e.charAt(a);if("("==o)i=!0;else{if(i){if("\r"==o||"\n"==o){for(var s=!1,l=t-1;l<e.length;l++){var c=e[l];if(")"==c&&(s=!0),"\r"==c||"\n"==c)break;if(":"==c){i=!1;break}}if(i&&s)return 5;break}if(" "==o||"	"==o)continue;break}if("\r"==o||"\n"==o)break;if(":"==o)break}}for(var a=t-1;a>=0;a--){var o=e.charAt(a);if("#"==o)return 0==a?4:7;if(":"==o)return n?3:0;if("\r"==o||"\n"==o){for(var p=!1,d=u(t,e),m=a;m>0;m--){if(o=e.charAt(m),":"==o){if(p){var h=u(m,e);if(h.length<d.length)return 0}break}"|"!=o?(("\r"==o||"\n"==o)&&(p=!1)," "!=o&&"	"!=o&&(p=!1)):p=!0}return r?6:1}if("-"==o&&(r=!0),"!"==o){if(e.indexOf("!include",a)==a)return 2;e.indexOf("!i",a)==a&&(n=!0)}}}function v(e,t){if(!t)return null;for(var n=t.split("/"),r=e,i=0;i<n.length;i++)if("#"!=n[i]){if(r=N.find(r.children(),function(e){return e.key()==n[i]}),!r)return null}else r=e.unit().ast();return r}function b(e,n){var r=e.range();return t.subTypesWithLocals(r,n)}function S(e,n){if(n){if(e.isDescriminating()){var r=e.range();if(r.getRuntimeExtenders().length>0&&n){var a=r.getRuntimeExtenders(),o=[];return a.forEach(function(e){var t=i(n).filter(function(t){return t.definition()==e});o=o.concat(t)}),o}return[]}if(e.isReference())return t.nodesDeclaringType(e.referencesTo(),n);if(e.range().isValueType()){var s=e.range();if(s.globallyDeclaredBy&&s.globallyDeclaredBy().length>0){var u=i(n).filter(function(e){return null!=N.find(s.globallyDeclaredBy(),function(t){return t==e.definition()})});return u}}}return this._enumOptions}function w(e){var t=[];return P(e,t),t}function P(e,t){e.children().forEach(function(e){t.push(e),P(e,t)})}function M(e,t,n){e.elements().forEach(function(e){M(e,t,n);e.definition()}),e.attrs().forEach(function(r){var i=r.property(),a=r.value();if(i instanceof A.UserDefinedProp){var o=i.node();o==t?n.push(r):o.lowLevel().start()==t.lowLevel().start()&&o.lowLevel().unit()==t.lowLevel().unit()&&n.push(r)}if(y(r)){var s=h(r);if(s){var u=f(r,s.toRuntime());u&&M(u,t,n)}}else if(i.isTypeExpr()&&"string"==typeof a)if("signature"==i.name()){var l=_.parse(r);if(l&&(l.args&&l.args.forEach(function(i){var a=I.deriveType(e,i.type);a&&L(a,r,t,n)}),l.returnType)){var c=I.deriveType(e,l.returnType);c&&L(c,r,t,n)}}else{var p=I.getType(e,""+a,{});L(p,r,t,n);var d=C.getLibraryName(t);if(d&&-1!=a.indexOf(d)){var m=T(r);m&&m.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}if(i.isReference()||i.isDescriminator())if("string"==typeof a){var g=S(i,e);N.find(g,function(e){return e.name()==a&&e==t})&&n.push(r);var d=C.getLibraryName(t);if(d&&-1!=a.indexOf(d)){var m=T(r);m&&m.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}else{var v=a;if(v){var b=v.valueName(),g=S(i,e);N.find(g,function(e){return e.name()==b&&e==t})&&n.push(r);var w=v.toHighlevel();w&&M(w,t,n);var d=C.getLibraryName(t);if(d&&-1!=b.indexOf(d)){var m=T(a);m&&m.lowLevel().start()==t.lowLevel().start()&&n.push(r)}}}else{var g=S(i,e);N.find(g,function(e){return e.name()==a&&e==t})&&n.push(r)}})}function T(e){if(!e.lowLevel)return null;var t=e.lowLevel();if(!t)return null;if(t.key()){var n=Math.floor((t.keyEnd()+t.keyStart())/2),r=E(t.unit(),n);if(r)return r}if(t.value()){var n=Math.floor((t.valueEnd()+t.valueStart())/2),r=E(t.unit(),n);if(r)return r}return null}function E(e,t){var n=m(e,t);if(n&&C.asNode(n))for(var r=C.asNode(n),i=r;i;){if("Library"==i.definition().name())return i;i=i.parent()}return null}var A=n(15),C=n(14),N=n(16),I=n(64),_=n(67),x=n(17),R=n(69);t.resolveRamlPointer=r,t.declRoot=function(e){for(var t=e;;){if("Library"==t.definition().name()&&!t.definition().isUserDefined())break;var n=t.parent();if(!n)break;t=n}return t},t.globalDeclarations=i,t.findDeclarations=s,t.extractName=p;var O=function(e,t,n,r,i){void 0===i&&(i=n.property());var a=i.referenceTargets(r),o=p(t,e),s=N.find(a,function(e){return x.qName(e,r)==o});if(s)return s;if(n.property()instanceof A.UserDefinedProp){var u=n.property();return u._node}return null};t.findUsages=d,t.findDeclaration=m,t.findExampleContentType=h,t.parseDocumentationContent=f,t.isExampleNodeContent=y,t.determineCompletionKind=g,function(e){e[e.VALUE_COMPLETION=0]="VALUE_COMPLETION",e[e.KEY_COMPLETION=1]="KEY_COMPLETION",e[e.PATH_COMPLETION=2]="PATH_COMPLETION",e[e.DIRECTIVE_COMPLETION=3]="DIRECTIVE_COMPLETION",e[e.VERSION_COMPLETION=4]="VERSION_COMPLETION",e[e.ANNOTATION_COMPLETION=5]="ANNOTATION_COMPLETION",e[e.SEQUENCE_KEY_COPLETION=6]="SEQUENCE_KEY_COPLETION",e[e.INCOMMENT=7]="INCOMMENT"}(t.LocationKind||(t.LocationKind={}));t.LocationKind;t.resolveReference=v,t.subTypesWithLocals=function(e,n){if(null==e)return[];var r=e.name();n=t.declRoot(n);var a=n;if(a._subTypesCache){var o=a._subTypesCache[r];if(o)return o}else a._subTypesCache={};var s=e.allSubTypes();if(e.getRuntimeExtenders().length>0&&n){var u=i(n),l=e.getRuntimeExtenders();n.root();l.forEach(function(t){var n=u.filter(function(n){var r=n.definition().allSuperTypes();r.push(n.definition());var i=n.definition()==t||null!=N.find(r,function(e){return e==t})||null!=N.find(r,function(t){return t==e});return i});s=s.concat(n.map(function(e){return R.typeFromNode(e)}))})}return s=N.unique(s),a._subTypesCache[r]=s,s},t.subTypesWithName=function(e,n,r){n=t.declRoot(n);var a=i(n),o=N.find(a,function(t){return x.qName(t,n)==e&&t.property()&&"types"==t.property().name()}),s=R.typeFromNode(o);return s},t.schemasWithName=function(e,n,r){n=t.declRoot(n);var a=i(n),o=N.find(a,function(t){return x.qName(t,n)==e&&t.property()&&"schemas"==t.property().name()}),s=R.typeFromNode(o);return s},t.nodesDeclaringType=function(e,t){var n=[];if(e.getRuntimeExtenders().length>0&&t){var r=e.getRuntimeExtenders(),a=t;r.forEach(function(e){var t=i(a).filter(function(t){return t.definition()==e});n=n.concat(t)})}var o=!e.isValueType();if(o&&e.isInlinedTemplates()&&t){var a=t,s=i(a).filter(function(t){return t.definition()==e});n=n.concat(s)}else{var a=t,u={};e.allSubTypes().forEach(function(e){return u[e.name()]=!0}),u[e.name()]=!0;var s=i(a).filter(function(e){return u[e.definition().name()]});n=n.concat(s)}return n},t.findAllSubTypes=b,t.allChildren=w;var L=function(e,t,n,r){if(e instanceof A.UserDefinedClass){var i=e;i.getDeclaringNode()==n&&r.push(t)}if(e instanceof A.Array){var a=e;L(a.component,t,n,r)}if(e instanceof A.Union){var o=e;L(o.left,t,n,r),L(o.right,t,n,r)}};t.refFinder=M},function(e,t,n){function r(e,t,n){var r=l.parse(e);r.args&&r.args.forEach(function(e){var r=e.name.indexOf(".");if(-1==r)"body"!=e.name&&n.accept(s.createIssue(7,"Only body parameter may be not qualified",t,!1));else{var i=e.name.substring(0,r);"uri"!=i&&"header"!=i&&"query"!=i&&n.accept(s.createIssue(7,"qualifer should be one of 'query', 'header' or 'uri'",t,!1))}u.validateNode(e.type,t,n)}),r.returnType&&u.validateNode(r.returnType,t,n)}function i(e,t){void 0===t&&(t="200");var n=new c.TraitImpl("tr");if(e.args.forEach(function(e){a(n,e)}),e.returnType)if("responses"==e.returnType.type){var r=e.returnType;r.codes.forEach(function(e){var t=new c.ResponseImpl(e.code),r=new c.DataElementImpl("application/json");r.setType(u.nodeToString(e.expr)),t.add(r),n.add(t)})}else{var i=new c.ResponseImpl(t),o=new c.DataElementImpl("application/json");o.setType(u.nodeToString(e.returnType)),i.add(o),n.add(i)}return n}function a(e,t){var n=t.name.indexOf("."),r=null,i=t.name;-1!=n&&(r=t.name.substr(0,n),i=t.name.substr(n+1));var a=new c.DataElementImpl(i);return"body"==i&&(a=new c.DataElementImpl("application/json")),a.setType(u.nodeToString(t.type)),"query"==r?e.addToProp(a,"queryParameters"):"header"==r?e.addToProp(a,"headers"):"uri"==r?e.addToProp(a,"uriParameters"):"body"==r?e.addToProp(a,"body"):"body"==i&&e.addToProp(a,"body"),a}function o(e){try{if("string"==typeof e.value()){var t=l.parse(e.value());return t}}catch(n){return null}}var s=(n(14),n(17)),u=n(64),l=n(68),c=n(13);t.validate=r,t.convertToTrait=i,t.parse=o},function(e,t){var n=function(){"use strict";function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function n(e){function n(t){var n,r,i=Ee[t];if(i)return i;for(n=t-1;!Ee[n];)n--;for(i=Ee[n],i={line:i.line,column:i.column,seenCR:i.seenCR};t>n;)r=e.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return Ee[t]=i,i}function r(e,t){var r=n(e),i=n(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function i(e){Ae>Me||(Me>Ae&&(Ae=Me,Ce=[]),Ce.push(e))}function a(e,n,r,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&a(n),new t(null!==e?e:o(n,r),n,r,i)}function o(){var t,n,r,a,o,u,l,p,d,m;return t=Me,n=b(),n!==M?(40===e.charCodeAt(Me)?(r=A,Me++):(r=M,0===Ne&&i(C)),r!==M?(a=s(),a===M&&(a=null),a!==M?(o=b(),o!==M?(41===e.charCodeAt(Me)?(u=N,Me++):(u=M,0===Ne&&i(I)),u!==M?(l=b(),l!==M?(p=Me,e.substr(Me,2)===_?(d=_,Me+=2):(d=M,0===Ne&&i(x)),d!==M?(m=c(),m!==M?(d=[d,m],p=d):(Me=p,p=M)):(Me=p,p=M),p===M&&(p=null),p!==M?(d=b(),d!==M?(Te=t,n=R(a,p),t=n):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M),t}function s(){var e,t,n,r;if(e=Me,t=l(),t!==M){for(n=[],r=u();r!==M;)n.push(r),r=u();n!==M?(Te=e,t=O(t,n),e=t):(Me=e,e=M)}else Me=e,e=M;return e}function u(){var t,n,r,a,o;return t=Me,n=b(),n!==M?(44===e.charCodeAt(Me)?(r=L,Me++):(r=M,0===Ne&&i(k)),r!==M?(a=b(),a!==M?(o=l(),o!==M?(Te=t,
n=D(o),t=n):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M),t}function l(){var t,n,r,a,o;for(t=Me,n=[],r=S();r!==M;)n.push(r),r=S();return n!==M?(63===e.charCodeAt(Me)?(r=U,Me++):(r=M,0===Ne&&i(F)),r===M&&(r=null),r!==M?(58===e.charCodeAt(Me)?(a=j,Me++):(a=M,0===Ne&&i(V)),a!==M?(o=h(),o!==M?(Te=t,n=K(n,r,o),t=n):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M),t}function c(){var e;return e=p(),e===M&&(e=h()),e}function p(){var t,n,r,a,o,s;if(t=Me,n=b(),n!==M)if(123===e.charCodeAt(Me)?(r=B,Me++):(r=M,0===Ne&&i(q)),r!==M)if(a=m(),a!==M){for(o=[],s=d();s!==M;)o.push(s),s=d();o!==M?(125===e.charCodeAt(Me)?(s=H,Me++):(s=M,0===Ne&&i(G)),s!==M?(Te=t,n=W(a,o),t=n):(Me=t,t=M)):(Me=t,t=M)}else Me=t,t=M;else Me=t,t=M;else Me=t,t=M;return t}function d(){var t,n,r;return t=Me,44===e.charCodeAt(Me)?(n=L,Me++):(n=M,0===Ne&&i(k)),n!==M?(r=m(),r!==M?(Te=t,n=z(r),t=n):(Me=t,t=M)):(Me=t,t=M),t}function m(){var t,n,r,a,o,s;return t=Me,n=S(),n!==M?(r=S(),r!==M?(a=S(),a!==M?(58===e.charCodeAt(Me)?(o=j,Me++):(o=M,0===Ne&&i(V)),o!==M?(s=h(),s!==M?(Te=t,n=Y(n,r,a,s),t=n):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M),t}function h(){var t,n,r,a,o,s,u,l;return t=Me,n=b(),n!==M?(r=f(),r!==M?(a=Me,o=b(),o!==M?(124===e.charCodeAt(Me)?(s=J,Me++):(s=M,0===Ne&&i($)),s!==M?(u=b(),u!==M?(l=h(),l!==M?(o=[o,s,u,l],a=o):(Me=a,a=M)):(Me=a,a=M)):(Me=a,a=M)):(Me=a,a=M),a===M&&(a=null),a!==M?(Te=t,n=X(r,a),t=n):(Me=t,t=M)):(Me=t,t=M)):(Me=t,t=M),t}function f(){var t,n,r,a,o,s,u,l,c,p;if(t=Me,40===e.charCodeAt(Me)?(n=A,Me++):(n=M,0===Ne&&i(C)),n!==M)if(r=b(),r!==M)if(a=h(),a!==M)if(o=b(),o!==M)if(41===e.charCodeAt(Me)?(s=N,Me++):(s=M,0===Ne&&i(I)),s!==M){for(u=[],l=Me,c=b(),c!==M?(e.substr(Me,2)===Q?(p=Q,Me+=2):(p=M,0===Ne&&i(Z)),p!==M?(c=[c,p],l=c):(Me=l,l=M)):(Me=l,l=M);l!==M;)u.push(l),l=Me,c=b(),c!==M?(e.substr(Me,2)===Q?(p=Q,Me+=2):(p=M,0===Ne&&i(Z)),p!==M?(c=[c,p],l=c):(Me=l,l=M)):(Me=l,l=M);u!==M?(Te=t,n=ee(a,u),t=n):(Me=t,t=M)}else Me=t,t=M;else Me=t,t=M;else Me=t,t=M;else Me=t,t=M;else Me=t,t=M;return t===M&&(t=v()),t}function y(){var t,n,r,a,o;if(t=Me,60===e.charCodeAt(Me)?(n=te,Me++):(n=M,0===Ne&&i(ne)),n!==M)if(r=h(),r!==M){for(a=[],o=g();o!==M;)a.push(o),o=g();a!==M?(62===e.charCodeAt(Me)?(o=re,Me++):(o=M,0===Ne&&i(ie)),o!==M?(Te=t,n=ae(r,a),t=n):(Me=t,t=M)):(Me=t,t=M)}else Me=t,t=M;else Me=t,t=M;return t}function g(){var t,n,r;return t=Me,44===e.charCodeAt(Me)?(n=L,Me++):(n=M,0===Ne&&i(k)),n!==M?(r=h(),r!==M?(Te=t,n=D(r),t=n):(Me=t,t=M)):(Me=t,t=M),t}function v(){var t,n,r,a,o,s,u;if(Ne++,t=Me,n=[],r=S(),r!==M)for(;r!==M;)n.push(r),r=S();else n=M;if(n!==M)if(r=y(),r===M&&(r=null),r!==M){for(a=[],o=Me,s=b(),s!==M?(e.substr(Me,2)===Q?(u=Q,Me+=2):(u=M,0===Ne&&i(Z)),u!==M?(s=[s,u],o=s):(Me=o,o=M)):(Me=o,o=M);o!==M;)a.push(o),o=Me,s=b(),s!==M?(e.substr(Me,2)===Q?(u=Q,Me+=2):(u=M,0===Ne&&i(Z)),u!==M?(s=[s,u],o=s):(Me=o,o=M)):(Me=o,o=M);a!==M?(Te=t,n=se(n,r,a),t=n):(Me=t,t=M)}else Me=t,t=M;else Me=t,t=M;return Ne--,t===M&&(n=M,0===Ne&&i(oe)),t}function b(){var t,n;for(Ne++,t=[],le.test(e.charAt(Me))?(n=e.charAt(Me),Me++):(n=M,0===Ne&&i(ce));n!==M;)t.push(n),le.test(e.charAt(Me))?(n=e.charAt(Me),Me++):(n=M,0===Ne&&i(ce));return Ne--,t===M&&(n=M,0===Ne&&i(ue)),t}function S(){var t;return pe.test(e.charAt(Me))?(t=e.charAt(Me),Me++):(t=M,0===Ne&&i(de)),t===M&&(95===e.charCodeAt(Me)?(t=me,Me++):(t=M,0===Ne&&i(he)),t===M&&(45===e.charCodeAt(Me)?(t=fe,Me++):(t=M,0===Ne&&i(ye)),t===M&&(46===e.charCodeAt(Me)?(t=ge,Me++):(t=M,0===Ne&&i(ve)),t===M&&(be.test(e.charAt(Me))?(t=e.charAt(Me),Me++):(t=M,0===Ne&&i(Se)),t===M&&(we.test(e.charAt(Me))?(t=e.charAt(Me),Me++):(t=M,0===Ne&&i(Pe))))))),t}var w,P=arguments.length>1?arguments[1]:{},M={},T={Signature:o},E=o,A="(",C={type:"literal",value:"(",description:'"("'},N=")",I={type:"literal",value:")",description:'")"'},_="=>",x={type:"literal",value:"=>",description:'"=>"'},R=function(e,t){return{args:e,returnType:t?t[1]:null}},O=function(e,t){return[e].concat(t)},L=",",k={type:"literal",value:",",description:'","'},D=function(e){return e},U="?",F={type:"literal",value:"?",description:'"?"'},j=":",V={type:"literal",value:":",description:'":"'},K=function(e,t,n){return{name:e.join(""),type:n,opt:t?!0:!1}},B="{",q={type:"literal",value:"{",description:'"{"'},H="}",G={type:"literal",value:"}",description:'"}"'},W=function(e,t){return{type:"responses",codes:[e].concat(t)}},z=function(e){return e},Y=function(e,t,n,r){return{type:"codeAndType",expr:r,code:e+t+n}},J="|",$={type:"literal",value:"|",description:'"|"'},X=function(e,t){return t?{type:"union",first:e,rest:t[3]}:e},Q="[]",Z={type:"literal",value:"[]",description:'"[]"'},ee=function(e,t){return{type:"parens",expr:e,arr:t.length}},te="<",ne={type:"literal",value:"<",description:'"<"'},re=">",ie={type:"literal",value:">",description:'">"'},ae=function(e,t){return[e].concat(t)},oe={type:"other",description:"name"},se=function(e,t,n){return{type:"name",params:t,value:e.join(""),arr:n.length}},ue={type:"other",description:"whitespace"},le=/^[ \t\n\r]/,ce={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},pe=/^[A-Z]/,de={type:"class",value:"[A-Z]",description:"[A-Z]"},me="_",he={type:"literal",value:"_",description:'"_"'},fe="-",ye={type:"literal",value:"-",description:'"-"'},ge=".",ve={type:"literal",value:".",description:'"."'},be=/^[a-z]/,Se={type:"class",value:"[a-z]",description:"[a-z]"},we=/^[0-9]/,Pe={type:"class",value:"[0-9]",description:"[0-9]"},Me=0,Te=0,Ee=[{line:1,column:1,seenCR:!1}],Ae=0,Ce=[],Ne=0;if("startRule"in P){if(!(P.startRule in T))throw new Error("Can't start parsing from rule \""+P.startRule+'".');E=T[P.startRule]}if(w=E(),w!==M&&Me===e.length)return w;throw w!==M&&Me<e.length&&i({type:"end",description:"end of input"}),a(null,Ce,Ae<e.length?e.charAt(Ae):null,Ae<e.length?r(Ae,Ae+1):r(Ae,Ae))}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t,n){function r(e,t){var n=e.root().definition().universe();if(e.children().forEach(function(e){return r(e,t)}),e instanceof y.ASTPropImpl){var i=e,a=i.value();if("string"==typeof a){var o=a;v(o,t,i,!1,n)}else e.lowLevel().visit(function(e){if(e.value()){var r=e.value()+"";v(r,t,i,!0,n)}return!0})}else if(e instanceof y.BasicASTNode){var a=e.lowLevel().value();if("string"==typeof a){var o=a;v(o,t,null,!1,n)}else e.lowLevel().visit(function(e){if(e.value()){var r=e.value()+"";v(r,t,null,!0,n)}return!0})}}function i(e){if(!e)return null;if(e.associatedType())return e.associatedType();var t=e.lowLevel().unit(),n=t?t.path():"";if(e.property()&&"annotationTypes"==e.property().name())var i=new p.AnnotationType(e.name(),e.definition().universe(),e,n,"");else var i=new p.UserDefinedClass(e.name(),e.definition().universe(),e,n,"");e.setAssociatedType(i);var a=e.definition();if(a.isInlinedTemplates()){var o={};r(e,o),Object.keys(o).forEach(function(t){var n=new p.UserDefinedProp(t);n.withDomain(i);var r=m.unique(o[t]).map(function(e){return e.tp}).filter(function(e){return e&&"StringType"!=e.name()});n.withRange(1==r.length?r[0]:e.definition().universe().getType("StringType")),n.withRequired(!0),o[t].length>0&&(n._node=o[t][0].attr),n.unmerge()});var s=new p.UserDefinedProp("key");s.withDomain(i),s.withKey(!0),s._node=e,s.withFromParentKey(!0),s.withRange(e.definition().universe().getType("StringType"))}else if(a.getReferenceIs()){"RAML08"==a.universe().version()&&i.withAllowAny();var u=a.property(a.getReferenceIs());u&&u.range().properties().forEach(function(e){var t=new p.Property(e.name());t.unmerge(),t.withDomain(i),t.withRange(e.range()),t.withMultiValue(e.isMultiValue())})}else{var l=a.findMembersDeterminer();if(l){var d=e.elementsOfKind(l.name());d.forEach(function(e){var t=c(e);t.withDomain(i)})}var h=e.attributes("type"),y=e.attributes("schema");if(h=h.concat(y),"GlobalSchema"==e.definition().name()){var g=e.attributes("value");h=h.concat(g)}var v=0!=h.length;h.forEach(function(t){var r=t.value();if("string"==typeof r&&r){if(r=r.trim(),"{"==r.charAt(0)){var a=new p.ExternalType(e.name(),e.definition().universe(),n,"");a.schemaString=r,a.node=e;var o=e.definition().universe().getType("ObjectField");o&&i._superTypes.push(o),i._superTypes.push(a)}if("<"==r.charAt(0)){var a=new p.ExternalType(e.name(),e.definition().universe(),n,"");a.schemaString=r,a.node=e;var o=e.definition().universe().getType("ObjectField");o&&i._superTypes.push(o),i._superTypes.push(a)}}var s={};s[i.name()]=i;var u=null;r!=i.name()&&(u=f.getType(e.parent(),r,s)),u&&i._superTypes.push(u)}),i.addRequirement("type",e.name()),a.getExtendedType()&&i._superTypes.push(a.getExtendedType());var b=m.find(e.lowLevel().children(),function(e){return"properties"==e.key()});if(b){var S=e.definition().universe().getType("ObjectField");S&&i._superTypes.push(S)}else{if(e.property()&&"body"==e.property().name()){var S=e.definition().universe().getType("ObjectField");S&&i._superTypes.push(S)}else if(!v){var S=e.definition().universe().getType("StrElement");S&&"BodyLike"!=e.definition().name()&&"AnnotationType"!=e.definition().name()&&i._superTypes.push(S)}if(0==i._superTypes.length){var S=e.definition().universe().getType("DataElement");S&&i._superTypes.push(S)}}var w=e.definition().universe().getType("ObjectField");w&&e.lowLevel().children().forEach(function(e){"facets"!=e.key()&&"annotations"!=e.key()&&"parameters"!=e.key()&&(w.property(e.key())||i.fixFacet(e.key(),e))})}return i}function a(e){var t={name:"",regexp:null};if(e.length>2){e=e.substr(1,e.length-2);var n=e.lastIndexOf("#");-1!=n?(t.name=e.substr(n+1),t.regexp=e.substr(0,n)):t.regexp=e}return t}function o(e){var t=e.getDeclaringNode(),n=null;if(null!=t){var r=t.parent();if(r){var i=r.attributes("annotations");i.forEach(function(e){var t=e.value();if(t instanceof y.StructuredValue&&"(LibraryLocation)"==t.lowLevel().key()){var i=t.toHighlevel(r);i&&(n=s(i))}})}}return n}function s(e){if(e){var t=e.attr("value");if(t)return t.value()}return null}function u(e,t,n){return new S.Function(e).call(t,n)}function l(e){if(e){var t=b[e];if(t)return t==l?null:t;try{var n=new w;if(u(e,n,[]),n._result)return b[e]=n._result,n._result;b[e]=l}catch(r){b[e]=l}}return null}function c(e,t){void 0===t&&(t=!1);var n=e.name(),r=!1;n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1),r=!0);var i=new p.UserDefinedProp(n);i._node=e;try{var u=e.attr("description");if(u){var c=""+u.value();i.withDescription(c)}var v=e.attr("displayName");if(v){var c=""+v.value();i.withDisplayName(c)}var b=e.attr("example");if(b){var S=(new g.ExampleValidator).parseObject(b,{begin:function(){},end:function(){},accept:function(e){}},!1);i.setDefaultVal(S)}else{var w=e.elementsOfKind("examples");w.forEach(function(e){var t=e.attr("content");if(t){var n=(new g.ExampleValidator).parseObject(t,{begin:function(){},end:function(){},accept:function(e){}},!1);i.setDefaultVal(n)}})}}catch(e){console.log(e)}var P=e.attributes("annotations");if(P.forEach(function(t){var n=t.value();if(n instanceof y.StructuredValue){var r=n.toHighlevel(e);if(r){var a=r.definition();if("FacetInstanceValidator"==a.name()){var u=(a.getDeclaringNode(),o(a));if("http://raml.org/library/common.raml"==u){var n=s(r),c=l(n);c&&i.setFacetValidator(c)}}}}}),n.length>0)if("["==n[0]){r=!0;var M=a(n);M.regexp?i.withKeyRegexp(M.regexp):i.withKeyRestriction(""),M.name&&i.withDescription(M.name),i.withMultiValue()}else i.unmerge();var T=(e.definition().properties(),e.attr("type"));if(T){var E=T.value();if("any"==E){i.withMultiValue(!0);var A=new p.NodeClass("ObjectField",e.definition().universe(),"","");A.withAllowAny(),i.withRange(A)}else{var C=f.getType(e,E,{},!0);if(C&&(C=C.toRuntime(),C instanceof p.Array)){var N=C;N._af={},N.findFacets(e,N._af)}i.withRange(C)}if("pointer"==E){var I=e.attr("target");if(I)try{var _=h.parse(e,""+I.value());i.setSelector(_)}catch(e){}}}"value"==n&&e.parent()&&e.parent().definition().isAssignableFrom("AnnotationType")&&i.withCanBeValue(),e.definition().allProperties().forEach(function(t){if("type"!=t.name()&&t.describesAnnotation()){var n=t.describedAnnotation(),r=[],a=e.attributes(t.name()).map(function(e){return e.value()});1==a.length?r.push(a[0]):r.push(a);var o={name:n,arguments:r};d.recordAnnotation(i,o)}}),r&&i.withRequired(!1);var x=m.find(e.lowLevel().children(),function(e){return"properties"==e.key()});if(x){var R=e.definition().universe().getType("ObjectField"),O=new y.ASTNodeImpl(e.lowLevel(),e.parent(),R,i),L=e.lowLevel().unit(),k=new p.UserDefinedClass("",R.universe(),O,L?L.path():"","");k._superTypes.push(R),i.withRange(k.toRuntime())}if(null==i.range()&&i.withRange(new p.ValueType("String",e.definition().universe(),"")),"ObjectField"==i.range().name()&&i.range()instanceof p.NodeClass){var A=new p.NodeClass("ObjectField",i.range().universe(),"","");A.withAllowAny(),i.withRange(A)}return i}var p=n(15),d=n(70),m=n(16),h=n(75),f=n(64),y=n(17),g=n(77),v=function(e,t,n,r,i){for(var a=0;;){var o=e.indexOf("<<",a);if(-1==o)break;var s=e.indexOf(">>",o),u=0==o&&s==e.length-2,l=e.substring(o+2,s);a=o+2;var c=l.indexOf("|");if(-1!=c&&(l=l.substring(0,c)),l=l.trim(),"resourcePathName"!=l&&"methodName"!=l&&"resourcePath"!=l){var p=t[l],d=n?n.property().range():null;n&&("type"==n.property().name()||"schema"==n.property().name())&&"DataElement"==n.property().domain().name()&&(d=i.getType("SchemaString")),(!u||r)&&(d=i.getType("StringType")),p?p.push({tp:d,attr:n}):t[l]=[{tp:d,attr:n}]}}};t.typeFromNode=i,t.parsePropertyName=a,t.libraryLocation=o,t.valueOf=s;var b={},S=n(84),w=function(){function e(){}return e.prototype.register=function(e){this._result=e},e}();t.aquireValidator=l,t.elementToProp=c},function(e,t,n){function r(e){var t=new s.Universe(""),n={};return w(e,t,{},n),Object.keys(n).forEach(function(e){v(n[e],t)}),Object.keys(n).forEach(function(e){b(n[e],t)}),Object.keys(n).forEach(function(e){S(n[e],t)}),t.types().forEach(function(e){if(e instanceof s.NodeClass){var n=e;if(n.properties().forEach(function(e){var t=e.range();t.isValueType()||t.properties().forEach(function(t){if(t.isKey()){var n=t.keyPrefix();n&&(e.withKeyRestriction(n),e.merge());var r=t.getEnumOptions();r&&(e.withEnumOptions(r),e.merge())}})}),n.isGlobalDeclaration()){if(n.getActuallyExports()&&"$self"!=n.getActuallyExports()){var r=n.property(n.getActuallyExports()).range();if(r.isValueType()){var i=r;i.setGloballyDeclaredBy(n)}}if(n.getConvertsToGlobal()){var r=t.getType(n.getConvertsToGlobal());if(r.isValueType()){var i=r;i.setGloballyDeclaredBy(n)}}}}}),t}function i(e,t){P[t.name](t,e)}function a(e,t,n,r){var i=s.prop(e.name(),"",t,n);e.isMultiValue()&&i.withMultiValue(!0),i.unmerge(),n.isValueType()||n.properties().forEach(function(e){if(e.isKey()){var t=e.keyPrefix();t&&(i.withKeyRestriction(t),i.merge());var n=e.getEnumOptions();n&&(i.withEnumOptions(n),i.merge())}}),M(e,i,r)}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=(n(71),n(15)),u=n(16),l=n(74),c=function(){function e(e,t){this._field=e,this._clazz=t}return e.prototype.name=function(){return this._field.name},e.prototype.range=function(){return this._clazz.getModule().typeFor(this._field.type,this._clazz)},e.prototype.isMultiValue=function(){return 1==this._field.type.typeKind},e.prototype.isKey=function(){return null!=u.find(this._field.annotations,function(e){return"MetaModel.key"==e.name})},e.prototype.isSimpleValue=function(){return null!=u.find(this._field.annotations,function(e){return"MetaModel.value"==e.name})},e.prototype.annotations=function(){return this._field.annotations},e}(),p=function(){function e(e,t){this._field=e,this._clazz=t}return e.prototype.name=function(){return this._field.name},e.prototype.value=function(){return this._field.valueConstraint},e}(),d=function(){function e(e,t){this._clazz=e,this.mw=t}return e.prototype.typeMeta=function(){return this._clazz.annotations},e.prototype.path=function(){return this.mw.path()},e.prototype.getModule=function(){return this.mw},e.prototype.typeArgs=function(){return this._clazz.typeParameters},e.prototype.typConstraints=function(){var e=this;return this._clazz.typeParameterConstraint.map(function(t){return t?e.mw.classForName(t):null})},e.prototype.methods=function(){return this._clazz.methods},e.prototype.name=function(){return this._clazz.name},e.prototype.members=function(){var e=this;return this._clazz.fields.filter(function(e){return null==e.valueConstraint}).map(function(t){return new c(t,e)})},e.prototype.constraints=function(){var e=this;return this._clazz.fields.filter(function(e){return null!=e.valueConstraint}).map(function(t){return new p(t,e)})},e.prototype.isSubTypeOf=function(e){if(this==e)return!0;var t=!1;return this.getAllSuperTypes().forEach(function(n){t||(t=t||n.isSubTypeOf(e))}),t},e.prototype.getExtendsClauses=function(){return this._clazz["extends"]},e.prototype.getSuperTypes=function(){var e=this,t=[];return this._clazz["extends"].forEach(function(n){var r=e.mw.classForName(n.typeName);r&&t.push(r)}),t},e.prototype.getAllSuperTypes=function(){var e=this,t=[];return this._clazz["extends"].forEach(function(n){var r=e.mw.classForName(n.typeName);if(r){var i=r.getAllSuperTypes();t.push(r),t.concat(i)}}),u.unique(t)},e.prototype.annotationOverridings=function(){return this._clazz.annotationOverridings},e}(),m=function(){function e(){}return e.prototype.members=function(){return[]},e.prototype.methods=function(){return[]},e.prototype.isSubTypeOf=function(e){return!1},e.prototype.getSuperTypes=function(){return[]},e.prototype.getAllSuperTypes=function(){return[]},e.prototype.name=function(){return null},e.prototype.constraints=function(){return[]},e.prototype.typeMeta=function(){return[]},e.prototype.getModule=function(){throw new Error("Not implemented")},e.prototype.annotationOverridings=function(){return{}},e}(),h=function(e){function t(t,n){e.call(this),this._clazz=t,this.mw=n}return o(t,e),t.prototype.getModule=function(){return this.mw},t.prototype.values=function(){return this._clazz.members},t.prototype.name=function(){return this._clazz.name},t}(m),f=function(e){function t(t,n){e.call(this),this._clazz=t,this.mw=n}return o(t,e),t.prototype.elements=function(){return this._clazz},t.prototype.name=function(){return this._clazz.map(function(e){return e.name()}).join("|")},t}(m),y=function(){function e(e){var t=this;this._univers=e,this.name2Class={},this.namespaceToMod={},this._classes=[],e.classes.forEach(function(e){var n=new d(e,t);t._classes.push(n),t.name2Class[e.name]=n,e.moduleName&&(t.name2Class[e.moduleName+"."+e.name]=n)}),e.enumDeclarations.forEach(function(e){var n=new h(e,t);t._classes.push(n),t.name2Class[e.name]=n})}return e.prototype.typeFor=function(e,t){var n=this;switch(e.typeKind){case 0:var r=e,i=r.typeName;"string"==i&&(i="StringType"),"number"==i&&(i="NumberType"),"boolean"==i&&(i="BooleanType");var a=u.indexOf(t.typeArgs(),i);if(-1!=a){var o=t.typConstraints()[a];return o?o:this.classForName("ValueType")}return this.classForName(i);case 2:var s=e;return new f(s.options.map(function(e){return n.typeFor(e,t)}),this);case 1:var l=e;return this.typeFor(l.base,t)}return null},e.prototype.path=function(){return this._univers.name},e.prototype.classForName=function(e,t){var n=this;if(void 0===t&&(t={}),!e)return null;var r=this.name2Class[e];if(!r&&!t[this.path()]){t[this.path()]=this;var i=e.indexOf(".");if(-1!=i){var a=this.namespaceToMod[e.substring(0,i)];if(!a)throw new Error;return a.classForName(e.substring(i+1),t)}Object.keys(this.namespaceToMod).forEach(function(i){if("MetaModel"!=i){var a=n.namespaceToMod[i].classForName(e,t);a&&(r=a)}})}return r},e.prototype.classes=function(){return this._classes},e}(),g=function(e,t){if(e){var n;if(e instanceof f){var r=e;n=new s.UnionType(r.elements().map(function(e){return g(e,t)}))}else n=t.type(e.name());return n}},v=function(e,t){var n=e.classForName("ValueType");e.classes().forEach(function(e){if(e instanceof h){var r=new s.EnumType(e.name(),t,e.getModule().path());return r.values=e.values(),void t.register(r)}if(e.isSubTypeOf(n)){var i=e.getAllSuperTypes();i.push(e);var a=null,o=null;if(i.forEach(function(e){var t=e.getExtendsClauses();t.forEach(function(e){if(0==e.typeKind){var t=e;if("Reference"==t.basicName){var n=t.typeArguments[0];a=n.typeName}if("ScriptingHook"==t.basicName){var n=t.typeArguments[0];o=n.basicName}}})}),a){var u=new s.ReferenceType(e.name(),e.getModule().path(),a,t);t.register(u)}if(o){var l=new s.ScriptingHookType(e.name(),e.getModule().path(),o,t);t.register(l)}var c=new s.ValueType(e.name(),t,e.getModule().path());t.register(c)}else{var p=new s.NodeClass(e.name(),t,e.getModule().path());t.register(p)}})},b=function(e,t){e.classes().forEach(function(e){e.getSuperTypes().forEach(function(n){var r=t.type(e.name()),i=t.type(n.name());if(!r||!i){var r=t.type(e.name()),i=t.type(n.name());throw new Error}t.registerSuperClass(r,i)})})},S=function(e,t){e.classes().forEach(function(e){var n=t.type(e.name());e.typeMeta().forEach(function(n){if("MetaModel.declaresSubTypeOf"==n.name){var r=g(e,t);r.setExtendedTypeName(n.arguments[0])}if("MetaModel.nameAtRuntime"==n.name){var r=g(e,t);r.setNameAtRuntime(n.arguments[0])}if("MetaModel.description"==n.name){var r=g(e,t);r.withDescription(n.arguments[0])}if("MetaModel.inlinedTemplates"==n.name){var r=g(e,t);r.setInlinedTemplates(!0)}if("MetaModel.requireValue"==n.name){var r=g(e,t);r.withContextRequirement(""+n.arguments[0],""+n.arguments[1])}if("MetaModel.referenceIs"==n.name){var r=g(e,t);r.withReferenceIs(""+n.arguments[0])}if("MetaModel.actuallyExports"==n.name){var r=g(e,t);r.withActuallyExports(""+n.arguments[0])}if("MetaModel.convertsToGlobalOfType"==n.name){var r=g(e,t);r.withConvertsToGlobal(""+n.arguments[0])}if("MetaModel.allowAny"==n.name){var r=g(e,t);r.withAllowAny()}if("MetaModel.allowQuestion"==n.name){var r=g(e,t);r.withAllowQuestion()}if("MetaModel.functionalDescriminator"==n.name){var i=g(e,t);i.withFunctionalDescriminator(""+n.arguments[0])}if("MetaModel.alias"==n.name){var a=g(e,t);a.addAlias(""+n.arguments[0])}if("MetaModel.consumesRefs"==n.name){var a=g(e,t);a.setConsumesRefs(!0)}if("MetaModel.canInherit"==n.name){var o=g(e,t);o.withCanInherit(""+n.arguments[0])}if("MetaModel.definingPropertyIsEnough"==n.name){var o=g(e,t);o.definingPropertyIsEnough(""+n.arguments[0])}}),e.members().forEach(function(e){var r=e.range(),i=g(r,t);null==i&&console.log(r+":"+e.name()),a(e,n,i)}),Object.keys(e.annotationOverridings()).forEach(function(r){var i=[].concat(e.annotationOverridings()[r]),o={};i.forEach(function(e){return o[e.name]=!0});for(var s,u=e.getSuperTypes(),l={},c=0;c<u.length;c++){var p=u[c];if(!l[p.name()]){l[p.name()]=!0,p.getSuperTypes().forEach(function(e){return u.push(e)});var d=p.annotationOverridings()[r];if(d)d.filter(function(e){return!o[e.name]}).forEach(function(e){o[e.name]=!0,i.push(e)});else for(var m=p.members(),h=0;h<m.length;h++){var f=m[h];if(f.name()==r){s=f;break}}if(s){var y=s.annotations();y.filter(function(e){return!o[e.name]}).forEach(function(e){o[e.name]=!0,i.push(e)});break}}}if(s){var v=s.range(),b=g(v,t);null==b&&console.log(v+":"+e.name()),a(s,n,b,i)}}),e.methods().forEach(function(e){var t=n;t.addMethod(e.name,e.text)}),e.constraints().forEach(function(e){if(e.value().isCallConstraint)throw new Error;var t=e.value();n.addRequirement(e.name(),""+t.value)})}),t.types().forEach(function(e){if(e instanceof s.AbstractType){var n=e;n.getAliases().forEach(function(e){return t.registerAlias(e,n)})}})},w=function(e,t,n,r){if(-1==e.name.indexOf("metamodel.ts")){if(r[e.name])return r[e.name];var i=new y(e);return n[e.name]=i,r[e.name]=i,Object.keys(e.imports).forEach(function(a){var o=e.imports[a];if(n[o.name])return void(i.namespaceToMod[a]=n[o.name]);var s=w(o,t,n,r);i.namespaceToMod[a]=s}),n[e.name]=null,i}};t.toDefSystem=r;var P={key:function(e,t){t.withFromParentKey(),t.withKey(!0)},value:function(e,t){t.withFromParentValue()},canBeValue:function(e,t){t.withCanBeValue()},unmerged:function(e,t){t.unmerge()},startFrom:function(e,t){t.withKeyRestriction(e.arguments[0]),t.merge()},oneOf:function(e,t){t.withEnumOptions(e.arguments[0])},oftenKeys:function(e,t){t.withOftenKeys(e.arguments[0])},embeddedInMaps:function(e,t){t.withEmbedMap()},system:function(e,t){t.withSystem(!0)},required:function(e,t){"false"!=e.arguments[0]&&t.withRequired(!0)},noDirectParse:function(e,t){"false"!=e.arguments[0]&&t.withNoDirectParse()},setsContextValue:function(e,t){t.addChildValueConstraint(new s.ChildValueConstraint(""+e.arguments[0],""+e.arguments[1]))},defaultValue:function(e,t){t.setDefaultVal(""+e.arguments[0])},facetId:function(e,t){"minItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=Number.parseInt(""+t.value());if(n>e.length)return"array should contain at least "+t.value()+" items"}return null}),"maxItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=Number.parseInt(""+t.value());if(n<e.length)return"array should contain not more then "+t.value()+" items"}return null}),"minProperties"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Object){var n=Number.parseInt(""+t.value());if(n>Object.keys(e).length)return"object should contain at least "+t.value()+" properties"}return null}),"maxProperties"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Object){var n=Number.parseInt(""+t.value());if(n<Object.keys(e).length)return"object should contain not more then "+t.value()+" properties"}return null}),"uniqueItems"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(e instanceof Array){var n=u.unique(e).length;if(n<e.length)return"array should contain only unique items"}return null}),"minLength"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=Number.parseInt(""+t.value());if(n>e.length)return"string length should be at least "+n}return null}),"maxLength"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=Number.parseInt(""+t.value());if(n<e.length)return"string length should be not more then "+n}return null}),"minimum"==e.arguments[0]&&t.setFacetValidator(function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){var n=parseFloat(t.value());if(n>e)return"value should be not less then "+n}return null}),"maximum"==e.arguments[0]&&t.setFacetValidator(function(e,t){if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){var n=parseFloat(t.value());if(e>n)return"value should be not more then "+n}return null}),"pattern"==e.arguments[0]&&t.setFacetValidator(function(e,t){if(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),"string"==typeof e){var n=new RegExp(t.value());if(!n.test(e))return"string should match to "+t.value()}return null})},extraMetaKey:function(e,t){if("statusCodes"==e.arguments[0]&&(t.withOftenKeys(l.statusCodes.map(function(e){return e.code})),t.setValueDocProvider(function(e){var t=u.find(l.statusCodes,function(t){return t.code==e});return t?e+":"+t.description:null})),"annotationTargets"==e.arguments[0]){var n=[];n.push("Parameter"),n.push("Field"),n.push("GlobalSchema"),n=n.concat(["API","DocumentationItem","Resource","Method","Response","RequestBody","ResponseBody","DataElement","NamedExample","ResourceType","Trait","SecurityScheme","SecuritySchemeSettings","AnnotationType","Library","Overlay","Extension"]),t.withEnumOptions(n)}"headers"==e.arguments[0]&&(t.setValueSuggester(function(e){console.log(e);var t=e.property().getChildValueConstraints();return u.find(t,function(e){return"location"==e.name&&"Params.ParameterLocation.HEADERS"==e.value})?l.headers.map(function(e){return e.header}):e.property()&&"headers"==e.property().name()?l.headers.map(function(e){return e.header}):null}),t.setValueDocProvider(function(e){var t=u.find(l.headers,function(t){return t.header==e});return t?e+":"+t.description:null})),"methods"==e.arguments[0]&&t.setValueDocProvider(function(e){var t=u.find(l.methods,function(t){return t.method==e.toUpperCase()});return t?e+":"+t.description:null})},requireValue:function(e,t){t.withContextRequirement(""+e.arguments[0],""+e.arguments[1])},allowMultiple:function(e,t){t.withMultiValue(!0)},selector:function(e,t){t.setSelector(""+e.arguments[0])},constraint:function(e,t){},newInstanceName:function(e,t){t.withNewInstanceName(""+e.arguments[0])},declaringFields:function(e,t){t.withThisPropertyDeclaresFields()},describesAnnotation:function(e,t){t.withDescribes(e.arguments[0])},allowNull:function(e,t){t.withAllowNull()},descriminatingProperty:function(e,t){t.withDescriminating(!0)},description:function(e,t){t.withDescription(""+e.arguments[0])},issue:function(e,t){t.withIssue(""+e.arguments[0])},inherited:function(e,t){t.withInherited(!0)},version:function(e,t){t.withVersion(""+e.arguments[0])},needsClarification:function(e,t){t.withClarify(""+e.arguments[0])},thisFeatureCovers:function(e,t){t.withThisFeatureCovers(""+e.arguments[0])},selfNode:function(e,t){t.withSelfNode()},valueRestriction:function(e,t){t.withValueRewstrinction(""+e.arguments[0],""+e.arguments[1])},grammarTokenKind:function(e,t){t.withPropertyGrammarType(""+e.arguments[0])},canInherit:function(e,t){t.withInheritedContextValue(""+e.arguments[0])},canBeDuplicator:function(e,t){t.setCanBeDuplicator()},hide:function(e,t){0==e.arguments.length?t.setHidden(!0):t.setHidden(e.arguments[0])},documentationTableLabel:function(e,t){t.setDocTableName(""+e.arguments[0])},markdownDescription:function(e,t){t.setMarkdownDescription(""+e.arguments[0])},valueDescription:function(e,t){t.setValueDescription(null!=e.arguments[0]?""+e.arguments[0]:null)}};t.recordAnnotation=i;var M=function(e,t,n){n||(n=e.annotations()),n.forEach(function(e){var n=e.name.substring(e.name.lastIndexOf(".")+1);P[n]||console.log("Can not find handler for:"),P[n](e,t)})}},function(e,t,n){function r(e){return g.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function i(e,t){return{name:e,methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:t,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}}function a(e,t,n){var s=r(e),u={classes:[],aliases:[],enumDeclarations:[],imports:{},name:n};t[n]=u;var l=null;return v.Matching.visit(s,function(r){if(189==r.kind){var s=r;l=s.name.text}if(191==r.kind){var c=r,p=c.name.text;if("RamlWrapper"==p)return;if(193!=c.moduleReference.kind)throw new Error("Only external module references are supported now");var d=c.moduleReference;if(7!=d.expression.kind)throw new Error("Only string literals are supported in module references ");var m=d.expression,h=m.text,y=b.resolve(b.dirname(n)+"/",h)+".ts";if(!S.existsSync(y))throw new Error("Path "+h+" resolve to "+y+"do not exists");if(!t[y]){var g=S.readFileSync(y).toString();a(g,t,y)}u.imports[p]=t[y]}if(187==r.kind){var P=r,M=P.name.text,T=f(P.type,n);u.aliases.push({name:M,type:T})}if(188==r.kind){var E=r,A=[];E.members.forEach(function(e){A.push(e.name.text)}),u.enumDeclarations.push({name:E.name.text,members:A})}var C=186==r.kind,N=185==r.kind;if(C||N){var I=r;if(I){var _={},x=i(I.name.text,C);return x.moduleName=l,u.classes.push(x),I.members.forEach(function(t){if(125==t.kind){var r=t,i=r.name.text,a=e.substring(r.pos,r.end);x.methods.push({name:i,start:r.pos,end:r.end,text:a})}var s=w.doMatch(t);if(s){var u=o(s,n);if("$"==u.name)x.annotations=u.annotations;else if("$"!=u.name.charAt(0)||"$ref"==u.name)_[u.name]=u,x.fields.push(u);else{var l=u.name.substr(1),c=_[l];if(c)c.annotations=u.annotations;else if("$$"!=u.name){var p=x.annotationOverridings[l];p||(p=[]),x.annotationOverridings[l]=p.concat(u.annotations)}}}}),I.typeParameters&&I.typeParameters.forEach(function(e){x.typeParameters.push(e.name.text),null==e.constraint?x.typeParameterConstraint.push(null):x.typeParameterConstraint.push(e.constraint.typeName.text)}),I.heritageClauses&&I.heritageClauses.forEach(function(e){e.types.forEach(function(t){
if(77==e.token)x["extends"].push(f(t,n));else{if(100!=e.token)throw new Error("Unknown token class heritage");x["implements"].push(f(t,n))}})}),v.Matching.SKIP}}}),u}function o(e,t){return{name:e.name.text,type:f(e.type,t),annotations:"$"==e.name.text.charAt(0)?u(e.initializer):[],valueConstraint:"$"!=e.name.text.charAt(0)?s(e.initializer):null,optional:null!=e.questionToken}}function s(e){return null==e?null:145==e.kind?{isCallConstraint:!0,value:l(e)}:{isCallConstraint:!1,value:c(e)}}function u(e){if(null==e)return[];if(141==e.kind){var t=e,n=[];return t.elements.forEach(function(e){n.push(l(e))}),n}throw new Error("Only Array Literals supported now")}function l(e){if(145==e.kind){var t=e,n=p(t.expression),r={name:n,arguments:[]};return t.arguments.forEach(function(e){r.arguments.push(c(e))}),r}throw new Error("Only call expressions may be annotations")}function c(e){if(7==e.kind){var t=e;return t.text}if(9==e.kind){var n=e;return n.text}if(141==e.kind){var r=e,i=[];return r.elements.forEach(function(e){i.push(c(e))}),i}if(93==e.kind)return!0;if(143==e.kind){var a=e;return c(a.expression)+"."+c(a.name)}if(63==e.kind){var o=e;return o.text}if(78==e.kind)return!1;if(6==e.kind){var s=e;return s.text}if(157==e.kind){var u=e;if(u.operator=32)return c(u.left)+c(u.right)}throw new Error("Unknown value in annotation")}function p(e){if(63==e.kind)return e.text;if(143==e.kind){var t=e;return p(t.expression)+"."+p(t.name)}throw new Error("Only simple identifiers are supported now")}function d(e,t){var n=e.indexOf("."),r=-1!=n?e.substring(0,n):"",i=-1!=n?e.substring(n+1):e;return{typeName:e,nameSpace:r,basicName:i,typeKind:0,typeArguments:[],modulePath:t}}function m(e){return{base:e,typeKind:1}}function h(e){return{options:e,typeKind:2}}function f(e,t){if(null==e)return null;if(118==e.kind)return d("string",null);if(116==e.kind)return d("number",null);if(110==e.kind)return d("boolean",null);if(109==e.kind)return d("any",null);if(132==e.kind){var n=e,r=d(y(n.typeName),t);return n.typeArguments&&n.typeArguments.forEach(function(e){r.typeArguments.push(f(e,t))}),r}if(137==e.kind){var i=e;return m(f(i.elementType,t))}if(139==e.kind){var a=e;return h(a.types.map(function(e){return f(e,t)}))}throw new Error("Case not supported"+e.kind)}function y(e){if(63==e.kind)return e.text;var t=e;return y(t.left)+"."+y(t.right)}var g=n(72),v=n(73),b=n(10),S=n(4),w=v.Matching.field(),P=(v.Matching.classDeclaration(),function(){function e(){}return e}());t.EnumDeclaration=P,function(e){e[e.BASIC=0]="BASIC",e[e.ARRAY=1]="ARRAY",e[e.UNION=2]="UNION"}(t.TypeKind||(t.TypeKind={}));t.TypeKind;t.classDecl=i,t.parseStruct=a},function(e,t){e.exports=require("typescript")},function(e,t,n){var r,i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(72);!function(e){function t(n,r){var i=r(n);if(i)return i==e.SKIP?null:i;var o=a.forEachChild(n,function(e){var n=t(e,r);return n?n:void 0});return o}function n(e,t){void 0===t&&(t=function(e){return!0});for(var n=e.split("."),i=null,a=0;a<n.length;a++){var s=n[a],u=s.indexOf("(*)"),l=!1;-1!=u&&(s=s.substr(0,u),l=!0),i=null==i?"*"==s?o():r(s):new T(i,"*"==s?o():r(s),t),l&&(i=new w(i,t))}return i}function r(e){return new b(e)}function o(){return new S}function s(e,t){return void 0===t&&(t=function(e){return!0}),new w(e,t)}function u(e,t){return void 0===t&&(t=function(e){return!0}),new v(e,t)}function l(e,t,n){return void 0===n&&(n=function(e){return!0}),new y(e,t,n)}function c(e,t,n){return void 0===n&&(n=function(e){return!0}),new g(e,t,n)}function p(){return new f}function d(){return new h}var m=function(){function e(){}return e.prototype.match=function(e){throw new Error},e.prototype.nodeType=function(){throw new Error},e.prototype.doMatch=function(e){return e?this.nodeType()==e.kind?this.match(e):void 0:null},e}(),h=function(e){function t(){e.call(this)}return i(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return 185},t}(m),f=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return 124},t}(m),y=function(e){function t(t,n,r){e.call(this),this.left=t,this.right=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return 51==e.operator&&this.left.doMatch(e.left)&&this.right.doMatch(e.right)?this.tr(e):null},t.prototype.nodeType=function(){return 157},t}(m),g=function(e){function t(t,n,r){e.call(this),this.left=t,this.right=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return this.left.doMatch(e.name)&&this.right.doMatch(e.initializer)?this.tr(e):void 0},t.prototype.nodeType=function(){return 183},t}(m),v=function(e){function t(t,n){e.call(this),this.expression=t,this.tr=n}return i(t,e),t.prototype.match=function(e){var t=this.expression.doMatch(e.expression);if(t){var n=this.tr(e.expression);return 1==n?t:n}return null},t.prototype.nodeType=function(){return 166},t}(m),b=function(e){function t(t){e.call(this),this.val=t}return i(t,e),t.prototype.match=function(e){return e.text==this.val?!0:null},t.prototype.nodeType=function(){return 63},t}(m),S=function(){function e(){}return e.prototype.doMatch=function(e){return!0},e.prototype.nodeType=function(){return null},e}(),w=function(e){function t(t,n){e.call(this),this.calleeMatcher=t,this.tr=n}return i(t,e),t.prototype.match=function(e){return this.calleeMatcher.doMatch(e.expression)?this.tr(e):null},t.prototype.nodeType=function(){return 145},t}(m);e.SKIP={},e.visit=t;var P=function(){function e(e,t){this._base=t,this.arguments=null,this.name=e}return e}(),M=function(){function e(e,t){this._baseNode=t,this.path=[],this.base=e}return e.prototype.start=function(){return this._baseNode.pos},e.prototype.startLocation=function(){return this._baseNode.getSourceFile().getLineAndCharacterFromPosition(this.start())},e.prototype.endLocation=function(){return this._baseNode.getSourceFile().getLineAndCharacterFromPosition(this.end())},e.prototype.end=function(){var e=this.path[this.path.length-1]._callExpression;return e?e.end:this.start()},e.prototype.toString=function(){return this.path.map(function(e){return e.name}).join(".")},e}();e.CallPath=M;var T=function(e){function t(t,n,r){e.call(this),this.objectMatcher=t,this.propertyMatcher=n,this.tr=r}return i(t,e),t.prototype.match=function(e){return this.objectMatcher.doMatch(e.expression)&&this.propertyMatcher.doMatch(e.name)?this.tr(e):null},t.prototype.nodeType=function(){return 143},t}(m);e.memberFromExp=n;var E=function(){function e(e){this.rootMatcher=e}return e.prototype.doMatch=function(e){if(145==e.kind){var t=e,n=this.doMatch(t.expression);if(n)return n.path.length>0&&null==n.path[n.path.length-1].arguments?(n.path[n.path.length-1].arguments=t.arguments,n.path[n.path.length-1]._callExpression=t,n):null}else if(143==e.kind){var r=e,i=this.doMatch(r.expression);if(i)return 63==r.name.kind?(i.path.push(new P(r.name.text,r.name)),i):null}else if(63==e.kind){var a=e;if(this.rootMatcher.doMatch(a))return new M(a.text,a)}return null},e.prototype.nodeType=function(){return null},e}();e.CallBaseMatcher=E,e.ident=r,e.anyNode=o,e.call=s,e.exprStmt=u,e.assign=l,e.varDecl=c,e.field=p,e.classDeclaration=d}(r=t.Matching||(t.Matching={}))},function(e,t){e.exports=require("know-your-http-well")},function(e,t,n){function r(e,t){if("or"==e.type){var n=e,i=r(n.left,t),a=r(n.right,t);return new c(i,a)}if("dot"==e.type){var n=e,i=r(n.left,t),a=r(n.right,t);return new p(i,a)}if("classLiteral"==e.type){var o=e,s=t.definition().universe().getType(o.name);if(null==s||s.isValueType())throw new Error("Referencing unknown type:"+o.name);return new d(o.name)}return"parent"==e.type?new f:"ancestor"==e.type?new m:"descendant"==e.type?new h:"child"==e.type?new y:void 0}function i(e,t){t.push(e),e.elements().forEach(function(e){return i(e,t)})}function a(e,t){return r(u.parse(t),e)}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(16),u=n(76),l=function(){function e(){}return e.prototype.candidates=function(e){return e},e.prototype.apply=function(e){return this.candidates([e])},e}();t.Selector=l;var c=function(e){function t(t,n){e.call(this),this.left=t,this.right=n}return o(t,e),t.prototype.candidates=function(e){var t=this.left.candidates(e);return t=t.concat(this.right.candidates(e)),s.unique(t)},t}(l);t.OrMatch=c;var p=function(e){function t(t,n){e.call(this),this.left=t,this.right=n}return o(t,e),t.prototype.candidates=function(e){var t=this.left.candidates(e);return this.left instanceof m?(t=this.right.candidates((new h).candidates(t)),s.unique(t)):this.left instanceof f?(t=this.right.candidates((new h).candidates(t)),s.unique(t)):(t=this.right.candidates(t),s.unique(t))},t}(l);t.DotMatch=p,t.resolveSelector=r;var d=function(e){function t(t){e.call(this),this.name=t}return o(t,e),t.prototype.candidates=function(e){var t=this;return e.filter(function(e){if(!e)return!1;if(e.definition().name()==t.name)return!0;var n=e.definition().allSuperTypes();return s.find(n,function(e){return e.name()==t.name})?!0:!1})},t}(l);t.IdMatch=d;var m=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){if(e)for(var n=e.parent();n;)t.push(n),n=n.parent()}),s.unique(t)},t}(l);t.AnyParentMatch=m;var h=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){e&&i(e,t)}),s.unique(t)},t}(l);t.AnyChildMatch=h;var f=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){return e.map(function(e){return e.parent()})},t}(l);t.ParentMatch=f;var y=function(e){function t(){e.apply(this,arguments)}return o(t,e),t.prototype.candidates=function(e){var t=[];return e.forEach(function(e){e&&(t=t.concat(e.elements()))}),t},t}(l);t.ChildMatch=y,t.parse=a},function(e,t){var n=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,i,a){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=i,this.column=a,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var i,a;for(i=n;r>i;i++)a=e.charAt(i),"\n"===a?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return q!==t&&(q>t&&(q=0,H={line:1,column:1,seenCR:!1}),n(H,q,t),q=t),H}function r(e){G>K||(K>G&&(G=K,W=[]),W.push(e))}function i(r,i,a){function o(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}var u=n(a),l=a<e.length?e.charAt(a):null;return null!==i&&o(i),new t(null!==r?r:s(i,l),i,l,a,u.line,u.column)}function a(){var e;return e=o()}function o(){var t,n,i,a;return t=K,n=s(),n!==y?(124===e.charCodeAt(K)?(i=S,K++):(i=y,0===z&&r(w)),i!==y?(a=o(),a!==y?(B=t,n=P(n,a),t=n):(K=t,t=b)):(K=t,t=b)):(K=t,t=b),t===y&&(t=s()),t}function s(){var t,n,i,a;return t=K,n=u(),n!==y?(46===e.charCodeAt(K)?(i=M,K++):(i=y,0===z&&r(T)),i!==y?(a=s(),a!==y?(B=t,n=E(n,a),t=n):(K=t,t=b)):(K=t,t=b)):(K=t,t=b),t===y&&(t=u()),t}function u(){var e;return e=m(),e===y&&(e=p(),e===y&&(e=d(),e===y&&(e=c(),e===y&&(e=l())))),e}function l(){var t,n;return t=K,36===e.charCodeAt(K)?(n=A,K++):(n=y,0===z&&r(C)),n!==y&&(B=t,n=N()),t=n}function c(){var t,n;return t=K,e.substr(K,2)===I?(n=I,K+=2):(n=y,0===z&&r(_)),n!==y&&(B=t,n=x()),t=n}function p(){var t,n;return t=K,e.substr(K,2)===R?(n=R,K+=2):(n=y,0===z&&r(O)),n!==y&&(B=t,n=L()),t=n}function d(){var t,n;return t=K,42===e.charCodeAt(K)?(n=k,K++):(n=y,0===z&&r(D)),n!==y&&(B=t,n=U()),t=n}function m(){var t,n,i;if(t=K,n=[],F.test(e.charAt(K))?(i=e.charAt(K),K++):(i=y,0===z&&r(j)),i!==y)for(;i!==y;)n.push(i),F.test(e.charAt(K))?(i=e.charAt(K),K++):(i=y,0===z&&r(j));else n=b;return n!==y&&(B=t,n=V(n)),t=n}var h,f=arguments.length>1?arguments[1]:{},y={},g={start:a},v=a,b=y,S="|",w={type:"literal",value:"|",description:'"|"'},P=function(e,t){return{type:"or",left:e,right:t?t:null}},M=".",T={type:"literal",value:".",description:'"."'},E=function(e,t){return{type:"dot",left:e,right:t}},A="$",C={type:"literal",value:"$",description:'"$"'},N=function(){return{type:"parent"}},I="$$",_={type:"literal",value:"$$",description:'"$$"'},x=function(){return{type:"ancestor"}},R="**",O={type:"literal",value:"**",description:'"**"'},L=function(){return{type:"descendant"}},k="*",D={type:"literal",value:"*",description:'"*"'},U=function(){return{type:"child"}},F=/^[A-z]/,j={type:"class",value:"[A-z]",description:"[A-z]"},V=function(e){return{type:"classLiteral",name:e.join("")}},K=0,B=0,q=0,H={line:1,column:1,seenCR:!1},G=0,W=[],z=0;if("startRule"in f){if(!(f.startRule in g))throw new Error("Can't start parsing from rule \""+f.startRule+'".');v=g[f.startRule]}if(h=v(),h!==y&&K===e.length)return h;throw h!==y&&K<e.length&&r({type:"end",description:"end of input"}),i(null,W,G)}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t,n){function r(e,t,n){return new E.Function(e).call(t,n)}function i(e,t){var n=e.lowLevel().unit().absolutePath(),r=b.dirname(n),i=b.resolve(r,"raml-lint.js");A(i,t,e);var a=b.resolve(r,".raml");if(S.existsSync(a)){var o=S.statSync(a);if(o.isDirectory()){var s=S.readdirSync(a);s.forEach(function(n){-1!=n.indexOf("-lint.js")&&A(b.resolve(a,n),t,e)})}}}function a(e,t,n,r){if(n&&("null"!=n||!e.isAllowNull())){try{if("string"==typeof n){if("DataElement"==e.domain().name()&&("type"==e.name()||"items"==e.name()))return h.validate(n,t,r),!1;if("SchemaString"==e.range().name()&&"RAML10"==e.range().universe().version()&&e.range()instanceof d.ValueType)return h.validate(n,t,r),!1;if(!("schema"!=e.name()&&"type"!=e.name()||"BodyLike"!=e.domain().name()&&"DataElement"!=e.domain().name())){var i=n.trim();if(i.length>0&&"{"!=i.charAt(0)&&"<"!=i.charAt(0))return h.validate(n,t,r),!1;return}}}catch(a){r.accept(c(0,"Syntax error:"+a.message,t))}var o=e.isValidValue(n,t.parent());return o?!1:"string"==typeof n&&0==n.indexOf("x-")&&"type"==e.name()?!0:(r.accept(c(0,"Unresolved reference:"+n,t)),!0)}}function o(e){return-1!=e.indexOf("json")}function s(e){return-1!=e.indexOf("xml")}function u(e){var t=l(e);if("body"==t){var n=e.root().attr("mediaType");return n?n.value():null}return t}function l(e){if(e.parent()){if(e.parent().definition().isAssignableFrom("BodyLike")&&!e.parent().definition().isUserDefined())return e.parent().name();if(e.parent().parent()){if(e.parent().parent().definition().isAssignableFrom("Response")&&!e.parent().parent().definition().isUserDefined())return"headers"==e.parent().property().name()?null:e.parent().name();if(e.parent().parent().definition().isAssignableFrom("Method")&&!e.parent().parent().definition().isUserDefined())return"queryParameters"==e.parent().property().name()||"headers"==e.parent().property().name()?null:e.parent().name()}}return null}function c(e,t,n,r){void 0===r&&(r=!1);var i=null,a=null;if(n&&(a=n.property(),n.lowLevel().unit()!=n.root().lowLevel().unit())){i=F(n,e,r,t,!0,a);var o=n.lowLevel().unit();for(o&&(t=t+" "+o.path());n.lowLevel().unit()!=n.root().lowLevel().unit();)a=n.property(),n=n.parent()}i&&n.property()&&"uses"==n.property().name()&&null!=n.parent()&&(a=n.property(),n=n.parent());var s=F(n,e,r,t,!1,a);return i&&s.extras.push(i),s}var p=n(18),d=n(15),m=(n(14),n(16)),h=n(64),f=n(15),y=n(67),g=n(17),v=n(78),b=n(10),S=n(4),w=n(83),P=n(79),M=function(){function e(){this.validateNotStrictExamples=!0}return e}(),T=new M,E=n(84);t.evalInSandbox=r;var A=function(e,t,n){if(S.existsSync(e))try{var i=S.readFileSync(e).toString(),a=new C(t);r(i,a,null),a.visit(n)}catch(o){console.log("Error in custom linter"),console.log(o)}};t.lintNode=i;var C=function(){function e(e){this.acceptor=e,this.nodes={}}return e.prototype.error=function(e,t){this.acceptor.accept(c(7,t,e.highLevel()))},e.prototype.errorOnProperty=function(e,t,n){var r=e.highLevel().attr(t);this.acceptor.accept(c(7,n,r))},e.prototype.warningOnProperty=function(e,t,n){var r=e.highLevel().attr(t);this.acceptor.accept(c(7,n,r,!0))},e.prototype.warning=function(e,t){this.acceptor.accept(c(7,t,e.highLevel(),!0))},e.prototype.registerRule=function(e,t){var n=this.nodes[e];n||(n=[],this.nodes[e]=n),n.push(t)},e.prototype.visit=function(e){var t=this,n=e.definition();this.process(n,e),n.allSuperTypes().forEach(function(n){return t.process(n,e)}),e.elements().forEach(function(e){return t.visit(e)})},e.prototype.process=function(e,t){var n=this;if(e instanceof f.NodeClass&&!e.getDeclaringNode()){var r=this.nodes[e.name()];r&&r.forEach(function(e){return e(t.wrapperNode(),n)})}},e}();t.LinterExtensionsImpl=C;var N=function(){function e(){}return e.prototype.toString=function(){return this.prev?this.value+"."+this.prev.toString():this.value},e.prototype.last=function(){return this.prev?this.prev.last():this},e}(),I=function(){function e(e){this.node=e}return e.prototype.validate=function(e,t,n,r){if(t instanceof f.Array)this.validateArray(e,t,n,r);else if(t instanceof f.Union)this.validateUnion(e,t,n,r);else if(t instanceof f.NodeClass)this.validateClass(e,t,n,r);else{if(!(t instanceof f.ValueType))throw new Error("Not supported case");this.validateValue(e,t,n,r)}},e.prototype.createIssue=function(e,t,n,r){void 0===r&&(r=!1);var i=g.createIssue(e,t,n,r);if(this.stack){var a=this.findNode(this.stack.last(),this.node.lowLevel());a&&a!=n.lowLevel()&&a.unit()==n.root().lowLevel().unit()&&a.keyStart()>0&&a.keyEnd()>0&&(i.start=a.keyStart(),i.end=a.keyEnd())}return i},e.prototype.findNode=function(e,t){var n=""+e.value;if("number"==typeof e.value){var r=t.children();if(r[e.value]){var i=r[e.value];if(e.next)return this.findNode(e.next,i)}return t}var i=m.find(t.children(),function(e){return e.key()==n});return i?e.next?this.findNode(e.next,i):i:t},e.prototype.validateClass=function(e,t,n,r){var i=this,a=t.allSuperTypes();a.push(t),this.validateFacets(t.isRuntime()?t:t.toRuntime(),e,n,r),a.forEach(function(t){if("StrElement"==t.name()&&"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e&&n.accept(i.createIssue(7,"String is expected",i.node,!r)),"NumberElement"==t.name()&&"number"!=typeof e&&n.accept(i.createIssue(7,"Number is expected",i.node,!r)),"BooleanElement"==t.name()){var a=1==e||0==e;a||n.accept(i.createIssue(7,"boolean is expected",i.node,!r))}t instanceof f.Array&&i.validate(e,t,n,r),t instanceof f.Union&&i.validate(e,t,n,r)});var o=t.isRuntime()?t.allProperties():t.toRuntime().allProperties();e||(e={});var s={};o.forEach(function(t){if(!t.isMerged()){var a=e[t.name()];s[t.name()]=1,a?i.validatePropValue(a,t,n,r,t.name()):t.isRequired()&&n.accept(i.createIssue(7,"Required property:"+t.name()+" is missed",i.node,!r))}}),o.forEach(function(t){t.isMerged()&&null!=t.getKeyRegexp()&&Object.keys(e).forEach(function(a){if(!s[a])try{var o=new RegExp(t.getKeyRegexp());if(o.test(a)){i.node;i.validatePropValue(e[a],t,n,r,a),s[a]=1}}catch(u){}})}),o.forEach(function(t){t.isMerged()&&null!=t.keyPrefix()&&Object.keys(e).forEach(function(a){s[a]||(i.validatePropValue(e[a],t,n,r,a),s[a]=1)})}),"object"==typeof e&&o.length>0&&Object.keys(e).forEach(function(e){if(!s[e])try{i.pushStack(e),n.accept(i.createIssue(7,"Unknown property:"+e,i.node,!r))}finally{i.stack&&(i.stack=i.stack.prev)}})},e.prototype.validateFacets=function(e,t,n,r){var i=e.getRepresentationOf(),a=e.getFixedFacets();i&&(e=i,e instanceof f.UserDefinedClass&&(a=e.getFixedFacets()));for(var o in a){var s=e.facet(o);if(s){var u=a[o],l=s.getFacetValidator();if(l)try{var c=l(t,u);"string"==typeof c&&n.accept(this.createIssue(7,""+c,this.node,!r))}catch(p){n.accept(this.createIssue(7,p.message,this.node,!r))}}}},e.prototype.validatePropValue=function(e,t,n,r,i){this.pushStack(i);try{this.validate(e,t.range(),n,r);var a=t.enumValues(null);a&&("string"==typeof a?a!=e&&n.accept(this.createIssue(7,""+t.name()+" should be one of "+a,this.node,!r)):a.length>0&&(m.find(a,function(t){return t==e})||n.accept(this.createIssue(7,""+t.name()+" should be one of "+a,this.node,!r))))}finally{this.stack&&(this.stack=this.stack.prev)}},e.prototype.pushStack=function(e){if(this.stack){var t=new N;t.prev=this.stack,this.stack.next=t,this.stack=t,this.stack.value=e}else this.stack=new N,this.stack.value=e},e.prototype.validateArray=function(e,t,n,r){var i=this;if(e instanceof Array||(e=[e]),e instanceof Array){var a=e;this.validateFacets(t,e,n,r);var o=0;a.forEach(function(e){try{i.pushStack(o++),i.validate(e,t.component,n,r)}finally{i.stack&&(i.stack=i.stack.prev)}})}},e.prototype.validateUnion=function(e,t,n,r){},e.prototype.validateValue=function(e,t,n,r){if("NumberType"==t.name()&&"number"!=typeof e){var i=parseFloat(e);i||isNaN(i)&&n.accept(this.createIssue(7,"Number is expected",this.node,!r))}"BooleanType"==t.name()&&"boolean"!=typeof e&&"true"!=e&&"false"!=e&&n.accept(this.createIssue(7,"boolean is expected",this.node,!r))},e}();t.TypeValidator=I;var _=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value();e.parent().allowsQuestion()&&e.property().isKey()&&null!=n&&n.length>0&&"?"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1));var r=e.property(),i=r.range();if(i instanceof f.NodeClass){var o=i,s=o.getRepresentationOf();s&&(o=s);var u=o.getFixedFacets();for(var l in u){var p=o.facet(l);if(p){var d=p.getFacetValidator();if(d)try{var h=n;if(r.range().isArray())try{h=e.parent().lowLevel().dumpToObject()[e.parent().name()][r.name()]}catch(y){}var g=d(h,u[l]);"string"==typeof g&&t.accept(c(7,""+g,e))}catch(y){t.accept(c(7,y.message,e))}}}}var v=t,b=r.range().isValid(e.parent(),n,r);if(b instanceof Error&&!b.canBeRef)return v.accept(c(7,b.message,e)),void(b=null);if(!b||b instanceof Error)if("value"!=r.name()){if(!a(r,e,n,v)){if(("schema"==r.name()||"type"==r.name())&&n&&n.trim()&&("BodyLike"==r.domain().name()||"DataElement"==r.domain().name())){var S=n.trim().charAt(0);if("{"!=S&&"<"!=S)return}var w=e.findReferencedValue();if(w instanceof Error&&v.accept(c(7,w.message,e)),!w){if(n&&"schema"==r.name()){var P=n.trim();if("{"!=P.charAt(0)&&"<"!=P.charAt(0)&&(-1!=n.indexOf("|")||-1!=n.indexOf("[]")||-1!=n.indexOf("(")))return}if(b instanceof Error&&n)return v.accept(c(7,b.message,e)),void(b=null);v.accept(c(7,"Empty value is not allowed here",e))}}}else{var n=e.value(),M="Invalid value schema:"+n;b instanceof Error&&(M=b.message),v.accept(c(7,M,e))}var T=r.enumOptions();T&&("string"==typeof T?T!=n&&(n&&0==n.indexOf("x-")&&"type"==r.name()||v.accept(c(0,"Invalid value:"+n+" allowed values are:"+T,e))):T.length>0&&(m.find(T,function(e){return e==n})||n&&0==n.indexOf("x-")&&"type"==r.name()||v.accept(c(0,"Invalid value:"+n+" allowed values are:"+T.join(","),e))))},e}();t.NormalValidator=_;var x=function(){function e(){}return e.prototype.validate=function(e,t){try{(new L).parseUrl(e.value())}catch(n){t.accept(g.createIssue(7,n.message,e,!1))}},e}();t.UriValidator=x;var R=function(){function e(){}return e.prototype.validate=function(e,t){try{var n=e.value();if(!n)return;if("*/*"==n)return;n.indexOf("/*")==n.length-2&&(n=n.substring(0,n.length-2)+"/xxx"),"body"==n&&e.parent().parent()&&("Response"==e.parent().parent().definition().name()||e.parent().parent().definition().isAssignableFrom("MethodBase"))&&(n=e.parent().computedValue("mediaType"));var r=w.parse(n),i={application:1,audio:1,example:1,image:1,message:1,model:1,multipart:1,text:1,video:1};i[r.type]||t.accept(g.createIssue(7,"Unknown media type 'type'",e))}catch(a){t.accept(g.createIssue(7,""+a.message,e))}(e.value()&&"multipart/form-data"==e.value()||"application/x-www-form-urlencoded"==e.value())&&e.parent()&&e.parent().parent()&&e.parent().parent().property()&&"responses"==e.parent().parent().property().name()&&t.accept(g.createIssue(7,"Form related media types can not be used in responses",e))},e}();t.MediaTypeValidator=R;var O=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value(),r=n?n.trim():"";if(r.length>0)try{y.validate(n,e,t)}catch(i){t.accept(g.createIssue(7,"Error during signature parse:"+i.message,e))}else;},e}();t.SignatureValidator=O;var L=function(){function e(){}return e.prototype.checkBaseUri=function(e,t,n,r){var i=t.root().attr("baseUri");if(i){var a=i.value();try{var o=this.parseUrl(a);m.find(o,function(e){return e==n})||r.accept(g.createIssue(7,"Unused url parameter",e))}catch(s){}}else r.accept(g.createIssue(7,"Unused url parameter",e))},e.prototype.parseUrl=function(e){for(var t=[],n="",r=!1,i=0,a=0;a<e.length;a++){var o=e[a];"{"!=o?"}"!=o?r&&(n+=o):(i--,r=!1,t.push(n),n=""):(i++,r=!0)}if(i>0)throw new Error("Unmatched '{'");if(0>i)throw new Error("Unmatched '}'");return t},e.prototype.validate=function(e,t){var n=e.value();if("baseUriParameters"==e.parent().property().name()){var r=e.parent().parent();return void this.checkBaseUri(e,r,n,t)}var r=e.parent().parent(),i=r.name();"Api"==r.definition().name()&&this.checkBaseUri(e,r,n,t);try{var a=this.parseUrl(i);m.find(a,function(e){return e==n})||t.accept(g.createIssue(7,"Unused url parameter '"+n+"'",e))}catch(o){}},e}();t.UrlParameterNameValidator=L,t.checkReference=a;var k=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value();if(!(n instanceof g.StructuredValue)){n||(n="");try{h.validate(n,e,t)}catch(r){t.accept(c(0,"Syntax error:"+r.message,e))}}},e}();t.SchemaOrTypeValidator=k;var D=function(){function e(){}return e.prototype.validate=function(e,t){var n=e.value(),r=n,i=e.property();if("string"==typeof n){if(a(i,e,n,t),i.range()instanceof d.ReferenceType){var o=(i.range(),p.createNode(""+n));o._actualNode().startPosition=e.lowLevel().valueStart(),o._actualNode().endPosition=e.lowLevel().valueEnd();var s=new g.StructuredValue(o,e.parent(),e.property()),u=s.toHighlevel();u&&u.validate(t)}}else{var l=n;if(l){r=l.valueName();var m=l.valueName();if(!a(i,e,m,t)){var h=l.toHighlevel();h&&h.validate(t)}}else r=null}if(r){var f=i.range().isValid(e.parent(),r,i);f instanceof Error&&(t.accept(c(7,f.message,e)),f=null)}},e}();t.DescriminatorOrReferenceValidator=D;var U=function(){function e(){}return e.prototype.validate=function(e,t){var n=this.isStrict(e);if(n||T.validateNotStrictExamples){var r=this.parseObject(e,t,n);if(r){var i=this.aquireSchema(e);i&&i.validate(r,t,n)}}},e.prototype.aquireSchema=function(e){var t=e.parent().definition().isAssignableFrom("DataElement");if("example"==e.name()&&("types"==e.parent().property().name()&&(t=!1),e.parent().parent()&&("Method"==e.parent().parent().definition().name()&&("queryParameters"==e.parent().property().name()||(t=!0)),"Response"==e.parent().parent().definition().name()&&(t=!0))),"BodyLike"==e.parent().definition().name()||t){var n=e.parent().attr("schema");if(n||(n=e.parent().attr("type")),n){var r=n.value();if(r instanceof g.StructuredValue)return null;var i=(""+r).trim(),a=null;if("{"==i.charAt(0))try{a=v.getJSONSchema(i)}catch(o){return null}if("<"==i.charAt(0))try{a=v.getXMLSchema(i)}catch(o){return null}if(a)return{validate:function(t,n,r){try{a.validateObject(t)}catch(i){return void n.accept(g.createIssue(7,"Example does not conforms to schema:"+i.message,e,!r))}}};if(i.length>0){var s=h.getType2(e.parent(),i,{});if(s)return{validate:function(t,n,r){new I(e).validate(t,s,n,r)}}}}}return this.getSchemaFromModel(e)},e.prototype.getSchemaFromModel=function(e){var t=e.parent();"content"==e.property().name()&&(t=t.parent());var n=g.typeFromNode(t);return n?{validate:function(t,r,i){new I(e).validate(t,n,r,i)}}:null},e.prototype.toObject=function(e,t,n){var r=t.lowLevel().dumpToObject(!0);return this.testDublication(e,t.lowLevel(),n),r.example?r.example:r.content?r.content:void 0},e.prototype.testDublication=function(e,t,n){var r=this,i={};t.children().forEach(function(t){t.key()&&(i[t.key()]&&n.accept(c(5,"Keys should be unique",new g.BasicASTNode(t,e.parent()))),i[t.key()]=t),r.testDublication(e,t,n)})},e.prototype.parseObject=function(e,t,n){var r=null,i=e.value(),a=u(e);if(i instanceof g.StructuredValue)r=this.toObject(e,i,t);else if(a){if(o(a))try{r=JSON.parse(i)}catch(l){return void t.accept(g.createIssue(7,"Can not parse JSON:"+l.message,e,!n))}if(s(a))try{r=P(i)}catch(l){return void t.accept(g.createIssue(7,"Can not parse XML:"+l.message,e,!n))}}else try{r=JSON.parse(i)}catch(l){if(0!=i.trim().indexOf("<"))return i;try{r=P(i)}catch(l){return void t.accept(g.createIssue(7,"Can not parse XML:"+l.message,e,!n))}}return r},e.prototype.isStrict=function(e){var t=!1,n=e.parent().attr("strict");return n&&"true"==n.value()&&(t=!0),t},e}();t.ExampleValidator=U;var F=function(e,t,n,r,i,a){var o=e.lowLevel().start(),s=e.lowLevel().end();if(e.lowLevel().key()&&e.lowLevel().keyStart()){var u=e.lowLevel().keyStart();u>0&&(o=u);var l=e.lowLevel().keyEnd();l>0&&(s=l)}if(o>s&&(s=o+1),a&&!a.isMerged()&&null==e.parent()){var c=m.find(e.lowLevel().children(),function(e){return e.key()==a.name()});if(c){var u=c.keyStart(),l=c.keyEnd();u>0&&l>u&&(o=u,s=l)}}return{code:t,isWarning:n,message:r,node:e,start:o,end:s,path:i?e.lowLevel().unit()?e.lowLevel().unit().path():"":null,extras:[],unit:e?e.lowLevel().unit():null}};t.createIssue=c},function(e,t,n){function r(e){var t=p?c.get(e):!1;if(t)return t;var n=new d(e);return c.set(e,n),n}function i(e){var t=p?c.get(e):!1;if(t)return t;var n=new m(e);p&&c.set(e,n)}function a(e){var t=p?c.get(e):!1;if(t)return t;try{var n=new d(e);return p&&c.set(e,n),n}catch(r){try{var n=new m(e);return p&&c.set(e,n),n}catch(r){return p&&c.set(e,new Error("Can not parse schema")),null}}}var o=n(79),s=n(57),u=n(81),l=function(){function e(){}return e}();t.ValidationResult=l;var c=s(400),p=!0,d=function(){function e(e){if(this.schema=e,!e||0==e.trim().length||"{"!=e.trim().charAt(0))throw new Error("Invalid JSON schema content");var t;try{var t=JSON.parse(e)}catch(r){throw new Error("It is not JSON schema")}if(t){try{var i=n(82);t=i.v4(t)}catch(a){throw new Error("Can not parse schema"+e)}delete t.$schema,delete t.required,this.jsonSchema=t}}return e.prototype.getType=function(){return"source.json"},e.prototype.validateObject=function(e){this.validate(JSON.stringify(e))},e.prototype.validate=function(e){var t=e+this.schema,n=c.get(t);if(n){if(n instanceof Error)throw n}else{var r=new u,i=(r.validate(JSON.parse(e),this.jsonSchema),r.getLastErrors());if(i&&i.length>0){var a=new Error("Content is not valid according to schema:"+i.map(function(e){return e.message+" "+e.params}).join(", "));throw a.errors=i,c.set(t,a),a}c.set(t,1)}},e}();t.JSONSchemaObject=d;var m=function(){function e(e){if(this.schema=e,"<"!=e.charAt(0))throw new Error("Invalid JSON schema");o(e)}return e.prototype.getType=function(){return"text.xml"},e.prototype.validate=function(e){o(e)},e.prototype.validateObject=function(e){},e}();t.XMLSchemaObject=m,t.getJSONSchema=r,t.getXMLSchema=i,t.createSchema=a},function(e,t,n){function r(e){var t={};if(1==e.nodeType){if(e.attributes.length>0)for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@"+i.nodeName]=i.nodeValue}}else 3==e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var o=e.childNodes.item(a),s=o.nodeName;
if(void 0!=s)if("undefined"==typeof t[s])t[s]=r(o);else{if("undefined"==typeof t[s].push){var u=t[s];t[s]=[],t[s].push(u)}t[s].push(r(o))}}return t}function i(e){for(var t in e)if("object"==typeof e[t]){for(var n in e[t])if("#text"==n){var r=e[t]["#text"];"string"!=typeof r&&(r=r.join("")),r=r.trim(),0==r.length&&delete e[t]["#text"]}i(e[t])}return e}function a(e){for(var t in e)if("object"==typeof e[t]){var n=Object.keys(e[t]);1==n.length&&"#text"==n[0]&&(e[t]=e[t]["#text"]),a(e[t])}return e}function o(e){var t=new s.DOMParser,n=t.parseFromString(e);return a(i(r(n)))}var s=n(80);e.exports=o},function(e,t){e.exports=require("xmldom")},function(e,t){e.exports=require("z-schema")},function(e,t){e.exports=require("json-schema-compatibility")},function(e,t){e.exports=require("media-typer")},function(e,t){e.exports=require("loophole")},function(e,t,n){function r(e){if(h>20)return[];h++;try{var t=[],n=e.leftType();n&&t.push(n);var i=e.rightType();if(i)if(i.isUnion()){var a=r(i.union());t=t.concat(a)}else t.push(i);return t}finally{h--}}function i(e,t,n){var r=n.attr("type");if(r){var i={},a=new c.NodeClass(n.name(),t.definition().universe(),"");a.setDeclaringNode(n),a._superTypes.push(t.definition().universe().getType("DataElement")),i[r.value()]=a;var o=l.getType(t,r.value(),i);return o instanceof c.Array&&o.setDeclaringNode(n),o}return"body"==e.name()||u.find(n.lowLevel().children(),function(e){return"properties"==e.key()})?t.definition().universe().getType("ObjectField"):t.definition().universe().getType("StrElement")}function a(e){return o(e.property(),e.parent(),e)}function o(e,t,n){var r=n.lowLevel();if(!e)return null;if("uses"==e.name()&&"Library"==e.range().name(),r._node&&r._node.descriminate)return null;r._node&&(r._node.descriminate=1);try{if("DataElement"==e.range().name()){var a=i(e,t,n);if(null!=a&&("body"==e.name()||"headers"==e.name()||"queryParameters"==e.name())){var o=new s.UserDefinedClass(n.lowLevel().key(),a.universe(),n,n.lowLevel().unit()?n.lowLevel().unit().path():"","");return o._superTypes.push(a),o}if(a)return a}var u=null,l=d.findAllSubTypes(e,t);return l.length>0&&l.forEach(function(e){u||e.match(n,u)&&(u=e)}),u}finally{r._node&&delete r._node.descriminate}}var s=n(15),u=n(16),l=(n(19),n(64)),c=n(15),p=n(17),d=n(66),m=function(){function e(e){this._props=e,this.parentValue=u.find(e,function(e){return e.isFromParentValue()}),this.parentKey=u.find(e,function(e){return e.isFromParentKey()}),this.canBeValue=u.find(e,function(e){return e.canBeValue()})}return e.prototype.match=function(e){var t=this,n=null,r="";return this._props.forEach(function(i){i.isSystem()||i!=t.parentValue&&i!=t.parentKey&&i.matchKey(e)&&(null!=i.keyPrefix()?i.keyPrefix().length>=r.length&&(r=i.keyPrefix(),n=i):(n=i,r=i.name()))}),n},e}(),h=0,f=0,y=function(){function e(){}return e.prototype.process=function(e,t){var n=this,i=e.lowLevel(),a=i._node?i._node:i;try{if(a.currentChildren)return a.currentChildren;if(!e.definition())return;if(e.definition().isUnion()&&e.definition().isRuntime()){var o=r(e.definition().union()),s=null,u=null,l=null,d=1e3,h=e;if(o.forEach(function(r){if(!s&&r instanceof c.NodeClass&&!r.isUnionType()){h.patchType(r);if(0==f){f++;try{for(var i=n.process(e,t),a=0,o=0;o<i.length;o++)i[o].isUnknown()&&a++;0==a&&(s=i),d>a&&(d=a,u=i,l=r)}finally{f--}}}}),s)return s;u&&h.patchType(l)}var y=new m(e.definition().allProperties()),g=e,v=g._allowQuestion||e.definition().getAllowQuestion(),b=[];if(y.parentKey&&e.lowLevel().key()&&b.push(new p.ASTPropImpl(e.lowLevel(),e,y.parentKey.range(),y.parentKey,!0)),e.lowLevel().value()){if(y.parentValue)b.push(new p.ASTPropImpl(e.lowLevel(),e,y.parentValue.range(),y.parentValue));else if(y.canBeValue){var S=e.lowLevel().value();"string"==typeof S&&S.trim().length>0&&("signature"==y.canBeValue.name()?"("==S.trim().charAt(0)&&b.push(new p.ASTPropImpl(e.lowLevel(),e,y.canBeValue.range(),y.canBeValue)):b.push(new p.ASTPropImpl(e.lowLevel(),e,y.canBeValue.range(),y.canBeValue)))}}else if(y.canBeValue&&y.canBeValue.range()instanceof c.NodeClass){var w=new p.ASTNodeImpl(e.lowLevel(),g,y.canBeValue.range(),y.canBeValue);return[w]}if(g._children=b,g.definition().isUserDefined())b=this.processChildren(t,g,b,v,y);else if("Api"==g.definition().name()||"uses"==g.definition().name()){var P=t.filter(function(e){return"uses"==e.key()});b=this.processChildren(P,g,b,v,y);var M=t.filter(function(e){return"types"==e.key()});b=this.processChildren(M,g,b,v,y);var T=t.filter(function(e){return"types"!=e.key()&&"uses"!=e.key()});b=this.processChildren(T,g,b,v,y)}else b=this.processChildren(t,g,b,v,y);return g._children=b,b}finally{w&&delete a.currentChildren}},e.prototype.processChildren=function(e,t,n,r,i){var a=this;return e.forEach(function(e){var l=e.key();if("$ref"==l&&"Swagger"==t.universe().version()){var m=d.resolveReference(e,e.value());if(m){var h=a.process(t,m.children());h.forEach(function(e){e.property()&&e.property().isKey()||n.push(e)})}else{var f=new p.BasicASTNode(e,t);f.unresolvedRef="ref",n.push(f)}}r&&null!=l&&"?"==l.charAt(l.length-1)&&(l=l.substr(0,l.length-1));var y=i.match(l);if(null!=y){var g=y.range();if(y.isAnnotation()&&"annotations"!=l){var v=new p.ASTPropImpl(e,t,g,y);return void n.push(v)}var b=!1,S=y.isMultiValue();if(g instanceof c.Array){var w=g;S=!0,g=w.component,b=!0}else g.isArray()&&(S=!0,b=!0);if(g.isValueType()){var P=e.children(),M=3==e.valueKind();return void((M&&P.length>0||P.length>1)&&S?P.forEach(function(e){var r=new p.ASTPropImpl(e,t,g,y);n.push(r)}):(y.isInherited()&&t.setComputed(y.name(),e.value()),n.push(new p.ASTPropImpl(e,t,g,y))))}var T=[];if(t._children=n,y.isMerged()){var E=new p.ASTNodeImpl(e,t,g,y);E._allowQuestion=r,T.push(E)}else if(S)if(y.isEmbedMap()){var A=e.children();if(0==A.length&&e.value()){var f=new p.BasicASTNode(e,t);f.knownProperty=y,n.push(f)}A.forEach(function(e){var i=e.children();if(e.key()||1!=i.length)if("RAML10"==t.universe().version()){var a=new p.ASTNodeImpl(e,t,g,y);a._allowQuestion=r,T.push(a)}else{var o=new p.BasicASTNode(e,t);n.push(o),e.key()&&(o.needSequence=!0)}else{var a=new p.ASTNodeImpl(i[0],t,g,y);a._allowQuestion=r,T.push(a)}})}else{var C={},N=[];if(g instanceof s.NodeClass){var I=g;I.getCanInherit().length>0&&I.getCanInherit().forEach(function(n){var i=t.computedValue(n);if(i&&"body"==y.name()&&!u.find(e.children(),function(e){return e.key()==i})){var a=new p.ASTNodeImpl(e,t,g,y);"MethodBase"==t.parent().definition().name()&&a.setComputed("form","true");var s=o(y,t,a);s&&a.patchType(s);var l=a.children();a._children=l.filter(function(e){return!e.isUnknown()}),a._allowQuestion=r,N.push(a),a.children().forEach(function(e){if(e.property().isKey()){var t=e;return void(t._computed=!0)}if(e.isElement()&&(e.property().isMerged()||(C[e.property().name()]=!0)),e.property().isAnnotation()){var t=e,n=t.value(),r="";r=n instanceof p.StructuredValue?n.valueName():""+n,C["("+r+")"]=!0}else C[e.name()]=!0}),a._computed=!0}})}var _=[];e.children().forEach(function(e){if(!C[e.key()]){var n=new p.ASTNodeImpl(e,t,g,y);"body"==y.name()&&"MethodBase"==y.domain().name()&&n.setComputed("form","true"),n._allowQuestion=r,_.push(n)}}),_.length>0?_.forEach(function(e){return T.push(e)}):N.forEach(function(e){return T.push(e)})}else T.push(new p.ASTNodeImpl(e,t,g,y));t._children=t._children.concat(T),n=n.concat(T),T.forEach(function(e){var n=o(y,t,e);n&&n!=e.definition()&&e.patchType(n),e._associatedDef=null,y.childRestrictions().forEach(function(t){e.setComputed(t.name,t.value)});e.definition()})}else n.push(new p.BasicASTNode(e,t))}),n},e}();t.BasicNodeBuilder=y,t.doDescrimination=a},function(e,t,n){function r(e){var t=e.definition().universe().version();return"RAML10"==t?i.buildWrapperNode(e):"RAML08"==t?a.buildWrapperNode(e):null}var i=n(87),a=n(88);t.buildWrapperNode=r},function(e,t,n){function r(e){var t=e.definition().name(),n=a[t];if(!n){for(var r=e.definition().allSuperTypes(),i=null,o=0;o<r.length;o++){var s=r[o].name();if(n=a[s],"DataElement"!=s){if("RAMLLanguageElement"!=s&&n)break}else i=s}n||(i=s)}return n||(n=a.RAMLLanguageElement),n(e)}var i=n(13);t.buildWrapperNode=r;var a={AnnotationRef:function(e){return new i.AnnotationRefImpl(e)},AnnotationTarget:function(e){return new i.AnnotationTargetImpl(e)},AnnotationType:function(e){return new i.AnnotationTypeImpl(e)},Api:function(e){return new i.ApiImpl(e)},ApiDescription:function(e){return new i.ApiDescriptionImpl(e)},ArrayField:function(e){return new i.ArrayFieldImpl(e)},Basic:function(e){return new i.BasicImpl(e)},BooleanElement:function(e){return new i.BooleanElementImpl(e)},BooleanType:function(e){return new i.BooleanTypeImpl(e)},CallbackAPIDescription:function(e){return new i.CallbackAPIDescriptionImpl(e)},ContentType:function(e){return new i.ContentTypeImpl(e)},Custom:function(e){return new i.CustomImpl(e)},DataElement:function(e){return new i.DataElementImpl(e)},DataElementRef:function(e){return new i.DataElementRefImpl(e)},DateElement:function(e){return new i.DateElementImpl(e)},DateFormatSpec:function(e){return new i.DateFormatSpecImpl(e)},Digest:function(e){return new i.DigestImpl(e)},DocumentationItem:function(e){return new i.DocumentationItemImpl(e)},ExampleSpec:function(e){return new i.ExampleSpecImpl(e)},ExampleString:function(e){return new i.ExampleStringImpl(e)},Extension:function(e){return new i.ExtensionImpl(e)},FileParameter:function(e){return new i.FileParameterImpl(e)},FixedUri:function(e){return new i.FixedUriImpl(e)},FullUriTemplate:function(e){return new i.FullUriTemplateImpl(e)},FunctionalInterface:function(e){return new i.FunctionalInterfaceImpl(e)},GlobalSchema:function(e){return new i.GlobalSchemaImpl(e)},HasNormalParameters:function(e){return new i.HasNormalParametersImpl(e)},ImportDeclaration:function(e){return new i.ImportDeclarationImpl(e)},IntegerElement:function(e){return new i.IntegerElementImpl(e)},JSonSchemaString:function(e){return new i.JSonSchemaStringImpl(e)},Library:function(e){return new i.LibraryImpl(e)},LocationKind:function(e){return new i.LocationKindImpl(e)},MarkdownString:function(e){return new i.MarkdownStringImpl(e)},Method:function(e){return new i.MethodImpl(e)},MethodBase:function(e){return new i.MethodBaseImpl(e)},MimeType:function(e){return new i.MimeTypeImpl(e)},ModelLocation:function(e){return new i.ModelLocationImpl(e)},NumberElement:function(e){return new i.NumberElementImpl(e)},NumberType:function(e){return new i.NumberTypeImpl(e)},OAuth1SecuritySchemeSettings:function(e){return new i.OAuth1SecuritySchemeSettingsImpl(e)},OAuth2SecuritySchemeSettings:function(e){return new i.OAuth2SecuritySchemeSettingsImpl(e)},OLibrary:function(e){return new i.OLibraryImpl(e)},Oath1:function(e){return new i.Oath1Impl(e)},Oath2:function(e){return new i.Oath2Impl(e)},ObjectField:function(e){return new i.ObjectFieldImpl(e)},Overlay:function(e){return new i.OverlayImpl(e)},PassThrough:function(e){return new i.PassThroughImpl(e)},PassThroughSettings:function(e){return new i.PassThroughSettingsImpl(e)},RAMLExpression:function(e){return new i.RAMLExpressionImpl(e)},RAMLLanguageElement:function(e){return new i.RAMLLanguageElementImpl(e)},RAMLPointer:function(e){return new i.RAMLPointerImpl(e)},RAMLPointerElement:function(e){return new i.RAMLPointerElementImpl(e)},RAMLProject:function(e){return new i.RAMLProjectImpl(e)},RAMLSelector:function(e){return new i.RAMLSelectorImpl(e)},RAMLSimpleElement:function(e){return new i.RAMLSimpleElementImpl(e)},Reference:function(e){return new i.ReferenceImpl(e)},RelativeUri:function(e){return new i.RelativeUriImpl(e)},Resource:function(e){return new i.ResourceImpl(e)},ResourceBase:function(e){return new i.ResourceBaseImpl(e)},ResourceType:function(e){return new i.ResourceTypeImpl(e)},ResourceTypeRef:function(e){return new i.ResourceTypeRefImpl(e)},Response:function(e){return new i.ResponseImpl(e)},SchemaElement:function(e){return new i.SchemaElementImpl(e)},SchemaString:function(e){return new i.SchemaStringImpl(e)},ScriptHookElement:function(e){return new i.ScriptHookElementImpl(e)},ScriptSpec:function(e){return new i.ScriptSpecImpl(e)},ScriptingHook:function(e){return new i.ScriptingHookImpl(e)},SecuritySchema:function(e){return new i.SecuritySchemaImpl(e)},SecuritySchemaHookScript:function(e){return new i.SecuritySchemaHookScriptImpl(e)},SecuritySchemaPart:function(e){return new i.SecuritySchemaPartImpl(e)},SecuritySchemaRef:function(e){return new i.SecuritySchemaRefImpl(e)},SecuritySchemaSettings:function(e){return new i.SecuritySchemaSettingsImpl(e)},SecuritySchemaType:function(e){return new i.SecuritySchemaTypeImpl(e)},StatusCode:function(e){return new i.StatusCodeImpl(e)},StrElement:function(e){return new i.StrElementImpl(e)},StringType:function(e){return new i.StringTypeImpl(e)},Trait:function(e){return new i.TraitImpl(e)},TraitRef:function(e){return new i.TraitRefImpl(e)},UnionField:function(e){return new i.UnionFieldImpl(e)},UriTemplate:function(e){return new i.UriTemplateImpl(e)},ValidityExpression:function(e){return new i.ValidityExpressionImpl(e)},ValueElement:function(e){return new i.ValueElementImpl(e)},ValueType:function(e){return new i.ValueTypeImpl(e)},XMLInfo:function(e){return new i.XMLInfoImpl(e)},XMLSchemaString:function(e){return new i.XMLSchemaStringImpl(e)},pointer:function(e){return new i.pointerImpl(e)},ramlexpression:function(e){return new i.ramlexpressionImpl(e)}}},function(e,t,n){function r(e){var t=e.definition().name(),n=a[t];if(!n){for(var r=e.definition().allSuperTypes(),i=null,o=0;o<r.length;o++){var s=r[o].name();if(n=a[s],"DataElement"!=s){if("RAMLLanguageElement"!=s&&n)break}else i=s}n||(i=s)}return n||(n=a.RAMLLanguageElement),n(e)}var i=n(89);t.buildWrapperNode=r;var a={Api:function(e){return new i.ApiImpl(e)},BodyLike:function(e){return new i.BodyLikeImpl(e)},BooleanElement:function(e){return new i.BooleanElementImpl(e)},BooleanType:function(e){return new i.BooleanTypeImpl(e)},DateElement:function(e){return new i.DateElementImpl(e)},DocumentationItem:function(e){return new i.DocumentationItemImpl(e)},ExampleString:function(e){return new i.ExampleStringImpl(e)},FileElement:function(e){return new i.FileElementImpl(e)},FixedUri:function(e){return new i.FixedUriImpl(e)},FullUriTemplate:function(e){return new i.FullUriTemplateImpl(e)},GlobalSchema:function(e){return new i.GlobalSchemaImpl(e)},HasNormalParameters:function(e){return new i.HasNormalParametersImpl(e)},IntegerElement:function(e){return new i.IntegerElementImpl(e)},JSONBody:function(e){return new i.JSONBodyImpl(e)},JSONExample:function(e){return new i.JSONExampleImpl(e)},JSonSchemaString:function(e){return new i.JSonSchemaStringImpl(e)},MarkdownString:function(e){return new i.MarkdownStringImpl(e)},Method:function(e){return new i.MethodImpl(e)},MethodBase:function(e){return new i.MethodBaseImpl(e)},MimeType:function(e){return new i.MimeTypeImpl(e)},NumberElement:function(e){return new i.NumberElementImpl(e)},NumberType:function(e){return new i.NumberTypeImpl(e)},OAuth1SecuritySchemeSettings:function(e){return new i.OAuth1SecuritySchemeSettingsImpl(e)},OAuth2SecuritySchemeSettings:function(e){return new i.OAuth2SecuritySchemeSettingsImpl(e)},Parameter:function(e){return new i.ParameterImpl(e)},ParameterLocation:function(e){return new i.ParameterLocationImpl(e)},RAMLLanguageElement:function(e){return new i.RAMLLanguageElementImpl(e)},RAMLSimpleElement:function(e){return new i.RAMLSimpleElementImpl(e)},Reference:function(e){return new i.ReferenceImpl(e)},RelativeUri:function(e){return new i.RelativeUriImpl(e)},Resource:function(e){return new i.ResourceImpl(e)},ResourceType:function(e){return new i.ResourceTypeImpl(e)},ResourceTypeRef:function(e){return new i.ResourceTypeRefImpl(e)},Response:function(e){return new i.ResponseImpl(e)},SchemaString:function(e){return new i.SchemaStringImpl(e)},SecuritySchema:function(e){return new i.SecuritySchemaImpl(e)},SecuritySchemaPart:function(e){return new i.SecuritySchemaPartImpl(e)},SecuritySchemaRef:function(e){return new i.SecuritySchemaRefImpl(e)},SecuritySchemaSettings:function(e){return new i.SecuritySchemaSettingsImpl(e)},StatusCode:function(e){return new i.StatusCodeImpl(e)},StrElement:function(e){return new i.StrElementImpl(e)},StringType:function(e){return new i.StringTypeImpl(e)},Trait:function(e){return new i.TraitImpl(e)},TraitRef:function(e){return new i.TraitRefImpl(e)},UriTemplate:function(e){return new i.UriTemplateImpl(e)},ValueType:function(e){return new i.ValueTypeImpl(e)},XMLBody:function(e){return new i.XMLBodyImpl(e)},XMLExample:function(e){return new i.XMLExampleImpl(e)},XMLSchemaString:function(e){return new i.XMLSchemaStringImpl(e)}}},function(e,t,n){function r(e){var t=x.universeProvider("RAML10"),n=t.getType("Api"),r=n.createStubNode(null,e);return r}function i(e){var t=x.universeProvider("RAML10"),n=t.getType("RAMLLanguageElement"),r=n.createStubNode(null,e);return r}function a(e){var t=x.universeProvider("RAML10"),n=t.getType("SecuritySchema"),r=n.createStubNode(null,e);return r}function o(e){var t=x.universeProvider("RAML10"),n=t.getType("SecuritySchemaPart"),r=n.createStubNode(null,e);return r}function s(e){var t=x.universeProvider("RAML10"),n=t.getType("RAMLSimpleElement"),r=n.createStubNode(null,e);return r}function u(e){var t=x.universeProvider("RAML10"),n=t.getType("GlobalSchema"),r=n.createStubNode(null,e);return r}function l(e){var t=x.universeProvider("RAML10"),n=t.getType("DocumentationItem"),r=n.createStubNode(null,e);return r}function c(e){var t=x.universeProvider("RAML10"),n=t.getType("SecuritySchemaSettings"),r=n.createStubNode(null,e);return r}function p(e){var t=x.universeProvider("RAML10"),n=t.getType("OAuth1SecuritySchemeSettings"),r=n.createStubNode(null,e);return r}function d(e){var t=x.universeProvider("RAML10"),n=t.getType("OAuth2SecuritySchemeSettings"),r=n.createStubNode(null,e);return r}function m(e){var t=x.universeProvider("RAML10"),n=t.getType("ResourceType"),r=n.createStubNode(null,e);return r}function h(e){var t=x.universeProvider("RAML10"),n=t.getType("Method"),r=n.createStubNode(null,e);return r}function f(e){var t=x.universeProvider("RAML10"),n=t.getType("MethodBase"),r=n.createStubNode(null,e);return r}function y(e){var t=x.universeProvider("RAML10"),n=t.getType("HasNormalParameters"),r=n.createStubNode(null,e);return r}function g(e){var t=x.universeProvider("RAML10"),n=t.getType("Parameter"),r=n.createStubNode(null,e);return r}function v(e){var t=x.universeProvider("RAML10"),n=t.getType("StrElement"),r=n.createStubNode(null,e);return r}function b(e){var t=x.universeProvider("RAML10"),n=t.getType("BooleanElement"),r=n.createStubNode(null,e);return r}function S(e){var t=x.universeProvider("RAML10"),n=t.getType("NumberElement"),r=n.createStubNode(null,e);return r}function w(e){var t=x.universeProvider("RAML10"),n=t.getType("IntegerElement"),r=n.createStubNode(null,e);return r}function P(e){var t=x.universeProvider("RAML10"),n=t.getType("DateElement"),r=n.createStubNode(null,e);return r}function M(e){var t=x.universeProvider("RAML10"),n=t.getType("FileElement"),r=n.createStubNode(null,e);return r}function T(e){var t=x.universeProvider("RAML10"),n=t.getType("Response"),r=n.createStubNode(null,e);return r}function E(e){var t=x.universeProvider("RAML10"),n=t.getType("BodyLike"),r=n.createStubNode(null,e);return r}function A(e){var t=x.universeProvider("RAML10"),n=t.getType("XMLBody"),r=n.createStubNode(null,e);return r}function C(e){var t=x.universeProvider("RAML10"),n=t.getType("JSONBody"),r=n.createStubNode(null,e);return r}function N(e){var t=x.universeProvider("RAML10"),n=t.getType("Trait"),r=n.createStubNode(null,e);return r}function I(e){var t=x.universeProvider("RAML10"),n=t.getType("Resource"),r=n.createStubNode(null,e);return r}var _=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},x=n(14),R=n(90),O=function(e){function t(t){e.call(this,t)}return _(t,e),t.prototype.wrapperClassName=function(){return"BasicNodeImpl"},t.prototype.parent=function(){return e.prototype.parent.call(this)},t}(R.BasicSuperNodeImpl);t.BasicNodeImpl=O;var L=function(e){function t(t){e.call(this,"string"==typeof t?i(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"RAMLLanguageElementImpl"},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new te(e)})},t}(O);t.RAMLLanguageElementImpl=L;var k=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ValueTypeImpl"},e.prototype.value=function(){return this.attr.value()},e.prototype.highLevel=function(){return this.attr},e}();t.ValueTypeImpl=k;var D=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"NumberTypeImpl"},t}(k);t.NumberTypeImpl=D;var U=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"BooleanTypeImpl"},t}(k);t.BooleanTypeImpl=U;var F=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"ReferenceImpl"},t.prototype.value=function(){return R.toStructuredValue(this.attr)},t}(k);t.ReferenceImpl=F;var j=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeRefImpl"},t}(F);t.ResourceTypeRefImpl=j;var V=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"TraitRefImpl"},t}(F);t.TraitRefImpl=V;var K=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaRefImpl"},t}(F);t.SecuritySchemaRefImpl=K;var B=function(e){function t(t){e.call(this,t),this.attr=t}return _(t,e),t.prototype.wrapperClassName=function(){return"StringTypeImpl"},t}(k);t.StringTypeImpl=B;var q=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"UriTemplateImpl"},t}(B);t.UriTemplateImpl=q;var H=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"RelativeUriImpl"},t}(q);t.RelativeUriImpl=H;var G=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"FullUriTemplateImpl"},t}(q);t.FullUriTemplateImpl=G;var W=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"FixedUriImpl"},t}(B);t.FixedUriImpl=W;var z=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"SchemaStringImpl"},t}(B);t.SchemaStringImpl=z;var Y=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"JSonSchemaStringImpl"},t}(z);t.JSonSchemaStringImpl=Y;var J=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"XMLSchemaStringImpl"},t}(z);t.XMLSchemaStringImpl=J;var $=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"ExampleStringImpl"},t}(B);t.ExampleStringImpl=$;var X=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"JSONExampleImpl"},t}($);t.JSONExampleImpl=X;var Q=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"XMLExampleImpl"},t}($);t.XMLExampleImpl=Q;var Z=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"StatusCodeImpl"},t}(B);t.StatusCodeImpl=Z;var ee=function(e){function t(){e.apply(this,arguments)}return _(t,e),t.prototype.wrapperClassName=function(){return"MimeTypeImpl"},t}(B);t.MimeTypeImpl=ee;var te=function(e){function t(t){e.call(this,t),this.attr=t}return _(t,e),t.prototype.wrapperClassName=function(){return"MarkdownStringImpl"},t}(B);t.MarkdownStringImpl=te;var ne=function(e){function t(t){e.call(this,"string"==typeof t?a(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.description=function(){return e.prototype.attribute.call(this,"description",function(e){return new te(e)})},t.prototype.describedBy=function(){return e.prototype.element.call(this,"describedBy")},t.prototype.settings=function(){return e.prototype.element.call(this,"settings")},t}(L);t.SecuritySchemaImpl=ne;var re=function(e){function t(t){e.call(this,"string"==typeof t?s(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"RAMLSimpleElementImpl"},t}(O);t.RAMLSimpleElementImpl=re;var ie=function(e){function t(t){e.call(this,"string"==typeof t?u(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"GlobalSchemaImpl"},t.prototype.key=function(){return e.prototype.attribute.call(this,"key",this.toString)},t.prototype.setKey=function(e){return this.highLevel().attrOrCreate("key").setValue(""+e),this},t.prototype.value=function(){return e.prototype.attribute.call(this,"value",function(e){return new z(e)})},t}(re);t.GlobalSchemaImpl=ie;var ae=function(e){function t(t){e.call(this,"string"==typeof t?l(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"DocumentationItemImpl"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.content=function(){return e.prototype.attribute.call(this,"content",function(e){return new te(e)})},t}(re);t.DocumentationItemImpl=ae;var oe=function(e){function t(t){e.call(this,"string"==typeof t?c(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaSettingsImpl"},t}(re);t.SecuritySchemaSettingsImpl=oe;var se=function(e){function t(t){e.call(this,"string"==typeof t?p(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"OAuth1SecuritySchemeSettingsImpl"},t.prototype.requestTokenUri=function(){return e.prototype.attribute.call(this,"requestTokenUri",function(e){return new W(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new W(e)})},t.prototype.tokenCredentialsUri=function(){return e.prototype.attribute.call(this,"tokenCredentialsUri",function(e){return new W(e)})},t}(oe);t.OAuth1SecuritySchemeSettingsImpl=se;var ue=function(e){function t(t){e.call(this,"string"==typeof t?d(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"OAuth2SecuritySchemeSettingsImpl"},t.prototype.accessTokenUri=function(){return e.prototype.attribute.call(this,"accessTokenUri",function(e){return new W(e)})},t.prototype.authorizationUri=function(){return e.prototype.attribute.call(this,"authorizationUri",function(e){return new W(e)})},t.prototype.authorizationGrants=function(){return e.prototype.attributes.call(this,"authorizationGrants",this.toString)},t.prototype.setAuthorizationGrants=function(e){return this.highLevel().attrOrCreate("authorizationGrants").setValue(""+e),this},t.prototype.scopes=function(){return e.prototype.attributes.call(this,"scopes",this.toString)},t.prototype.setScopes=function(e){return this.highLevel().attrOrCreate("scopes").setValue(""+e),this},t}(oe);t.OAuth2SecuritySchemeSettingsImpl=ue;var le=function(e){function t(t){e.call(this,"string"==typeof t?o(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"SecuritySchemaPartImpl"},t}(re);t.SecuritySchemaPartImpl=le;var ce=function(e){function t(t){e.call(this,"string"==typeof t?m(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"ResourceTypeImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new V(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new j(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new K(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t}(L);t.ResourceTypeImpl=ce;var pe=function(e){function t(t){e.call(this,"string"==typeof t?y(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"HasNormalParametersImpl"},t.prototype.queryParameters=function(){return e.prototype.elements.call(this,"queryParameters")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t}(L);t.HasNormalParametersImpl=pe;var de=function(e){function t(t){e.call(this,"string"==typeof t?g(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"ParameterImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",this.toString)},t.prototype.setType=function(e){return this.highLevel().attrOrCreate("type").setValue(""+e),this},t.prototype.location=function(){return e.prototype.attribute.call(this,"location",function(e){return new me(e)})},t.prototype.required=function(){return e.prototype.attribute.call(this,"required",this.toBoolean)},t.prototype.setRequired=function(e){return this.highLevel().attrOrCreate("required").setValue(""+e),this},t.prototype["default"]=function(){return e.prototype.attribute.call(this,"default",this.toString)},t.prototype.setDefault=function(e){return this.highLevel().attrOrCreate("default").setValue(""+e),this},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",this.toString)},t.prototype.setExample=function(e){return this.highLevel().attrOrCreate("example").setValue(""+e),this},t.prototype.repeat=function(){return e.prototype.attribute.call(this,"repeat",this.toBoolean)},t.prototype.setRepeat=function(e){return this.highLevel().attrOrCreate("repeat").setValue(""+e),this},t}(L);t.ParameterImpl=de;var me=function(){function e(e){this.attr=e}return e.prototype.wrapperClassName=function(){return"ParameterLocationImpl"},e}();t.ParameterLocationImpl=me;var he=function(e){function t(t){e.call(this,"string"==typeof t?v(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"StrElementImpl"},t.prototype.pattern=function(){return e.prototype.attribute.call(this,"pattern",this.toString)},t.prototype.setPattern=function(e){return this.highLevel().attrOrCreate("pattern").setValue(""+e),this},t.prototype["enum"]=function(){return e.prototype.attributes.call(this,"enum",this.toString);
},t.prototype.setEnum=function(e){return this.highLevel().attrOrCreate("enum").setValue(""+e),this},t.prototype.minLength=function(){return e.prototype.attribute.call(this,"minLength",this.toNumber)},t.prototype.setMinLength=function(e){return this.highLevel().attrOrCreate("minLength").setValue(""+e),this},t.prototype.maxLength=function(){return e.prototype.attribute.call(this,"maxLength",this.toNumber)},t.prototype.setMaxLength=function(e){return this.highLevel().attrOrCreate("maxLength").setValue(""+e),this},t}(de);t.StrElementImpl=he;var fe=function(e){function t(t){e.call(this,"string"==typeof t?b(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"BooleanElementImpl"},t}(de);t.BooleanElementImpl=fe;var ye=function(e){function t(t){e.call(this,"string"==typeof t?S(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"NumberElementImpl"},t.prototype.minimum=function(){return e.prototype.attribute.call(this,"minimum",this.toNumber)},t.prototype.setMinimum=function(e){return this.highLevel().attrOrCreate("minimum").setValue(""+e),this},t.prototype.maximum=function(){return e.prototype.attribute.call(this,"maximum",this.toNumber)},t.prototype.setMaximum=function(e){return this.highLevel().attrOrCreate("maximum").setValue(""+e),this},t}(de);t.NumberElementImpl=ye;var ge=function(e){function t(t){e.call(this,"string"==typeof t?w(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"IntegerElementImpl"},t}(ye);t.IntegerElementImpl=ge;var ve=function(e){function t(t){e.call(this,"string"==typeof t?P(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"DateElementImpl"},t}(de);t.DateElementImpl=ve;var be=function(e){function t(t){e.call(this,"string"==typeof t?M(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"FileElementImpl"},t}(de);t.FileElementImpl=be;var Se=function(e){function t(t){e.call(this,"string"==typeof t?f(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"MethodBaseImpl"},t.prototype.responses=function(){return e.prototype.elements.call(this,"responses")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new V(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new K(e)})},t}(pe);t.MethodBaseImpl=Se;var we=function(e){function t(t){e.call(this,"string"==typeof t?T(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"ResponseImpl"},t.prototype.code=function(){return e.prototype.attribute.call(this,"code",function(e){return new Z(e)})},t.prototype.headers=function(){return e.prototype.elements.call(this,"headers")},t.prototype.body=function(){return e.prototype.elements.call(this,"body")},t}(L);t.ResponseImpl=we;var Pe=function(e){function t(t){e.call(this,"string"==typeof t?E(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"BodyLikeImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new z(e)})},t.prototype.example=function(){return e.prototype.attribute.call(this,"example",function(e){return new $(e)})},t.prototype.formParameters=function(){return e.prototype.elements.call(this,"formParameters")},t}(L);t.BodyLikeImpl=Pe;var Me=function(e){function t(t){e.call(this,"string"==typeof t?A(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"XMLBodyImpl"},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new J(e)})},t}(Pe);t.XMLBodyImpl=Me;var Te=function(e){function t(t){e.call(this,"string"==typeof t?C(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"JSONBodyImpl"},t.prototype.schema=function(){return e.prototype.attribute.call(this,"schema",function(e){return new Y(e)})},t}(Pe);t.JSONBodyImpl=Te;var Ee=function(e){function t(t){e.call(this,"string"==typeof t?N(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"TraitImpl"},t.prototype.name=function(){return e.prototype.attribute.call(this,"name",this.toString)},t.prototype.setName=function(e){return this.highLevel().attrOrCreate("name").setValue(""+e),this},t.prototype.usage=function(){return e.prototype.attribute.call(this,"usage",this.toString)},t.prototype.setUsage=function(e){return this.highLevel().attrOrCreate("usage").setValue(""+e),this},t}(Se);t.TraitImpl=Ee;var Ae=function(e){function t(t){e.call(this,"string"==typeof t?h(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"MethodImpl"},t.prototype.method=function(){return e.prototype.attribute.call(this,"method",this.toString)},t.prototype.setMethod=function(e){return this.highLevel().attrOrCreate("method").setValue(""+e),this},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new K(e)})},t}(Se);t.MethodImpl=Ae;var Ce=function(e){function t(t){e.call(this,"string"==typeof t?I(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"ResourceImpl"},t.prototype.relativeUri=function(){return e.prototype.attribute.call(this,"relativeUri",function(e){return new H(e)})},t.prototype.type=function(){return e.prototype.attribute.call(this,"type",function(e){return new j(e)})},t.prototype.is=function(){return e.prototype.attributes.call(this,"is",function(e){return new V(e)})},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new K(e)})},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t.prototype.methods=function(){return e.prototype.elements.call(this,"methods")},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.displayName=function(){return e.prototype.attribute.call(this,"displayName",this.toString)},t.prototype.setDisplayName=function(e){return this.highLevel().attrOrCreate("displayName").setValue(""+e),this},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t}(L);t.ResourceImpl=Ce;var Ne=function(e){function t(t){e.call(this,"string"==typeof t?r(t):t),this.nodeOrKey=t}return _(t,e),t.prototype.wrapperClassName=function(){return"ApiImpl"},t.prototype.title=function(){return e.prototype.attribute.call(this,"title",this.toString)},t.prototype.setTitle=function(e){return this.highLevel().attrOrCreate("title").setValue(""+e),this},t.prototype.version=function(){return e.prototype.attribute.call(this,"version",this.toString)},t.prototype.setVersion=function(e){return this.highLevel().attrOrCreate("version").setValue(""+e),this},t.prototype.baseUri=function(){return e.prototype.attribute.call(this,"baseUri",function(e){return new G(e)})},t.prototype.baseUriParameters=function(){return e.prototype.elements.call(this,"baseUriParameters")},t.prototype.uriParameters=function(){return e.prototype.elements.call(this,"uriParameters")},t.prototype.protocols=function(){return e.prototype.attributes.call(this,"protocols",this.toString)},t.prototype.setProtocols=function(e){return this.highLevel().attrOrCreate("protocols").setValue(""+e),this},t.prototype.mediaType=function(){return e.prototype.attribute.call(this,"mediaType",function(e){return new ee(e)})},t.prototype.schemas=function(){return e.prototype.elements.call(this,"schemas")},t.prototype.traits=function(){return e.prototype.elements.call(this,"traits")},t.prototype.securedBy=function(){return e.prototype.attributes.call(this,"securedBy",function(e){return new K(e)})},t.prototype.securitySchemes=function(){return e.prototype.elements.call(this,"securitySchemes")},t.prototype.resourceTypes=function(){return e.prototype.elements.call(this,"resourceTypes")},t.prototype.resources=function(){return e.prototype.elements.call(this,"resources")},t.prototype.documentation=function(){return e.prototype.elements.call(this,"documentation")},t}(L);t.ApiImpl=Ne},function(e,t,n){function r(e){var t=e.value();if("string"==typeof t){var n=a.createNode(t.toString());n._actualNode().startPosition=e.lowLevel().valueStart(),n._actualNode().endPosition=e.lowLevel().valueEnd();var r=new i.StructuredValue(n,e.parent(),e.property());return r}return t}var i=n(17),a=n(18),o=function(){function e(e){this._node=e,e.setWrapperNode(this)}return e.prototype.wrapperClassName=function(){return"BasicSuperNodeImpl"},e.prototype.parent=function(){var e=this._node.parent();return e?e.wrapperNode():null},e.prototype.highLevel=function(){return this._node},e.prototype.attributes=function(e,t){var n=this._node.attributes(e);return n?t?n.map(function(e){return t(e)}):n.map(function(e){return e.value()}):null},e.prototype.attribute=function(e,t){var n=this._node.attr(e);return n?t?t(n):n.value():null},e.prototype.elements=function(e){var t=this._node.elementsOfKind(e);return t?t.map(function(e){return e.wrapperNode()}):null},e.prototype.element=function(e){var t=this._node.element(e);return t?t.wrapperNode():null},e.prototype.add=function(e){this.highLevel().add(e.highLevel())},e.prototype.addToProp=function(e,t){var n=e.highLevel(),r=this.highLevel().definition().property(t);n._prop=r,this.highLevel().add(n)},e.prototype.remove=function(e){this.highLevel().remove(e.highLevel())},e.prototype.dump=function(){return this.highLevel().dump("yaml")},e.prototype.toString=function(e){var t=e.value();return null!=t?t.toString():t},e.prototype.toBoolean=function(e){var t=e.value();return null!=t?"true"==t.toString():t},e.prototype.toNumber=function(e){var t=e.value();if(!t)return t;try{var n=parseFloat(t.toString());return n}catch(r){}return Number.MAX_VALUE},e}();t.BasicSuperNodeImpl=o,t.toStructuredValue=r},function(e,t,n){function r(e){for(var t="",n=0,r=0;r<e.length;r++){var i=e.charAt(r);0==n&&(t+=i),"{"==i&&n++,"}"==i&&n--}return t}var i=(n(14),n(16)),a=n(77),o=n(92),s=function(){function e(){this.holder={},this.conflicting={}}return e.prototype.validateApi=function(e,t){var n=this;e.resources().forEach(function(e){n.acceptResource(e),e.resources().forEach(function(e){return n.acceptResource(e)})});for(var r in this.conflicting){var o=this.conflicting[r],s={},u={},l=[];o.forEach(function(e){e.queryParameters().forEach(function(t){var n=t.name();if(t.required()){var r=s[n];r||(r=[],s[n]=r),r.push(e),l.push(e)}}),e.headers().forEach(function(t){var n=t.name();if(t.required()){var r=u[n];r||(r=[],u[n]=r),r.push(e),l.push(e)}})});var c=o.filter(function(e){return!i.find(l,function(t){return t==e})});c.length>0&&c.forEach(function(e){t.accept(a.createIssue(5,"method overloading is ambiguous",e.highLevel(),!0))});for(var p in s){var d=s[p];if(d.length>1){var m={},h=[];d.forEach(function(e){var t=i.find(e.queryParameters(),function(e){return e.name()==p});if(t["enum"]){var n=t["enum"]();n&&n.length>0&&n.forEach(function(t){var n=m[t];n||(n=[],m[t]=n),n.push(e),h.push(e)})}});var f=d.filter(function(e){return!i.find(h,function(t){return t==e})});f.length>0&&f.forEach(function(e){t.accept(a.createIssue(5,"method overloading is ambiguous no domain restrictions",e.highLevel(),!0))});for(var y in m){var g=m[y];g.length>1&&g.forEach(function(e){return t.accept(a.createIssue(5,"method overloading is ambiguous ( enum value "+y+")",e.highLevel(),!0))})}}}}},e.prototype.acceptResource=function(e){var t=this;e.methods().forEach(function(n){t.acceptMethod(e,n)})},e.prototype.acceptMethod=function(e,t){var n=r(o.absoluteUri(e))+t.method(),i=this.holder[n];i||(i=[],this.holder[n]=i),i.push(t),i.length>1&&(this.conflicting[n]=i)},e}();t.OverloadingValidator=s},function(e,t,n){function r(e){var t=O.typeFromNode(e.highLevel());return t.toRuntime()}function i(e){var t=new k.Project(D.dirname(e)),n=t.unit(D.basename(e));return n&&n.isRAMLUnit()?I.fromUnit(n).wrapperNode():null}function a(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);return t}function o(e){var t="",n=e;do e=n,t=e.relativeUri().value()+t,n=e.parent();while(n.relativeUri);t=t.replace(/\/\//g,"/");var r=n.baseUri(),i=r?r.value():"";return i=i?i:"",R.stringEndsWith(i,"/")&&(t=t.substring(1)),t=i+t}function s(e){return _.qName(e.highLevel(),e.highLevel().root())}function u(e){return L.globalDeclarations(e.highLevel()).filter(function(e){return"Trait"==e.definition().name()}).map(function(e){return e.wrapperNode()})}function l(e){return L.globalDeclarations(e.highLevel()).filter(function(e){return"ResourceType"==e.definition().name()}).map(function(e){return e.wrapperNode()})}function c(e){var t=[],n=e;do e=n,t.push(e.relativeUri().value()),n=e.parent();while(n.relativeUri);return t.reverse()}function p(e){return e.parent()}function d(e){var t=e.parent();return g(t)?x.empty():new x(t)}function m(e,t){if(null==e)return x.empty();var n=e.resources();return n?(n=n.filter(function(e){return e.relativeUri().value()==t}),0==n.length?x.empty():new x(n[0])):x.empty()}function h(e,t){if(!e)return null;for(var n=x.empty(),r=0;r<t.length;r++){if(n=m(e,t[r]),!n.isDefined())return n;e=n.getOrThrow()}return n}function f(e,t){return e?e.methods().filter(function(e){return e.method()==t}):null}function y(e,t,n){var r=h(e,t);return f(r.getOrElse(null),n)}function g(e){return e.title&&e.version&&e.baseUri}function v(e){for(var t=e;!g(t);)t=t.parent();return t}function b(e){return a(p(e))+" "+e.method().toLowerCase()}function S(e){return parseInt(e.code().value())<400}function w(e){var t=[],n=function(e){t.push(e),e.resources().forEach(function(e){return n(e)})};return e.resources().forEach(function(e){return n(e)}),t}function P(e,t){for(var n={},r=new x(t);r.isDefined();){var i=r.getOrThrow();T(i).forEach(function(e){return n[e.name()]=new K(e)}),r=d(i)}var o=N(a(t),n,{})(e);return o?new x(Object.keys(o.params).map(function(e){return new V(e,o.params[e])})):x.empty()}function M(e,t){var n=e.schema();if(!n)return x.empty();var r=n,i=!1;U.forEach(function(e){try{i=i||r.indexOf(e)>=0}catch(t){}});var a;if(i)a=new j(r);else{var o=t.schemas().filter(function(e){return e.key()==r});if(!(o.length>0))return x.empty();a=new j(o[0].value().value(),o[0].key())}return new x(a)}function T(e){var t=e.relativeUri().value(),n=e.uriParameters();return C(n,t,e)}function E(e){var t=e.baseUri()?e.baseUri().value():"",n=e.baseUriParameters();return C(n,t,e)}function A(e){var t=[],n=e;do{e=n;var r=e.relativeUri().value(),i=e.uriParameters();t=C(i,r,e).concat(t),n=e.parent()}while(n.relativeUri);var a=n,o=a.baseUri().value(),s=a.baseUriParameters();return t=C(s,o,a).concat(t)}function C(e,t,n){if(!t)return[];var r={};e.forEach(function(e){return r[e.name()]=e});for(var i=[],a=0,o=t.indexOf("{");o>=0;o=t.indexOf("{",a)){a=t.indexOf("}",++o);var s=t.substring(o,a);r[s]?i.push(r[s]):i.push(new F(s,n))}return i}var N=n(93),I=n(14),_=n(17),x=n(61),R=n(60),O=n(69),L=n(66),k=n(18),D=n(10);t.resolveType=r,t.load=i,t.completeRelativeUri=a,t.absoluteUri=o,t.qName=s,t.allTraits=u,t.allResourceTypes=l,t.relativeUriSegments=c,t.parentResource=p,t.parent=d,t.getChildResource=m,t.getResource=h,t.getChildMethod=f,t.getMethod=y,t.ownerApi=v,t.methodId=b,t.isOkRange=S,t.allResources=w,t.matchUri=P;var U=["{","<"];t.schema=M,t.uriParameters=T,t.baseUriParameters=E,t.absoluteUriParameters=A;var F=function(){function e(e,t){this._name=e,this._parent=t}return e.prototype.wrapperClassName=function(){return"HelperUriParam"},e.prototype.name=function(){return this._name},e.prototype.type=function(){return["string"]},e.prototype.location=function(){return{wrapperClassName:function(){return"HelperModelLocation"}}},e.prototype.locationKind=function(){return{wrapperClassName:function(){return"HelperLocationKind"}}},e.prototype["default"]=function(){return null},e.prototype.xml=function(){return null},e.prototype.sendDefaultByClient=function(){return!1},e.prototype.example=function(){return""},e.prototype.schema=function(){return null},e.prototype.formParameters=function(){return[]},e.prototype.examples=function(){return[]},e.prototype.repeat=function(){return!1},e.prototype["enum"]=function(){return[]},e.prototype.collectionFormat=function(){return"multi"},e.prototype.required=function(){return!0},e.prototype.readOnly=function(){return!1},e.prototype.facets=function(){return[]},e.prototype.scope=function(){return[]},e.prototype.validWhen=function(){return null},e.prototype.requiredWhen=function(){return null},e.prototype.displayName=function(){return this._name},e.prototype.description=function(){return null},e.prototype.annotations=function(){return[]},e.prototype.usage=function(){return null},e.prototype.parent=function(){return this._parent},e.prototype.highLevel=function(){return null},e}();t.HelperUriParam=F;var j=function(){function e(e,t){this._content=e,this._name=t}return e.prototype.name=function(){return this._name},e.prototype.content=function(){return this._content},e}();t.SchemaDef=j;var V=function(){function e(e,t){this.key=e,this.value=t}return e}();t.ParamValue=V;var K=function(){function e(e){this._param=e,this.description=e.description()?e.description().value():this.description,this.displayName=e.displayName(),this.type=e.type().length>0?e.type()[0]:"string",this.example=e.example(),this.repeat=e.repeat(),this.required=e.required(),this["default"]=e["default"]()}return e}()},function(e,t,n){function r(e,t,n,r){var i=r.end!==!1,a=r.strict,o="";r.sensitive||(o+="i");var s=e.replace(p,function(e,r,i,a){if(a)return"\\"+a;n.push({name:i,prefix:r||"/"}),r=r?"\\"+r:"";var o=t[i],s=o&&l[o.type]||"[^"+(r||"\\/")+"]+",u=o&&o.required===!1;return Array.isArray(o["enum"])&&o["enum"].length&&(s="(?:"+o["enum"].map(function(e){return String(e).replace(c,"\\$1")}).join("|")+")"),r+"("+s+")"+(u?"?":"")}),u="/"===e.charAt(e.length-1);return a||(s=(u?s.slice(0,-2):s)+"(?:\\/(?=$))?"),s+=i?"$":a&&u?"":"(?=\\/|$)",new RegExp("^"+s+(i?"$":""),o)}function i(e){try{return decodeURIComponent(e)}catch(t){var n=new Error('Failed to decode param "'+e+'"');throw n.status=400,n}}function a(e,t,n){if(n=n||{},"/"===e&&n.end===!1)return o;t=t||{};var a=[],l=r(e,t,a,n),c=s()(t),p=u()(t);return function(e){var n=l.exec(e);if(!n)return!1;if(t.mediaTypeExtension&&n.length>1&&!n[n.length-1]){var r=n[n.length-2],o=r.lastIndexOf(".");o>=0&&(n[n.length-2]=r.substring(0,o),n[n.length-1]=r.substring(o))}for(var s=n[0],u={},d=1;d<n.length;d++){var m=a[d-1],h=n[d];u[m.name]=null==h?h:i(h)}return u=c(u),p(u).valid?{path:s,params:u}:!1}}function o(e){return{path:"",params:{}}}var s=n(94),u=n(95),l={number:"[-+]?\\d+(?:\\.\\d+)?",integer:"[-+]?\\d+",date:"(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} (?:[0-1]\\d|2[0-3]):[0-5]\\d:[0-5]\\d GMT","boolean":"(?:true|false)"},c=/([.*+?=^!:${}()|[\]\/\\])/g,p=new RegExp(["([.\\/])?\\{([^}]+)\\}",c.source].join("|"),"g");e.exports=a},function(e,t){function n(e){return null==e}function r(e){return n(e)?"":String(e)}function i(e){return-1===[0,!1,"","0","false"].indexOf(e)}function a(e){return isFinite(e)?Number(e):null}function o(e){return e%1===0?Number(e):null}function s(e){return isNaN(Date.parse(e))?null:new Date(e)}function u(e,t,r){var i=Array.isArray(e)?e:[e],a=i.map(function(e){function i(e,t,n){for(var r=0;r<a.length;r++){var i=a[r],e=i(e,t,n);if(null!=e)return e}return null}var a=[],o=r[e.type];return"function"==typeof o&&a.push(o),Object.keys(e).filter(function(e){return"type"!==e&&"repeat"!==e&&"default"!==e}).forEach(function(n){var r=t[n];"function"==typeof r&&a.push(r(e[n],n))}),function(t,r,a){if(n(t))return null!=e["default"]?i(e["default"],r,a):e.repeat&&!e.required?[]:t;if(e.repeat){var o=Array.isArray(t)?t:[t];return o=o.map(function(e){return i(e,r,a)}),o.some(n)?null:t}if(Array.isArray(t)){if(t.length>1)return null;t=t[0]}return i(t,r,a)}});return function(e,t,n){for(var r=0;r<a.length;r++){var i=a[r],o=i(e,t,n);if(null!=o)return o}return e}}function l(){function e(e){return u(e,n,l)}var t,n={},l={string:r,number:a,integer:o,"boolean":i,date:s},c=function(e){if(!e)return function(){return{}};var t={};return Object.keys(e).forEach(function(n){t[n]=c.rule(e[n])}),function(e){e=e||{};var n={};return Object.keys(t).forEach(function(r){var i=e[r],a=t[r];Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=a(i,r,e))}),n}};return t=c,t.rule=e,t.TYPES=l,t.RULES=n,t}e.exports=l},function(e,t){function n(e){return"[object Date]"===g.call(e)&&!isNaN(e.getTime())}function r(e){return"boolean"==typeof e}function i(e){return"string"==typeof e}function a(e){return"number"==typeof e&&e%1===0}function o(e){return"number"==typeof e&&isFinite(e)}function s(e){return function(t){return t>=e}}function u(e){return function(t){return e>=t}}function l(e){return function(t){return Buffer.byteLength(t)>=e}}function c(e){return function(t){return Buffer.byteLength(t)<=e}}function p(e){return e&&0!=e.length?function(t){return e.indexOf(t)>-1}:function(e){return!0}}function d(e){var t="string"==typeof e?new RegExp(e):e;return t.test.bind(t)}function m(e,t,n,r,i){return{valid:e,rule:r,attr:i,value:n,key:t}}function h(e,t){var n=[];return Object.keys(e).forEach(function(r){var i=t[r];if(i){var a=e[r];n.push([r,i(a,r),a])}}),function(e,t,r){for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1],u=a[2],l=s(e,t,r);if(!l)return m(!1,t,e,o,u)}return m(!0,t,e)}}function f(e,t,n){var r=Array.isArray(e)?e:[e],i=!r.length,a=[],o=[];return r.forEach(function(e){var n=[e.type||"string",h(e,t)];e.required||(i=!0),e.repeat?o.push(n):a.push(n)}),function(e,t,r){if(null==e)return m(i,t,e,"required",!i);var s=Array.isArray(e),u=s?e:[e],l=s?o:a;if(!l.length)return m(!1,t,e,"repeat",!s);var c=null,p=e;return l.some(function(e){var i=u.every(function(i){var a=e[0],o=n[a]&&n[a](i,t,r);return o||(c=m(!1,t,p,"type",a)),o});return i?(u.every(function(n){var r=e[1];return c=r(n,t),c.valid}),!0):!1}),c}}function y(){function e(e){return f(e,h,m)}var t,m={date:n,number:o,integer:a,"boolean":r,string:i},h={minimum:s,maximum:u,minLength:l,maxLength:c,"enum":p,pattern:d},y=function(t){if(!t)return function(e){return{valid:!0,errors:[]}};var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),function(e){e=e||{};var t=Object.keys(n).map(function(t){var r=e[t],i=n[t];return i(r,t,e)}).filter(function(e){return!e.valid});return{valid:0===t.length,errors:t}}};return t=y,t.rule=e,t.TYPES=m,t.RULES=h,t}var g=Object.prototype.toString;e.exports=y},function(e,t,n){function r(e,t){var n=a.parse(e);i(n,t)}function i(e,t){if("unary"==e.type){var n=e;i(n.exp,t)}else if("paren"==e.type){var r=e;i(r.exp,t)}else if("string"==e.type||"number"==e.type);else if("ident"==e.type){var a=e,s=o.resolveRamlPointer(t,a.value);if(!s)throw new Error("Unable to resolve "+a.value)}else{var u=e;i(u.l,t),i(u.r,t)}}var a=n(97),o=n(66);t.validate=r},function(e,t){var n=function(){"use strict";function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function n(e){function n(t){var n,r,i=Xe[t];if(i)return i;for(n=t-1;!Xe[n];)n--;for(i=Xe[n],i={line:i.line,column:i.column,seenCR:i.seenCR};t>n;)r=e.charAt(n),"\n"===r?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return Xe[t]=i,i}function r(e,t){var r=n(e),i=n(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function i(e){Qe>Je||(Je>Qe&&(Qe=Je,Ze=[]),Ze.push(e))}function a(e,n,r,i){function a(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,i,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],i=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+i+" found."}return null!==n&&a(n),new t(null!==e?e:o(n,r),n,r,i)}function o(){var e,t;return e=Je,t=v(),t!==D&&($e=e,t=j(t)),e=t}function s(){var e,t;return e=Je,t=b(),t!==D&&($e=e,t=j(t)),e=t,e===D&&(e=u()),e}function u(){var e,t,n;return e=Je,t=w(),t!==D?(n=s(),n!==D?($e=e,t=V(t,n),e=t):(Je=e,e=D)):(Je=e,e=D),e}function l(){var t,n,r,a,o;return t=Je,n=s(),n!==D?(r=Je,K.test(e.charAt(Je))?(a=e.charAt(Je),Je++):(a=D,0===et&&i(B)),a!==D?(o=l(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function c(){var t,n,r,a,o;return t=Je,n=l(),n!==D?(r=Je,H.test(e.charAt(Je))?(a=e.charAt(Je),Je++):(a=D,0===et&&i(G)),a!==D?(o=c(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function p(){var t,n,r,a,o;return t=Je,n=c(),n!==D?(r=Je,e.substr(Je,2)===W?(a=W,Je+=2):(a=D,0===et&&i(z)),a===D&&(e.substr(Je,2)===Y?(a=Y,Je+=2):(a=D,0===et&&i(J)),a===D&&(60===e.charCodeAt(Je)?(a=$,Je++):(a=D,0===et&&i(X)),a===D&&(62===e.charCodeAt(Je)?(a=Q,Je++):(a=D,0===et&&i(Z))))),a!==D?(o=p(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function d(){var t,n,r,a,o;return t=Je,n=p(),n!==D?(r=Je,e.substr(Je,2)===ee?(a=ee,Je+=2):(a=D,0===et&&i(te)),a===D&&(e.substr(Je,2)===ne?(a=ne,Je+=2):(a=D,0===et&&i(re))),a!==D?(o=d(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function m(){var t,n,r,a,o;return t=Je,n=d(),n!==D?(r=Je,38===e.charCodeAt(Je)?(a=ie,Je++):(a=D,0===et&&i(ae)),a!==D?(o=m(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function h(){var t,n,r,a,o;return t=Je,n=m(),n!==D?(r=Je,94===e.charCodeAt(Je)?(a=oe,Je++):(a=D,0===et&&i(se)),a!==D?(o=h(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function f(){var t,n,r,a,o;return t=Je,n=h(),n!==D?(r=Je,124===e.charCodeAt(Je)?(a=ue,Je++):(a=D,0===et&&i(le)),a!==D?(o=f(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function y(){var t,n,r,a,o;return t=Je,n=f(),n!==D?(r=Je,e.substr(Je,2)===ce?(a=ce,Je+=2):(a=D,0===et&&i(pe)),a!==D?(o=y(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function g(){var t,n,r,a,o;return t=Je,n=y(),n!==D?(r=Je,e.substr(Je,2)===de?(a=de,Je+=2):(a=D,0===et&&i(me)),a!==D?(o=g(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=q(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function v(){var t,n,r,a,s,u,l;return t=Je,n=g(),n!==D?(r=Je,63===e.charCodeAt(Je)?(a=he,Je++):(a=D,0===et&&i(fe)),a!==D?(s=o(),s!==D?(58===e.charCodeAt(Je)?(u=ye,Je++):(u=D,0===et&&i(ge)),u!==D?(l=v(),l!==D?(a=[a,s,u,l],r=a):(Je=r,r=D)):(Je=r,r=D)):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=ve(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}function b(){var e;return e=P(),e===D&&(e=M(),e===D&&(e=O(),e===D&&(e=_(),e===D&&(e=S())))),e}function S(){var t,n,r,a;return t=Je,40===e.charCodeAt(Je)?(n=be,Je++):(n=D,0===et&&i(Se)),n!==D?(r=o(),r!==D?(41===e.charCodeAt(Je)?(a=we,Je++):(a=D,0===et&&i(Pe)),a!==D?($e=t,n=Me(r),t=n):(Je=t,t=D)):(Je=t,t=D)):(Je=t,t=D),t}function w(){var t;return Te.test(e.charAt(Je))?(t=e.charAt(Je),Je++):(t=D,0===et&&i(Ee)),t}function P(){var t,n,r,a;if(t=Je,36===e.charCodeAt(Je)?(n=Ae,Je++):(n=D,0===et&&i(Ce)),n===D&&(Ne.test(e.charAt(Je))?(n=e.charAt(Je),Je++):(n=D,0===et&&i(Ie))),n!==D){for(r=[],_e.test(e.charAt(Je))?(a=e.charAt(Je),Je++):(a=D,0===et&&i(xe)),a===D&&(46===e.charCodeAt(Je)?(a=Re,Je++):(a=D,0===et&&i(Oe)),a===D&&(36===e.charCodeAt(Je)?(a=Ae,Je++):(a=D,0===et&&i(Ce))));a!==D;)r.push(a),_e.test(e.charAt(Je))?(a=e.charAt(Je),Je++):(a=D,0===et&&i(xe)),a===D&&(46===e.charCodeAt(Je)?(a=Re,Je++):(a=D,0===et&&i(Oe)),a===D&&(36===e.charCodeAt(Je)?(a=Ae,Je++):(a=D,0===et&&i(Ce))));r!==D?($e=t,n=Le(n,r),t=n):(Je=t,t=D)}else Je=t,t=D;return t}function M(){var e,t,n,r;if(e=Je,t=T(),t!==D){for(n=[],r=E();r!==D;)n.push(r),r=E();n!==D?(r=T(),r!==D?($e=e,t=ke(n),e=t):(Je=e,e=D)):(Je=e,e=D)}else Je=e,e=D;return e}function T(){var t;return 34===e.charCodeAt(Je)?(t=De,Je++):(t=D,0===et&&i(Ue)),t}function E(){var t,n,r;return t=C(),t===D&&(t=Je,n=Je,et++,r=T(),et--,r===D?n=void 0:(Je=n,n=D),n!==D?(e.length>Je?(r=e.charAt(Je),Je++):(r=D,0===et&&i(Fe)),r!==D?(n=[n,r],t=n):(Je=t,t=D)):(Je=t,t=D)),t}function A(){var t,n,r;return t=C(),t===D&&(t=Je,n=Je,et++,r=I(),et--,r===D?n=void 0:(Je=n,n=D),n!==D?(e.length>Je?(r=e.charAt(Je),Je++):(r=D,0===et&&i(Fe)),r!==D?(n=[n,r],t=n):(Je=t,t=D)):(Je=t,t=D)),t}function C(){var t,n,r;return t=Je,n=N(),n!==D?(r=I(),r===D&&(r=T(),r===D&&(r=N(),r===D&&(je.test(e.charAt(Je))?(r=e.charAt(Je),Je++):(r=D,0===et&&i(Ve))))),r!==D?(n=[n,r],t=n):(Je=t,t=D)):(Je=t,t=D),t}function N(){var t;return 92===e.charCodeAt(Je)?(t=Ke,Je++):(t=D,0===et&&i(Be)),t}function I(){var t;return 39===e.charCodeAt(Je)?(t=qe,Je++):(t=D,0===et&&i(He)),t}function _(){var e,t,n,r;if(e=Je,t=I(),t!==D){for(n=[],r=A();r!==D;)n.push(r),r=A();n!==D?(r=I(),r!==D?($e=e,t=ke(n),e=t):(Je=e,e=D)):(Je=e,e=D)}else Je=e,e=D;return e}function x(){var e,t,n;if(e=Je,t=[],n=R(),n!==D)for(;n!==D;)t.push(n),n=R();else t=D;return t!==D&&($e=e,t=Ge(t)),e=t}function R(){var t;return We.test(e.charAt(Je))?(t=e.charAt(Je),Je++):(t=D,0===et&&i(ze)),t}function O(){var t,n,r,a,o;return t=Je,n=x(),n!==D?(r=Je,46===e.charCodeAt(Je)?(a=Re,Je++):(a=D,0===et&&i(Oe)),a!==D?(o=x(),o!==D?(a=[a,o],r=a):(Je=r,r=D)):(Je=r,r=D),r===D&&(r=null),r!==D?($e=t,n=Ye(n,r),t=n):(Je=t,t=D)):(Je=t,t=D),t}var L,k=arguments.length>1?arguments[1]:{},D={},U={Expression:o},F=o,j=function(e){return e},V=function(e,t){return{type:"unary",op:e,exp:t}},K=/^[*%\/]/,B={type:"class",value:"[*%/]",description:"[*%/]"},q=function(e,t){return t?{type:t[0],l:e,r:t[1]}:e},H=/^[\-+]/,G={type:"class",value:"[-+]",description:"[-+]"},W="<=",z={type:"literal",value:"<=",description:'"<="'},Y=">=",J={type:"literal",value:">=",description:'">="'},$="<",X={type:"literal",value:"<",description:'"<"'},Q=">",Z={type:"literal",value:">",description:'">"'},ee="==",te={type:"literal",value:"==",description:'"=="'},ne="!=",re={type:"literal",value:"!=",description:'"!="'},ie="&",ae={type:"literal",value:"&",description:'"&"'},oe="^",se={type:"literal",value:"^",description:'"^"'},ue="|",le={type:"literal",value:"|",description:'"|"'},ce="&&",pe={type:"literal",value:"&&",description:'"&&"'},de="||",me={type:"literal",value:"||",description:'"||"'},he="?",fe={type:"literal",value:"?",description:'"?"'},ye=":",ge={type:"literal",value:":",description:'":"'},ve=function(e,t){return t?null:e},be="(",Se={type:"literal",value:"(",description:'"("'},we=")",Pe={type:"literal",value:")",description:'")"'},Me=function(e){return{type:"paren",exp:e}},Te=/^[\-&*~!]/,Ee={type:"class",value:"[-&*~!]",
description:"[-&*~!]"},Ae="$",Ce={type:"literal",value:"$",description:'"$"'},Ne=/^[a-zA-Z_]/,Ie={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},_e=/^[a-zA-Z0-9_]/,xe={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Re=".",Oe={type:"literal",value:".",description:'"."'},Le=function(e,t){return{type:"ident",value:[e].concat(t).join("")}},ke=function(e){return e=e.map(function(e){return e[1]}),{type:"string",value:e.join("")}},De='"',Ue={type:"literal",value:'"',description:'"\\""'},Fe={type:"any",description:"any character"},je=/^[abfnrtv]/,Ve={type:"class",value:"[abfnrtv]",description:"[abfnrtv]"},Ke="\\",Be={type:"literal",value:"\\",description:'"\\\\"'},qe="'",He={type:"literal",value:"'",description:'"\'"'},Ge=function(e){return e.join("")},We=/^[0-9]/,ze={type:"class",value:"[0-9]",description:"[0-9]"},Ye=function(e,t){t||(t=[]);var n=[e].concat(t).join("");return{type:"number",value:n}},Je=0,$e=0,Xe=[{line:1,column:1,seenCR:!1}],Qe=0,Ze=[],et=0;if("startRule"in k){if(!(k.startRule in U))throw new Error("Can't start parsing from rule \""+k.startRule+'".');F=U[k.startRule]}if(L=F(),L!==D&&Je===e.length)return L;throw L!==D&&Je<e.length&&i({type:"end",description:"end of input"}),a(null,Ze,Qe<e.length?e.charAt(Qe):null,Qe<e.length?r(Qe,Qe+1):r(Qe,Qe))}return e(t,Error),{SyntaxError:t,parse:n}}();e.exports=n},function(e,t,n){function r(e){if(d[e])return a(d[e]);var t=s.resolve(__dirname,p[e]),n=o.readFileSync(t).toString(),r=u.parseStruct(n,{},t),l=i(r),c=s.resolve(s.resolve(s.dirname(t),"../artifacts"),e+".json");return o.writeFileSync(c,JSON.stringify(l,null,2)),r=a(l)}function i(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var r=e.name;if(!t[r]){t[r]=e,n.push(e);var a=e.imports;return Object.keys(a).forEach(function(e){var r=a[e],o=r.name;a[e]=o,i(r,t,n)}),n}}function a(e){var t=e[0],n={};return e.forEach(function(e){return n[e.name]=e}),e.forEach(function(e){var t=e.imports;Object.keys(t).forEach(function(e){var r=t[e];t[e]=n[r]})}),t}var o=n(4),s=n(10),u=n(71),l=n(70),c={},p={RAML10:"./spec-1.0/api.ts",RAML08:"./spec-0.8/api.ts",Swagger2:"./spec-swagger-2.0/swagger.ts"},d={RAML10:n(99),RAML08:n(100),Swagger2:n(101)},m=function(){var e=function(e){if(c[e])return c[e];var t=r(e),i=l.toDefSystem(t);i&&(i.setUniverseVersion(e),c[e]=i);var a=n(83);return global.mediaTypeParser=a,i};return e.availableUniverses=function(){return Object.keys(p)},e.clean=function(){Object.keys(d).forEach(function(e){d[e]=null,c[e]=null,o.writeFileSync(s.resolve(__dirname,"./artifacts/"+e+".json"),"null")})},e}();e.exports=m},function(e,t){e.exports=[{classes:[{name:"GlobalSchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the global schema, used to refer on schema content"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the schema"]},{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.value",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.actuallyExports",arguments:["value"]},{name:"MetaModel.description",arguments:["Content of the schema"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ImportDeclaration",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name prefix (without dot) used to refer imported declarations"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Library",nameSpace:"",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the declared namespace"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Library",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1},{name:"schemas",type:{base:{typeName:"GlobalSchema",nameSpace:"",basicName:"GlobalSchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Alias for the types property, for compatibility with RAML 0.8. Deprecated - may be removed in a future RAML version."]},{name:"MetaModel.valueDescription",arguments:["GlobalSchema[]"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why library exist"]}],valueConstraint:null,optional:!1},{name:"annotations",type:{base:{typeName:"Decls.AnnotationRef",nameSpace:"Decls",basicName:"AnnotationRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.version",arguments:["MetaModel.RAMLVersion.RAML10"]},{name:"MetaModel.noDirectParse",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.ANNOTATION"]},{name:"MetaModel.description",arguments:["Most of RAML model elements may have attached annotations decribing additional meta data about this element"]},{name:"MetaModel.documentationTableLabel",arguments:["(&lt;annotationName&gt;)"]},{name:"MetaModel.valueDescription",arguments:["A value corresponding to the declared type of this annotation."]}],valueConstraint:null,optional:!1},{name:"types",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.MODELS"]},{name:"MetaModel.description",arguments:["Declarations of (data) types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of (data) types for use within this API. See [[raml-10-spec-types|Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map type names to type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"traits",type:{base:{typeName:"RM.Trait",nameSpace:"RM",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of traits used in this API"]},{name:"MetaModel.description",arguments:["Declarations of traits for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of traits for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map trait names to trait declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"resourceTypes",type:{base:{typeName:"RM.ResourceType",nameSpace:"RM",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declaration of resource types used in this API"]},{name:"MetaModel.description",arguments:["Declarations of resource types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of resource types for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map resource type names to resource type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"annotationTypes",type:{base:{typeName:"Decls.AnnotationType",nameSpace:"Decls",basicName:"AnnotationType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.version",arguments:["MetaModel.RAMLVersion.RAML10"]},{name:"MetaModel.description",arguments:["Declarations of annotation types for use by annotations"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of annotation types for use by annotations. See [[raml-10-spec-declaring-annotation-types|Annotation Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map annotation type names to annotation type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"securitySchemaTypes",type:{base:{typeName:"RM.SecuritySchemaType",nameSpace:"RM",basicName:"SecuritySchemaType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas types declarations"]}],valueConstraint:null,optional:!1},{name:"securitySchemes",type:{base:{typeName:"RM.SecuritySchema",nameSpace:"RM",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas declarations"]},{name:"MetaModel.description",arguments:["Declarations of security schemes for use within this API."]},{name:"MetaModel.markdownDescription",arguments:["Declarations of security schemes for use within this API. See [[raml-10-spec-security|Security Schemes]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map security scheme names to security scheme declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"Library",nameSpace:"",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Importing libraries"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"OLibrary",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1},{name:"schemas",type:{base:{typeName:"GlobalSchema",nameSpace:"",basicName:"GlobalSchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Alias for the types property, for compatibility with RAML 0.8. Deprecated - may be removed in a future RAML version."]},{name:"MetaModel.valueDescription",arguments:["GlobalSchema[]"]}],valueConstraint:null,optional:!1},{name:"types",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.MODELS"]},{name:"MetaModel.description",arguments:["Declarations of (data) types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of (data) types for use within this API. See [[raml-10-spec-types|Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map type names to type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"traits",type:{base:{typeName:"RM.Trait",nameSpace:"RM",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of traits used in this API"]},{name:"MetaModel.description",arguments:["Declarations of traits for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of traits for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map trait names to trait declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"resourceTypes",type:{base:{typeName:"RM.ResourceType",nameSpace:"RM",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declaration of resource types used in this API"]},{name:"MetaModel.description",arguments:["Declarations of resource types for use within this API"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of resource types for use within this API. See [[raml-10-spec-resource-types-and-traits|Resource Types and Traits]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map resource type names to resource type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"annotationTypes",type:{base:{typeName:"Decls.AnnotationType",nameSpace:"Decls",basicName:"AnnotationType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.version",arguments:["MetaModel.RAMLVersion.RAML10"]},{name:"MetaModel.description",arguments:["Declarations of annotation types for use by annotations"]},{name:"MetaModel.markdownDescription",arguments:["Declarations of annotation types for use by annotations. See [[raml-10-spec-declaring-annotation-types|Annotation Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map annotation type names to annotation type declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"securitySchemaTypes",type:{base:{typeName:"RM.SecuritySchemaType",nameSpace:"RM",basicName:"SecuritySchemaType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas types declarations"]}],valueConstraint:null,optional:!1},{name:"securitySchemes",type:{base:{typeName:"RM.SecuritySchema",nameSpace:"RM",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas declarations"]},{name:"MetaModel.description",arguments:["Declarations of security schemes for use within this API."]},{name:"MetaModel.markdownDescription",arguments:["Declarations of security schemes for use within this API. See [[raml-10-spec-security|Security Schemes]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map security scheme names to security scheme declarations; or an array of such objects"]}],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"Library",nameSpace:"",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Importing libraries"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries or a single library"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Overlay",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why overlay exist"]}],valueConstraint:null,optional:!1},{name:"masterRef",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1},{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Extension",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["contains description of why extension exist"]}],valueConstraint:null,optional:!1},{name:"masterRef",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]}],valueConstraint:null,optional:!1},{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"Api",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["Short plain-text label for the API"]}],valueConstraint:null,optional:!1},{name:"version",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['The version of the API, e.g. "v1"']}],valueConstraint:null,optional:!1},{name:"baseUri",type:{typeName:"Sys.FullUriTemplate",nameSpace:"Sys",basicName:"FullUriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["A URI that's to be used as the base of all the resources' URIs. Often used as the base of the URL of each resource, containing the location of the API. Can be a template URI."]},{name:"MetaModel.valueDescription",arguments:["URI template string"]}],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.BURI"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.description",arguments:["Named parameters used in the baseUri (template)"]},{name:"MetaModel.valueDescription",arguments:["Object whose properties are base URI parameter names"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["The protocols supported by the API"]},{name:"MetaModel.valueDescription",arguments:['Array of strings, with each being "HTTP" or "HTTPS", case-insensitive']}],valueConstraint:null,optional:!1},{name:"mediaType",type:{typeName:"Bodies.MimeType",nameSpace:"Bodies",basicName:"MimeType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]},{name:"MetaModel.description",arguments:['The default media type to use for request and response bodies (payloads), e.g. "application/json"']},{name:"MetaModel.inherited",arguments:[]},{name:"MetaModel.valueDescription",arguments:["Media type string"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"RM.SecuritySchemaRef",nameSpace:"RM",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["The security schemes that apply to every resource and method in the API"]},{name:"MetaModel.valueDescription",arguments:["Array of security scheme names or a single security scheme name"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"RM.Resource",nameSpace:"RM",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.documentationTableLabel",arguments:["/&lt;relativeUri&gt;"]},{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:["The resources of the API, identified as relative URIs that begin with a slash (/). Every property whose key begins with a slash (/), and is either at the root of the API definition or is the child property of a resource property, is a resource property, e.g.: /users, /{groupId}, etc"]},{name:"MetaModel.valueDescription",arguments:["Object whose properties describe the resource"]}],valueConstraint:null,optional:!1},{name:"documentation",type:{base:{typeName:"DocumentationItem",nameSpace:"",basicName:"DocumentationItem",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Additional overall documentation for the API"]},{name:"MetaModel.valueDescription",arguments:["An array of document objects (or a single document object), each having exactly two string-valued properties: title and content."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"OLibrary",nameSpace:"",basicName:"OLibrary",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],name:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the API"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this API. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}],securitySchemaTypes:[{name:"MetaModel.hide",arguments:[]}]}},{name:"DocumentationItem",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Title of documentation section"]}],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of documentation section"]},{name:"MetaModel.valueDescription",arguments:["markdown string"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ScriptSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"language",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"ApiDescription",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"apiFiles",type:{base:{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"script",type:{base:{typeName:"ScriptSpec",nameSpace:"",basicName:"ScriptSpec",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["endpoint","callback"]]},{name:"MetaModel.descriminatingProperty",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"CallbackAPIDescription",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"callback"},optional:!1},{name:"callbackFor",type:{typeName:"Api",nameSpace:"",basicName:"Api",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"ApiDescription",nameSpace:"",basicName:"ApiDescription",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLProject",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"relatedProjects",type:{base:{typeName:"RAMLProject",nameSpace:"",basicName:"RAMLProject",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"declaredApis",type:{base:{typeName:"ApiDescription",nameSpace:"",basicName:"ApiDescription",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"license",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"overview",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"url",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",RM:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts",Decls:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts",Params:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts",Bodies:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts",models:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},{classes:[{name:"SpecPartMetaData",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],
modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"RAMLVersion",members:["RAML08","RAML10"]}],imports:{},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts"},{classes:[{name:"ValueType",methods:[{name:"parse",start:69,end:234,text:"\n    /**\n     * parses inner structure of value type if value type has invalid value you should throw error\n     * with descriptive message\n     */\n    parse():any{}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"StringType",methods:[{name:"value",start:321,end:349,text:" value():string{return null}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["string"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["number"]},{name:"MetaModel.alias",arguments:["integer"]},{name:"MetaModel.alias",arguments:["number"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["boolean"]},{name:"MetaModel.alias",arguments:["boolean"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"Referencable",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Reference",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DeclaresDynamicType",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[{typeName:"Referencable",nameSpace:"",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"T",nameSpace:"",basicName:"T",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"UriTemplate",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This type currently serves both for absolute and relative urls"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/115"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"StatusCode",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ramlexpression",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RelativeUri",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes relative uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FullUriTemplate",methods:[{name:"validate",start:2412,end:3342,text:"\n    //parse():string[]{\n    //    var value=this.value();\n    //    var result=[]\n    //    var temp=\"\";\n    //    var inPar=false;\n    //    var count=0;\n    //    for (var a=0;a<value.length;a++){\n    //        var c=value[a];\n    //        if (c=='{'){\n    //            count++;\n    //            inPar=true;\n    //            continue;\n    //        }\n    //        if (c=='}'){\n    //            count--;\n    //            inPar=false;\n    //            result.push(temp);\n    //            temp=\"\";\n    //            continue;\n    //        }\n    //        if (inPar){\n    //            temp+=c;\n    //        }\n    //    }\n    //    if (count>0){\n    //        throw new Error(\"Unmatched '{'\")\n    //    }\n    //    if (count<0){\n    //        throw new Error(\"Unmatched '}'\")\n    //    }\n    //    return result;\n    //}\n\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes absolute uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FixedUri",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes fixed uris"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ContentType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ValidityExpression",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"MarkdownString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["markdown"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/80"]},{name:"MetaModel.description",arguments:["Mardown string is a string which can contain markdown as an extension this markdown should support links with RAML Pointers since 1.0"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateFormatSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FunctionalInterface",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaString",methods:[{name:"validate",start:4227,end:4410,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Schema at this moment only two subtypes are supported (json schema and xsd)"]},{name:"MetaModel.alias",arguments:["schema"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ExampleString",methods:[{name:"validate",start:4564,end:4747,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Examples at this moment only two subtypes are supported (json  and xml)"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSonSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["json"]},{name:"MetaModel.description",arguments:["JSON schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["xsd"]},{name:"MetaModel.description",arguments:["XSD schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ScriptingHook",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["script to inject to tooling environment"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLPointer",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLSelector",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"},{classes:[{name:"ResourceTypeRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"TraitRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaPart",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{headers:[{name:"MetaModel.markdownDescription",arguments:["Optional array of headers, documenting the possible headers that could be accepted. See [[raml-10-spec-headers|Headers]] section."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the request header names and whose values describe the values."]}],queryParameters:[{name:"MetaModel.markdownDescription",arguments:["Query parameters, used by the schema in order to authorize the request. Mutually exclusive with queryString. See [[raml-10-spec-query-parameters-in-a-query-string|Query Parameters]] section."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the query parameter names and whose values describe the values."]}],queryString:[{name:"MetaModel.description",arguments:["Specifies the query string, used by the schema in order to authorize the request. Mutually exclusive with queryParameters."]},{name:"MetaModel.valueDescription",arguments:["Type name or type declaration"]}],responses:[{name:"MetaModel.description",arguments:["Optional array of responses, describing the possible responses that could be sent. See [[raml-10-spec-responses|Responses]] section."]}],is:[{name:"MetaModel.hide",arguments:[]}],securedBy:[{name:"MetaModel.hide",arguments:[]}],displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the security scheme part"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the security scheme part"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.description",arguments:['Annotations to be applied to this security scheme part. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See [[raml-10-spec-annotations|the section on annotations]].']}]}},{name:"SecuritySchemaHook",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"parameters",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1},{name:"script",type:{typeName:"SecuritySchemaHookScript",nameSpace:"",basicName:"SecuritySchemaHookScript",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Allows customization of security schemeas"]}],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaHookScript",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.ScriptingHook",nameSpace:"Sys",basicName:"ScriptingHook",typeKind:0,typeArguments:[{typeName:"auth.SecuritySchemeHook",nameSpace:"auth",basicName:"SecuritySchemeHook",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requiredSettings",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["You may declare settings needed to use this type of security security schemas"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.DECLARATIONS"]},{name:"MetaModel.declaringFields",arguments:[]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemaPart",nameSpace:"",basicName:"SecuritySchemaPart",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The describedBy attribute MAY be used to apply a trait-like structure to a security scheme mechanism so as to extend the mechanism, such as specifying response codes, HTTP headers or custom documentation.\n        This extension allows API designers to describe security schemes. As a best practice, even for standard security schemes, API designers SHOULD describe the security schemes' required artifacts, such as headers, URI parameters, and so on. Including the security schemes' description completes an API's documentation."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.declaresSubTypeOf",arguments:["SecuritySchemaSettings"]},{name:"MetaModel.description",arguments:["Security schema type allows you to contribute your own security schema type with settings and optinal configurator for plugging into client sdks auth mechanism"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]},{name:"MetaModel.functionalDescriminator",arguments:["$parent.type"]}],"extends":[],moduleName:null,annotationOverridings:{}},{name:"OAuth1SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requestTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Temporary Credential Request endpoint as defined in RFC5849 Section 2.1"]},{name:"MetaModel.valueDescription",arguments:["FixedUri"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Resource Owner Authorization endpoint as defined in RFC5849 Section 2.2"]},{name:"MetaModel.valueDescription",arguments:["FixedUri"]}],valueConstraint:null,optional:!1},{name:"tokenCredentialsUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Request endpoint as defined in RFC5849 Section 2.3"]},{name:"MetaModel.valueDescription",arguments:["FixedUri"]}],valueConstraint:null,optional:!1},{name:"signatures",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HMAC-SHA1","RSA-SHA1","PLAINTEXT"]]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 1.0'"]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.hide",arguments:[]}],annotations:[{name:"MetaModel.hide",arguments:[]}],authentificationConfigurator:[{name:"MetaModel.hide",arguments:[]}]}},{name:"OAuth2SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"accessTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Endpoint as defined in RFC6749 [RFC6748] Section 3.2. Not required forby implicit grant type."]},{name:"MetaModel.valueDescription",arguments:["FixedUri"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Authorization Endpoint as defined in RFC6749 [RFC6748] Section 3.1. Required forby authorization_code and implicit grant types."]},{name:"MetaModel.valueDescription",arguments:["FixedUri"]}],valueConstraint:null,optional:!1},{name:"authorizationGrants",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.markdownDescription",arguments:["A list of the Authorization grants supported by the API as defined in RFC6749 [RFC6749] Sections 4.1, 4.2, 4.3 and 4.4, can be any of:<br>* authorization_code<br>* password<br>* client_credentials<br>* implicit<br>* refresh_token."]}],valueConstraint:null,optional:!1},{name:"scopes",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of scopes supported by the security scheme as defined in RFC6749 [RFC6749] Section 3.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 2.0'"]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.hide",arguments:[]}],description:[{name:"MetaModel.hide",arguments:[]}],annotations:[{name:"MetaModel.hide",arguments:[]}],authentificationConfigurator:[{name:"MetaModel.hide",arguments:[]}]}},{name:"PassThroughSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameterName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"headerName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='PassThrough'"]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.startFrom",arguments:[""]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.oneOf",arguments:[["OAuth 1.0","OAuth 2.0","Basic Authentication","Digest Authentication","Pass Through","x-{other}"]]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["The securitySchemes property MUST be used to specify an API's security mechanisms, including the required settings and the authentication methods that the API supports. one authentication method is allowed if the API supports them."]},{name:"MetaModel.valueDescription",arguments:["string<br><br>The value MUST be one of<br>* OAuth 1.0,<br>* OAuth 2.0,<br>* Basic Authentication<br>* Digest Authentication<br>* Pass Through<br>* x-&lt;other&gt;"]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute MAY be used to describe a security schemes property."]},{name:"MetaModel.description",arguments:["The description MAY be used to describe a securityScheme."]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemaPart",nameSpace:"",basicName:"SecuritySchemaPart",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["A description of the request components related to Security that are determined by the scheme: the headers, query parameters or responses. As a best practice, even for standard security schemes, API designers SHOULD describe these properties of security schemes.\nIncluding the security scheme description completes an API documentation."]}],valueConstraint:null,optional:!1},{name:"settings",type:{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The settings attribute MAY be used to provide security scheme-specific information. The required attributes vary depending on the type of security scheme is being declared.\nIt describes the minimum set of properties which any processing application MUST provide and validate if it chooses to implement the security scheme. Processing applications MAY choose to recognize other properties for things such as token lifetime, preferred cryptographic algorithms, and more."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Oath2",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"OAuth 2.0"},optional:!1},{name:"settings",type:{typeName:"OAuth2SecuritySchemeSettings",nameSpace:"",basicName:"OAuth2SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Oath1",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,
annotations:[],valueConstraint:{isCallConstraint:!1,value:"OAuth 1.0"},optional:!1},{name:"settings",type:{typeName:"OAuth1SecuritySchemeSettings",nameSpace:"",basicName:"OAuth1SecuritySchemeSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"PassThrough",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"PassThrough"},optional:!1},{name:"settings",type:{typeName:"PassThroughSettings",nameSpace:"",basicName:"PassThroughSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Basic",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"Basic Authentication"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Digest",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"Digest Authentication"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Custom",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"x-{other}"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"MethodBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"responses",type:{base:{typeName:"Bodies.Response",nameSpace:"Bodies",basicName:"Response",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["response","true"]},{name:"MetaModel.newInstanceName",arguments:["New Response"]},{name:"MetaModel.description",arguments:["Information about the expected responses to a request"]},{name:"MetaModel.valueDescription",arguments:["An object whose keys are the HTTP status codes of the responses and whose values describe the responses."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["Some method verbs expect the resource to be sent as a request body. For example, to create a resource, the request must include the details of the resource to create.\nResources CAN have alternate representations. For example, an API might support both JSON and XML representations.\nA method's body is defined in the body property as a hashmap, in which the key MUST be a valid media type."]},{name:"MetaModel.needsClarification",arguments:["Ensure that forms spec is consistent with it"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.description",arguments:["A method can override the protocols specified in the resource or at the API root, by employing this property."]},{name:"MetaModel.valueDescription",arguments:["array of strings of value HTTP or HTTPS, or a single string of such kind, case-insensitive"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Params.HasNormalParameters",nameSpace:"Params",basicName:"HasNormalParameters",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Trait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the trait"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this trait"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries or a single library"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Methods that are part of this resource type definition"]},{name:"MetaModel.markdownDescription",arguments:["The methods available on this resource. See [[raml-10-spec-methods|the section on method properties]]."]},{name:"MetaModel.documentationTableLabel",arguments:["get?<br>patch?<br>put?<br>post?<br>delete?<br>options?<br>head?"]},{name:"MetaModel.valueDescription",arguments:["Object describing the method"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of the traits to apply to all methods declared (implicitly or explicitly) for this resource. See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section. Individual methods may override this declaration"]},{name:"MetaModel.valueDescription",arguments:["array, which can contain each of the following elements:<br>* name of unparametrized trait<br>* a key-value pair with trait name as key and a map of trait parameters as value<br>* inline trait declaration<br><br>(or a single element of any above kind)"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The resource type which this resource inherits. . See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section."]},{name:"MetaModel.valueDescription",arguments:["one of the following elements:<br>* name of unparametrized resource type<br>* a key-value pair with resource type name as key and a map of its parameters as value<br>* inline resource type declaration"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:["The security schemes that apply to all methods declared (implicitly or explicitly) for this resource."]},{name:"MetaModel.valueDescription",arguments:["array of security scheme names or a single security scheme name"]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.URI"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.valueRestriction",arguments:["_.find(<br>&nbsp;&nbsp;relativeUri.templateArguments(),<br>&nbsp;&nbsp;$value.name)","Uri parameter names should match to template names in relative uri"]},{name:"MetaModel.description",arguments:["Detailed information about any URI parameters of this resource"]},{name:"MetaModel.valueDescription",arguments:["object whose property names are the URI parameter names and whose values describe the values"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the resource type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this resource type"]},{name:"MetaModel.setsContextValue",arguments:["decls","true"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"ResourceBase",nameSpace:"",basicName:"ResourceBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceTypeOrTrait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Instructions on how and when to use this resource type in a RAML spec"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],valueConstraint:null,optional:!1},{name:"uses",type:{base:{typeName:"api.Library",nameSpace:"api",basicName:"Library",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["You may import library locally here it contents is accessible only inside of this trait"]},{name:"MetaModel.valueDescription",arguments:["An array of libraries"]}],valueConstraint:null,optional:!1},{name:"parameters",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Optional declaration of the parameters that the resource type employs."]},{name:"MetaModel.valueDescription",arguments:["An object whose property names are the parameter names and whose property values describe the parameter data types."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Method",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"signature",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"method",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["methods"]},{name:"MetaModel.oneOf",arguments:[["get","put","post","delete","options","head","patch"]]},{name:"MetaModel.description",arguments:["Method that can be called"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the method (in the resource's context)."]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the method (in the resource's context)"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],queryString:[{name:"MetaModel.description",arguments:["Specifies the query string needed by this method. Mutually exclusive with queryParameters."]},{name:"MetaModel.valueDescription",arguments:["Type name or type declaration"]}],queryParameters:[{name:"MetaModel.description",arguments:["Detailed information about any query parameters needed by this method. Mutually exclusive with queryString."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the query parameter names and whose values describe the values."]}],headers:[{name:"MetaModel.description",arguments:["Detailed information about any request headers needed by this method."]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the request header names and whose values describe the values."]}],body:[{name:"MetaModel.description",arguments:["Some methods admit request bodies, which are described by this property."]},{name:"MetaModel.valueDescription",arguments:["Object whose properties are either<br>1) media types and whose values are type objects describing the request body for that media type, or<br>2) a type object describing the request body for the default media type specified in the root mediaType property"]}],is:[{name:"MetaModel.description",arguments:["A list of the traits to apply to this method. See [[raml-10-spec-applying-resource-types-and-traits|Applying Resource Types and Traits]] section."]},{name:"MetaModel.valueDescription",arguments:["array, which can contain each of the following elements:<br>* name of unparametrized trait<br>* a key-value pair with trait name as key and a map of trait parameters as value<br>* inline trait declaration<br><br>(or a single element of any above kind)"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this method. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}],securedBy:[{name:"MetaModel.description",arguments:["The security schemes that apply to this method"]},{name:"MetaModel.valueDescription",arguments:["Array of security scheme names or a  single security scheme name"]}]}},{name:"Resource",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"signature",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"relativeUri",type:{typeName:"Sys.RelativeUri",nameSpace:"Sys",basicName:"RelativeUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.grammarTokenKind",arguments:["entity.name.tag.yaml"]},{name:"MetaModel.startFrom",arguments:["/"]},{name:"MetaModel.description",arguments:["Relative URL of this resource from the parent resource"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"Resource",nameSpace:"",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:['A nested resource is identified as any property whose name begins with a slash ("/") and is therefore treated as a relative URI.']},{name:"MetaModel.documentationTableLabel",arguments:["/&lt;relativeUri&gt;"]},{name:"MetaModel.valueDescription",arguments:["object describing the nested resource"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"ResourceBase",nameSpace:"",basicName:"ResourceBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the resource."]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the resource."]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this resource. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",Params:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts",Bodies:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts",Declarations:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts",models:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts",auth:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/auth.ts",api:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/api.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/methodsAndResources.ts"},{classes:[{name:"FileParameter",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"file"},optional:!1},{name:"fileTypes",type:{base:{typeName:"Sys.ContentType",nameSpace:"Sys",basicName:"ContentType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["It should also include a new property: fileTypes, which should be a list of valid content-type strings for the file. The file type */* should be a valid value."]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The minLength attribute specifies the parameter value's minimum number of bytes."]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The maxLength attribute specifies the parameter value's maximum number of bytes."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/94"]},{name:"MetaModel.description",arguments:["(Applicable only to Form properties) Value is a file. Client generators SHOULD use this type to handle file uploads correctly."]}],"extends":[{typeName:"datamodel.DataElement",nameSpace:"datamodel",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"HasNormalParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameters",type:{base:{typeName:"datamodel.DataElement",nameSpace:"datamodel",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/78"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.QUERY"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.newInstanceName",arguments:["New query parameter"]},{name:"MetaModel.description",arguments:["An APIs resources MAY be filtered (to return a subset of results) or altered (such as transforming a response body from JSON to XML format) by the use of query strings. If the resource or its method supports a query string, the query string MUST be defined by the queryParameters property"]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"datamodel.DataElement",nameSpace:"datamodel",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/59"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.HEADERS"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.description",arguments:["Headers that allowed at this position"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.issue",arguments:["It is not clear if this also allowed for resources(check)"]},{name:"MetaModel.issue",arguments:["cover wildcards ({*})"]}],valueConstraint:null,optional:!1},{name:"queryString",type:{typeName:"datamodel.DataElement",nameSpace:"datamodel",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts",datamodel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/parameters.ts"},{classes:[{name:"RAMLLanguageElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The displayName attribute specifies the $self's display name. It is a friendly name used only for display or documentation purposes. If displayName is not specified, it defaults to the element's key (the name of the property itself)."]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute describes the intended use or meaning of the $self. This value MAY be formatted using Markdown [MARKDOWN]"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],valueConstraint:null,optional:!1},{name:"annotations",type:{base:{typeName:"Decls.AnnotationRef",nameSpace:"Decls",basicName:"AnnotationRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts"},typeKind:1},annotations:[{name:"MetaModel.version",arguments:["MetaModel.RAMLVersion.RAML10"]},{name:"MetaModel.noDirectParse",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.ANNOTATION"]},{name:"MetaModel.description",arguments:["Most of RAML model elements may have attached annotations decribing additional meta data about this element"]},{name:"MetaModel.documentationTableLabel",arguments:["(&lt;annotationName&gt;)"]},{name:"MetaModel.valueDescription",arguments:["A value corresponding to the declared type of this annotation."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"RAMLSimpleElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",Decls:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts"},{classes:[{name:"AnnotationType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"AnnotationType",
nameSpace:"",basicName:"AnnotationType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of this annotation type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Instructions on how and when to use this annotation in a RAML spec."]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],valueConstraint:null,optional:!1},{name:"parameters",type:{base:{typeName:"datamodel.DataElement",nameSpace:"datamodel",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.setsContextValue",arguments:["locationKind","datamodel.LocationKind.APISTRUCTURE"]},{name:"MetaModel.setsContextValue",arguments:["location","datamodel.ModelLocation.ANNOTATION"]},{name:"MetaModel.description",arguments:["Declarations of parameters allowed in this annotation type"]},{name:"MetaModel.valueDescription",arguments:["An object whose property names are the parameter names the annotation expects and whose values are their data types."]}],valueConstraint:null,optional:!1},{name:"allowMultiple",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.description",arguments:["Whether multiple instances of annotations of this type may be applied simultaneously at the same location"]}],valueConstraint:null,optional:!1},{name:"allowedTargets",type:{base:{typeName:"AnnotationTarget",nameSpace:"",basicName:"AnnotationTarget",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"},typeKind:1},annotations:[{name:"MetaModel.extraMetaKey",arguments:["annotationTargets"]},{name:"MetaModel.oneOf",arguments:[["API","DocumentationItem","Resource","Method","Response","RequestBody","ResponseBody","DataElement","NamedExample","ResourceType","Trait","SecurityScheme","SecuritySchemeSettings","AnnotationType","Library","Overlay","Extension"]]},{name:"MetaModel.description",arguments:["Restrictions on where annotations of this type can be applied. If this property is specified, annotations of this type may only be applied on a property corresponding to one of the target names specified as the value of this property."]},{name:"MetaModel.valueDescription",arguments:["An array of names (or a single name) from the list of Target Names in the [[raml-10-spec-target-locations-table|Target Locations table]]  below. "]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.declaresSubTypeOf",arguments:["Annotation"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/147"]}],"extends":[{typeName:"common.RAMLLanguageElement",nameSpace:"common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the annotation"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the annotation"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}]}},{name:"AnnotationRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Instantiation of annotations. It allows you to attach some meta information to your API"]}],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"AnnotationType",nameSpace:"",basicName:"AnnotationType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{}},{name:"AnnotationTarget",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.ValueType",nameSpace:"Sys",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"}],moduleName:null,annotationOverridings:{}},{name:"Annotation",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",datamodel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts",common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"},{classes:[{name:"ExampleSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"content",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selfNode",arguments:[]},{name:"MetaModel.description",arguments:["The example itself"]},{name:"MetaModel.required",arguments:[]},{name:"MetaModel.valueDescription",arguments:["* Valid value for this type<br>* String representing the serialized version of a valid value"]}],valueConstraint:null,optional:!1},{name:"strict",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["By default, examples are validated against any type declaration. Set this to false to allow examples that need not validate."]}],valueConstraint:null,optional:!1},{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the example"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the example"]},{name:"MetaModel.valueDescription",arguments:["markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this example. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}},{name:"DataElementProperty",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ModelLocation",nameSpace:"",basicName:"ModelLocation",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"locationKind",type:{typeName:"LocationKind",nameSpace:"",basicName:"LocationKind",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Kind of location"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Provides default value for a property"]},{name:"MetaModel.valueDescription",arguments:["any"]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["Sets if property is optional or not"]},{name:"MetaModel.describesAnnotation",arguments:["required"]},{name:"MetaModel.valueDescription",arguments:["boolean = true"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"DataElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"xml",type:{typeName:"XMLInfo",nameSpace:"",basicName:"XMLInfo",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[],valueConstraint:null,optional:!1},{name:"facets",type:{base:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.description",arguments:["When extending from a type you can define new facets (which can then be set to concrete values by subtypes)."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"schema",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Alias for the type property, for compatibility with RAML 0.8. Deprecated - may be removed in a future RAML version."]},{name:"MetaModel.valueDescription",arguments:["Single string denoting the base type or type expression"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.allowMultiple",arguments:[]},{name:"MetaModel.canBeValue",arguments:[]},{name:"MetaModel.defaultValue",arguments:["string"]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["A base type which the current type extends, or more generally a type expression."]},{name:"MetaModel.valueDescription",arguments:["string denoting the base type or type expression"]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ModelLocation",nameSpace:"",basicName:"ModelLocation",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"locationKind",type:{typeName:"LocationKind",nameSpace:"",basicName:"LocationKind",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Kind of location"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Provides default value for a property"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selfNode",arguments:[]},{name:"MetaModel.description",arguments:["An example of an instance of this type. This can be used, e.g., by documentation generators to generate sample values for an object of this type. Cannot be present if the examples property is present."]},{name:"MetaModel.valueDescription",arguments:["* Valid value for this type<br>* String representing the serialized version of a valid value"]}],valueConstraint:null,optional:!1},{name:"examples",type:{base:{typeName:"ExampleSpec",nameSpace:"",basicName:"ExampleSpec",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["An object containing named examples of instances of this type. This can be used, e.g., by documentation generators to generate sample values for an object of this type. Cannot be present if the examples property is present."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map example names to Example objects (see [[raml-10-spec-examples|Examples]] section); or an array of Example objects."]}],valueConstraint:null,optional:!1},{name:"repeat",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["The repeat attribute specifies that the parameter can be repeated. If the parameter can be used multiple times, the repeat parameter value MUST be set to 'true'. Otherwise, the default value is 'false' and the parameter may not be repeated."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.requireValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["Sets if property is optional or not"]},{name:"MetaModel.describesAnnotation",arguments:["required"]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.canInherit",arguments:["mediaType"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the type"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the type"]},{name:"MetaModel.valueDescription",arguments:["markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this type. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}},{name:"ScalarElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"facets",type:{base:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.declaringFields",arguments:[]},{name:"MetaModel.description",arguments:["When extending from a scalar type you can define new facets (which can then be set to concrete values by subtypes)."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map facets names to their types."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["Enumeration of possible values for this primitive type. Cannot be used with the file type."]},{name:"MetaModel.valueDescription",arguments:["Array containing string representations of possible values, or a single string if there is only one possible value."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"XMLInfo",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"namespace",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"prefix",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"attribute",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"wrapped",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"ArrayField",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"array"},optional:!1},{name:"uniqueItems",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["uniqueItems"]},{name:"MetaModel.description",arguments:["Should items in array be unique"]}],valueConstraint:null,optional:!1},{name:"items",type:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.description",arguments:["Array component type."]},{name:"MetaModel.valueDescription",arguments:["Inline type declaration or type name."]}],valueConstraint:null,optional:!1},{name:"minItems",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minItems"]},{name:"MetaModel.description",arguments:["Minimum amount of items in array"]},{name:"MetaModel.valueDescription",arguments:["integer ( >= 0 ). Defaults to 0"]}],valueConstraint:null,optional:!1},{name:"maxItems",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxItems"]},{name:"MetaModel.description",arguments:["Maximum amount of items in array"]},{name:"MetaModel.valueDescription",arguments:["integer ( >= 0 ). Defaults to undefined."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.alias",arguments:["array"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"UnionField",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"discriminator",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selector",arguments:["*.DataElement"]},{name:"MetaModel.description",arguments:["Type property name to be used as a discriminator or boolean"]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"union"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.MODELS"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"DataElementRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ObjectField",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"properties",type:{base:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.description",arguments:["The properties that instances of this type may or must have."]},{name:"MetaModel.valueDescription",arguments:["An object whose keys are the properties' names and whose values are property declarations."]}],valueConstraint:null,optional:!1},{name:"minProperties",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minProperties"]},{name:"MetaModel.description",arguments:["The minimum number of properties allowed for instances of this type."]}],valueConstraint:null,optional:!1},{name:"maxProperties",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxProperties"]},{name:"MetaModel.description",arguments:["The maximum number of properties allowed for instances of this type."]}],valueConstraint:null,optional:!1},{name:"additionalProperties",type:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.description",arguments:["JSON schema style syntax for declaring maps"]},{name:"MetaModel.markdownDescription",arguments:["JSON schema style syntax for declaring maps. See [[raml-10-spec-map-types|Map Types]]."]},{name:"MetaModel.valueDescription",arguments:["Inline type declaration or typename"]}],valueConstraint:null,optional:!1},{name:"patternProperties",type:{base:{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["JSON schema style syntax for declaring key restricted maps"]},{name:"MetaModel.markdownDescription",arguments:["JSON schema style syntax for declaring key restricted maps. See [[raml-10-spec-map-types|Map Types]]."]},{name:"MetaModel.valueDescription",arguments:["An object whose properties map regular expressions (which are regarded as defining ranges for property names) to types of properties expressed as Inline type declaration or typename."]}],valueConstraint:null,optional:!1},{name:"discriminator",type:{typeName:"pointer",nameSpace:"",basicName:"pointer",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.selector",arguments:["*.DataElement"]},{name:"MetaModel.description",arguments:["Type property name to be used as discriminator, or boolean"]}],valueConstraint:null,optional:!1},{name:"discriminatorValue",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.selector",arguments:["*.DataElement"]},{name:"MetaModel.description",arguments:["The value of discriminator for the type."]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[{name:"MetaModel.hide",arguments:[]}],valueConstraint:{isCallConstraint:!1,value:"object"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.definingPropertyIsEnough",arguments:["properties"]},{name:"MetaModel.setsContextValue",arguments:["field","true"]},{name:"MetaModel.convertsToGlobalOfType",arguments:["SchemaString"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"StrElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"pattern",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["pattern"]},{name:"MetaModel.description",arguments:["Regular expression that this string should path"]},{name:"MetaModel.valueDescription",arguments:["regexp"]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minLength"]},{name:"MetaModel.description",arguments:["Minimum length of the string"]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maxLength"]},{name:"MetaModel.description",arguments:["Maximum length of the string"]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"string"},optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/82"]},{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a string"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"boolean"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ValueElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"value"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"number"},optional:!1},{name:"minimum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["minimum"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The minimum attribute specifies the parameter's minimum value."]}],valueConstraint:null,optional:!1},{name:"maximum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.facetId",arguments:["maximum"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The maximum attribute specifies the parameter's maximum value."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/82"]},{name:"MetaModel.describesAnnotation",arguments:["oneOf"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]
},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"format",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["int32","int64","int","long","float","double","int16","int8"]]},{name:"MetaModel.description",arguments:["Value format"]}],valueConstraint:null,optional:!1},{name:"multipleOf",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['A numeric instance is valid against "multipleOf" if the result of the division of the instance by this keyword\'s value is an integer.']}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a number. Indicate floating point numbers as defined by YAML."]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"IntegerElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"integer"},optional:!1},{name:"format",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.oneOf",arguments:[["int32","int64","int","long","int16","int8"]]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a integer."]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"NumberElement",nameSpace:"",basicName:"NumberElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLPointerElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"pointer"},optional:!1},{name:"target",type:{typeName:"Sys.RAMLSelector",nameSpace:"Sys",basicName:"RAMLSelector",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"pointer",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.ValueType",nameSpace:"Sys",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"RAMLExpression",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"ramlexpression"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.requireValue",arguments:["location","ModelLocation.ANNOTATION"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"ScriptHookElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"script"},optional:!1},{name:"declaredIn",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Typescript file defining interface which this scrip should comply to"]}],valueConstraint:null,optional:!1},{name:"interfaceName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Name of the interface which scripts should comply to"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.requireValue",arguments:["location","ModelLocation.ANNOTATION"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"schema"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["locationKind","LocationKind.APISTRUCTURE"]},{name:"MetaModel.nameAtRuntime",arguments:["SchemaString"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"date"},optional:!1},{name:"dateFormat",type:{typeName:"Sys.DateFormatSpec",nameSpace:"Sys",basicName:"DateFormatSpec",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},annotations:[{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/105"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a string representation of a date as defined in RFC2616 Section 3.3 [RFC2616]. or according to specified date format"]},{name:"MetaModel.declaresSubTypeOf",arguments:["DataElement"]}],"extends":[{typeName:"DataElement",nameSpace:"",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"ModelLocation",members:["QUERY","HEADERS","URI","FORM","BURI","ANNOTATION","MODEL","SECURITYSCHEMATYPE"]},{name:"LocationKind",members:["APISTRUCTURE","DECLARATIONS","MODELS"]}],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",Bodies:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts",Declarations:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/declarations.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts"},{classes:[{name:"MimeTypeModel",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"tree",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"subtype",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"suffix",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"parameters",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"MimeType",methods:[{name:"isForm",start:383,end:608,text:"\n    isForm(){\n        if (this.value()==\"application/x-www-form-urlencoded\"||this.value()=='multipart/form-data'){\n            return true;\n        }\n        //TODO USE PARSE\n        return false;//more smart code here\n    }"},{name:"isXML",start:608,end:779,text:'\n\n    isXML(){\n        //TODO USE PARSE\n\n        if (this.value()=="application/xml"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"isJSON",start:779,end:952,text:'\n\n    isJSON(){\n        //TODO USE PARSE\n\n        if (this.value()=="application/json"){\n            return true;\n        }\n        return false;//more smart code here\n    }'}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This sub type of the string represents mime types"]}],"extends":[{typeName:"Sys.StringType",nameSpace:"Sys",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"Response",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"Sys.StatusCode",nameSpace:"Sys",basicName:"StatusCode",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["statusCodes"]},{name:"MetaModel.description",arguments:["Responses MUST be a map of one or more HTTP status codes, where each status code itself is a map that describes that status code."]},{name:"MetaModel.hide",arguments:[]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","models.ModelLocation.HEADERS"]},{name:"MetaModel.setsContextValue",arguments:["locationKind","models.LocationKind.APISTRUCTURE"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.issue",arguments:["it seems to use different wildcard then in methods and resources"]},{name:"MetaModel.description",arguments:["Detailed information about any response headers returned by this method"]},{name:"MetaModel.valueDescription",arguments:["Object whose property names are the response header names and whose values describe the values."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"models.DataElement",nameSpace:"models",basicName:"DataElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["The body of the response: a body declaration"]},{name:"MetaModel.valueDescription",arguments:["Object whose properties are either<br>* Media types and whose values are type objects describing the request body for that media type, or<br>* a type object describing the request body for the default media type specified in the root mediaType property."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"}],moduleName:null,annotationOverridings:{displayName:[{name:"MetaModel.description",arguments:["An alternate, human-friendly name for the response"]}],description:[{name:"MetaModel.description",arguments:["A longer, human-friendly description of the response"]},{name:"MetaModel.valueDescription",arguments:["Markdown string"]}],annotations:[{name:"MetaModel.markdownDescription",arguments:['Annotations to be applied to this response. Annotations are any property whose key begins with "(" and ends with ")" and whose name (the part between the beginning and ending parentheses) is a declared annotation name. See the [[raml-10-spec-annotations|section on annotations]].']}]}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts",models:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/datamodel.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/common.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/bodies.ts"},{classes:[{name:"Status",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"StatusCode",nameSpace:"",basicName:"StatusCode",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/auth.ts"},annotations:[],valueConstraint:null,optional:!1},{name:"message",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationState",methods:[{name:"testAccessControl",start:435,end:564,text:"\n\n    /**\n     * allows to test if method can be accessed\n     * @param req\n     */\n    testAccessControl(req:har.Request):Status"},{name:"testAccessControl",start:564,end:622,text:"\n\n\n    testAccessControl(method:RamlWrapper.Method):Status"},{name:"status",start:622,end:644,text:"\n\n    status():Status;"},{name:"schemeId",start:644,end:667,text:"\n\n    schemeId():string"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthData",methods:[{name:"api",start:754,end:780,text:"\n    api():RamlWrapper.Api"},{name:"apiUrl",start:780,end:801,text:"\n    apiUrl():string;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"authentificationParameters",type:{typeName:"AuthentificationParameters",nameSpace:"",basicName:"AuthentificationParameters",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/auth.ts"},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"ParameterSpec",methods:[{name:"name",start:887,end:905,text:"\n    name():string"},{name:"required",start:905,end:929,text:"\n    required():boolean;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"PromptSpec",methods:[{name:"name",start:1031,end:1049,text:"\n    name():string"},{name:"description",start:1049,end:1074,text:"\n    description():string"},{name:"toPrompt",start:1074,end:1106,text:"\n    toPrompt():ParameterSpec[];"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"UserResponse",methods:[{name:"isCancelled",start:1157,end:1183,text:"\n    isCancelled():boolean"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"QueryListener",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"EndPoint",methods:[{name:"endpointUrl",start:1265,end:1290,text:"\n    endpointUrl():string"},{name:"addListener",start:1290,end:1331,text:"\n    addListener(listener:QueryListener);"},{name:"removeListener",start:1331,end:1374,text:"\n    removeListener(listenr:QueryListener);"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"EndPointSpec",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"url",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"needToSendResponse",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityEnvironment",methods:[{name:"executeHTTPRequest",start:1481,end:1635,text:"\n\n    /**\n     * execute authentification step to external service\n     * @param reg\n     */\n    executeHTTPRequest(reg:har.Request):Promise<har.Response>"},{name:"askForExtraData",start:1635,end:1822,text:"\n\n\n    /**\n     * asks for extra parameters( stored in cfg file or asked in dialog)\n     * @param parameterSpec\n     */\n    askForExtraData(parameterSpec:PromptSpec):Promise<UserResponse>"},{name:"getOrCreateEndPoint",start:1822,end:1894,text:"\n\n\n    // create\n    getOrCreateEndPoint(EndPointSpec):Promise<EndPoint>"},{name:"hasEndpoints",start:1894,end:1923,text:"\n\n    hasEndpoints():boolean;"},{name:"isInteractive",start:1923,end:1952,text:"\n    isInteractive():boolean;"},{name:"isGraphical",start:1952,end:1978,text:"\n    isGraphical():boolean"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"AuthentificationManager",methods:[{name:"supports",start:2016,end:2067,text:"\n\n    supports(client:SecurityEnvironment):boolean;"},{name:"doAuth",start:2067,end:2318,text:"\n\n    /**\n     * performs authentification\n     * everything may happen here even sending horse rider to a new city\n     * or flight to moon\n     * @param env\n     */\n    doAuth(env:SecurityEnvironment,authData:AuthData):Promise<AuthentificationState>"},{name:"doLogout",start:2318,end:2540,text:"\n\n    /**\n     * performs log out\n     * if it is needed to blow a nuke to logout it is possible\n     * @param env\n     */\n    doLogout(env:SecurityEnvironment,authData:AuthentificationState):Promise<AuthentificationState>"},{name:"addAuthDataToRequest",start:2540,end:2780,text:"\n\n\n    /**\n     * performs arbitrary request transform (as a sample might change actual url)\n     * or do complex encoding\n     * @param req\n     */\n    addAuthDataToRequest(req:har.Request,state:AuthentificationState):Promise<har.Response>"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SchemeInfo",methods:[{name:"name",start:2838,end:2856,text:"\n    name():string"},{name:"description",start:2856,end:2881,text:"\n    description():string"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"parameterSpec",type:{base:{typeName:"ParameterSpec",nameSpace:"",basicName:"ParameterSpec",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/auth.ts"},typeKind:1},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityScheme",methods:[{name:"info",start:2909,end:2932,text:"\n\n    info():SchemeInfo"},{name:"id",start:2932,end:2948,text:"\n    id():string"},{name:"needsEndpoints",start:2948,end:2978,text:"\n    needsEndpoints():boolean;"},{name:"isInteractive",start:2978,end:3007,text:"\n    isInteractive():boolean;"},{name:"isGraphical",start:3007,end:3126,text:"\n    /***\n     * means that you potentially need to have graphical display to pass it\n     */\n    isGraphical():boolean"},{name:"createAuthManager",start:3126,end:3176,text:"\n\n    createAuthManager():AuthentificationManager;"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecurityAwareApiClient",methods:[{name:"api",start:3213,end:3239,text:"\n    api():RamlWrapper.Api"},{name:"securitySchemes",start:3239,end:3279,text:"\n\n    securitySchemes():SecurityScheme[]"},{name:"getOrCreateAuthManager",start:3279,end:3349,text:"\n\n    getOrCreateAuthManager(s:SecurityScheme):AuthentificationManager"},{name:"doAuth",start:3349,end:3415,text:"\n\n    doAuth(scheme:SecurityScheme):Promise<AuthentificationState>"},{name:"doAuthSync",start:3415,end:3475,text:"\n    doAuthSync(scheme:SecurityScheme):AuthentificationState"},{name:"setCurrentAuthData",start:3475,end:3531,text:"\n\n\n\n    setCurrentAuthData(state:AuthentificationState);"},{name:"getCurrentAuthData",start:3531,end:3605,text:"//needed for multiple users\n    getCurrentAuthData():AuthentificationState"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemeHook",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"StatusCode",members:["OK","WARNING","ERROR","UNKNOWN","CANCELLED"]}],imports:{Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/systemTypes.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-1.0/auth.ts"}]},function(e,t){e.exports=[{classes:[{name:"GlobalSchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"}],fields:[{name:"key",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the global schema, used to refer on schema content"]}],valueConstraint:null,optional:!1},{name:"value",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of the schema"]},{name:"MetaModel.value",arguments:[]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.actuallyExports",arguments:["value"]},{name:"MetaModel.description",arguments:["Content of the schema"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}},{name:"Api",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The title property is a short plain text description of the RESTful API. The title property's value SHOULD be suitable for use as a title for the contained user documentation."]}],valueConstraint:null,optional:!1},{name:"version",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:['If the RAML API definition is targeted to a specific API version, the API definition MUST contain a version property. The version property is OPTIONAL and should not be used if:\nThe API itself is not versioned.\nThe API definition does not change between versions. The API architect can decide whether a change to user documentation elements, but no change to the API\'s resources, constitutes a version change.\nThe API architect MAY use any versioning scheme so long as version numbers retain the same format. For example, "v3", "v3.0", and "V3" are all allowed, but are not considered to be equal.']}],valueConstraint:null,optional:!1},{name:"baseUri",type:{typeName:"Sys.FullUriTemplate",nameSpace:"Sys",basicName:"FullUriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["(Optional during development; Required after implementation) A RESTful API's resources are defined relative to the API's base URI. The use of the baseUri field is OPTIONAL to allow describing APIs that have not yet been implemented. After the API is implemented (even a mock implementation) and can be accessed at a service endpoint, the API definition MUST contain a baseUri property. The baseUri property's value MUST conform to the URI specification [RFC2396] or a Level 1 Template URI as defined in RFC 6570 [RFC6570].\n            The baseUri property SHOULD only be used as a reference value. API client generators MAY make the baseUri configurable by the API client's users.\n            If the baseUri value is a Level 1 Template URI, the following reserved base URI parameters are available for replacement:"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/72"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/119"]},{name:"MetaModel.issue",arguments:["Overrriding on resource level looks pretty strange"]}],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["Base uri parameters are named parameters which described template parameters in the base uri"]},{name:"MetaModel.issue",arguments:["Specification is not good enough"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/150"]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["URI parameters can be further defined by using the uriParameters property. The use of uriParameters is OPTIONAL. The uriParameters property MUST be a map in which each key MUST be the name of the URI parameter as defined in the baseUri property. The uriParameters CANNOT contain a key named version because it is a reserved URI parameter name. The value of the uriParameters property is itself a map that specifies  the property's attributes as named parameters"]},{name:"MetaModel.issue",arguments:["Duplicate of base uri parameters"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/61"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.issue",arguments:["Not clear how it should work in combination with baseUri"]},{name:"MetaModel.needsClarification",arguments:["Actually it is a set"]},{name:"MetaModel.description",arguments:["A RESTful API can be reached HTTP, HTTPS, or both. The protocols property MAY be used to specify the protocols that an API supports. If the protocols property is not specified, the protocol specified at the baseUri property is used. The protocols property MUST be an array of strings, of values `HTTP` and/or `HTTPS`."]}],valueConstraint:null,optional:!1},{name:"mediaType",type:{typeName:"Bodies.MimeType",nameSpace:"Bodies",basicName:"MimeType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]},{name:"MetaModel.description",arguments:["(Optional) The media types returned by API responses, and expected from API requests that accept a body, MAY be defaulted by specifying the mediaType property. This property is specified at the root level of the API definition. The property's value MAY be a single string with a valid media type:\nOne of the following YAML media types:\ntext/yaml\ntext/x-yaml\napplication/yaml\napplication/x-yaml*\nAny type from the list of IANA MIME Media Types, http://www.iana.org/assignments/media-types\nA custom type that conforms to the regular expression, \"application/[A-Za-z.-0-1]*+?(json|xml)\"\nFor any combination of resource and operation in the API, if a media type is specified as a key of the body property for that resource and operation, or if a media type is specified in the mediaType property, the body MUST be in the specified media types. Moreover, if the client specifies an Accepts header containing multiple media types that are allowed by the specification for the requested resource and operation, the server SHOULD return a body using the media type in the Accepts header's mediaType list.\n"]},{name:"MetaModel.needsClarification",arguments:["should be open enum"]},{name:"MetaModel.inherited",arguments:[]}],valueConstraint:null,optional:!1},{name:"schemas",type:{base:{typeName:"GlobalSchema",nameSpace:"",basicName:"GlobalSchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["To better achieve consistency and simplicity, the API definition SHOULD include an OPTIONAL schemas property in the root section. The schemas property specifies collections of schemas that could be used anywhere in the API definition. The value of the schemas property is an array of maps; in each map, the keys are the schema name, and the values are schema definitions. The schema definitions MAY be included inline or by using the RAML !include user-defined data type."]}],valueConstraint:null,optional:!1},{name:"traits",type:{base:{typeName:"RM.Trait",nameSpace:"RM",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declarations of traits used in this API"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"RM.SecuritySchemaRef",nameSpace:"RM",
basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.issue",arguments:["Not stated clearly in spec"]},{name:"MetaModel.description",arguments:["A list of the security schemas to apply to all methods, these must be defined in the securitySchemes declaration."]}],valueConstraint:null,optional:!1},{name:"securitySchemes",type:{base:{typeName:"RM.SecuritySchema",nameSpace:"RM",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Security schemas that can be applied with securedBy"]}],valueConstraint:null,optional:!1},{name:"resourceTypes",type:{base:{typeName:"RM.ResourceType",nameSpace:"RM",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.embeddedInMaps",arguments:[]},{name:"MetaModel.description",arguments:["Declaration of resource types used in this API"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"RM.Resource",nameSpace:"RM",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:['Resources are identified by their relative URI, which MUST begin with a slash (/).\nA resource defined as a root-level property is called a top-level resource. Its property\'s key is the resource\'s URI relative to the baseUri.\nA resource defined as a child property of another resource is called a nested resource, and its property\'s key is its URI relative to its parent resource\'s URI.\nEvery property whose key begins with a slash (/), and is either at the root of the API definition or is the child property of a resource property, is a resource property. The key of a resource, i.e. its relative URI, MAY consist of multiple URI path fragments separated by slashes; e.g. "/bom/items" may indicate the collection of items in a bill of materials as a single resource. However, if the individual URI path fragments are themselves resources, the API definition SHOULD use nested resources to describe this structure; e.g. if "/bom" is itself a resource then "/items" should be a nested resource of "/bom", while "/bom/items" should not be used.']}],valueConstraint:null,optional:!1},{name:"documentation",type:{base:{typeName:"DocumentationItem",nameSpace:"",basicName:"DocumentationItem",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["The API definition can include a variety of documents that serve as a user guides and reference documentation for the API. Such documents can clarify how the API works or provide business context.\n            Documentation-generators MUST include all the sections in an API definition's documentation property in the documentation output, and they MUST preserve the order in which the documentation is declared.\n            To add user documentation to the API, include the documentation property at the root of the API definition. The documentation property MUST be an array of documents. Each document MUST contain title and content attributes, both of which are REQUIRED. If the documentation property is specified, it MUST include at least one document.\n            Documentation-generators MUST process the content field as if it was defined using Markdown [MARKDOWN].\n\n        This example shows an API definition with a single user document."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}},{name:"DocumentationItem",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["title of documentation section"]}],valueConstraint:null,optional:!1},{name:"content",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},annotations:[{name:"MetaModel.description",arguments:["Content of documentation section"]},{name:"MetaModel.issue",arguments:["Needs better documentation, I would like to polish it in 1.0"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"}],moduleName:"RAMLSpec",annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts",RM:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts",Decls:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/declarations.ts",Params:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts",Bodies:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/api.ts"},{classes:[{name:"SpecPartMetaData",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"title",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"RAMLVersion",members:["RAML08","RAML10"]}],imports:{},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts"},{classes:[{name:"ValueType",methods:[{name:"parse",start:69,end:235,text:"\n\n    /**\n     * parses inner structure of value type if value type has invalid value you should throw error\n     * with descriptive message\n     */\n    parse():any{}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"StringType",methods:[{name:"value",start:321,end:349,text:" value():string{return null}"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["string"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["number"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.nameAtRuntime",arguments:["boolean"]}],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"Referencable",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"Reference",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"ValueType",nameSpace:"",basicName:"ValueType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"DeclaresDynamicType",methods:[],typeParameters:["T"],typeParameterConstraint:[null],"implements":[],fields:[],isInterface:!0,annotations:[],"extends":[{typeName:"Referencable",nameSpace:"",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"T",nameSpace:"",basicName:"T",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"UriTemplate",methods:[{name:"templateArguments",start:1141,end:1579,text:'\n\n    templateArguments():string[]{\n        var pos=0;\n        var str=this.value();\n        var result=[];\n        while(true){\n            var start=str.indexOf("{",pos)\n            if (start!=-1){\n                var end=str.indexOf("}",start+1);\n                result.push(str.substring(start+1,end))\n                pos=end;\n            }\n            else{\n                break;\n            }\n        }\n        return result;\n    }'},{name:"validate",start:1579,end:1679,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This type currently serves both for absolute and relative urls"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/115"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"RelativeUri",methods:[{name:"parse",start:1804,end:2598,text:"\n    parse():string[]{\n        //FIXME INHERITANCE\n        var value=this.value();\n        var result=[]\n        var temp=\"\";\n        var inPar=false;\n        var count=0;\n        for (var a=0;a<value.length;a++){\n            var c=value[a];\n            if (c=='{'){\n                count++;\n                inPar=true;\n                continue;\n            }\n            if (c=='}'){\n                count--;\n                inPar=false;\n                result.push(temp);\n                temp=\"\";\n                continue;\n            }\n            if (inPar){\n                temp+=c;\n            }\n        }\n        if (count>0){\n            throw new Error(\"Unmatched '{'\")\n        }\n        if (count<0){\n            throw new Error(\"Unmatched '}'\")\n        }\n        return result;\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes relative uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FullUriTemplate",methods:[{name:"parse",start:2727,end:3512,text:"\n    parse():string[]{//FIXME INHERITANCE\n        var value=this.value();\n        var result=[]\n        var temp=\"\";\n        var inPar=false;\n        var count=0;\n        for (var a=0;a<value.length;a++){\n            var c=value[a];\n            if (c=='{'){\n                count++;\n                inPar=true;\n                continue;\n            }\n            if (c=='}'){\n                count--;\n                inPar=false;\n                result.push(temp);\n                temp=\"\";\n                continue;\n            }\n            if (inPar){\n                temp+=c;\n            }\n        }\n        if (count>0){\n            throw new Error(\"Unmatched '{'\")\n        }\n        if (count<0){\n            throw new Error(\"Unmatched '}'\")\n        }\n        return result;\n    }"},{name:"validate",start:3512,end:3611,text:"\n    validate(){\n        var str=this.value();\n        //write something to validate Url here\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes absolute uri templates"]}],"extends":[{typeName:"UriTemplate",nameSpace:"",basicName:"UriTemplate",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"FixedUri",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This  type describes fixed uris"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"MarkdownString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["markdown"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/80"]},{name:"MetaModel.description",arguments:["Mardown string is a string which can contain markdown as an extension this markdown should support links with RAML Pointers since 1.0"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"SchemaString",methods:[{name:"validate",start:4224,end:4407,text:"\n\n    validate(){\n        var str=this.value();\n        //write something to validate schema here here\n        //in fact it should check that content is valid json or xsd schema\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Schema at this moment only two subtypes are supported (json schema and xsd)"]}],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSonSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType&&this.mediaType.isJSON()"]},{name:"MetaModel.description",arguments:["JSON schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLSchemaString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.innerType",arguments:["xml"]},{name:"MetaModel.description",arguments:["XSD schema"]}],"extends":[{typeName:"SchemaString",nameSpace:"",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"ExampleString",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"StatusCode",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"StringType",nameSpace:"",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSONExample",methods:[{name:"parse",start:4939,end:5341,text:"\n\n    parse():any{\n        try {\n            JSON.parse(this.value());\n        } catch (e){\n            var ne=new Error(\"Warning: Can not parse JSON:\"+e.message);\n            throw ne\n        }\n        var a=this.$$.parent().attr('schema');\n        if (a) {\n          var sm=  a.findReferencedValue()\n          if (sm&&sm.validate){\n              sm.validate(this.value());\n          }\n        }\n    }"}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType.isJSON()"]}],"extends":[{typeName:"ExampleString",nameSpace:"",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLExample",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mediaType.isXML()"]}],"extends":[{typeName:"ExampleString",nameSpace:"",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"},{classes:[{name:"ResourceTypeRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"TraitRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaPart",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.allowAny",arguments:[]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.allowAny",arguments:[]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"Common.RAMLSimpleElement",nameSpace:"Common",basicName:"RAMLSimpleElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth1SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"requestTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Temporary Credential Request endpoint as defined in RFC5849 Section 2.1"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Resource Owner Authorization endpoint as defined in RFC5849 Section 2.2"]}],valueConstraint:null,optional:!1},{name:"tokenCredentialsUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Request endpoint as defined in RFC5849 Section 2.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 1.0'"]},{name:"MetaModel.allowAny",arguments:[]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"OAuth2SecuritySchemeSettings",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"accessTokenUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Token Endpoint as defined in RFC6749 [RFC6748] Section 3.2"]}],valueConstraint:null,optional:!1},{name:"authorizationUri",type:{typeName:"Sys.FixedUri",nameSpace:"Sys",basicName:"FixedUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["The URI of the Authorization Endpoint as defined in RFC6749 [RFC6748] Section 3.1"]}],valueConstraint:null,optional:!1},{name:"authorizationGrants",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.description",arguments:["A list of the Authorization grants supported by the API As defined in RFC6749 [RFC6749] Sections 4.1, 4.2, 4.3 and 4.4, can be any of: code, token, owner or credentials."]}],valueConstraint:null,optional:!1},{name:"scopes",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["A list of scopes supported by the API as defined in RFC6749 [RFC6749] Section 3.3"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["$parent.type=='OAuth 2.0'"]},{name:"MetaModel.allowAny",arguments:[]},{name:"MetaModel.issue",arguments:["Specification is actually very vague here"]}],"extends":[{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchemaRef",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[{typeName:"Sys.Reference",nameSpace:"Sys",basicName:"Reference",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"SecuritySchema",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.Referencable",nameSpace:"Sys",basicName:"Referencable",typeKind:0,typeArguments:[{typeName:"SecuritySchema",nameSpace:"",basicName:"SecuritySchema",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.required",arguments:[]},{name:"MetaModel.oneOf",arguments:[["OAuth 1.0","OAuth 2.0","Basic Authentication","Digest Authentication","x-{other}"]]},{name:"MetaModel.description",arguments:["The securitySchemes property MUST be used to specify an API's security mechanisms, including the required settings and the authentication methods that the API supports. one authentication method is allowed if the API supports them."]}],valueConstraint:null,optional:!1},{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute MAY be used to describe a securitySchemes property."]}],valueConstraint:null,optional:!1},{name:"describedBy",type:{typeName:"SecuritySchemaPart",nameSpace:"",basicName:"SecuritySchemaPart",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The describedBy attribute MAY be used to apply a trait-like structure to a security scheme mechanism so as to extend the mechanism, such as specifying response codes, HTTP headers or custom documentation.\n        This extension allows API designers to describe security schemes. As a best practice, even for standard security schemes, API designers SHOULD describe the security schemes' required artifacts, such as headers, URI parameters, and so on. Including the security schemes' description completes an API's documentation."]}],valueConstraint:null,optional:!1},{name:"settings",type:{typeName:"SecuritySchemaSettings",nameSpace:"",basicName:"SecuritySchemaSettings",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["The settings attribute MAY be used to provide security schema-specific information. Depending on the value of the type parameter, its attributes can vary.\n        The following lists describe the minimum set of properties which any processing application MUST provide and validate if it chooses to implement the Security Scheme type. Processing applications MAY choose to recognize other properties for things such as token lifetime, preferred cryptographic algorithms, an so on."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Declares globally referancable security schema definition"]},{name:"MetaModel.actuallyExports",arguments:["$self"]},{name:"MetaModel.referenceIs",arguments:["settings"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"MethodBase",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"responses",type:{base:{typeName:"Bodies.Response",nameSpace:"Bodies",basicName:"Response",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Response"]},{name:"MetaModel.description",arguments:["Resource methods MAY have one or more responses. Responses MAY be described using the description property, and MAY include example attributes or schema properties.\n"]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"Bodies.BodyLike",nameSpace:"Bodies",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:["Some method verbs expect the resource to be sent as a request body. For example, to create a resource, the request must include the details of the resource to create.\nResources CAN have alternate representations. For example, an API might support both JSON and XML representations.\nA method's body is defined in the body property as a hashmap, in which the key MUST be a valid media type."]},{name:"MetaModel.needsClarification",arguments:["Ensure that forms spec is consistent with it"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:["A list of the security schemas to apply, these must be defined in the securitySchemes declaration.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme.\nSecurity schemas may also be applied to a resource with securedBy, which is equivalent to applying the security schemas to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Params.HasNormalParameters",nameSpace:"Params",basicName:"HasNormalParameters",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"
}],moduleName:null,annotationOverridings:{}},{name:"Trait",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"Trait",nameSpace:"",basicName:"Trait",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the trait"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"ResourceType",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[{typeName:"Sys.DeclaresDynamicType",nameSpace:"Sys",basicName:"DeclaresDynamicType",typeKind:0,typeArguments:[{typeName:"ResourceType",nameSpace:"",basicName:"ResourceType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Name of the resource type"]}],valueConstraint:null,optional:!1},{name:"usage",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Methods that are part of this resource type definition"]},{name:"MetaModel.issue",arguments:["definition system did not represents that ? is allowed after method names here"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed resource type"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/71"]},{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.URI"]},{name:"MetaModel.description",arguments:["Uri parameters of this resource"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.inlinedTemplates",arguments:[]},{name:"MetaModel.allowQuestion",arguments:[]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Method",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"method",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["methods"]},{name:"MetaModel.oneOf",arguments:[["get","put","post","delete","patch","options","head"]]},{name:"MetaModel.description",arguments:["Method that can be called"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/95"]}],valueConstraint:null,optional:!1},{name:"protocols",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.oneOf",arguments:[["HTTP","HTTPS"]]},{name:"MetaModel.issue",arguments:["Not clear how it should work in combination with baseUri also is it also related to resources and types/traits"]},{name:"MetaModel.needsClarification",arguments:["Actually it is a set"]},{name:"MetaModel.description",arguments:["A method can override an API's protocols value for that single method by setting a different value for the fields."]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Method object allows description of http methods"]}],"extends":[{typeName:"MethodBase",nameSpace:"",basicName:"MethodBase",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}},{name:"Resource",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"relativeUri",type:{typeName:"Sys.RelativeUri",nameSpace:"Sys",basicName:"RelativeUri",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/73"]},{name:"MetaModel.grammarTokenKind",arguments:["entity.name.tag.yaml"]},{name:"MetaModel.startFrom",arguments:["/"]},{name:"MetaModel.description",arguments:["Relative URL of this resource from the parent resource"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/87"]}],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"ResourceTypeRef",nameSpace:"",basicName:"ResourceTypeRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed resource type"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"is",type:{base:{typeName:"TraitRef",nameSpace:"",basicName:"TraitRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.description",arguments:["Instantiation of applyed traits"]},{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/98"]}],valueConstraint:null,optional:!1},{name:"securedBy",type:{base:{typeName:"SecuritySchemaRef",nameSpace:"",basicName:"SecuritySchemaRef",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.allowNull",arguments:[]},{name:"MetaModel.description",arguments:[" securityScheme may also be applied to a resource by using the securedBy key, which is equivalent to applying the securityScheme to all methods that may be declared, explicitly or implicitly, by defining the resourceTypes or traits property for that resource.\nTo indicate that the method may be called without applying any securityScheme, the method may be annotated with the null securityScheme."]}],valueConstraint:null,optional:!1},{name:"uriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/71"]},{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.URI"]},{name:"MetaModel.valueRestriction",arguments:["_.find(relativeUri.parse(),$value.name)","Uri parameter names should match to template names in relative uri"]},{name:"MetaModel.description",arguments:["Uri parameters of this resource"]}],valueConstraint:null,optional:!1},{name:"methods",type:{base:{typeName:"Method",nameSpace:"",basicName:"Method",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Method"]},{name:"MetaModel.description",arguments:["Methods that can be called on this resource"]}],valueConstraint:null,optional:!1},{name:"resources",type:{base:{typeName:"Resource",nameSpace:"",basicName:"Resource",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Resource"]},{name:"MetaModel.description",arguments:["Children resources"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"baseUriParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["fieldOrParam",!0]},{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.BURI"]},{name:"MetaModel.description",arguments:["A resource or a method can override a base URI template's values. This is useful to restrict or change the default or parameter selection in the base URI. The baseUriParameters property MAY be used to override any or all parameters defined at the root level baseUriParameters property, as well as base URI parameters not specified at the root level."]},{name:"MetaModel.issue",arguments:["This feature is not consistent (causes not solvable overloading)"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts",Params:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts",Bodies:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/methodsAndResources.ts"},{classes:[{name:"Parameter",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["name of the parameter"]},{name:"MetaModel.extraMetaKey",arguments:["headers"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.defaultValue",arguments:["string"]},{name:"MetaModel.descriminatingProperty",arguments:[]},{name:"MetaModel.description",arguments:["The type attribute specifies the primitive type of the parameter's resolved value. API clients MUST return/throw an error if the parameter's resolved value does not match the specified type. If type is not specified, it defaults to string."]},{name:"MetaModel.canBeDuplicator",arguments:[]}],valueConstraint:null,optional:!1},{name:"location",type:{typeName:"ParameterLocation",nameSpace:"",basicName:"ParameterLocation",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"},annotations:[{name:"MetaModel.system",arguments:[]},{name:"MetaModel.description",arguments:["Location of the parameter (can not be edited by user)"]}],valueConstraint:null,optional:!1},{name:"required",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["Set to true if parameter is required"]}],valueConstraint:null,optional:!1},{name:"default",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The default attribute specifies the default value to use for the property if the property is omitted or its value is not specified. This SHOULD NOT be interpreted as a requirement for the client to send the default attribute's value if there is no other value to send. Instead, the default attribute's value is the value the server uses if the client does not send a value."]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/86"]}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional) The example attribute shows an example value for the property. This can be used, e.g., by documentation generators to generate sample values for the property."]},{name:"MetaModel.needsClarification",arguments:["It sounds consistent to allow multiple examples for parameters, but it will make hard to describe difference between 0.8 and 1.0 in terms of def system"]}],valueConstraint:null,optional:!1},{name:"repeat",type:{typeName:"boolean",nameSpace:"",basicName:"boolean",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["The repeat attribute specifies that the parameter can be repeated. If the parameter can be used multiple times, the repeat parameter value MUST be set to 'true'. Otherwise, the default value is 'false' and the parameter may not be repeated."]},{name:"MetaModel.issue",arguments:["semantic of repeat is not clearly specified and actually multiple possible reasonable options exists at the same time "]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/152"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.issue",arguments:["Multiple  parameter types are not supported in this specification we should think about how to cover them properly using same key and redefining parameter looks pretty reasonable for 1.0"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"StrElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"pattern",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.thisFeatureCovers",arguments:["https://github.com/raml-org/raml-spec/issues/97"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The pattern attribute is a regular expression that a parameter of type string MUST match. Regular expressions MUST follow the regular expression specification from ECMA 262/Perl 5. The pattern MAY be enclosed in double quotes for readability and clarity."]}],valueConstraint:null,optional:!1},{name:"enum",type:{base:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},typeKind:1},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/82"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The enum attribute provides an enumeration of the parameter's valid values. This MUST be an array. If the enum attribute is defined, API clients and servers MUST verify that a parameter's value matches a value in the enum array. If there is no matching value, the clients and servers MUST treat this as an error."]}],valueConstraint:null,optional:!1},{name:"minLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/93"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/141"]},{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The minLength attribute specifies the parameter value's minimum number of characters."]}],valueConstraint:null,optional:!1},{name:"maxLength",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type string) The maxLength attribute specifies the parameter value's maximum number of characters."]}],valueConstraint:null,optional:!1},{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"string"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a string"]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"BooleanElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"boolean"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value must be a boolean"]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"NumberElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"number"},optional:!1},{name:"minimum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The minimum attribute specifies the parameter's minimum value."]}],valueConstraint:null,optional:!1},{name:"maximum",type:{typeName:"number",nameSpace:"",basicName:"number",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.description",arguments:["(Optional, applicable only for parameters of type number or integer) The maximum attribute specifies the parameter's maximum value."]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a number. Indicate floating point numbers as defined by YAML."]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"IntegerElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"integer"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a integer."]}],"extends":[{typeName:"NumberElement",nameSpace:"",basicName:"NumberElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"DateElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"date"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["Value MUST be a string representation of a date as defined in RFC2616 Section 3.3 [RFC2616]. "]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/105"]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"FileElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:null,annotations:[],valueConstraint:{isCallConstraint:!1,value:"file"},optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.requireValue",arguments:["location","ParameterLocation.FORM"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/94"]},{name:"MetaModel.description",arguments:["(Applicable only to Form properties) Value is a file. Client generators SHOULD use this type to handle file uploads correctly."]}],"extends":[{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}},{name:"HasNormalParameters",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"queryParameters",type:{base:{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/53"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/78"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/46"]},{name:"MetaModel.setsContextValue",arguments:["location","ParameterLocation.QUERY"]},{name:"MetaModel.newInstanceName",arguments:["New query parameter"]},{name:"MetaModel.description",arguments:["An APIs resources MAY be filtered (to return a subset of results) or altered (such as transforming a response body from JSON to XML format) by the use of query strings. If the resource or its method supports a query string, the query string MUST be defined by the queryParameters property"]}],valueConstraint:null,optional:!1},{name:"displayName",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.issue",arguments:["I am not sure that it should be here but it is actually used"]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"Parameter",nameSpace:"",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"},typeKind:1},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/59"]},{name:"MetaModel.setsContextValue",arguments:["location","ParameterLocation.HEADERS"]},{name:"MetaModel.description",arguments:["Headers that allowed at this position"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.issue",arguments:["It is not clear if this also allowed for resources(check)"]},{name:"MetaModel.issue",arguments:["cover wildcards ({*})"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[{name:"ParameterLocation",members:["QUERY","HEADERS","URI","FORM","BURI"]}],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts"},{classes:[{name:"RAMLLanguageElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"description",type:{typeName:"Sys.MarkdownString",nameSpace:"Sys",basicName:"MarkdownString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts"},annotations:[{name:"MetaModel.description",arguments:["The description attribute describes the intended use or meaning of the $self. This value MAY be formatted using Markdown [MARKDOWN]"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"RAMLSimpleElement",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts",Decls:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/declarations.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts"},{classes:[{name:"DeclarationWithoutAnotations",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/declarations.ts"},{classes:[{name:"MimeTypeModel",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"type",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"tree",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"subtype",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!1},{name:"suffix",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0},{name:"parameters",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[],valueConstraint:null,optional:!0}],isInterface:!0,annotations:[],"extends":[],moduleName:null,annotationOverridings:{}},{name:"MimeType",methods:[{name:"isForm",start:430,end:631,text:"\n    isForm(){\n        if (this.value()==\"application/x-www-form-urlencoded\"||this.value()=='multipart/form-data'){\n            return true;\n        }\n\n        return false;//more smart code here\n    }"},{name:"isXML",start:631,end:776,text:'\n\n    isXML(){\n        if (this.value()=="application/xml"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"isJSON",start:776,end:923,text:'\n\n    isJSON(){\n        if (this.value()=="application/json"){\n            return true;\n        }\n        return false;//more smart code here\n    }'},{name:"parse",start:1006,end:1548,text:'\n    parse(){\n        /**\n         * top-level type name / subtype name [ ; parameters ]\n         *\n         * top-level type name / [ tree. ] subtype name [ +suffix ] [ ; parameters ]\n         */\n        var v=this.value();\n        if (v=="*/*"){\n            return\n        }\n        var res= mediaTypeParser.parse(v);\n        var types={application:1, audio:1, example:1, image:1, message:1, model:1, multipart:1, text:1, video:1}\n        if (!types[res.type]){\n            throw new Error("Unknown media type \'type\' value")\n        }\n    }'}],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[],isInterface:!1,annotations:[{name:"MetaModel.description",arguments:["This sub type of the string represents mime types"]}],"extends":[{typeName:"Sys.StringType",nameSpace:"Sys",basicName:"StringType",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"BodyLike",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"name",type:{typeName:"string",nameSpace:"",basicName:"string",typeKind:0,typeArguments:[],modulePath:null},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.description",arguments:["Mime type of the request or response body"]},{name:"MetaModel.canInherit",arguments:["mediaType"]
},{name:"MetaModel.oftenKeys",arguments:[["application/json","application/xml","application/x-www-form-urlencoded","multipart/formdata"]]}],valueConstraint:null,optional:!1},{name:"schema",type:{typeName:"Sys.SchemaString",nameSpace:"Sys",basicName:"SchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/8"]},{name:"MetaModel.requireValue",arguments:["this.name.isForm()","false"]},{name:"MetaModel.description",arguments:["\n    The structure of a request or response body MAY be further specified by the schema property under the appropriate media type.\n\nThe schema key CANNOT be specified if a body's media type is application/x-www-form-urlencoded or multipart/form-data.\n\nAll parsers of RAML MUST be able to interpret JSON Schema [JSON_SCHEMA] and XML Schema [XML_SCHEMA].\n\nSchema MAY be declared inline or in an external file. However, if the schema is sufficiently large so as to make it difficult for a person to read the API definition, or the schema is reused across multiple APIs or across multiple miles in the same API, the !include user-defined data type SHOULD be used instead of including the content inline.\nAlternatively, the value of the schema field MAY be the name of a schema specified in the root-level schemas property (see Named Parameters, or it MAY be declared in an external file and included by using the by using the RAML !include user-defined data type."]}],valueConstraint:null,optional:!1},{name:"example",type:{typeName:"Sys.ExampleString",nameSpace:"Sys",basicName:"ExampleString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/75"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/70"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/24"]},{name:"MetaModel.description",arguments:["Documentation generators MUST use body properties' example attributes to generate example invocations.\n\nThis example shows example attributes for two body property media types."]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/107"]},{name:"MetaModel.needsClarification",arguments:["Multiple examples"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/113"]}],valueConstraint:null,optional:!1},{name:"formParameters",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.FORM"]},{name:"MetaModel.description",arguments:["Web forms REQUIRE special encoding and custom declaration.\nIf the API's media type is either application/x-www-form-urlencoded or multipart/form-data, the formParameters property MUST specify the name-value pairs that the API is expecting.\nThe formParameters property is a map in which the key is the name of the web form parameter, and the value is itself a map the specifies the web form parameter's attributes"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.canInherit",arguments:["mediaType"]}],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"XMLBody",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"schema",type:{typeName:"Sys.XMLSchemaString",nameSpace:"Sys",basicName:"XMLSchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.description",arguments:["XSD Schema"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mime.isXML()"]},{name:"MetaModel.description",arguments:["Needed to set connection between xml related mime types and xsd schema"]}],"extends":[{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"JSONBody",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"schema",type:{typeName:"Sys.JSonSchemaString",nameSpace:"Sys",basicName:"JSonSchemaString",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.description",arguments:["JSON Schema"]}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[{name:"MetaModel.functionalDescriminator",arguments:["this.mime.isJSON()"]},{name:"MetaModel.description",arguments:["Needed to set connection between json related mime types and json schema"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/160"]},{name:"MetaModel.issue",arguments:["https://github.com/raml-org/raml-spec/issues/81"]}],"extends":[{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}},{name:"Response",methods:[],typeParameters:[],typeParameterConstraint:[],"implements":[],fields:[{name:"code",type:{typeName:"Sys.StatusCode",nameSpace:"Sys",basicName:"StatusCode",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},annotations:[{name:"MetaModel.key",arguments:[]},{name:"MetaModel.extraMetaKey",arguments:["statusCodes"]},{name:"MetaModel.description",arguments:["Responses MUST be a map of one or more HTTP status codes, where each status code itself is a map that describes that status code."]}],valueConstraint:null,optional:!1},{name:"headers",type:{base:{typeName:"Params.Parameter",nameSpace:"Params",basicName:"Parameter",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.setsContextValue",arguments:["location","Params.ParameterLocation.HEADERS"]},{name:"MetaModel.newInstanceName",arguments:["New Header"]},{name:"MetaModel.issue",arguments:["it seems to use different wildcard then in methods and resources"]},{name:"MetaModel.description",arguments:["An API's methods may support custom header values in responses. The custom, non-standard HTTP headers MUST be specified by the headers property.\n        API's may include the the placeholder token {?} in a header name to indicate that any number of headers that conform to the specified format can be sent in responses. This is particularly useful for APIs that allow HTTP headers that conform to some naming convention to send arbitrary, custom data.\n\nIn the following example, the header x-metadata-{?} is used to send metadata that has been saved with the media."]}],valueConstraint:null,optional:!1},{name:"body",type:{base:{typeName:"BodyLike",nameSpace:"",basicName:"BodyLike",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"},typeKind:1},annotations:[{name:"MetaModel.newInstanceName",arguments:["New Body"]},{name:"MetaModel.description",arguments:['Each response MAY contain a body property, which conforms to the same structure as request body properties (see Body). Responses that can return more than one response code MAY therefore have multiple bodies defined.\nFor APIs without a priori knowledge of the response types for their responses, "*/*" MAY be used to indicate that responses that do not matching other defined data types MUST be accepted. Processing applications MUST match the most descriptive media type first if "*/*" is used.']}],valueConstraint:null,optional:!1}],isInterface:!1,annotations:[],"extends":[{typeName:"Common.RAMLLanguageElement",nameSpace:"Common",basicName:"RAMLLanguageElement",typeKind:0,typeArguments:[],modulePath:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}],moduleName:null,annotationOverridings:{}}],aliases:[],enumDeclarations:[],imports:{MetaModel:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/metamodel.ts",Sys:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/systemTypes.ts",Params:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/parameters.ts",Common:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/common.ts"},name:"/Users/kor/IdeaProjects/raml-labs-new/src/raml1/spec-0.8/bodies.ts"}]},function(e,t){e.exports=null},function(e,t,n){function r(e){return e instanceof o.ApiImpl||e instanceof s.ApiImpl?(new d).expandTraitsAndResourceTypes(e):null}var i=n(17),a=n(58),o=n(13),s=n(89),u=n(92),l=n(103),c=n(67),p=n(98);t.expandTraitsAndResourceTypes=r;var d=function(){function e(){}return e.prototype.expandTraitsAndResourceTypes=function(e){var t=this,n=e instanceof o.ApiImpl,r=e,l=u.allTraits(r),c=u.allResourceTypes(r),d=r.highLevel().lowLevel();this.ramlVersion=e.highLevel().definition().universe().version();var m=new a.LowLevelCompositeNode(d,null,null),h=n?p("RAML10").type("Api"):p("RAML08").type("Api"),f=new i.ASTNodeImpl(m,null,h,null),y=n?new o.ApiImpl(f):new s.ApiImpl(f);this.traitMap={},this.resourceTypeMap={},l&&l.forEach(function(e){return t.traitMap[u.qName(e)]=e}),c&&c.forEach(function(e){return t.resourceTypeMap[u.qName(e)]=e});var g=y.resources();return g.forEach(function(e){return t.processResource(e)}),y},e.prototype.processResource=function(e){var t=this,n=this.collectResourceData(e);if(e instanceof o.ResourceImpl){var r=e,i=r.signature();if(i){var s=c.convertToTrait(c.parse(r.highLevel().attr("signature"))),u=s.highLevel().lowLevel(),l=e.relativeUri().value(),p=l.lastIndexOf(".");if(-1!=p){var d=new a.LowLevelCompositeNode(u,null,null);s.highLevel()._node=d,e.highLevel().lowLevel().setKeyOverride(l.substr(0,p));var m=new o.MethodImpl(l.substr(p+1)),h=new o.ResourceTypeImpl("$$$signature");h.add(m),s.highLevel().elements().forEach(function(e){return m.highLevel().add(e)});var d=new a.LowLevelCompositeNode(h.highLevel().lowLevel(),null,null);h.highLevel()._node=d;var f={name:"$$$signature",node:h,transformer:null};n=[{resourceType:f,traits:[],methodTraits:{}}].concat(n)}}}n.filter(function(e){return null!=e.resourceType}).forEach(function(t){return e.highLevel().lowLevel().adopt(t.resourceType.node.highLevel().lowLevel(),t.resourceType.transformer)});var y=e.methods();y.forEach(function(e){var t=e.method();n.forEach(function(n){var r=n.methodTraits[t];r&&r.forEach(function(t){return e.highLevel().lowLevel().adopt(t.node.highLevel().lowLevel(),t.transformer)},!0);var i=n.traits;i&&i.forEach(function(t){return e.highLevel().lowLevel().adopt(t.node.highLevel().lowLevel(),t.transformer)},!0)})});var g=e.resources();g.forEach(function(e){return t.processResource(e)})},e.prototype.collectResourceData=function(e,t,n){var r=this;void 0===t&&(t=[]);var i=this.extractTraits(e),a={},o=e.methods();o.forEach(function(e){var t=r.extractTraits(e);t&&t.length>0&&(a[e.method()]=t)});var s,u=e.type();return u&&(s=this.readGenerictData(u,this.resourceTypeMap,"resource type",n)),t.push({resourceType:s,traits:i,methodTraits:a}),s&&this.collectResourceData(s.node,t,s.transformer),t},e.prototype.extractTraits=function(e,t,n){var r=this;void 0===n&&(n={});for(var i=[],s=-1;s<i.length;s++){var u=0>s?null:i[s],l=u?u.node:e,p=u?u.transformer:t;l.is().forEach(function(e){var t=r.readGenerictData(e,r.traitMap,"trait",p);if(t){var a=t.name;n[a]||(n[a]=!0,i.push(t))}})}if(e instanceof o.MethodImpl){var d=e,m=d.signature();if(m){var h=c.convertToTrait(c.parse(d.highLevel().attr("signature"))),f=h.highLevel().lowLevel(),y=new a.LowLevelCompositeNode(f,null,null);h.highLevel()._node=y;var g={name:"$$$signature",node:h,transformer:null};n.$$$signature=!0,i=[g].concat(i)}}return i},e.prototype.readGenerictData=function(e,t,n,r){var a=e.value();if("string"==typeof a){r&&(a=r.transform(a));var o=t[a];if(o)return{name:a,transformer:null,node:o}}else if(a instanceof i.StructuredValue){var s=a,u=s.valueName(),l={},o=t[u];if(o)return"RAML08"==this.ramlVersion&&r?s.children().forEach(function(e){return l[e.valueName()]=r.transform(e.lowLevel().value())}):s.children().forEach(function(e){return l[e.valueName()]=e.lowLevel().value()}),{name:u,transformer:new m(l,n),node:o}}return null},e}(),m=function(){function e(e,t){this.params=e,this.template=t}return e.prototype.error=function(){return this.err},e.prototype.transform=function(e){var t={};if("string"==typeof e){for(var n=e,r="",i=0,a=n.indexOf("<<");a>=0;a=n.indexOf("<<",i)){r+=n.substring(i,a);var o=a;a+="<<".length,i=n.indexOf(">>",a);var s=n.substring(a,i);i+=">>".length;var u,c,p=n.substring(o,i);if(s.match(/\|\s*!\s*singularize\s*$/)){var d=s.lastIndexOf("|");c=s.substring(0,d).trim(),u=this.params[c],u&&(u=l.singular(u))}else if(s.match(/\|\s*!\s*pluralize\s*$/)){var d=s.lastIndexOf("|");c=s.substring(0,d).trim(),u=this.params[c],u&&(u=l.plural(u))}else c=s.trim(),u=this.params[c];u||(t[c]=!0,u=p),r+=u}var m=Object.keys(t);if(m.length>0){var h=m.join(", ").trim();this.err="Undefined "+this.template+" parameter"+(m.length>1?"s":"")+": "+h}else this.err=null;return r+=n.substring(i,n.length)}return e},e}()},function(e,t){e.exports=require("pluralize")},function(e,t,n){function r(e,t,n){return 1===e?t:n}function i(e){return{__html:o(e)}}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=n(105),s=n(6),u=n(9),l=n(106),c=n(107),p=n(92),d=n(13),m=n(17),h=n(108),f={get:"btn-primary","get?":"btn-primary",post:"btn-success","post?":"btn-success","delete":"btn-error","delete?":"btn-error",put:"btn-warning","put?":"btn-warning",patch:"btn-info","patch?":"btn-info"},y=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.isSupportedNode=function(e){return!(e instanceof d.ObjectFieldImpl||e instanceof d.ResponseImpl||e instanceof d.DataElementImpl||e instanceof d.LibraryImpl||e instanceof d.SecuritySchemaPartImpl||e instanceof d.OAuth2SecuritySchemeSettingsImpl||e instanceof d.OAuth1SecuritySchemeSettingsImpl)},t.prototype.renderNode=function(e){var t=u(this.props,{node:e});return e instanceof d.TraitImpl?s.createElement(M,t):e instanceof d.ResourceTypeImpl?s.createElement(N,t):e instanceof d.SecuritySchemaImpl?s.createElement(I,t):e instanceof d.GlobalSchemaImpl?s.createElement(w,t):e instanceof d.ResourceImpl?s.createElement(_,t):e instanceof d.DocumentationItemImpl?s.createElement(L,t):e instanceof d.MethodImpl?s.createElement(D,t):e instanceof d.SecuritySchemaImpl?s.createElement(I,t):e instanceof d.ApiImpl?s.createElement(v,t):s.createElement(K,null,s.createElement(T,{title:"404"}),s.createElement(K,null,"How did you get here? You shouldn't be here! Please ",s.createElement("a",{href:"https://github.com/mulesoft-labs/api-workbench/issues"},"report me immediately"),"."),s.createElement(K,null,s.createElement("strong",null,"Reference: "+e.constructor.name)))},t.prototype.getLabel=function(e){var t=e instanceof m.ASTPropImpl?e.value():e.name();if("string"!=typeof t&&(t=t.valueName()),!t&&e instanceof m.ASTNodeImpl){var n=e.wrapperNode();if(n instanceof d.DocumentationItemImpl)return n.title();if(n instanceof d.ApiImpl)return"Home"}return t},t.prototype.renderBreadcrumb=function(e,t){var n=this,r=[],i=[],a=e;if(this.props.errors.length)r.push(s.createElement("span",{key:"errors"},"Errors"));else{do i.unshift(a);while(a=a.parent());i.forEach(function(e,a){var o=a===i.length-1;e instanceof m.ASTNodeImpl&&n.isSupportedNode(e.wrapperNode())&&e.wrapperNode()!==t?r.push(s.createElement("a",{key:e.id(),onClick:function(){return n.props.navigate(e.id())}},n.getLabel(e))):r.push(s.createElement("span",{key:"value"+a},n.getLabel(e))),o||r.push(s.createElement("span",{key:"sep"+a},"  "))})}return s.createElement(K,{className:"padded",style:{margin:0,flex:"0 0 auto"}},r)},t.prototype.getCurrentNode=function(){var e=this.props.raml,t=this.props.state;if(!e)return null;if(t.id){var n=e.highLevel().findById(t.id);if(n)return n}return e.highLevel()},t.prototype.wrapBody=function(e){return s.createElement(K,{id:"raml-console-view",className:"padded",style:{overflow:"auto"}},e)},t.prototype.wrapContent=function(e,t){return s.createElement(K,{style:{height:"100%",display:"flex",flexDirection:"column"}},e,this.wrapBody(t))},t.prototype.render=function(){if(!this.props.loaded)return s.createElement(P);var e,t=this.getCurrentNode();if(this.props.errors.length)return this.wrapBody(s.createElement(g,{errors:this.props.errors}));if(t instanceof m.ASTPropImpl){var n=t.findReferencedValue();if(!n)return this.wrapContent(this.renderBreadcrumb(t),s.createElement(S,u(this.props,{highLevelNode:t})));e=n.wrapperNode()}else e=t.wrapperNode();for(;!this.isSupportedNode(e);)e=e.parent();return this.wrapContent(this.renderBreadcrumb(t,e),this.renderNode(e))},t}(c);t.Console=y;var g=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement(K,null,s.createElement(T,{title:"Errors"}),s.createElement("ul",null,this.props.errors.map(function(e,t){return s.createElement("li",{key:t},e.message)})))},t}(c),v=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.node;return s.createElement("div",null,s.createElement(T,{title:t.title()}),s.createElement(V,this.props),t.documentation().length?s.createElement(B,null,s.createElement("h3",{style:{marginTop:0}},"Documentation"),s.createElement("ul",null,t.documentation().map(function(t){var n=t.highLevel().id();return s.createElement("li",{key:n},s.createElement("a",{onClick:function(){return e.props.navigate(n)}},t.title()))}))):null,s.createElement(O,this.props))},t}(c),b=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.method.method();return s.createElement("div",{onClick:function(){return e.props.navigate(e.props.method.highLevel().id())},className:l("btn inline-block",f[t])},t.toUpperCase())},t}(c),S=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.highLevelNode;return s.createElement(K,null,s.createElement(T,{title:"Missing Reference"}),"Unable to resolve reference: ",s.createElement("strong",null,e.id()))},t}(c),w=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node;return s.createElement(K,null,s.createElement(T,{node:e,title:e.key()}),s.createElement(F,{content:e.value().value()}))},t}(c),P=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement(K,null,s.createElement("div",{className:"loading-spinner-medium inline-block"}),s.createElement("span",{className:"inline-block"},"Loading RAML"))},t}(c),M=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return s.createElement(K,null,s.createElement(T,{node:e,title:e.name()}),s.createElement(E,{text:e.usage(),title:"Usage"}),s.createElement(k,this.props),s.createElement(A,{references:t,navigate:this.props.navigate}))},t}(c),T=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.title;return s.createElement("h1",{style:{marginTop:0}},this.props.node?s.createElement(q,{node:this.props.node},e):e)},t}(c),E=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.text;return e?s.createElement(K,null,s.createElement("strong",null,""+this.props.title+": "),e):null},t}(c),A=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.references;return t.length?s.createElement(B,null,s.createElement("h3",null,"Usages ("+t.length+")"),s.createElement("ul",null,t.map(function(t){var n=t.parent(),r=t.id(),i=n.id();return s.createElement("li",{key:r},s.createElement("a",{onClick:function(){return e.props.navigate(i)}},i||"."))}))):null},t}(c),C=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.node,n=this.props.navigate,r=t.methods(),i=t.uriParameters();return s.createElement(K,null,s.createElement(V,this.props),t.description()?s.createElement(H,{content:t.description().value()}):null,r.length?s.createElement(K,null,r.map(function(t){return s.createElement(b,{key:t.method(),method:t,navigate:e.props.navigate})})):null,s.createElement(R,{parameters:i,title:"URI Parameters",navigate:n}))},t}(c),N=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return s.createElement(K,null,s.createElement(T,{node:e,title:e.name()}),s.createElement(E,{text:e.usage(),title:"Usage"}),s.createElement(C,this.props),s.createElement(A,{references:t,navigate:this.props.navigate}))},t}(c),I=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node,t=e.highLevel().findReferences();return s.createElement(K,null,s.createElement(T,{node:e,title:e.name()}),s.createElement(E,{title:"Type",text:e.type()}),s.createElement(E,{title:"Display Name",text:e.displayName()}),e.description()?s.createElement(H,{content:e.description().value()}):null,s.createElement(k,u(this.props,{node:e.describedBy()})),s.createElement(A,{references:t,navigate:this.props.navigate}))},t}(c),_=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node;return s.createElement(K,null,s.createElement(T,{node:e,title:e.relativeUri().value()}),s.createElement(C,this.props),s.createElement(O,this.props))},t}(c),x=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node,t=p.resolveType(e),n=e.type().slice();return e.schema()&&n.push(e.schema()),s.createElement(K,null,s.createElement(K,null,n.filter(function(e){return!/^\s*[<\{]/.test(e)}).map(function(e){return s.createElement("span",{key:e,className:"highlight",style:{marginRight:5}},e)})),t&&t.allProperties().length?s.createElement(K,null,s.createElement("h5",null,"Properties"),t.allProperties().map(function(e){return s.createElement(K,{key:e.name()},s.createElement(K,null,s.createElement("strong",null,e.name()),e.isRequired()?" (required)":""),s.createElement(K,null,e.description()))})):null)},t}(c),R=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.summary=function(e){var t=[];return e instanceof d.FileParameterImpl&&(e.fileTypes()&&t.push("fileTypes: "+e.fileTypes()),e.minLength()&&t.push("minLength: "+e.minLength()),e.maxLength()&&t.push("maxLength: "+e.maxLength())),e instanceof d.IntegerElementImpl&&(null!=e.minimum()&&t.push("minimum: "+e.minimum()),null!=e.maximum()&&t.push("maximum: "+e.maximum())),e.required()&&t.push("required"),e.repeat()&&t.push("repeat"),t.join(", ")},t.prototype.render=function(){var e=this;if(!this.props.parameters.length)return null;this.props.navigate;return s.createElement(K,null,s.createElement("h3",null,this.props.title),this.props.parameters.map(function(t){return s.createElement(K,{key:t.name()},s.createElement("h4",null,s.createElement(q,{node:t},t.name())),s.createElement(x,{node:t}),s.createElement(K,null,s.createElement("strong",null,e.summary(t))),t.description()?s.createElement(H,{content:t.description().value()}):null)}))},t}(c),O=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.node;return s.createElement(K,null,t.resources().map(function(t){var n=t.highLevel().id(),i=t.resources().length;return s.createElement(B,{key:n},s.createElement("h4",null,s.createElement(q,{node:t},p.completeRelativeUri(t))," ",i?s.createElement("small",null,s.createElement("a",{onClick:function(){return e.props.navigate(n)}},"View "+i+" more "+r(i,"resource","resources"))):null),s.createElement(K,null,t.methods().map(function(t){return s.createElement(b,{key:t.method(),method:t,navigate:e.props.navigate})})))}))},t}(c),L=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node;return s.createElement(K,null,s.createElement(T,{node:e,title:e.title()}),s.createElement(H,{content:this.props.node.content().value()}))},t}(c),k=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.renderBody=function(e){var t=p.schema(e,this.props.raml).getOrElse(void 0);return s.createElement(K,{key:e.name()},s.createElement("h4",null,s.createElement(q,{node:e},e.name())),s.createElement(x,{node:e}),t?s.createElement(U,{key:void 0,content:t.content(),title:"Schema",mime:e.name(),name:t.name()}):null,e.examples().map(function(t){return s.createElement(U,{key:t.displayName(),content:t.content(),title:t.displayName(),name:void 0,mime:e.name()})}),s.createElement(U,{content:e.example(),title:"Example",mime:e.name()}))},t.prototype.render=function(){var e=this,t=this.props.node,n=this.props.navigate;return t?s.createElement(K,null,t.description()?s.createElement(H,{content:t.description().value()}):null,t.queryParameters().length?s.createElement(B,null,s.createElement(R,{parameters:t.queryParameters(),title:"Query Parameters",navigate:n})):null,s.createElement(R,{parameters:t.headers(),title:"Headers",navigate:n}),t.body().length?s.createElement(B,null,s.createElement("h3",null,"Body"),t.body().map(function(t){return e.renderBody(t)})):null,t.responses().length?s.createElement(B,null,s.createElement("h3",null,"Responses"),t.responses().map(function(t){return s.createElement(K,{key:t.code().value()},s.createElement("h4",null,s.createElement(q,{node:t.code()},t.code().value())),t.description()?s.createElement(H,{content:t.description().value()}):null,s.createElement(R,{parameters:t.headers(),title:"Headers",navigate:n}),t.body().map(function(t){return e.renderBody(t)}))})):null):null},t}(c),D=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.node;return s.createElement(K,null,s.createElement(T,{node:e,title:e.method().toUpperCase()}),s.createElement(V,this.props),s.createElement(k,this.props))},t}(c),U=function(e){function t(){e.apply(this,arguments),this.state={visible:!1}}return a(t,e),t.prototype.render=function(){var e=this;if(!this.props.content)return null;var t=this.state.visible;return s.createElement(K,null,s.createElement("a",{onClick:function(){return e.setState({visible:!t})}},""+(t?"Hide":"Show")+" "+this.props.title),this.props.name?" ("+this.props.name+")":null,t?s.createElement("div",{style:{marginTop:5}},s.createElement(F,this.props)):null)},t}(c),F=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement(K,{dangerouslySetInnerHTML:{__html:h.highlightByMime(this.props.content,this.props.mime)}})},t}(c),j=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.getName=function(e){var t=e.value();return"string"==typeof t?t:t.valueName()},t.prototype.render=function(){var e=this.props.node;if(null==e.value())return null;var t=this.props.navigate,n=this.props.title,r=e.highLevel().id();return s.createElement("span",{className:"highlight",style:{marginRight:5,cursor:"pointer"},onClick:function(){return t(r)}},s.createElement("strong",null,""+n+": "),this.getName(e))},t}(c),V=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=[],t=this.props.node,n=this.props.navigate;return t instanceof d.ResourceImpl&&t.type()&&e.push(s.createElement(j,{title:"Type",key:"type",node:t.type(),navigate:n})),(t instanceof d.ResourceImpl||t instanceof d.MethodImpl)&&t.is().forEach(function(t,r){e.push(s.createElement(j,{title:"Trait",key:"is:"+r,node:t,navigate:n}))}),t.securedBy().forEach(function(t,r){e.push(s.createElement(j,{title:"Secured By",key:"securedBy:"+r,node:t,navigate:n}))}),s.createElement(K,null,e)},t}(c),K=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement("div",u(this.props,{className:l(this.props.className,"block")}),this.props.children)},t}(c),B=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement(K,null,s.createElement("atom-panel",null,s.createElement("div",{className:"padded"},this.props.children)))},t}(c),q=(function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement("i",{className:l("icon icon-"+this.props.name,this.props.className)})},t}(c),function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.openInEditor=function(e){function t(e){var t=e.getBuffer().positionForCharacterIndex(i);e.setCursorBufferPosition(t)}var n,r=(atom.workspace.getTextEditors(),e.unit().absolutePath()),i=e.start();if(atom.config.get("api-workbench.openConsoleInSplitPane")){var a=atom.workspace.getPanes(),o=atom.workspace.getActivePane();1===a.length?(n="left",o.splitLeft({})):n=o===a[0]?"right":"left"}atom.workspace.open(r,{searchAllPanes:!0,split:n}).then(t)},t.prototype.render=function(){var e=this,t=this.props.node.highLevel().lowLevel(),n=null!=t.unit();return n?s.createElement("a",{onClick:function(){return e.openInEditor(t)}},this.props.children):s.createElement("span",null,this.props.children)},t}(c)),H=function(e){function t(){e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return s.createElement(K,{dangerouslySetInnerHTML:i(this.props.content)})},t}(c)},function(e,t){e.exports=require("marked")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react-pure-render/component")},function(e,t,n){function r(e,t){return e}function i(e,t){return r(e,a(t))}function a(e){var t=o.getGrammerFromMime(e);return t?t.scopeName:void 0}var o=n(11);t.highlight=r,t.highlightByMime=i,t.scopeFromMime=a},function(e,t,n){function r(e){try{var t=T.parse(e),n=t.protocol.substring(0,t.protocol.lastIndexOf(":")),r=(t.host,t.pathname),i=t.query}catch(a){return}var o;if("ramlscript-report"==n){try{r=decodeURI(r||"").substr(1)}catch(a){return}o={protocol:n,filePath:r}}else{if("har-validation-report"!=n)return;try{r=decodeURI(r||"").substr(1);var s=i.substring(i.indexOf("=")+1);o={protocol:n,filePath:"/"+r,apiPath:s}}catch(a){return}}return f(o)}function i(e){var t=3,n=e.join(",");return e.forEach(function(e){(200>e||e>299)&&(t=5)}),I.label(n,null,null,t)}function a(e){var t=2;return("post"==e.toLowerCase()||"put"==e.toLowerCase())&&(t=3),"delete"==e.toLowerCase()&&(t=5),I.label(e,null,null,t)}function o(e,t){var n=t.methodFailures(e);return n&&0!=n.length?I.label("",19,7,null).pad(5,0):I.label("",null,null,null)}function s(e,t){for(var n=A.readFileSync(e).toString().split("\n"),r=0,i=[],a=t;a<n.length;a++)if(r+=u(n[a]),i.push(n[a]),0==r)return i;return i}function u(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);"("==r&&t++,")"==r&&t--}return t}function l(e,t){return x.highlight(e,t)}function c(e,t,n){var r=!1;t--;var i=atom.workspace.getEditors();i.forEach(function(i){i.getPath()==e&&(r=!0,i.setSelectedBufferRange({start:{row:t,column:0},end:{row:t+n,column:0}},{}))}),r||atom.workspace.openSync(e)}function p(e,t,n,r,i,a){function o(e,t){var n=f.setParameter(e,""+t,0);y.setText(l(n,"source.ts")),c=n}function s(e,t){var n=I.section(e,null,!0,!0);
return t.forEach(function(e){var t=f.getParameterValueAsString(e),r=N.createInputField(P.toFieldSpec(e),t);r.getBinding().addListener(function(t){var n=r.getBinding().status();2!=n.code?(o(e,t),d.setText(""),d.setIcon(0)):(d.setText(n.message),d.setIcon(19))}),n.addChild(r)}),n}var u=null,c=r,p=l(r,"source.ts"),d=I.label("",null,7),m=U(a,i),h=new S.StaticCallsInfo(e,new b.Config,r),f=h.calls()[0],y=I.html(p),g=s("URI Parameters",m.resource().uriParameters()),v=s("Query Parameters",m.queryParameters()),w=s("Header Parameters",m.headers()),M=I.section(m.id().value(),57,!1,!1,d,I.checkBox("Parameters are expressions"),g,v,w,I.section("Call:",null,!1,!1,y),I.button("Close",2,1,null,function(t){var n=atom.workspace.getEditors();n.forEach(function(t){t.getPath()==e&&t.setText(t.getText().replace(r,c))}),u.destroy()}));u=atom.workspace.addModalPanel({item:M.renderUI()})}function d(e,t,n,r,o,u){void 0===u&&(u=!0),t.addChild(N.h2("",a(r.request.method.toUpperCase()),I.label(r.request.url).pad(10,10),i([r.response.status])));var d=u?new N.TabFolder:new N.Panel;t.addChild(d),t=d;var h=U(n,r);if(o&&h){var f=I.a("Open in console for complete reference",function(e){_.openView(h.api(),{resource:h.resource().id().value(),method:h.method()})});t.addChild(I.section("Documentation",116,!0,!0,I.vc(I.label(h.description().map(function(e){return e.value()}).getOrElse("Nothing found")),I.vc(f))))}if(r.filePath&&(r.filePath=r.filePath.replace(".ts.l.js",".ts")),r.lineNumber){var y=s(r.filePath,r.lineNumber-1);if(y){var g=l(y.join("\n"),"source.ts"),v=I.html(g);v.setDisplay(D),t.addChild(I.section("Called from:",33,!0,!0,I.hc(I.button("Got to source",2,1,null,function(e){return c(r.filePath,r.lineNumber,y.length)}),I.button("Edit call",2,1,null,function(e){return p(r.filePath,r.lineNumber,y.length,y.join("\n"),r,n)}),I.a(r.filePath+" "+r.lineNumber+";"+r.columnNumber,function(e){D=!D,v.setDisplay(D)}).pad(10,10)),v))}}if(r.request.queryString){var b=N.listSection("Query parameters",18,r.request.queryString.map(function(e){return new V(e.name,e.value,null)}),new K);t.addChild(b)}if(r.request.headers){var b=N.listSection("Request Headers",18,r.request.headers.map(function(e){return new V(e.name,e.value,null)}),new K);t.addChild(b)}if(r.request.postData){var S=I.treeViewerSection("Request body",18,JSON.parse(r.request.postData.text),m,new K);t.addChild(S)}if(r.response.content&&r.response.content.text){var w={error:"Can not parse response text",text:r.response.content.text};try{w=JSON.parse(r.response.content.text)}catch(P){try{w=R(r.response.content.text)}catch(P){}}var S=I.treeViewerSection("Response body",18,w,m,new K);t.addChild(S)}var M=n.stepFailures(r);if(M&&M.length>0){var b=N.listSection("Errors",1,M.map(function(e){return e.message}),new B(h,e)),T=new N.BasicViewer(new F);I.masterDetails(b.children()[0],T),b.addChild(T),t.addChild(b)}}function m(e){var t=null;e instanceof V&&(t=e,e=e.value);var n=typeof e;if("string"==n||"number"==n||"boolean"==n)return[];var r=[];return Object.keys(e).forEach(function(n){return r.push(new V(n,e[n],t))}),r}function h(e){return e instanceof k}function f(e){return new k(e)}function y(){return{searchAllPanes:!0,split:atom.config.get("api-workbench.openConsoleInSplitPane")?"right":void 0}}function g(e,n){var r=y(),i=atom.workspace.getActivePane();return atom.workspace.open(e,r).then(function(e){return h(e)&&i.activate(),t.afterReport&&(t.afterReport(),t.afterReport=null),e.setState(n),e})}var v=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},b=n(110),S=n(119),w=(n(120),n(122)),P=n(131),M=n(7),T=n(2),E=n(172),A=n(4),C=n(10),N=n(143),I=n(144),_=n(1),x=n(108),R=n(79),O=n(131),L=n(16);t.opener=r;var k=function(e){function t(t){e.call(this),this._options=t,this.isAttached=!1,this.markers=[],this.filePath=t.filePath,this.state=t.state,this.protocol=t.protocol,this.apiPath=t.apiPath}return v(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.serialize=function(){return{protocol:this.protocol,deserializer:"RAMLReportView",filePath:this.filePath,state:this.state,apiPath:this.apiPath}},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.detached=function(){for(var e=document.getElementsByTagName("atom-text-editor"),t=0;t<e.length;t++){var n=e.item(t);n.onclick=n.oldOnClick}this.markers.forEach(function(e){return e.destroy()})},t.prototype.load=function(){var e=this;if(this._options.reportObject)return void this.show(this._options.reportObject);var t,n=this.filePath;if("ramlscript-report"==this.protocol){var r=w.getReportManager().getLatestReportFor(n);this.report=r,this.show(r)}else{if("har-validation-report"!=this.protocol)return;t=E.loadAndWrapApi(this.apiPath).then(function(t){return w.getReportManager().getReportObjectForApis(e.filePath,[t])}),t.then(function(t){e.report=t,e.show(t)})}},t.prototype.show=function(e){var t=N.list(e.coveredMethods(),function(t){return I.hc(a(t.method()),I.label(t.resource().id().value()).pad(5,5),i(e.statuses(t)),o(t,e))});t.setBasicLabelFunction(function(e){return e.resource().id().value()+e.method()}),this.listViewer=t;var n=new N.BasicViewer(new j(e,this.apiPath)),r=I.hc();r.addChild(I.label("Used APIs:")),e.apis().map(function(e){return I.a(e.title().getOrElse("Untitled API"),function(t){_.openView(e,{})}).pad(5,5)}).forEach(function(e){return r.addChild(e)});var s=I.filterField(t),u=I.vc(I.hc(s.setPercentWidth(85)).setPercentWidth(100)),l=I.toggleFilter(t,19,function(t){return e.methodFailures(t).length>0},e.failures().length>0).margin(5,2);s.renderUI(),s.addChild(l);var c=I.vc(N.h2("",r),I.label("Total coverage:"+100*e.procent+"% of API methods",null,6),u,I.masterDetailsPanel(t,n)).pad(10,10);t.setSelection(e.coveredMethods()[0]),this.html(c.renderUI()),this.addListeners(e)},t.prototype.addListeners=function(e){var t=this,n=atom.workspace.getTextEditors();n.forEach(function(n){try{var r=n.getPath();e.coveredMethods().forEach(function(i){e.steps(i).forEach(function(e){var i=e.lineNumber-1;if(r==e.filePath){var a=n.markBufferPosition([i,0],{});t.markers.push(a),n.decorateMarker(a,{type:"line-number","class":"ramlscript"})}})})}catch(i){console.log(i)}});for(var r=document.getElementsByTagName("atom-text-editor"),i=0;i<r.length;i++){var a=r.item(i);a.onclick=function(e){var n=e.path;if(n&&n.length>1&&n[1].classList.contains("ramlscript")){for(var r=null,i=null,o=0;o<n.length;o++){for(var s=n[o],u=0;u<n[1].classList.length;u++){var l=n[1].classList[u];if(0==l.indexOf("line-number-")){var c=l=l.substring("line-number-".length);r=Number(c)}}if("ATOM-TEXT-EDITOR"==s.tagName){var p=s.component.editor.buffer.file.path;i=p}}r&&i&&t.focusOn(r,i)}a.oldOnclick&&a.oldOnclick(e)}}},t.prototype.focusOn=function(e,t){var n=this.report.findSteps(e,t);this.focusOnSteps(n)},t.prototype.focusOnSteps=function(e){var t=this,n=I.vc().pad(10,10);n.addChild(I.a(">Back to full mode",function(e){return t.show(t.report)})),e.forEach(function(e){return d(t.apiPath,n,t.report,e,!0,!1)}),this.html(n.renderUI())},t.prototype.setState=function(e){e.stepIds&&this.focusOnSteps(this.report.stepsFromIds(e.stepIds))},t.prototype.getTitle=function(){return"Execution Report"},t}(M.ScrollView);t.ReportView=k;var D=!1,U=function(e,t){var n=null;return e.coveredMethods().forEach(function(r){L.find(e.steps(r),function(e){return e==t})&&(n=r)}),n};t.renderExecutionStep=d;var F=function(){function e(){}return e.prototype.render=function(e){var t=I.vc();return t.setPercentWidth(100),e.extras&&e.extras.forEach(function(e){var n=I.treeViewer(m,new K);n.setInput(e),t.addChild(n)}),t},e}(),j=function(){function e(e,t){this.fp=t,this.report=e}return e.prototype.render=function(e){var t=this,n=I.hc();return n.setPercentWidth(100),this.report.steps(e).forEach(function(e){d(t.fp,n,t.report,e,!0)}),n},e.prototype.openInConsole=function(e){return I.button("Open in console",2,1,14,function(t){return _.openView(e.api(),{resource:e.resource().id().value(),method:e.method()})})},e}(),V=function(){function e(e,t,n){this.key=e,this.value=t,this.parent=n,this.key=e,this.value=t}return e.prototype.id=function(){return this.parent?this.parent.id()+"/"+this.key:this.key},e.prototype.filterLabel=function(){return this.key+JSON.stringify(this.value)},e}(),K=function(){function e(){}return e.prototype.render=function(e){return I.hc(I.label(e.key+":",167),this.summary(e.value))},e.prototype.summary=function(e){var t=2;"string"==typeof e&&(t=7),"number"==typeof e&&(t=5),"boolean"==typeof e&&(t=3);var n="";return Array.isArray(e)?(n="array(length: "+e.length+")",t=6):n="Object"==typeof n?"object:"+JSON.stringify(e):JSON.stringify(e),n.length>60&&(n=n.substr(0,60)+" ..."),I.label(" "+n,null,t).pad(5,0)},e}(),B=function(){function e(e,t){this._method=e,this.path=t}return e.prototype.render=function(e){var t=this,n=I.hc(I.label("",19),I.label(e.message.toString(),null,6),I.a("",function(n){if(1==e.code){console.log(t.path);var r=O.findRamlWithTitle(t._method.api().title().getOrElse(""),t.path);t._method.responses().forEach(function(n){return n.bodies().forEach(function(n){var i=n.schema().getOrElse(null);if(i)for(var a=i.name(),o=A.readFileSync(r).toString(),s=0;;){var u=o.indexOf(a,s);if(s=u+a.length,-1==u)break;var l=o.indexOf("\n",u+1),c=o.substring(u,l);if(-1!=c.indexOf("!include")){var p=c.lastIndexOf(" "),d=C.resolve(C.dirname(t.path),c.substring(p).trim());-1==d.indexOf("xml")&&(console.log(d),console.log(e),atom.workspace.open(d).then(function(t){var n=""+e.extras[0].path,r=atom.workspace.getActiveEditor(),i=r.getText().indexOf(n.substring(2));if(-1!=i){var a=r.getBuffer().positionForCharacterIndex(i),o=r.getBuffer().rangeForRow(a.row);r.setSelectedBufferRange(o,{})}}))}}})})}},10).pad(5,5));return n},e}();atom.deserializers.add({name:"RAMLReportView",deserialize:function(e){return e?f(e):void 0}}),t.isReportView=h,t.createReportView=f,t.afterReport,t.open=g},function(e,t,n){function r(e,t){void 0===t&&(t=new g);var n=new M(t).buildConversion()(e),r=new N(e,t).buildConversion()(n),r="export function createApi("+i(e)+"):Api{\n    return new ApiImpl("+a(e)+");\n}\n"+r+"\n";return r}function i(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function a(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name())}),t.join(",")}function o(e){var t=e.getOrElse(new m.MarkdownString("")).value().match(/[^\r\n]+/g);if(null!=t&&t.length>1){var n="";return t.forEach(function(e){return n+=" "+e}),n}return e.getOrElse(new m.MarkdownString("")).value()}function s(e){return e=0==e.indexOf("/")?e.substring(1):e,e=e.replace(/[\{\}]/g,""),e=p.escapeToIdentifier(e),e=e.replace(t.MEDIA_TYPE_SUFFIX,""),e=e.replace(t.MEDIA_TYPE_EXTENSION,"")}function u(e){return 0==e.length?e:e.charAt(0).toUpperCase()+e.substr(1)}function l(e,n){return e.collapseMediaTypes?n.name()!=t.MEDIA_TYPE_SUFFIX&&n.name()!=t.MEDIA_TYPE_EXTENSION:!0}var c=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},p=n(111),d=n(60),m=n(112),h=n(113),f=n(115),y=n(116),g=function(){function e(){this.numberIsString=!0,this.createTypesForResources=!0,this.queryParametersSecond=!0,this.collapseGet=!1,this.collapseOneMethod=!1,this.collapseMediaTypes=!1,this.methodNamesAsPrefixes=!1,this.storeHarEntry=!0,this.createTypesForParameters=!0,this.reuseTypeForParameters=!0,this.createTypesForSchemaElements=!0,this.reuseTypesForSchemaElements=!0,this.throwExceptionOnIncorrectStatus=!1,this.async=!1,this.debugOptions={generateImplementation:!0,generateSchemas:!0,generateInterface:!0,schemaNameFilter:function(e){return!0},resourcePathFilter:null},this.overwriteModules=!0}return e}();t.Config=g,t.HAR_ENTRY_FIELD_NAME="__$harEntry__",t.MEDIA_TYPE_SUFFIX="mediaTypeSuffix",t.MEDIA_TYPE_EXTENSION="mediaTypeExtension",t.raml2ts=r;var v=function(e){function t(t,n,r){e.call(this,t,n),this.originalResource=r}return c(t,e),t.prototype.absolutePath=function(){return this.originalResource.completeRelativeUri()},t.prototype.commentCode=function(){return"\n        /**\n         * "+o(this.originalResource.description())+"\n         * @ramlpath "+this.absolutePath()+"\n         **/\n\n\n         "},t}(h.TSAPIElementDeclaration),b=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r.resource()),this.returnStr=function(){if(i.rangeType){var e=i.rangeType.serializeToString();return i.isFunction()&&i._config&&i._config.async?":Promise<"+e+">":":"+e}return""},this.originalMethod=r}return c(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * "+o(this.originalMethod.description())+"\n         * @ramlpath "+this.absolutePath()+"  "+this.originalMethod.method()+"\n         **/\n         "},t}(v);t.escapedName=s;var S=function(e){function t(t,n){e.call(this,t,n.module,n.cfg),this.owner=n}return c(t,e),t.prototype.createTypeDeclaration=function(e){for(var t=u(s(this.name))+u(s(e.name)),n=t,r=0;this.module.getInterface(n).isDefined();)r++,n=t+r;return new h.TSInterface(this.module,n)},t.prototype.replace=function(t){return this.owner.cfg.reuseTypesForSchemaElements?this.owner.collapseToTypeAliasOrAdd(t):this.module.addChild(t),e.prototype.replace.call(this,t)},t}(f.JSONSchematToTS),w=function(e){function t(t,n){e.call(this,t,n.name),this._resourceInterface=n}return c(t,e),t.prototype.resourceInterface=function(){return this._resourceInterface},t.prototype.isFunctor=function(){return this._resourceInterface.isFunctor()},t.prototype.getFunctor=function(){return this._resourceInterface.getFunctor()},t.prototype.children=function(){return this._resourceInterface.children()},t}(h.TSSimpleTypeReference),P=function(e){function t(t,n,r){e.call(this,t,n),this._resource=r}return c(t,e),t.prototype.resource=function(){return this._resource},t.prototype.toReference=function(){return new w(h.Universe,this)},t}(h.TSInterface);t.emitParameter=l;var M=function(){function e(e){var t=this;this.inlinable=function(e,t){return 1===e.methods().length},this.schemas=[],this.schemaContentToSchema={},this.schemaNameToSchema={},this.typeHashToType={},this.num=0,this.raml2TSModel=function(e){var n=new h.TSAPIModule(h.Universe,t.cfg);if(t.module=n,t.cfg.debugOptions.generateSchemas){var r=e.schemas();t.cfg.debugOptions.schemaNameFilter&&(r=r.filter(function(e){return t.cfg.debugOptions.schemaNameFilter(e.name())})),r.forEach(function(e){try{var n=t.cfg.createTypesForSchemaElements?new S(e.name(),t):new f.JSONSchematToTS(e.name(),t.module),r=n.parse(e.content());t.addSchema(r,e.name(),e.content())}catch(i){}})}var i=h.Universe.getConfig();if(h.Universe.setConfig(t.cfg),t.cfg.debugOptions.generateInterface){var a=new h.TSInterface(n,"Api");t.processChildResources(a,e)}return h.Universe.setConfig(i),n},this.typesMap={integer:"number",string:"string","boolean":"boolean",number:"number",file:"string",date:"string"},this.cfg=e}return e.prototype.processResource=function(e,n,r){var i=this,a=n.uriParameters().filter(function(e){return i.collapse(e)}).map(function(e){var n,r=e.name();if(r==t.MEDIA_TYPE_SUFFIX||r==t.MEDIA_TYPE_EXTENSION){var a={};e.definitions().filter(function(e){return e["enum"]().isDefined()}).forEach(function(e){return e["enum"]().getOrThrow().map(function(e){return e.toString()}).forEach(function(e){e.toLowerCase().indexOf("json")>=0?a.json=e:e.toLowerCase().indexOf("xml")>=0?a.xml=e:a["default"]=e})}),["default","xml","json"].forEach(function(e){a[e]&&(n=a[e])})}return new h.Param(l,e.name(),0,i.getParamType(e),n)}),o=!0;if(this.cfg.methodNamesAsPrefixes&&(n.methods().sort(this.methodComparator).forEach(function(t){return i.customizeMethod(e,t,!1,a)}),o=n.resources().length>0),o){if(!r){var u=n.relativeUri();if(1==u.length)r=e;else{var l=new v(e,s(u),n);r=this.createResourceType(l),l.rangeType=r.toReference(),l.parameters=a}}this.processChildResources(r,n)}return!this.cfg.methodNamesAsPrefixes&&r&&n.methods().sort(this.methodComparator).forEach(function(e){return i.customizeMethod(r,e,i.inlinable(n,r))}),r},e.prototype.methodComparator=function(e,t){var n={options:1,"delete":2,patch:3,put:4,post:5,get:6},r=n[e.method()],i=n[t.method()];return r=r?r:0,i=i?i:0,i-r},e.prototype.processChildResources=function(e,n){var r=this,i={};n.resources().forEach(function(e){var n=e.relativeUri(),r=n.replace("{"+t.MEDIA_TYPE_EXTENSION+"}","").replace("{"+t.MEDIA_TYPE_SUFFIX+"}",""),a=i[r];a||(a=[],i[r]=a),n!=r?i[r]=[e].concat(a):a.push(e)}),Object.keys(i).forEach(function(t){for(var n=i[t],a=r.processResource(e,n[0]),o=1;o<n.length;o++)r.processResource(e,n[o],a)})},e.prototype.createResourceType=function(e){if(this.cfg.createTypesForResources){var t=e.name;t||(t="Unknown");for(var n=u(t)+"Resource",r=n,i=0;this.module.getInterface(r).isDefined();)i++,r=n+i;return new P(this.module,r,e)}return new h.TSStructuralTypeReference(e)},e.prototype.collapse=function(e){return l(this.cfg,e)},e.prototype.convertTypeName=function(e){return"integer"==e?"number;":this.cfg.numberIsString&&"string"==e?"string|number|boolean;":e},e.prototype.addSchema=function(e,t,n){this.schemas.push(e),this.schemaContentToSchema[n]=e,this.schemaNameToSchema[t]=e},e.prototype.createSchema=function(e,t,n,r){void 0===r&&(r=!1);try{if(this.cfg.debugOptions.schemaNameFilter&&!this.cfg.debugOptions.schemaNameFilter(t))return new h.TSInterface(h.Universe,"Dummy").toReference();var i,a=s(e);return n.indexOf("json")>=0?i=new f.JSONSchematToTS(a,this.module,this.cfg).parse(t,r):n.indexOf("xml")>=0&&(i=new y.XMLSchematToTS(a,this.module,this.cfg).parse(t,r)),this.addSchema(i,e,t),i}catch(o){console.log(o.stack)}},e.prototype.schemas2ts=function(e,t){var n=this,r=new h.AnyType,i=e.filter(function(e){return e.mediaType().indexOf("json")>=0}).map(function(e){return e.schema()}).filter(function(e){return e.isDefined()}).map(function(e){return e.value()});if(i.length>0&&(i.forEach(function(e){return r=r.union(n.schema2ts(e,"json",t))}),this.cfg&&this.cfg.collapseMediaTypes))return r;var a=e.filter(function(e){return e.mediaType().indexOf("xml")>=0}).map(function(e){return e.schema()}).filter(function(e){return e.isDefined()}).map(function(e){return e.value()});return a.forEach(function(e){return r=r.union(n.schema2ts(e,"xml",t))}),r},e.prototype.schema2ts=function(e,t,n){return void 0===n&&(n=!1),this.schemaNameToSchema[e.name()]||this.schemaContentToSchema[e.content()]||this.createSchema(e.name(),e.content(),t,n)},e.prototype.customizeMethod=function(e,t,n,r){var i=this,a=s(t.method());this.cfg.methodNamesAsPrefixes?a+=u(s(t.resource().relativeUri())):("get"===t.method()&&this.cfg.collapseGet||n&&this.cfg.collapseOneMethod)&&(a="");var o=new b(e,a,t),l=new h.TSStructuralTypeReference(o);if(this.cfg.createTypesForParameters)if(e.parent()instanceof v){var c=u(e.parent().name)+u(o.name)+"Options";l=new h.TSInterface(h.Universe,c)}else{var c=u(e.name)+u(o.name)+"Options";l=new h.TSInterface(h.Universe,c)}this.processParameters(l,t.queryParameters(),""),this.processParameters(l,t.headers(),"header_"),t.bodies()&&t.bodies().forEach(function(e){return i.processParameters(l,e.formParameters(),"form_")}),this.cfg.reuseTypeForParameters&&this.collapseToTypeAliasOrAdd(l);var p=[];t.responses().filter(function(e){return e.isOkRange()}).forEach(function(e){return p=p.concat(e.bodies())});var d=this.schemas2ts(p,!0),m=this.schemas2ts(t.bodies(),!1),f=new h.Param(o,"options",2,l.toReference());f.optional=l.canBeOmmited(),o.parameters.push(f),m instanceof h.AnyType||o.parameters.push(new h.Param(o,"payload",1,m)),this.cfg.queryParametersSecond&&(o.parameters=o.parameters.reverse()),r&&(o.parameters=r.concat(o.parameters)),o.rangeType=d},e.prototype.generateFormSchema=function(e,t){for(var n="",r=t.resource().completeRelativeUri().split("/"),i=r.length-1;i>=0;i--){var a=r[i];if(0!=a.trim().length){var o=a.indexOf("{");if(0!=o){0>o&&(o=a.length),n=a.substring(0,o);break}}}for(var l=u(s(n))+u(t.method())+"Form",c=l,i=1;this.module.getInterface(c).isDefined();)c=l+i++;var d=new h.TSInterface(this.module,c);return e.formParameters().forEach(function(e){var t=new h.TSAPIElementDeclaration(d,e.name());t.optional=!e.required();var n=e.definitions();if(1==n.length){var r=p.ramlType2TSType(n[0].type());t.rangeType=new h.TSSimpleTypeReference(t,r)}else t.rangeType=new h.AnyType,n.forEach(function(e){var n=p.ramlType2TSType(e.type()),r=new h.TSSimpleTypeReference(t,n);t.rangeType.union(r)})}),d.toReference()},e.prototype.collapseToTypeAliasOrAdd=function(e){var t=e.hash(),n=e,r=this.typeHashToType[t];if(r){for(var i=n.name,a=i,o=0;this.module.getInterface(a).isDefined();)o++,a=i+o;new h.TSTypeAssertion(this.module,a,r.toReference())}else this.typeHashToType[t]=n,this.module.addChild(n)},e.prototype.processParameters=function(e,t,n){var r=this;t.forEach(function(t){var i=new h.TSAPIElementDeclaration(e,n+t.name());i.rangeType=r.getParamType(t),i.optional=!t.required()})},e.prototype.buildConversion=function(){return this.raml2TSModel},e.prototype.getParamType=function(e){var t=this,n=new h.AnyType;return e.definitions().forEach(function(e){return n=n.union(new h.TSSimpleTypeReference(h.Universe,t.mapRamlType(e.type())))}),n},e.prototype.mapRamlType=function(e){var t=this.typesMap[e];return t||(t="string"),t},e}(),T=function(){function e(){this.strings=[]}return e.prototype.append=function(e){this.strings.push(e)},e.prototype.getResult=function(){return this.strings.join("")},e}(),E=function(){function e(e){this.generatedDeclarations=[],this.generatedCode=[],this.isInP=!1,this.level=0,this.isInPatch=!1,this.isInFunct=!1,this.isInFunction=!1,this.cfg=e}return e.prototype.betweenElements=function(){this.level>1&&this.generatedCode.push(",\n")},e.prototype.getResult=function(){return this.generatedCode.join("")},e.prototype.startTypeDeclaration=function(e){var t=this;return this.generatedCode.push("\n{\n"),this.isInP=this.isInPatch,this.isInPatch=!1,0==this.level&&(this.generateDeclarations(),this.level++,e.children().forEach(function(e){return t.writePatchPart(e,"(<any>this)",!1)}),this.generatedCode.push("}\n"),this.level--),this.level++,!0},e.prototype.genInvoke=function(){},e.prototype.generateConstructorParameters=function(){return"op:any={}"},e.prototype.generateOpAssignment=function(){return"this.options=op;"},e.prototype.generateDeclarations=function(){this.generatedCode.push("\n            private inv:invoker\n            private options:any\n            "+this.genInvoke()+"\n            constructor("+this.generateConstructorParameters()+"inv:invoker=null/*fixme*/){\n\n            "+this.generateOpAssignment()+"\n            ")},e.prototype.endTypeDeclaration=function(e){this.generatedCode.push("\n /* type ending */ }\n"),this.level--,this.isInPatch=this.isInP},e.prototype.startVisitElement=function(e){if(this.isInPatch||this.generatedCode.push(""+e.name),null!=e.rangeType&&e.rangeType.isFunctor())return this.generateFunctionInline(e),!1;if(e.isFunction()){if(this.isInPatch||this.isInFunction||this.generatedCode.push(this.level>1?":":this.isInFunct?":any =":"="),this.generatedCode.push(e.paramStr(!0)),this.generatedCode.push("=>{\n"),this.generatedCode.push("var res=<any> \n"),!e.rangeType)throw new Error("Range type is not defined");(e.rangeType instanceof h.TSSimpleTypeReference||e.rangeType instanceof h.TSUnionTypeReference)&&(e.rangeType instanceof w?e.rangeType instanceof w&&this.subResourceProxyCreation(e,e.rangeType):this.generateCall(e))}else{if(!(e.rangeType instanceof w))throw new Error("Should not happen");var t=e.rangeType;if(t.resourceInterface().isFunctor()){var n=this.isInFunct;this.isInFunct=!0;var r=t.resourceInterface().getFunctor();return r.visit(this),this.isInFunct=n,!1}this.isInPatch||this.generatedCode.push("="),this.subResourceProxyCreation(e,t)}return!0},e.prototype.subResourceProxyCreation=function(e,t){var n=this;this.generatedCode.push("new "+t.name+"Impl("),e.parameters.forEach(function(e){return n.generatedCode.push(e.name+",")}),this.generatedCode.push("this)\n");var r=null;this.genSubResource(e,r,t)},e.prototype.genSubResource=function(e,t,n){var r=new C(e,t,this.cfg);n.resourceInterface&&n.resourceInterface().visit(r),this.generatedDeclarations=this.generatedDeclarations.concat(r.generatedDeclarations),this.generatedDeclarations.push("class "+n.name+"Impl\n"+r.getResult())},e.prototype.generateFunctionInline=function(e){var t=this.isInFunct,n=this.isInFunction;this.isInFunct=!0,e.isFunction()&&(this.generatedCode.push(e.paramStr()+":any"+(this.isInPatch?"=>":"")+"{\n"),this.generatedCode.push("var result:any= "),this.isInFunction=!0);var r=e.rangeType.getFunctor();null!=r?r.visit(this):this.generatedCode.push("{}\n"),e.isFunction()&&(this.writePatchPart(e,"result",!0),this.generatedCode.push("return result\n"),this.generatedCode.push("}\n")),this.isInFunct=t,this.isInFunction=n},e.prototype.generateCall=function(e){if(!(e instanceof b))throw new Error("Should never happen");var n=e,r=n.originalResource.completeRelativeUri();this.cfg.collapseMediaTypes&&(r=r.replace("{"+t.MEDIA_TYPE_SUFFIX+"}","JSON"),r=r.replace("{"+t.MEDIA_TYPE_EXTENSION+"}",".json"));var i=this.urlTemplate(r,e);this.generatedCode.push("this.invoke("+i+",'"+n.originalMethod.method()+"',{\n"),this.generatedCode.push(n.parameters.filter(function(e){return!e.isEmpty()}).map(function(e){return'"'+e.name+'":'+e.name+"\n"}).join(", ")),this.generatedCode.push("});\n")},e.prototype.urlTemplate=function(e,t){for(var n="`",r=0;r<e.length;r++){var i=e.charAt(r);"{"==i&&(n+="$"),n+=i}return n+="`"},e.prototype.writePatch=function(e,t){var n=this;e.rangeType&&e.rangeType.children().forEach(function(e){null!=e.rangeType&&e.rangeType.isFunctor()&&e.rangeType.children().forEach(function(r){if(!r.isAnonymousFunction()){var i=t+"."+e.name+"."+r.name;n.generatedCode.push(i+"="),n.writePatchDetails(r),n.writePatchPart(r,i,!1)}})})},e.prototype.writePatchDetails=function(e){var t=this.isInPatch;this.isInPatch=!0,e.visit(this),this.isInPatch=t,this.generatedCode.push(";\n")},e.prototype.writePatchPart=function(e,t,n){var r=this;null==e.rangeType||!e.rangeType.isFunctor()||e.isFunction()&&!n||e.rangeType.children().forEach(function(i){if(!i.isAnonymousFunction()){var a=t+"."+(n?"":e.name+".")+i.name;r.generatedCode.push(a+"="),r.writePatchDetails(i)}})},e.prototype.endVisitElement=function(e){e.isFunction()&&(this.writePatch(e,"res"),this.generatedCode.push("return res;/*d*"+e.name+"*/}"),this.generatedCode.push("\n"))},e}(),A=function(e){function t(t,n){e.call(this,n),this._api=t}return c(t,e),t.prototype.generateDeclarations=function(){var e=(this._api.baseUri().isDefined()?this._api.baseUri().value():null).trim();d.stringEndsWith(e,"/")&&(e=e.substring(0,e.length-1)),this.generatedCode.push("private baseUrl:string='"+e+"'\n"),this.generatedCode.push("private cfgEncoded=/*CONFIGENCODEDSTART*/"+JSON.stringify(this.cfg)+";/*CONFIGENCODEDEND*/\n"),this.generatedCode.push("private apiEncoded=/*APIENCODEDSTART*/"+JSON.stringify(this._api)+";/*APIENCODEDEND*/\n"),this.generatedCode.push("declaration():RamlWrapper.Api{var api : RamlWrapper.Api = new RamlWrapper.Api(<any>this.apiEncoded.data); endpoints.setApi(api); return api;}\n"),this.generatedCode.push("authentificate(schemaName:string, options?:any){}\n"),this.generateAuthentification(),this.generateBaseUrlResolveCall(),this.generatedCode.push("\n            private inv:executor.APIExecutor\n            private options:any\n            "+this.genInvoke()+"\n            authenticate(schemaName?:string,options?:any):any{return null;}\n            constructor("+this.generateConstructorParameters()+"){\n            this.inv=new executor.APIExecutor(this.declaration(),this.baseUrlResolved(),<any>this.cfgEncoded);\n            "+this.generateOpAssignment()+"\n            ")},t.prototype.genInvoke=function(){var e=this.cfg&&this.cfg.async?"executeAsync":"execute";return"\n        invoke(path:string,method:string,obj:any){\n            env.registerApi(this.declaration())\n            return this.inv."+e+"(this.baseUrlResolved()+path,method,obj)\n        }"},t.prototype.generateParameterReplace=function(){var e=this,t="";return this._api.baseUriParameters().forEach(function(n){t="version"==n.name()?t+"burl=burl.replace('{"+n.name()+"}','"+(e._api.version().isDefined()?e._api.version().value():1)+"')\n":t+"burl=burl.replace('{"+n.name()+"}',this._"+n.name()+")\n"}),t},t.prototype.generateOpAssignment=function(){return""},t.prototype.generateBaseUrlResolveCall=function(){this.generatedCode.push("baseUrlResolved():string{\n        var burl=this.baseUrl;\n        "+this.generateParameterReplace()+"\n        return burl;\n        }")},t.prototype.generateConstructorParameters=function(){var e=[];return this._api.baseUriParameters().forEach(function(t){"version"!=t.name()&&e.push("private _"+t.name()+":string")}),e.join(",")},t.prototype.generateAuthentification=function(){this.generatedCode.push("log(vName:string,val:any){this.inv.log(vName,val);return val;}")},t}(E),C=function(e){function n(t,n,r){e.call(this,r),this._decl=t,this._parent=n}return c(n,e),n.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&t.parameters.forEach(function(e){0===e.location&&(n[e.name]=!0)});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},n.prototype.subResourceProxyCreation=function(e,n){var r=this;this.generatedCode.push("new "+n.name+"Impl(");for(var i=this,a=[];i;)i._decl.parameters&&i._decl.parameters.length>0&&a.push(i._decl),i=i._parent;a.reverse().forEach(function(e){return e.parameters.filter(function(e){return e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX}).forEach(function(e){return r.generatedCode.push("this."+e.name+",")})}),e.parameters.forEach(function(e){return r.generatedCode.push(e.name+",")}),this.generatedCode.push("this)\n");var o=this;this.genSubResource(e,o,n)},n.prototype.extraParams=function(){for(var e=this,n=[],e=this;e;e=e._parent)n.push(e._decl);var r="";return n.reverse().forEach(function(e,i){return e.parameters.forEach(function(e){var a=e.name,o=a==t.MEDIA_TYPE_EXTENSION||a==t.MEDIA_TYPE_SUFFIX;o&&i<n.length-1||(r+="private "+a+", ")})}),r},n.prototype.generateDeclarations=function(){var e=this.extraParams(),t="";e.indexOf("mediaTypeExtension")>=0&&(t='if(this.mediaTypeExtension){\n                if(this.mediaTypeExtension.length>0){\n                    this.mediaTypeExtension = ("." + this.mediaTypeExtension).replace("..",".")\n                }\n            }'),this.generatedCode.push("\n\n            invoke(path:string,method:string,obj:any){return this._parent.invoke(path,method,obj)}\n            constructor("+e+" private _parent:{invoke(path:string,method:string,obj:any):void}){\n                "+t+"\n            ")},n}(E),N=(function(e){function t(){e.apply(this,arguments)}return c(t,e),t.prototype.startTypeDeclaration=function(e){return this.append("{/*ts*/"),!0},t.prototype.endTypeDeclaration=function(e){this.append("}")},t.prototype.betweenElements=function(){this.append(",")},t.prototype.startVisitElement=function(e){return e.isFunction(),!0},t.prototype.endVisitElement=function(e){this.append("}")},t}(T),function(){function e(e,n){var r=this;this._api=e,this.tsModule2Src=function(e){var n=new A(r._api,r.cfg);r.cfg.debugOptions.generateImplementation&&e.getInterface("Api").value().visit(n),e.getInterface("Api").getOrThrow().addCode("declaration():RamlWrapper.Api"),e.getInterface("Api").getOrThrow().addCode("authenticate(schemaName?:string,options?:any):any"),e.getInterface("Api").value().addCode("log(vName:string,val:any)");var i="\n            "+(r.cfg.storeHarEntry?"export interface UnknownResponse{ "+t.HAR_ENTRY_FIELD_NAME+" : har.Entry }":"")+"\n            export interface payloadType{}\n            export interface responseType{}\n            export interface invoker{ (url:String,method:string,options:any):any; }\n            export class ApiImpl implements Api "+n.getResult()+"\n            ",a="";
return e.children().forEach(function(e){return a+=e.serializeToString()}),i=n.generatedDeclarations.join("")+a+i,i+="\n var meta={}",'import RamlWrapper=require("../Raml08Wrapper")\n        import executor=require("./executor")\n        import env=require("./executionEnvironment")\n        import endpoints=require("./endpoints")\n\n        env.setPath(__dirname);\n        env.getReportManager().setLogPath(__dirname);\n\n            '+i},this.cfg=n}return e.prototype.buildConversion=function(){return this.tsModule2Src},e}())},function(e,t,n){function r(e){return i(e)?e:JSON.stringify(e)}function i(e){if(e=e.trim(),0==e.length)return!1;if(c.indexOf(e)>=0)return!1;if(g[e.charAt(0)])return!1;for(var t=0;t<e.length;t++)if(!v[e.charAt(t)])return!1;return!0}function a(e){e=e.trim();var t="";e.length>0&&g[e.charAt(0)]&&(t+="_");for(var n=0;n<e.length;n++){var r=e.charAt(n);t+=v[r]?r:"_"}return t}function o(e){function t(e){var t=new l.formatting.RulesProvider;return t.ensureUpToDate(e),t}function n(e,t){for(var n=e,r=t.length-1;r>=0;r--){var i=t[r],a=n.slice(0,i.span.start()),o=n.slice(i.span.start()+i.span.length());n=a+i.newText+o}return n}function r(){return{IndentSize:4,TabSize:4,NewLineCharacter:"\n",ConvertTabsToSpaces:!0,InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,PlaceOpenBraceOnNewLineForFunctions:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1}}function i(e){function t(e){e.parent=n;var r=n;n=e,l.forEachChild(e,t),n=r}var n=e;l.forEachChild(e,t)}var a=r(),o=l.createSourceFile("file.ts",e,2,"0");i(o);var s=l.formatting.formatDocument(o,t(a),a);return n(e,s)}function s(e){var t=w[e];return t||(t="any"),t}function u(e){return e=a(e),t.javaReservedWords[e]?e+"_":e}var l=n(72);t.escapeTypescriptPropertyName=r;for(var c="type class interface break case catch continue debugger default delete do else finally for function if in instanceof new return switch this throw try typeof var void while with".split(" "),p="0".charCodeAt(0),d="9".charCodeAt(0),m="a".charCodeAt(0),h="z".charCodeAt(0),f="A".charCodeAt(0),y="Z".charCodeAt(0),g={},v={},b=p,S=d;S>=b;b++)g[String.fromCharCode(b)]=!0,v[String.fromCharCode(b)]=!0;for(var b=m,S=h;S>=b;b++)v[String.fromCharCode(b)]=!0;for(var b=f,S=y;S>=b;b++)v[String.fromCharCode(b)]=!0;"_ $".split(" ").forEach(function(e){return v[e]=!0}),t.isValidTypescriptIdentifier=i,t.escapeToIdentifier=a,t.format=o;var w={string:"string",integer:"number",number:"number","boolean":"boolean",file:"string",date:"string",NumberType:"number"};t.ramlType2TSType=s,t.escapeToJavaIdentifier=u,t.tsToJavaTypeMap={number:"Double",string:"String","boolean":"Boolean",any:"Object"},t.javaReservedWords={"abstract":!0,"continue":!0,"for":!0,"new":!0,"switch":!0,assert:!0,"default":!0,"goto":!0,"package":!0,"synchronized":!0,"boolean":!0,"do":!0,"if":!0,"private":!0,"this":!0,"break":!0,"double":!0,"implements":!0,"protected":!0,"throw":!0,"byte":!0,"else":!0,"import":!0,"public":!0,"throws":!0,"case":!0,"enum":!0,"instanceof":!0,"return":!0,"transient":!0,"catch":!0,"extends":!0,"int":!0,"short":!0,"try":!0,"char":!0,"final":!0,"interface":!0,"static":!0,"void":!0,"class":!0,"finally":!0,"long":!0,strictfp:!0,"volatile":!0,"const":!0,"float":!0,"native":!0,"super":!0,"while":!0}},function(e,t,n){function r(e){return new s(e)}function i(e){return new d(e)}var a=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},o=n(60),s=n(61),u=n(16),l=n(93);t.wrap=i;var c=function(){function e(){o.lazyprops(this,function(e){return!0})}return e.prototype.allDirectChildren=function(){return[]},e.prototype.visit=function(e){e(this),this.allDirectChildren().forEach(function(t){return t.visit(e)})},e.prototype.visitAndCollectInstancesOf=function(e){var t=[];return this.visit(function(n){return o.ifInstanceOf(n,e,function(e){return t.push(e)})}),t},e}();t.AbstractNode=c;var p=function(){function e(e,t){var n=this;this._name=e,this._content=t,this.name=function(){return n._name},this.content=function(){return n._content},this.wrapped=function(){return null}}return e}();t.SchemaDef=p;var d=(function(){function e(){}return e}(),function(){function e(){}return e}(),function(){function e(){}return e}(),function(e){function t(t){var n=this;e.call(this),this.data=t,this.title=function(){return r(n.data.title)},this.version=function(){return r(n.data.version)},this.baseUri=function(){return r(n.data.baseUri)},this.baseUriParameters=function(){return E.build(3,n.data.baseUriParameters)},this.uriParameters=function(){return E.build(2,n.data.uriParameters)},this.protocols=function(){return T.build(n.data.protocols)},this.resources=function(){return o.asArray(n.data.resources).map(function(e){return new v(e,n)})},this.mediaType=function(){return r(n.data.mediaType)},this.schemas=function(){var e=o.flattenArrayOfObjects(n.data.schemas||[]);return o.toTuples(e).map(function(e){return new p(e[0],e[1])})},this.securitySchemas=function(){var e=o.flattenArrayOfObjects(n.data.securitySchemes||[]);return o.toTuples(e).map(function(e){return new f(e[0],e[1],n)})},this.documentation=function(){return y.build(n.data.documentation)},this.allResources=function(){return n.visitAndCollectInstancesOf(v)},this.allMethods=function(){return n.visitAndCollectInstancesOf(S)},this.findResourceById=function(e){return r(u.find(n.allResources(),function(t){return e.equals(t.id())}))},this.findMethodById=function(e){return r(u.find(n.allMethods(),function(t){return e.equals(t.id())}))},this.findSchemaByName=function(e){return new s(u.find(n.schemas(),function(t){return t.name()==e}))},this.findSchemaByContent=function(e){return new s(u.find(n.schemas(),function(t){return t.content()==e}))}}return a(t,e),t.prototype.allDirectChildren=function(){return[].concat(this.resources())},t.prototype.securedBy=function(){return this.data.securedBy?this.data.securedBy.map(function(e){return r("string"==typeof e?e:e&&Object.keys(e)[0])}):[]},t}(c));t.Api=d;var m=function(){function e(e){var t=this;this._data=e,this.type=function(){return new s(t._data.type)},this.queryParameters=function(){return E.build(0,t._data.describedBy?t._data.describedBy.queryParameters:void 0)},this.headers=function(){return E.build(4,t._data.describedBy?t._data.describedBy.headers:void 0)}}return e}();t.SecuritySchemaType=m;var h=function(e){function t(t){e.call(this,t)}return a(t,e),t}(m);t.BasicSecuritySchemaType=h;var f=function(){function e(e,t,n){var r=this;this._name=e,this._data=t,this._api=n,this.name=function(){return r._name},this.type=function(){return"Basic Authentication"==r._data.type.trim()?new h(r._data):new m(r._data)}}return e.prototype.settings=function(){return this._data.settings||{}},e.prototype.describedBy=function(){return this._data.describedBy||{}},e.prototype.api=function(){return this._api},e}();t.SecuritySchemaDef=f;var y=function(){function e(e){var t=this;this.data=e,this.title=function(){return t.data.title},this.content=function(){return new M(t.data.content)}}return e.build=function(t){return o.asArray(t).map(function(t){return new e(t)})},e}();t.DocumentationItem=y;var g=function(){function e(e,t){this.key=e,this.value=t}return e}();t.ParamValue=g;var v=function(e){function t(n,i,a){var c=this;e.call(this),this.data=n,this._api=i,this._parent=a,this.id=function(){return new b(c.completeRelativeUri())},this.api=function(){return c._api},this.relativeUri=function(){return c.data.relativeUri},this.description=function(){return r(c.data.description).map(function(e){return new M(e)})},this.parent=function(){return r(c._parent)},this.methods=function(){return(c.data.methods||[]).map(function(e){return new S(e,c)})},this.resources=function(){return o.asArray(c.data.resources).map(function(e){return new t(e,c.api(),c)})},this.uriParameters=function(){return u.sortBy(E.build(2,c.data.uriParameters),function(e){return c.relativeUri().indexOf(e.name())})},this.baseUriParameters=function(){return E.build(3,c.data.baseUriParameters)},this.completeRelativeUri=function(){return c.parent().map(function(e){return e.completeRelativeUri()}).getOrElse("")+c.relativeUri()},this.matchUri=function(e){for(var t={},n=c;;){var i=n.data.uriParameters;if(i&&Object.keys(i).forEach(function(e){return t[e]=i[e]}),!n.parent().isDefined())break;n=n.parent().getOrThrow()}var a=l(c.completeRelativeUri(),t,{})(e);return a?r(Object.keys(a.params).map(function(e){return new g(e,a.params[e])})):s.empty()},this.segments=function(){var e=[],t=c;do e.push(t),t=t.parent().getOrElse(null);while(t);return e=e.reverse()}}return a(t,e),t.prototype.resourceType=function(){var e=this.data.type;return new s("string"==typeof e?e:e&&Object.keys(e)[0])},t.prototype.allDirectChildren=function(){return[].concat(this.methods(),this.resources())},t.prototype.absoluteUri=function(){return this.parent().map(function(e){return e.absoluteUri()}).getOrElse("")+this.relativeUri()},t.prototype.absoluteUriParameters=function(){return this.parent().map(function(e){return e.absoluteUriParameters()}).getOrElse([]).concat(this.uriParameters())},t}(c);t.Resource=v;var b=function(){function e(e){var t=this;this._value=e,this.value=function(){return t._value},this.equals=function(e){return t.value()===e.value()}}return e}();t.RamlId=b;var S=function(e){function t(t,n){var i=this;e.call(this),this.data=t,this._resource=n,this.id=function(){return new b(i.resource().completeRelativeUri()+" "+i.method().toLowerCase())},this.api=function(){return i._resource.api()},this.resource=function(){return i._resource},this.method=function(){return i.data.method},this.description=function(){return r(i.data.description).map(function(e){return new M(e)})},this.protocols=function(){return T.build(i.data.protocols)},this.queryParameters=function(){return E.build(0,i.data.queryParameters)},this.headers=function(){return E.build(4,i.data.headers)},this.responses=function(){return Object.keys(i.data.responses||{}).map(function(e){return new w(i,e,i.data.responses[e])})},this.bodies=function(){return Object.keys(i.data.body||{}).map(function(e){return new P(i,e,i.data.body[e])})},this.getConsolidatedParameterList=function(e){return void 0===e&&(e=!1),[]}}return a(t,e),t.prototype.traits=function(){return this.data.is?this.data.is.map(function(e){return"string"==typeof e?e:Object.keys(e)[0]}):[]},t.prototype.securedBy=function(){return this.data.securedBy?this.data.securedBy.map(function(e){return r("string"==typeof e?e:e&&Object.keys(e)[0])}):[]},t}(c);t.Method=S;var w=function(e){function t(t,n,r){var i=this;e.call(this),this._method=t,this._code=n,this._data=r,this.code=function(){return i._code},this.isOkRange=function(){return Number(i.code())<300&&Number(i.code())>=200},this.bodies=function(){return Object.keys(i._data?i._data.body||{}:{}).map(function(e){return new P(i._method,e,i._data.body[e])})}}return a(t,e),t}(c);t.Response=w;var P=function(e){function t(t,n,i){var a=this;e.call(this),this._method=t,this._mediaType=n,this._data=i,this.example=function(){return r(a._data&&a._data.example)},this.formParameters=function(){return a._formData&&a._formData.formParameters?E.build(1,a._formData.formParameters):[]},this._formData=this._data}return a(t,e),t.prototype.mediaType=function(){return this._mediaType},t.prototype.schema=function(){if(null!=this._data&&this._data.schema){var e=this._method.api().findSchemaByName(this._data.schema);if(e.isDefined())return e;if(e=this._method.api().findSchemaByContent(this._data.schema),e.isDefined())return e;var t=new p(this._data.schema,this._data.schema);return r(t)}return r()},t}(c);t.Body=P;var M=function(){function e(e){var t=this;this._value=e,this.value=function(){return t._value}}return e}();t.MarkdownString=M,function(e){e[e.query=0]="query",e[e.form=1]="form",e[e.uri=2]="uri",e[e.baseUri=3]="baseUri",e[e.header=4]="header"}(t.ParamLocation||(t.ParamLocation={}));t.ParamLocation;!function(e){e[e.HTTP=0]="HTTP",e[e.HTTPS=1]="HTTPS"}(t.Protocol||(t.Protocol={}));var T;t.Protocol;!function(e){function t(e){return(e=e?e:[]).map(function(e){return n[e.toUpperCase()]})}var n={HTTP:0,HTTPS:1};e.build=t}(T||(T={}));var E=function(e){function t(t,n,r){var i=this;if(e.call(this),this._location=t,this._name=n,this._data=r,this.name=function(){return i._name},this.location=function(){return i._location},this.definitions=function(){return i._data.map(function(e){return A.build(i,e)})},this.required=function(){return i.definitions().every(function(e){return e.required()})},this.validate=function(e){return!1},0===this.definitions().length)throw new Error("Parameter with no definitions")}return a(t,e),t.build=function(e,n){return Object.keys(n||{}).map(function(r){return new t(e,r,o.asArray(n[r]))})},t}(c);t.Param=E;var A=function(){function e(e,t){var n=this;this._param=e,this._data=t,this.param=function(){return n._param},this.type=function(){return n._data.type||"string"},this.required=function(){return n._data.required===!0},this["enum"]=function(){return r(n._data["enum"])}}return e.prototype.description=function(){return r(this._data.description).map(function(e){return new M(e)})},e.prototype.displayName=function(){return this._data.displayName},e.prototype["default"]=function(){return r(this._data["default"])},e.prototype.example=function(){return r(this._data.example)},e.prototype.repeat=function(){return this._data.repeat===!0},e.prototype.min=function(){return r(this._data.minimum)},e.prototype.max=function(){return r(this._data.maximum)},e.prototype.minLength=function(){return r(this._data.minLength)},e.prototype.maxLength=function(){return r(this._data.maxLength)},e.prototype.pattern=function(){return r(this._data.pattern)},e.build=function(t,n){return new e(t,n)},e.constructors={string:C,"boolean":N,integer:I,number:_},e}();t.ParamDef=A;var C=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(A);t.ParamDef_string=C;var N=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(A);t.ParamDef_boolean=N;var I=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(A);t.ParamDef_number=I;var _=function(e){function t(){e.apply(this,arguments)}return a(t,e),t}(I);t.ParamDef_integer=_},function(e,t,n){function r(e){var t=this;if(!(e instanceof b))return[e];var n={},r=[];return e.children().forEach(function(e){return t.flattenUnionType(e).forEach(function(e){if(e instanceof S){var t=e,i=t.name;n[i]=t}else r.push(e)})}),r.concat(o.sortBy(Object.keys(n).map(function(e){return n[e]}),"name"))}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(111),o=n(16),s=n(114),u=n(61);t.MODEL_CLASS_MODEL_ELEMENT="$resource-model-element",t.MODEL_CLASS_TYPE_DECLARATION="$type-declaration",t.MODEL_CLASS_INTERFACE="$interface-declaration",t.MODEL_CLASS_CLASS_DECLARATION="$class-declaration",t.MODEL_CLASS_ANNOTATION_DECLARATION="$annotation-declaration",t.MODEL_CLASS_ENUM_DECLARATION="$enum-declaration",t.MODEL_CLASS_TYPE_ASSERTION="$type-assertion",t.MODEL_CLASS_API_MODULE="$api-module",t.MODEL_CLASS_UNIVERSE="$universe",t.MODEL_CLASS_MEMBER="$member",t.MODEL_CLASS_UNION_TYPE_REFERENCE="$union-type-reference",t.MODEL_CLASS_SIMPLE_TYPE_REFERENCE="$simple-type-reference",t.MODEL_CLASS_FUNCTION_REFERENCE="$function-reference",t.MODEL_CLASS_ARRAY_REFERENCE="$array-reference",t.MODEL_CLASS_DECLARED_INTERFACE_REFERENCE="$declared-interface-reference",t.MODEL_CLASS_ANY_TYPE_REFERENCE="$any-type-reference",t.MODEL_CLASS_STRUCTURAL_TYPE_REFERENCE="$structural-type-reference",t.MODEL_CLASS_PARAM="$param",t.MODEL_CLASS_STRING_VALUE="$string-value",t.MODEL_CLASS_ARRAY_VALUE="$array-value",t.MODEL_CLASS_API_ELEMENT_DECLARATION="$api-element-declaration",t.MODEL_CLASS_CONSTRUCTOR="$constructor";var l=function(){function e(e,n){void 0===e&&(e=t.Universe),this.meta={},this._annotations=[],this._parent=e,this._config=n?n:e._config,this._children=[],s(e,"Should never be null"),this._parent.addChild(this)}return e.prototype.annotations=function(){return this._annotations},e.prototype.patchParent=function(e){this._parent=e},e.prototype.isEmpty=function(){return 0==this._children.length},e.prototype.parent=function(){return this._parent},e.prototype.children=function(){return this._children},e.prototype.root=function(){return this._parent==t.Universe?this:this._parent.root()},e.prototype.removeChild=function(e){e._parent==this&&(this._children=this._children.filter(function(t){return t!=e})),e._parent=t.Universe},e.prototype.addChild=function(e){e._parent&&e._parent.removeChild(e),e._parent=this,this._children.push(e)},e.prototype.serializeToString=function(){throw new Error("You should override serialize to string always")},e.prototype.modelClass=function(){return t.MODEL_CLASS_MODEL_ELEMENT},e}();t.TSModelElement=l;var c=function(e){function n(t){var n=this;void 0===t&&(t=null),e.call(this,t),this.canBeOmmited=function(){return n.locked?!1:n.children().every(function(e){return e.optional})},this.locked=!1,this.extras=[""]}return i(n,e),n.prototype.addCode=function(e){this.extras.push(e)},n.prototype.toReference=function(){throw new Error("Implement in subclasses")},n.prototype.hash=function(){return this.serializeToString()},n.prototype.isFunctor=function(){return this.children().some(function(e){return e.isAnonymousFunction()})},n.prototype.getFunctor=function(){return o.find(this.children(),function(e){return e.isAnonymousFunction()})},n.prototype.visit=function(e){e.startTypeDeclaration(this)&&(this.children().forEach(function(t,n,r){t.visit(e),n!=r.length-1&&e.betweenElements()}),e.endTypeDeclaration(this))},n.prototype.modelClass=function(){return t.MODEL_CLASS_TYPE_DECLARATION},n}(l);t.TSTypeDeclaration=c;var p=function(e){function n(t,n){e.call(this,t),this["extends"]=[],this["implements"]=[],this.name=n}return i(n,e),n.prototype.hash=function(){return this.children().filter(function(e){return!e.isPrivate}).map(function(e){return"\n"+e.serializeToString()+"\n"}).join("")},n.prototype.toReference=function(){return new M(t.Universe,this.name,this)},n.prototype.decl=function(){return"interface"},n.prototype.serializeToString=function(){var e=this.hash();return"export "+this.decl()+" "+this.name.concat(this.extendsString()+this.implementsString())+"{"+this.extras.join("\n")+e+"}\n"},n.prototype.extendsString=function(){return this["extends"].length>0?" extends "+this["extends"].map(function(e){return e.serializeToString()}).join(","):""},n.prototype.implementsString=function(){return this["implements"].length>0?" implements "+this["implements"].map(function(e){return e.serializeToString()}).join(","):""},n.prototype.modelClass=function(){return t.MODEL_CLASS_INTERFACE},n}(c);t.TSInterface=p;var d=function(e){function n(){e.apply(this,arguments)}return i(n,e),n.prototype.decl=function(){return"class"},n.prototype.modelClass=function(){return t.MODEL_CLASS_CLASS_DECLARATION},n}(p);t.TSClassDecl=d;var m=function(e){function n(){e.apply(this,arguments)}return i(n,e),n.prototype.decl=function(){return"annotation"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ANNOTATION_DECLARATION},n.prototype.toReference=function(){return new E(t.Universe,this.name,this)},n}(p);t.TSAnnotationDecl=m;var h=function(e){function n(){e.apply(this,arguments)}return i(n,e),n.prototype.decl=function(){return"enum"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ENUM_DECLARATION},n}(p);t.TSEnumDecl=h;var f=function(e){function n(t,n,r){e.call(this,t),this._name=n,this._ref=r}return i(n,e),n.prototype.toReference=function(){return new S(t.Universe,this._name)},n.prototype.serializeToString=function(){return"export type "+this._name+"="+this._ref.serializeToString()+"\n"},n.prototype.ref=function(){return this._ref},n.prototype.name=function(){return this._name},n.prototype.modelClass=function(){return t.MODEL_CLASS_TYPE_ASSERTION},n}(c);t.TSTypeAssertion=f;var y=function(e){function n(){e.call(this,this)}return i(n,e),n.prototype.addChild=function(e){},n.prototype.setConfig=function(e){this._config=e},n.prototype.getConfig=function(){return this._config},n.prototype.modelClass=function(){return t.MODEL_CLASS_UNIVERSE},n}(l);t.TSUniverse=y,t.Universe=new y;var g=function(e){function n(){e.apply(this,arguments)}return i(n,e),n.prototype.getInterface=function(e){return new u(o.find(this.children(),function(t){return t.name==e}))},n.prototype.serializeToString=function(){var e={};this.children().forEach(function(t){return e[t.name]=t});var t={},n=[],r=function(i){if(!t[i.name]){t[i.name]=!0;var a=i["extends"];a.forEach(function(t){if(t instanceof S){var n=t.name,i=e[n];i&&r(i)}}),n.push(i)}};return this.children().forEach(function(e){return r(e)}),n.map(function(e){return e.serializeToString()}).join("\n")},n.prototype.modelClass=function(){return t.MODEL_CLASS_API_MODULE},n}(l);t.TSAPIModule=g;var v=function(e){function n(){e.apply(this,arguments)}return i(n,e),n.prototype.modelClass=function(){return t.MODEL_CLASS_MEMBER},n}(l);t.TSMember=v;var b=function(e){function n(){e.apply(this,arguments),this.array=function(){return!1}}return i(n,e),n.prototype.getFunctor=function(){return null},n.prototype.union=function(e){var t={};this.children().filter(function(e){return e instanceof S}).forEach(function(e){return t[e.name]=!0});var i=!1,a=r(e);if(a.forEach(function(n){i=n instanceof S?i||!t[e.name]:!0}),!i)return this;var o=new n;return this.children().forEach(function(e){return o.addChild(e)}),a.forEach(function(e){return o.addChild(e)}),o},n.prototype.isFunctor=function(){return!1},n.prototype.canBeOmmited=function(){return!1},n.prototype.serializeToString=function(){return this.children().map(function(e){return e.serializeToString()}).join(" | ")},n.prototype.removeChild=function(e){},n.prototype.addChild=function(e){this.children().push(e)},n.prototype.modelClass=function(){return t.MODEL_CLASS_UNION_TYPE_REFERENCE},n}(l);t.TSUnionTypeReference=b;var S=function(e){function n(t,n){var r=this;e.call(this,t),this.array=function(){return!1},this.genericStr=function(){return r.typeParameters&&r.typeParameters.length>0?"<"+r.typeParameters.map(function(e){return e.serializeToString()}).join(",")+">":""},this.name=n}return i(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return!1},n.prototype.union=function(e){var t=this,i=r(e),a=!1;if(i.filter(function(e){return e instanceof n}).map(function(e){return e}).forEach(function(e){return a=a||e.name==t.name}),a)return e;var o=new b;return o.addChild(this),i.forEach(function(e){return o.addChild(e)}),o},n.prototype.serializeToString=function(){return this.name+this.genericStr()},n.prototype.modelClass=function(){return t.MODEL_CLASS_SIMPLE_TYPE_REFERENCE},n}(l);t.TSSimpleTypeReference=S;var w=function(e){function n(t){var n=this;e.call(this,t),this.rangeType=new A,this.parameters=[],this.array=function(){return!1},this.paramStr=function(e){return void 0===e&&(e=!1),"("+n.parameters.filter(function(e){return!e.isEmpty()}).map(function(t){return t.serializeToString(e)}).join(", ")+")"}}return i(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return!0},n.prototype.union=function(e){var t=new b;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){return this.paramStr()+"=>"+this.rangeType.serializeToString()},n.prototype.modelClass=function(){return t.MODEL_CLASS_FUNCTION_REFERENCE},n}(l);t.TSFunctionReference=w;var P=function(e){function n(n){void 0===n&&(n=new A),e.call(this,t.Universe),this.array=function(){return!0},this.componentType=n}return i(n,e),n.prototype.isEmpty=function(){return this.componentType?!0:!1},n.prototype.getFunctor=function(){return this.componentType.getFunctor()},n.prototype.canBeOmmited=function(){return!1},n.prototype.isFunctor=function(){return this.componentType.isFunctor()},n.prototype.union=function(e){var t=new b;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){return this.componentType.serializeToString()+"[]"},n.prototype.modelClass=function(){return t.MODEL_CLASS_ARRAY_REFERENCE},n}(l);t.TSArrayReference=P;var M=function(e){function n(t,n,r){e.call(this,t,n),this._data=r}return i(n,e),n.prototype.isEmpty=function(){return!1},n.prototype.getFunctor=function(){return null},n.prototype.canBeOmmited=function(){return!1},n.prototype.getOriginal=function(){return this._data},n.prototype.modelClass=function(){return t.MODEL_CLASS_DECLARED_INTERFACE_REFERENCE},n}(S);t.TSDeclaredInterfaceReference=M;var T=function(e){function t(t,n,r){void 0===r&&(r={}),e.call(this,t,n),this.values=r}return i(t,e),t.prototype.value=function(e){return void 0===e&&(e="value"),this.values[e]},t}(S);t.TSAnnotationReference=T;var E=function(e){function t(){e.apply(this,arguments),this.values={}}return i(t,e),t.prototype.value=function(e){return void 0===e&&(e="value"),this.values[e]},t}(M);t.TSDeclaredAnnotationReference=E;var A=function(e){function n(n){void 0===n&&(n="any"),e.call(this,t.Universe,n)}return i(n,e),n.prototype.union=function(e){return e},n.prototype.modelClass=function(){return t.MODEL_CLASS_ANY_TYPE_REFERENCE},n}(S);t.AnyType=A;var C=function(e){function n(n){var r=this;void 0===n&&(n=t.Universe),e.call(this,n),this.array=function(){return!1},this.canBeOmmited=function(){return r.locked?!1:r.children().every(function(e){return e.optional})}}return i(n,e),n.prototype.visitReturnType=function(e){this.visit(e)},n.prototype.toReference=function(){return this},n.prototype.union=function(e){var t=new b;return t.addChild(this),t.addChild(e),t},n.prototype.serializeToString=function(){var e=this.children().map(function(e){return"\n"+e.serializeToString()+"\n"}).join("");return"{"+e+"}"},n.prototype.modelClass=function(){return t.MODEL_CLASS_STRUCTURAL_TYPE_REFERENCE},n}(c);t.TSStructuralTypeReference=C,function(e){e[e.URI=0]="URI",e[e.BODY=1]="BODY",e[e.OPTIONS=2]="OPTIONS",e[e.OTHER=3]="OTHER"}(t.ParamLocation||(t.ParamLocation={}));var N=(t.ParamLocation,function(e){function n(n,r,i,a,o){void 0===a&&(a=new S(t.Universe,"string")),e.call(this,n),this.name=r,this.ptype=a,this.location=i,this.defaultValue=o}return i(n,e),n.prototype.isEmpty=function(){return this.ptype.isEmpty()},n.prototype.serializeToString=function(e){return void 0===e&&(e=!1),this.name+(this.optional||this.defaultValue&&!e?"?":"")+(":"+this.ptype.serializeToString()+(this.ptype.canBeOmmited()?"?":""))+(e&&this.defaultValue?"="+JSON.stringify(this.defaultValue):"")},n.prototype.modelClass=function(){return t.MODEL_CLASS_PARAM},n}(l));t.Param=N;var I=function(e){function n(t){e.call(this),this._value=t}return i(n,e),n.prototype.value=function(){return this._value},n.prototype.serializeToString=function(){return'"'+this._value+'"'},n.prototype.modelClass=function(){return t.MODEL_CLASS_STRING_VALUE},n}(v);t.StringValue=I;var _=function(e){function n(t){e.call(this),this._values=t}return i(n,e),n.prototype.value=function(){return this.serializeToString()},n.prototype.serializeToString=function(){return"[ "+this._values.map(function(e){return e.value()}).join(", ")+" ]"},n.prototype.values=function(){return this._values},n.prototype.modelClass=function(){return t.MODEL_CLASS_ARRAY_VALUE},n}(v);t.ArrayValue=_;var x=function(e){function n(t,n){var r=this;e.call(this,t),this.rangeType=new A,this.value=null,this.paramStr=function(e){return void 0===e&&(e=!1),"( "+r.parameters.filter(function(e){return!e.isEmpty()}).map(function(t){return r.serializeParam(t,e)}).join(",")+" )"},this.serializeParam=function(e,t){return e.serializeToString(t)},this.isFunction=function(){return 0!=r.parameters.length||r.isFunc},this.isAnonymousFunction=function(){return r.isFunction()&&""===r.name},this.returnStr=function(){return r.rangeType?":"+r.rangeType.serializeToString():""},this.name=n,this.parameters=[],this.rangeType=null,this.optional=!1}return i(n,e),n.prototype.visit=function(e){e.startVisitElement(this)&&(this.rangeType&&this.rangeType instanceof C&&!this.isInterfaceMethodWithBody()&&this.rangeType.visitReturnType(e),e.endVisitElement(this))},n.prototype.commentCode=function(){return"\n        /**\n         *\n         **/\n         //"+this.name+"\n         "},n.prototype.serializeToString=function(){var e=(this.isPrivate?"private ":"")+this.escapeDot(this.name)+(this.optional?"?":"")+(this.isFunction()?this.paramStr():"")+this.returnStr();return this.value&&(e+="="+this.value.value()),this.commentCode()+e+(this.isFunction()&&this.isInterfaceMethodWithBody()?"":this.body())},n.prototype.body=function(){return null==this._body?"":"{"+this._body+"}"},n.prototype.escapeDot=function(e){return a.escapeTypescriptPropertyName(e)},n.prototype.isInterfaceMethodWithBody=function(){return!1},n.prototype.modelClass=function(){return t.MODEL_CLASS_API_ELEMENT_DECLARATION},n}(v);t.TSAPIElementDeclaration=x;var R=function(e){function n(t){e.call(this,t,"constructor"),this.serializeParam=function(e,t){return"protected "+e.serializeToString(t)}}return i(n,e),n.prototype.modelClass=function(){return t.MODEL_CLASS_CONSTRUCTOR},n}(x);t.TSConstructor=R},function(e,t){e.exports=require("assert")},function(e,t,n){var r=n(113),i=function(){function e(e,t,n){void 0===t&&(t=new r.TSAPIModule),this.cfg=n,this.name=e.charAt(0).toUpperCase()+e.substr(1),this.name=this.name.replace("-",""),this.module=t}return e.prototype.generateHarEntry=function(){return this.cfg?this.cfg.storeHarEntry:!1},e.prototype.parse=function(e,t){var n=this;void 0===t&&(t=!1);var i=JSON.parse(e);if("array"==i.type){var a=i.items;if(a){var o;o=a instanceof Array?a:[a];var s=new r.AnyType,u=0;o.forEach(function(e){return s=s.union(n.createInterface(e,t,o.length>1?""+u++:""))}),s.locked=!0;var l=new r.TSArrayReference;return l.componentType=s,l}}return this.createInterface(i,t)},e.prototype.createInterface=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n="");var i=new r.TSInterface(this.module?this.module:r.Universe,this.name+n);return this.processNode(e,i),this.generateHarEntry()&&t&&this.appendHarEntry(i),i.toReference()},e.prototype.appendHarEntry=function(e){var n,i=this.module.getInterface("HarEntry");i.isDefined()?n=i.getOrThrow().toReference():(this.name="HarEntry",n=this.createInterface(t.HAR_ENTRY_SCHEMA,!1));var a=new r.TSAPIElementDeclaration(e,"__$harEntry__");a.rangeType=n,a.optional=!0},e.prototype.replace=function(e){return e},e.prototype.createTypeDeclaration=function(e){var t=new r.TSStructuralTypeReference(e);return t.locked=!0,t},e.prototype.processNode=function(e,t){var n=this;for(var i in e.properties){var a=new r.TSAPIElementDeclaration(t,i),o=e.properties[i],s=o.type,u=o.required;if(u||(a.optional=!0),"array"==s){var l=new r.AnyType,c=[];o.items&&(c=o.items instanceof Array?o.items:c.concat(o.items)),c.filter(function(e){return e.type}).forEach(function(e){var t=e.type,i=null;if(n.isPrimitive(t))i=new r.TSSimpleTypeReference(a,t);else{var o=n.createTypeDeclaration(a);n.processNode(e,o),i=n.replace(o).toReference()}i.locked=!0,l=l.union(i)});var p=new r.TSArrayReference;p.componentType=l,a.rangeType=p}else if("object"===s){var d=null,m=this.createTypeDeclaration(a);this.processNode(o,m),d=this.replace(m).toReference(),a.rangeType=d}else s=this.cleanUpTypeDecl(s),a.rangeType=new r.TSSimpleTypeReference(a,s)}},e.prototype.cleanUpTypeDecl=function(e){return null==e&&(e="string"),e=e.toString(),-1!=e.indexOf(",")&&(e="string"),-1!=e.indexOf(" ")&&(e="string"),"integer"==e&&(e="number"),"null"==e&&(e="string"),"string"!=e&&"number"!=e&&"boolean"!=e&&"any[]"!=e&&(e="string"),e},e.prototype.isPrimitive=function(e){
return"string"===e||"number"===e},e}();t.JSONSchematToTS=i,t.HAR_ENTRY_SCHEMA={properties:{response:{type:"object",required:!0,properties:{content:{type:"object",required:!0,properties:{text:{type:"string",required:!0}}},status:{type:"number",required:!0}}},request:{type:"object",required:!0}}}},function(e,t,n){function r(e){var t=e.prefix,n=e.localPart,r=t+(t.length>0?":":"")+n;return r}function i(e,t){var n="";if("object"==typeof e){var r=!t;n+=r?'<?xml version="1.0" encoding="UTF-8"?>':"<"+t;var a=[],o=[];Object.keys(e).forEach(function(e){"@"==e.charAt(0)?a.push(e):o.push(e)});a.forEach(function(t){return n+=i(e[t],t)}),r||(n+=">"),o.forEach(function(t,a){if(0==a||!r){var o=e[t];Array.isArray(o)?o.forEach(function(e,a){0!=a&&r||(n+=i(e,t))}):n+=o instanceof Object?i(o,t):i(o,t)}}),r||(n+="</"+t+">")}else{var s=t&&"@"==t.charAt(0);n+=s?" "+t.substring(1)+'="':"<"+t+">",n+=e.toString(),n+=s?'"':"</"+t+">"}return n}function a(e){var t=l(e),n=new S("SomeType").getRootElements(t);return 0==n.length?m.empty():new m(n[0].name())}function o(e,t){var n=l(t),r=new S("SomeType").getRootElements(n);if(0==r.length)return m.empty();try{var i=y(e)}catch(a){return m.empty()}var o=Object.keys(i);if(0==o.length)return m.empty();var u=o[0],c={};return c[u]=s(i[u],r[0]),new m(c)}function s(e,t){var n=t.type().getOrThrow(),r=t.isArray(),i=r&&"array"==typeof e?e:[e],a=[];return i.forEach(function(e){if(n.isSimple()){var t=u(e,n);a.push(t)}else{a.push(e);var r=n.elements();r.forEach(function(t){var n=t.name(),r=e[n];r&&(e[n]=s(r,t))});var i=n.attributes();i.forEach(function(t){var n="@"+t.name(),r=e[n];if(r){var i=t.type().getOrThrow();e[n]=u(r,i)}})}}),r?a:a[0]}function u(e,t){var n=t.name(),r=e.toString();if("number"==n)try{return Number(r)}catch(i){}else if("boolean"==n){if("true"==r.toLowerCase())return!0;if("false"==r.toLowerCase())return!1}return r}function l(e){var t=n(118).XSD_1_0,r=new h.Jsonix.Context([t]),i=r.createUnmarshaller(),a=i.unmarshalString(e);return a}function c(e){var t=l(e);return new S("SomeType").getRootElements(t)}function p(e){return b[e]}var d=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},m=n(61),h=n(117),f=n(115),y=n(79),g=n(113),v="__any_type__",b={ENTITIES:"string",ENTITY:"string",ID:"string",IDREF:"string",IDREFS:"string",language:"string",Name:"string",NCName:"string",NMTOKEN:"string",NMTOKENS:"string",normalizedString:"string",QName:"string",string:"string",token:"string",date:"string",dateTime:"string",duration:"string",gDay:"string",gMonth:"string",gMonthDay:"string",gYear:"string",gYearMonth:"string",time:"string",anyURI:"string",base64Binary:"string",hexBinary:"string",NOTATION:"string","boolean":"boolean","double":"number","float":"number","byte":"number",decimal:"number","int":"number",integer:"number","long":"number",negativeInteger:"number",nonNegativeInteger:"number",nonPositiveInteger:"number",positiveInteger:"number","short":"number",unsignedLong:"number",unsignedInt:"number",unsignedShort:"number",unsignedByte:"number"},S=function(){function e(e,t,n){this.simpleTypes={},this.complexTypes={},this.elementGroups={},this.attributeGroups={},this.cfg=n,this.name=e.charAt(0).toUpperCase()+e.substr(1),this.name=this.name.replace("-",""),this.module=t}return e.prototype.parse=function(e,t){void 0===t&&(t=!1);var n=l(e);return this.createInterface(n,t)},e.prototype.createInterface=function(e,t){var n=this,r=new g.TSInterface(this.module?this.module:g.Universe,this.name),i=(new g.AnyType,this.getRootElements(e));return i.forEach(function(e){return n.processProperty(e,r,i.length>1)}),this.generateHarEntry()&&t&&new f.JSONSchematToTS("SomeType",this.module).appendHarEntry(r),r.toReference()},e.prototype.generateHarEntry=function(){return this.cfg?this.cfg.storeHarEntry:!1},e.prototype.getRootElements=function(e){var t=this,n=e.value,r=[];if(n){var i=n.group;i&&i.forEach(function(e){return t.elementGroups[e.name]=e});var a=n.attributeGroup;a&&a.forEach(function(e){return t.attributeGroups[e.name]=e});var o=n.simpleType;o&&o.forEach(function(e){return t.simpleTypes[e.name]=e});var s=n.complexType;s&&s.forEach(function(e){return t.complexTypes[e.name]=e});var u=n.element;u&&(r=u.map(function(e){return new M(t,e)}))}return r},e.prototype.processElement=function(e,t){for(var n=this,r=e.type();r.isDefined();){var i=r.getOrThrow(),a=i.elements();a.forEach(function(e){return n.processProperty(e,t)});var o=i.attributes();o.forEach(function(e){return n.processProperty(e,t)}),r=i.base()}},e.prototype.processProperty=function(e,t,n){void 0===n&&(n=!1);var r=e.isAttribute()?"@"+e.name():e.name(),i=new g.TSAPIElementDeclaration(t,r);i.optional=n||e.optional();var a,o=e.type().getOrThrow();if(o.isSimple()){var s=o.getBaseName(),u=b[s.substring(s.indexOf(":")+1)];if(!u)throw new Error("Unable to resolze XSD simple type: "+s);a=new g.TSSimpleTypeReference(i,u)}else{if(e.isAttribute())throw new Error("Attribute with complex type occured in "+this.name);if(o.name()&&v==o.name())a=new g.AnyType;else{var l=new g.TSStructuralTypeReference(i);this.processElement(e,l),a=l.toReference()}}if(e.isArray()){var c=new g.TSArrayReference;c.componentType=a,i.rangeType=c}else i.rangeType=a},e}();t.XMLSchematToTS=S;var w=function(){function e(e,t){var n=this;this.owner=e,this._object=t,this.name=function(){return n._object.name}}return e.prototype.type=function(){var e,t,n=!1;if(this._object.type){var i=this._object.type;e=r(i);var a=this.owner.simpleTypes[e];a&&(t=a,n=!0);var o=this.owner.complexTypes[e];o&&(t=o),(0==e.indexOf("xs:")||0==e.indexOf("xsd:"))&&"any"!=e.substring(e.indexOf(":")+1)&&(n=!0)}else this._object.complexType?t=this._object.complexType:this._object.simpleType&&(t=this._object.simpleType);var s=new T(this.owner,e,n,t);return new m(s)},e.prototype.optional=function(){throw new Error("This method is abstract.")},e.prototype.isArray=function(){throw new Error("This method is abstract.")},e.prototype.isAttribute=function(){return!1},e}();t.PropertyDescription=w;var P=function(e){function t(t,n){e.call(this,t,n)}return d(t,e),t.prototype.optional=function(){var e=this._object.otherAttributes;if(!e)return!1;var t=e.use;return t?"required"!=t:!1},t.prototype.isArray=function(){return!1},t.prototype.isAttribute=function(){return!0},t}(w);t.AttributeDescription=P;var M=function(e){function t(t,n){e.call(this,t,n)}return d(t,e),t.prototype.isArray=function(){var e=this._object.otherAttributes;if(!e)return!1;var t=e.maxOccurs;if(!t)return!1;if("unbounded"==t)return!0;try{var n=parseInt(t);return n>1}catch(r){}return!1},t.prototype.optional=function(){var e=this._object.otherAttributes;if(!e)return!0;var t=e.minOccurs;if(!t)return!0;try{var n=parseInt(t);return 0==n}catch(r){}return!0},t}(w);t.ElementDescription=M;var T=function(){function e(e,t,n,r){var i=this;this.owner=e,this._name=t,this._isSimple=n,this._object=r,this.name=function(){return i._name},this.isSimple=function(){return i._isSimple},this.object=function(){return i._object}}return e.prototype.isChoice=function(){return this.object&&(this.object.choice||this.object.complexContent&&this.object.complexContent.choice)},e.prototype.elements=function(){var e=this,t=[];if(this._object&&(t=this.collectElements(this._object),0==t.length)){var n=this.object.complexContent;n&&(t=this.collectElements(n))}var r=t.map(function(t){return new M(e.owner,t)});return r},e.prototype.attributes=function(){for(var e=this,t=[],n=[this._object],r=0;r<n.length;r++){var i=n[r];if(i){if(i.attributeGroup)for(var a=i.attributeGroup.filter(function(e){return e.otherAttributes}),o=0;o<a.length;o++){var s=a[o].otherAttributes.ref,u=this.owner.attributeGroups[s];n.push(u)}i.attribute&&i.attribute.forEach(function(n){return t.push(new P(e.owner,n))})}}return t},e.prototype.base=function(){if(!this._object)return m.empty();var t;if(this._object.restriction){var n=this._object.restriction;t=n.base}else if(this._object.complexContent){var i=this.object.complexContent,a=i.restriction||i.extension;a&&(t=a.base)}if(!t)return m.empty();var o,s=r(t),u=!1,l=this.owner.simpleTypes[s];l&&(o=l,u=!0);var c=this.owner.complexTypes[s];c&&(o=c),(0==s.indexOf("xs:")||0==s.indexOf("xsd:"))&&"any"!=s.substring(s.indexOf(":")+1)&&(u=!0);var p=new e(this.owner,s,u,o);return new m(p)},e.prototype.getBaseName=function(){for(var e=new m(this),t="";e.isDefined();){var n=e.getOrThrow();t=n.name(),e=n.base()}return t},e.prototype.collectElements=function(e){for(var t=[],n=[e.sequence,e.any,e.choice],r=0;r<n.length;r++){var i=n[r];if(i){if(i.group)for(var a=i.group.filter(function(e){return e.otherAttributes}),o=0;o<a.length;o++){var s=a[o].otherAttributes.ref,u=this.owner.elementGroups[s];u&&(u.sequence&&(n=n.concat(u.sequence)),u.any&&(n=n.concat(u.any)),u.choice&&(n=n.concat(u.choice)))}i.element&&(t=t.concat(i.element)),t=t.concat(this.collectElements(i))}}return t},e}();t.serializeToXML=i,t.rootElementName=a,t.parseClassInstance=o,t.rootElements=c,t.getTSType=p},function(e,t){e.exports=require("jsonix")},function(e,t){e.exports=require("w3c-schemas")},function(e,t,n){function r(e){return s.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function i(e,t){var n={};return p.Matching.visit(e,function(e){if(191==e.kind){var r=e,i=r.moduleReference.expression,a=i.text,o=m.resolve(m.dirname(t),a)+".ts";if(u.existsSync(o)){var s=u.readFileSync(o).toString(),l=s.indexOf(f),p=s.indexOf(y);if(-1!=l){var d=s.substring(l+f.length+2,p-3),h=c.wrap(JSON.parse(d).data);n[r.name.text]=h}}}}),n}function a(e,t){var n={},r={};for(var i in t)n[i]=p.Matching.memberFromExp(i+".createApi(*)");return p.Matching.visit(e,function(e){if(g.doMatch(e)){var i=e;for(var a in n)n[a].doMatch(i.initializer)&&(r[i.name.text]=t[a])}}),r}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(72),u=n(4),l=n(16),c=n(112),p=n(73),d=n(110),m=n(10),h=function(){function e(e,t,n,r){this._method=e,this._callPath=t,this._sourceFile=n,this.text=r,this._urlParametersDefined=[],this._methodParameterMappings=[],this._index=-1,this._owner=null}return e.prototype.start=function(){return this._callPath.start()},e.prototype.startLocation=function(){return this._sourceFile.getLineAndCharacterFromPosition(this.start())},e.prototype.endLocation=function(){return this._sourceFile.getLineAndCharacterFromPosition(this.end())},e.prototype.end=function(){return this._callPath.end()},e.prototype.getText=function(){return this.text},e.prototype.method=function(){return this._method},e.prototype.getParameters=function(){var e=[];return e=e.concat(this._urlParametersDefined),e=e.concat(this._methodParameterMappings),this._body&&e.push(this._body),e},e.prototype.setParameter=function(e,t,n){var r=this.getParameter(e);if(0==t.length&&e.required()&&(t="''"),r)if(0==t.length){var i=r.initializer.end-1,a=this.text.indexOf(",",i),o=this.text.indexOf("}",i);if(0==r.kind){var s=this.text.indexOf(")",i);a>s?i=s-1:-1!=a&&(i=a)}else-1!=a?(i=a,a>o&&(i=o-1)):i=o-1;var u=r.pos,l=this.text.substring(n,u).lastIndexOf(",");-1!=l&&(u=l+1+n),this.replace(u,i+1,"")}else this.replace(r.initializer.pos,r.initializer.end,t);else if(t.length>0)if(this._paramsLiteral){for(var c=this._paramsLiteral.pos+1,p=c,d="",m=this._sourceFile.getLineStarts()[this._sourceFile.getLineAndCharacterFromPosition(this._paramsLiteral.pos).line-1],h=m;h<this.text.length;h++){var f=this.text.charAt(h);if(" "!=f)break;d+=" "}d+="    ",this.replace(c,p,"\n"+d+e.name()+":"+t+",")}else{for(var c=this.end(),m=this._sourceFile.getLineStarts()[this._sourceFile.getLineAndCharacterFromPosition(this.end()).line-1],h=c;h>0;h--){var f=this.text.charAt(h);if(")"==f){c=h;break}}this.replace(c,c,"{"+e.name()+":"+t+"}")}return this.text},e.prototype.getLocationForPosition=function(e){return this._sourceFile.getLineAndCharacterFromPosition(e)},e.prototype.replace=function(e,t,n){var r=this;this.replaceHandler&&this.replaceHandler(e,t,n),this.text=this.text.substr(0,e)+n+this.text.substr(t),this._owner.rebuild(this.text);var i=this._owner.calls()[this._index];Object.keys(i).forEach(function(e){return r[e]=i[e]})},e.prototype.getParameterValueAsString=function(e){var t=this.getParameter(e);if(t){var n=t.getValueAsString();return n}return null},e.prototype.getParameterValueAsTypeScriptCode=function(e){var t=this.getParameter(e);if(t){var n=t.getValueAsTypeScriptCode();return n}return null},e.prototype.getParameter=function(e){var t=1;4==e.location()?t=2:3==e.location()&&(t=0);var n=l.find(this.getParameters(),function(t){return t.name==e.name().trim()});return n},e.prototype.getParameterLocation=function(e){return null},e.prototype.getBodyValueAsString=function(){return null},e.prototype.getBodyLocation=function(){return null},e.matchCallPath=function(e,t,n){void 0===n&&(n=new d.Config);var r=e.allResources().map(function(e){return e.segments()}),i=null;return r.forEach(function(e){if(!i){for(var r=0,a=0;a<e.length;a++){if(r>=t.path.length)return;if(d.escapedName(e[a].relativeUri())!=t.path[r].name)return;r++}var o=e[e.length-1];if(r==t.path.length){if(n.collapseOneMethod&&1==o.methods().length)return void(i=o.methods()[0]);if(n.collapseGet){var s=l.filter(o.methods(),function(e){return"get"==e.method()});if(1==s.length)return s[0]}}r==t.path.length-1&&o.methods().forEach(function(e){return e.method()==t.path[t.path.length-1].name?void(i=e):void 0})}}),i},e.buildFrom=function(t,n,r,i,a){void 0===a&&(a=new d.Config);var o=e.matchCallPath(t,n,a);return o?e.build(o,n,r,a,i):null},e.build=function(t,n,r,i,a){var o=new e(t,n,a,r);if(o.text=r,n.path)for(var s=0;s<n.path.length;s++){var u=n.path[s];if(s==n.path.length-1)null!=u.arguments&&(2==u.arguments.length?i.queryParametersSecond?(o._body=new S(u.arguments[0],r),e.initParams(o,u.arguments[1],r)):(o._body=new S(u.arguments[1],r),e.initParams(o,u.arguments[0],r)):t&&t.bodies().length>0&&u.arguments.length>0?o._body=new S(u.arguments[0],r):e.initParams(o,u.arguments[0],r));else if(null!=u.arguments&&t){var l=t.resource().segments()[s].uriParameters().filter(function(e){return d.emitParameter(i,e)});if(l.length!=u.arguments.length)throw new Error("Should match now!!!");for(var c=0;c<l.length;c++)o._urlParametersDefined.push(new w(l[c].name(),u.arguments[c],r))}}return o._method=t,o},e.initParams=function(t,n,r){if(n&&142==n.kind){var i=n;t._paramsLiteral=i,i.properties.forEach(function(n){var i=n;if(198==i.kind){var a=i,o=e.toStringName(i.name),s=a.initializer,u=1;0==o.indexOf("header_")&&(o=o.substring("header_".length),u=2),t._methodParameterMappings.push(new b(o,i.name.pos,s,u,r))}})}},e.toStringName=function(e){return e.text},e}();t.MappedHTTPCall=h;var f="APIENCODEDSTART",y="APIENCODEDEND";t.moduleNameToApi=i;var g=(p.Matching.assign(p.Matching.anyNode(),p.Matching.anyNode()),p.Matching.varDecl(p.Matching.anyNode(),p.Matching.anyNode()));t.apiToClientName=a;var v=function(){function e(e,t,n){void 0===t&&(t=new d.Config),void 0===n&&(n=null),this._cfg=t,this._currentContent=n,this._calls=[],this._path=e,this._text=u.readFileSync(e,"utf-8"),this._module=r(this._text);var o=i(this._module,e),s=a(this._module,o);this._apis=s,this.rebuild(n)}return e.prototype.text=function(){return this._text},e.prototype.path=function(){return this._path},e.prototype.apis=function(){return this._apis},e.prototype.calls=function(){return this._calls},e.prototype.rebuild=function(e){this._currentContent=e;var t=this._module;this._currentContent&&(this._text=this._currentContent,t=r(this._currentContent)),this.rebuildSourceFile(t)},e.prototype.rebuildSourceFile=function(e){var t=this,n=this._apis;this._calls=[];var r=0;for(var i in this._apis){var a=new p.Matching.CallBaseMatcher(p.Matching.ident(i));p.Matching.visit(e,function(o){var s=a.doMatch(o);if(s&&s.path.length>0){var u=h.buildFrom(n[i],s,t._text,e,t._cfg);return u?(u._index=r++,u._owner=t,t._calls.push(u)):console.log("Error - can not match:"+s.base+s.path.map(function(e){return e.name}).join(".")),p.Matching.SKIP}})}},e}();t.StaticCallsInfo=v,function(e){e[e.URL=0]="URL",e[e.QUERY=1]="QUERY",e[e.HEADER=2]="HEADER",e[e.BODY=3]="BODY",e[e.FORM=4]="FORM"}(t.MappingKind||(t.MappingKind={}));var b=(t.MappingKind,function(){function e(e,t,n,r,i){this.name=e,this.pos=t,this.initializer=n,this.kind=r,this.name=e,this.initializer=n,this.kind=r,this.text=i.substring(n.pos,n.end).trim()}return e.prototype.isStringLiteral=function(){return 7==this.initializer.kind},e.prototype.getValueAsString=function(){return this.isStringLiteral()?this.text.substring(1,this.text.length-1):this.text},e.prototype.getValueAsTypeScriptCode=function(){return this.text},e}()),S=function(e){function t(t,n){e.call(this,"_body",t.pos,t,3,n)}return o(t,e),t}(b),w=function(e){function t(t,n,r){e.call(this,t,n.pos,n,0,r)}return o(t,e),t}(b)},function(e,t,n){function r(e){return null}var i=n(16),a=n(121),o=n(4),s=n(10),u=function(){function e(){var e=this;this._failures=[],this.coveredResources=function(){return e._coveredResources},this.notCoveredResources=function(){return e._notCoveredResources},this.coveredMethods=function(){return e._coveredMethods},this.notCoveredMethods=function(){return e._notCoveredMethods}}return e.prototype.failures=function(){return this._failures},e.prototype.statuses=function(e){var t=this.steps(e);return i.unique(t.map(function(e){return e.response.status}))},e.prototype.apis=function(){return this._apis},e.prototype.findSteps=function(e,t){return this._execution.steps.filter(function(n){return n.lineNumber==e+1&&n.filePath==t})},e.prototype.stepsFromIds=function(e){return this._execution.steps.filter(function(t){return-1!=e.indexOf(t.id)})},e.prototype.steps=function(e){return this._execution.steps.filter(function(t){return t.methodId==e.id().value()})},e.prototype.allSteps=function(){return this._execution.steps},e.prototype.methodFromStep=function(e){var t=null;return this.apis().forEach(function(n){return n.allMethods().forEach(function(n){n.id().value()==e.methodId&&(t=n)})}),t},e.prototype.stepFailures=function(e){return this._failures.filter(function(t){return t.step.id==e.id})},e.prototype.methodFailures=function(e){return this._failures.filter(function(t){return t.step.methodId==e.id().value()})},e.prototype.vars=function(){return this._execution.variableLog},e.build=function(t,n){try{e.remapLines(t)}catch(r){}var i={};t.steps.forEach(function(e){var t=e.apiTitle,n=e.resourceId,r=e.methodId;console.log(e.methodId);var a=i[t];a||(a={},i[t]=a);var o=a[n];o||(o={},a[n]=o),o[r]=1});var a=[];t.steps.forEach(function(e){e.messages&&e.messages.forEach(function(t){0!=t.severity&&a.push({message:t,step:e})})});var o=[],s=[],u=[],l=[],c=0;n.filter(function(e){return null!=e&&void 0!=e}).forEach(function(e){return c+=e.allMethods().length}),n.filter(function(e){return null!=e&&void 0!=e}).forEach(function(e){return e.allResources().forEach(function(t){var n=i[e.title().value()];if(n){var r=n[t.id().value()];if(!r)return void l.push(t);var a=!0;t.methods().forEach(function(e){var t=r[e.id().value()];t?o.push(e):(a=!1,u.push(e))}),a?s.push(t):l.push(t)}})});var p=new e;return p._coveredMethods=o,p.procent=p.coveredMethods().length/c,p._coveredResources=s,p._notCoveredResources=l,p._failures=a,p._execution=t,p._apis=n,p},e.remapLines=function(e){var t={};e.steps.forEach(function(e){var n=t[e.filePath];if(!n){var r=e.filePath+".map",i=JSON.parse(o.readFileSync(r).toString());n=new a.SourceMapConsumer(i),t[e.filePath]=n}var u={line:e.lineNumber,column:e.columnNumber},l=n.originalPositionFor(u);if(l){e.lineNumber=l.line,e.columnNumber=l.column;var c=l.source.replace(".l.ts","");e.filePath=s.resolve(s.dirname(e.filePath),c)}})},e}();t.ReportObject=u,t.merge=r,function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(t.MessageSeverity||(t.MessageSeverity={}));t.MessageSeverity;!function(e){e[e.OK=0]="OK",e[e.VALIDATION_FAILURE=1]="VALIDATION_FAILURE",e[e.EXCEPTION=2]="EXCEPTION",e[e.OTHER=3]="OTHER"}(t.MessageCodes||(t.MessageCodes={}));t.MessageCodes},function(e,t){e.exports=require("source-map")},function(e,t,n){function r(){var e=new c;return e}var i=n(123),a=n(129),o=n(112),s=n(60),u=n(4),l=n(10),c=n(130).XMLHttpRequest,p="config.cfg",d="auth.cfg",m="generation.cfg",h=function(){function e(e,t,n){void 0===n&&(n=[]),this.authStorage=e,this.parent=t,this.rootPath=n}return e.prototype.getValue=function(e,t){var n=this.authStorage.readValue(this.rootPath.concat(e));return!n&&this.parent?this.parent.getValue(e,t):n},e.prototype.writeValue=function(e,t,n){this.authStorage.writeValue(this.rootPath.concat(e),t)},e.prototype.getSubProvider=function(t){return new e(this.authStorage,this,this.rootPath.concat(t))},e}(),f=function(){function e(e){this._dirname=e,this.reportManager=new i.ReportManager,this.cfgPrompt=new y(this.configPath()),this.authStorage=new g(this.authConfigPath()),this.apis={},this.securityParamsProvider=new h(this.authStorage),this.authManager=new a.AuthManager(this.securityParamsProvider)}return e.prototype.setPath=function(e){this._dirname=e,this.authStorage=new g(this.authConfigPath()),this.securityParamsProvider=new h(this.authStorage),this.authManager=new a.AuthManager(this.securityParamsProvider)},e.prototype.getSecurityProvider=function(){return this.securityParamsProvider},e.prototype.configPath=function(){return l.resolve(this._dirname,p)},e.prototype.authConfigPath=function(){return l.resolve(this._dirname,d)},e.prototype.configFileName=function(){return p},e.prototype.authConfigFileName=function(){return d},e.prototype.generationConfigFileName=function(){return m},e.prototype.execCfgPrompt=function(e){return this.cfgPrompt.prompt(e)},e.prototype.getReportManager=function(){return this.reportManager},e.prototype.getAuthManager=function(){return this.authManager},e.prototype.registerApi=function(e){var t=this.apiKey(e);this.apis[t]||(this.apis[t]=e,this.authManager.registerApi(e))},e.prototype.apiKey=function(e){if(e instanceof o.Api){var t=e;return t.title().getOrElse("title")+" "+t.version().getOrElse("version")}var n=e;return n.title()+" "+n.version()},e.prototype.finalize=function(){this.reportManager.finalize()},e}(),y=function(){function e(e){this.configFilePath=e}return e.prototype.findValue=function(e,t){var n=t.indexOf(e);if(-1==n)throw new Error("Configuration value "+e+" not found");t=t.substr(n+e.length);var r=t.indexOf("=");t=t.substr(r+1);var i=t.indexOf("\n");return-1!=i&&(t=t.substr(0,i)),t.trim()},e.prototype.prompt=function(e){if(u.existsSync(this.configFilePath)){var t=u.readFileSync(this.configFilePath).toString();return this.findValue(e,t)}var n=r(),i="http://localhost:4343/"+e;return n.open("GET",i,!1),n.send(),n.responseText},e}(),g=function(){function e(e){this.obj={},this.filePath=e}return e.prototype.readValue=function(e){if(this.update(),!this.obj)return null;for(var t=this.obj,n=0;n<e.length;n++)if(t=t[e[n]],!t)return null;return t},e.prototype.writeValue=function(e,t){for(var n=this.obj,r=0;r<e.length-1;r++){var i=e[r];n[i]||(n[i]={}),n=n[i]}n[e[e.length-1]]=t},e.prototype.update=function(){if(u.existsSync(this.filePath)){var e=u.readFileSync(this.filePath).toString(),t=JSON.parse(e);s.updateObject(t,this.obj,!0)}},e}(),v=new f(__dirname);process.on("exit",function(){v.finalize()}),e.exports=v},function(e,t,n){var r=n(120),i=n(124),a=n(125),o=n(60),s=n(10),u=n(4),l="executionLog.json",c="-logDir",p="-resetLog",d=function(){function e(){this.blocked=!1,this.hasBeenUsed=!1,this.startedWriting=!1,this.reset=!1,this.logPathArgName=function(){return c},this.resetLogArgName=function(){return p},this.logDefaultFileNmae=function(){return l};for(var e=process.argv,t=0;t<e.length;t++)e[t]==c&&t<e.length-1?this.logPath=e[t+1]:e[t]==p&&(this.reset=!0);this.logPath||(this.logPath=s.resolve(process.cwd(),l))}return e.prototype.setLogPath=function(e){this.logPath=u.lstatSync(e)&&u.lstatSync(e).isDirectory()?s.resolve(e,l):e,this.startedWriting=!1},e.prototype.serializeStep=function(e){for(this.hasBeenUsed=!0;this.blocked;);this.blocked=!0;try{var t=",\n"+JSON.stringify(e);if(this.startedWriting)u.appendFileSync(this.logPath,t,"utf8");else{var n=u.existsSync(this.logPath);if(!n||this.reset)u.writeFileSync(this.logPath,"["+t.substring(1),"utf8");else{var r=u.readFileSync(this.logPath).toString().trim();o.stringEndsWith(r,"]")&&u.writeFileSync(this.logPath,r.substring(0,r.length-1)+t)}this.startedWriting=!0}}catch(i){console.log(i)}finally{this.blocked=!1}},e.prototype.finalize=function(){if(this.hasBeenUsed)try{u.appendFileSync(this.logPath,"\n]","utf8")}catch(e){console.log(e)}},e.prototype.readReport=function(e){var t=u.readFileSync(e).toString().trim();t.indexOf("]",t.length-1)<0&&(t+="]");var n=JSON.parse(t);return n},e.prototype.getReportObject=function(e,t){var n=(new a.BackReport).buildReport(t),r=[];for(var i in n.apis){var o=n.apis[i];r.push(o)}return this.getReportObjectForApis(e,r)},e.prototype.getLatestReportFor=function(e){var t=s.dirname(e)+"/executionLog.json";if(!u.existsSync(e)||!u.existsSync(t))return null;var n=this.getReportObject(t,e);return n},e.prototype.getReportObjectForApis=function(e,t){var n=this.readReport(e),a=new i.ExecutionReport(n,(new Date).toDateString()),o=r.ReportObject.build(a,t);return o},e}();t.ReportManager=d},function(e,t){var n=function(){function e(e,t,n){var r=this;this.date=t,this.environment=n,this.steps=[],this.variableLog=[],e.forEach(function(e){e.varName?r.variableLog.push(e):r.steps.push(e)})}return e}();t.ExecutionReport=n;var r=function(){function e(){this.id=""+(new Date).getTime(),this.messages=[]}return e.prototype.appendMessage=function(e){this.messages.push(e)},e}();t.Step=r;var i=function(){function e(e,t,n,r){this.code=e,this.severity=t,this.message=n,this.extras=r}return e}();t.Message=i},function(e,t,n){var r=n(112),i=n(126),a=n(4),o=n(10),s="APIENCODEDSTART",u="APIENCODEDEND",l=function(){function e(){}return e.prototype.buildReport=function(e,t){void 0===t&&(t=this.extractConfig(e));var n=a.readFileSync(e).toString(),i=o.dirname(e),l={},c={};return n.split("\n").forEach(function(e){var t=e.indexOf("import");if(-1!=t){e=e.substr(t+"import ".length).trim();var n=e.substr(0,e.indexOf("=")).trim(),p=e.substr(e.indexOf('"')+1);p=p.substr(0,p.lastIndexOf('"'));var d=o.resolve(i,p+".ts");if(a.existsSync(d))try{var m=a.readFileSync(d).toString(),h=m.indexOf(s),f=m.indexOf(u);if(-1!=h){var y=m.substring(h+s.length+2,f-3),g=r.wrap(JSON.parse(y).data);l[n]=g}}catch(v){console.log(v)}}var t=e.indexOf("createApi");if(-1!=t){var n=e.substr(0,e.indexOf("=")).trim();n=n.substr(e.indexOf("var ")+4).trim();var p=e.substring(e.indexOf("=")+1,e.indexOf(".")).trim();c[n]=l[p],l[p]||console.log("Error: not able to load api:"+n+":"+p)}}),{apis:c,calls:this.buildOccurenceReport(n,c,t)}},e.prototype.buildOccurenceReport=function(e,t,n){for(var r=[],i=this.buildPatterns(t,n),a=this.cleanContent(e),o=0;o<a.length;o++){var s=a[o];if(0!=s.trim().length)for(var u in t)for(var l=s,c=i[u];l.length>0;){var p=l.indexOf(u+".");if(-1==p)break;l=l.substring(p+(u+".").length);for(var d in c)0==("client."+l).indexOf(d)&&(r.push({method:c[d],lineNumber:o+1}),l=l.substr(d.length));l=l.substr(1)}}return r},e.prototype.extractConfig=function(e){try{var t=o.dirname(e),n=a.readFileSync(e).toString(),r=n.replace(new RegExp("s","g"),""),i=r.indexOf('require("./api'),i=r.indexOf('"',i)+1,s=r.indexOf('"',i+1),u=r.substring(i,s)+".ts",l=o.resolve(t,u),c=a.readFileSync(l).toString(),p=c.indexOf("CONFIGENCODEDSTART");p=c.indexOf("{",p);var d=c.indexOf("CONFIGENCODEDEND",p);d=c.lastIndexOf("}",d)+1;var m=c.substring(p,d),h=JSON.parse(m);return h}catch(f){return null}},e.prototype.cleanContent=function(e){var t=[],n=!1,r="";try{for(var i=0;i<e.length;i++){var a=e.charAt(i);"("==a?n=!0:")"==a?n=!1:("\n"==a&&(t.push(r),r=""),n||(r+=a))}}catch(o){console.log(o)}return t.push(r),t},e.prototype.buildPatterns=function(e,t){var n={};for(var r in e){var a=e[r];if(a){var o=a.allMethods(),s={};n[r]=s,o.forEach(function(e){try{var n=i.HTTPCallOccurence.getPattern(r,e,t);s[n]=e}catch(a){console.log(a.stack)}})}}return n},e}();t.BackReport=l},function(e,t,n){var r=n(50),i=(n(112),n(127)),a=n(110),o=n(128),s=n(61),u=function(){function e(e,t,n){this.name=e,this.value=t,this.location=n}return e.build=function(t,n,r){return new e(t,i.literal(""+n),r)},e.buildNumber=function(t,n,r){return new e(t,i.literal(""+n),r)},e.buildBoolean=function(t,n,r){return new e(t,i.literal(""+n),r)},e}();t.ParameterWithValue=u;var l=function(){function e(e,t,n,r,i,a){this.name=e,this.uriParameters=r,this.api=t.api(),this.method=t,this.segments=n,this.bodyParameter=i,this.otherParams=a}return e.prototype.toString=function(){return this.method.id()},e.build=function(t,n,r,i,a){var o=n.resource(),s=o.segments();return new e(t,n,s,r,i,a)},e.getPattern=function(t,n,r){var i=e.buildFrom(t,n,[],"body").toPatternString(r);return i},e.buildFrom=function(t,n,a,o){var s=a.filter(function(e){return 2==e.location}),l=n.resource().completeRelativeUri().split("/"),c=[];l.forEach(function(t){if(0!=t.length){var n=e.getUriParamNames(t),r=[];n.forEach(function(t){var n=e.findName(t,s);r.push(n.getOrElse(new u(t,i.literal(""),2)).value)}),c.push(r)}});var p=i.object(),d=a.filter(function(e){return 0==e.location});this.pushParams(d,p,"");var m=a.filter(function(e){return 4==e.location});this.pushParams(m,p,"header_");var h=a.filter(function(e){return 1==e.location});return this.pushParams(h,p,"form_"),o=r.parse(JSON.stringify(o)),e.build(t,n,c,o,p)},e.pushParams=function(e,t,n){e.forEach(function(e){return t.properties.push(i.property(n+e.name,e.value))})},e.findName=function(e,t){var n=s.empty();return t.filter(function(t){return t.name==e}).forEach(function(e){return n=new s(e)}),n},e.getUriParamNames=function(e){for(var t=[],n=null,r=0;r<e.length;r++){var i=e.charAt(r);"{"!=i?"}"!=i||null==n?null!=n&&(n+=i):(t.push(n),n=null):n=""}return t},e.prototype.isCollapsed=function(e){return"get"==this.method.method()?e.collapseGet:1==this.method.resource().methods().length?e.collapseOneMethod:!1},e.prototype.toSnippet=function(e){var t=this.toCall(e);return o.generate(t)},e.prototype.toPatternString=function(e){var t=this.toPattern(e);return o.generate(t)},e.prototype.toCall=function(e){try{var t=this.otherParams,n=this.bodyParameter,r=[],a=null!=n&&this.method.bodies().length>0,o=t.properties.length>0;o&&a&&e.queryParametersSecond?(r.push(n),r.push(t)):(o&&r.push(t),a&&r.push(n));var s=this.method.resource().completeRelativeUri(),u=i.call(this.baseCall(s,e),r);return u}catch(l){console.log(l.stack)}},e.prototype.toPattern=function(e){try{var t=this.method.resource().completeRelativeUri(),n=this.baseCall(t,e,!0);return n}catch(r){console.log(r.stack)}},e.prototype.baseCall=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=(e.split("/"),i.ident(this.name)),s=0;return this.segments.forEach(function(e){if(""!=e.relativeUri()){var u=a.escapedName(e.relativeUri());o=i.member(o,u);var l=e.uriParameters();if(t.collapseMediaTypes&&(l=l.filter(function(e){return a.emitParameter(t,e)})),l.length>0&&!n){var c=r.uriParameters[s];if(null!=c)o=i.call(o,c);else{c=[];for(var p=0;p<l.length;p++)c.push(i.literal(""));o=i.call(o,c)}}}s++}),this.isCollapsed(t)||(o=i.member(o,this.method.method())),o},e.prototype.getMethod=function(){return this.method},e}();t.HTTPCallOccurence=l},function(e,t){var n;!function(e){function t(e,t){var n={declarations:[{id:e,init:t,type:"VariableDeclarator"}],kind:"var",type:"VariableDeclaration"};return n}function n(e){var t={body:e,type:"BlockStatement"};return t}function r(e){var t={name:e,type:"Identifier"};return t}function i(e,t,n){var r={left:e,right:t,operator:n,type:"AssignmentExpression"};return r}function a(e){var t={value:e,type:"Literal"};return t}function o(e,t){var n={operator:e,prefix:!0,argument:t,type:"UnaryExpression"};return n}function s(e){var t={value:e,type:"Literal"};return t}function u(e,t){var n={
object:e,computed:!1,property:r(t),type:"MemberExpression"};return n}function l(e,t){var n={object:e,computed:!1,property:t,type:"MemberExpression"};return n}function c(e,t){var n={key:r(e),computed:!1,value:t,kind:"init",type:"Property"};return n}function p(e,t){if("Identifier"==t.key.type){var n={key:r(e+t.key.name),computed:!1,value:t.value,kind:"init",type:"Property"};return n}var n={key:a(e+t.key.value),computed:!1,value:t.value,kind:"init",type:"Property"};return n}function d(){var e={properties:[],type:"ObjectExpression"};return e}function m(e,t){var n={callee:e,arguments:t,type:"CallExpression"};return n}function h(e){var t={expression:e,type:"ExpressionStatement"};return t}e.varDecl=t,e.block=n,e.ident=r,e.assignExpr=i,e.literal=a,e.unary=o,e.number=s,e.member=u,e.memberExp=l,e.property=c,e.remapProperty=p,e.object=d,e.call=m,e.exprStmt=h}(n||(n={})),e.exports=n},function(e,t){e.exports=require("escodegen")},function(e,t,n){function r(e){if(e instanceof o.Api){var t=e;return t.version().getOrElse("V")}var n=e;return n.version()}function i(e){if(e instanceof o.Api){var t=e;return t.title().getOrElse("T0")}var n=e;return n.title()}function a(e){return e instanceof o.Method?e.api():s.ownerApi(e)}var o=n(112),s=n(92),u=n(60);t.SCHEMA_TYPE_OAUTH2="OAuth 2.0",t.SCHEMA_TYPE_OAUTH1="OAuth 1.0",t.SCHEMA_TYPE_DIGEST="Digest Authentication",t.SCHEMA_TYPE_BASIC="Basic Authentication";var l=function(){function e(e){this.paramsProvider=e,this.apiMap={}}return e.prototype.patchRequest=function(e,t){var n=a(t),r=i(n),o=this.apiMap[r];o.patchRequest(e,t)},e.prototype.registerApi=function(e){var t=i(e),n=this.apiMap[t];n||(n=new p(t,this.paramsProvider.getSubProvider(t)),this.apiMap[t]=n),n.registerApiVersion(e)},e.prototype.registerSchemes=function(e,t){var n=i(e),r=this.apiMap[n];r&&r.registerSchemes(e,t)},e.prototype.store=function(e,t){var n=this;if(e){var r=this.apiMap[e];r&&r.store(t)}else Object.keys(this.apiMap).forEach(function(e){return n.apiMap[e].store()})},e.prototype.updateSchema=function(e,t,n){var r=this.apiMap[i(e)];r&&r.updateSchema(e,t,n)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.apiMap).forEach(function(n){return t=t&&e.apiMap[n].isReady()}),t},e}();t.AuthManager=l;var c=function(){function e(e,t){this.ramlSchema=e,this.provider=t,this.headers=[],this.queryParams=[],this.options={},this.init()}return e.prototype.setSecurityProvider=function(e){this.provider=e},e.prototype.name=function(){return this.ramlSchema.name()},e.prototype.init=function(){var e=this;this.schemaType=this.ramlSchema instanceof o.SecuritySchemaDef?this.ramlSchema.type().type().getOrThrow():this.ramlSchema.type();var n=[],r=[],i=this.ramlSchema instanceof o.SecuritySchemaDef?this.ramlSchema.type():this.ramlSchema.describedBy();if(i&&(n=i.headers(),r=i.queryParameters()),this.schemaType==t.SCHEMA_TYPE_OAUTH2){this.getOption("clientId"),this.getOption("clientSecret");var a=this.getOption("accessToken");a&&(n.filter(function(e){return"Authorization"==e.name()}).length>0&&(this.headers=[{name:"Authorization",value:"Bearer "+a}]),r.forEach(function(t){t.name().toLowerCase().indexOf("token")>=0&&e.queryParams.push({name:t.name(),value:a})}))}else if(this.schemaType==t.SCHEMA_TYPE_OAUTH1);else if(this.schemaType==t.SCHEMA_TYPE_DIGEST);else if(this.schemaType==t.SCHEMA_TYPE_BASIC){var s=this.getOption("username"),u=this.getOption("password");if(s&&u){var l="Basic "+new Buffer(s+":"+u).toString("base64");this.headers=[{name:"Authorization",value:l}]}}else 0==this.schemaType.indexOf("x-")&&(n.forEach(function(t){return e.headers.push({name:t.name(),value:e.provider.getValue(t.name(),4)})}),r.forEach(function(t){e.queryParams.push({name:t.name(),value:e.provider.getValue(t.name(),0)})}))},e.prototype.store=function(){var e=this;this.schemaType==t.SCHEMA_TYPE_OAUTH2?(this.saveOption("clientId"),this.saveOption("clientSecret"),this.saveOption("accessToken")):this.schemaType==t.SCHEMA_TYPE_OAUTH1||this.schemaType==t.SCHEMA_TYPE_DIGEST||(this.schemaType==t.SCHEMA_TYPE_BASIC?(this.saveOption("username"),this.saveOption("password")):0==this.schemaType.indexOf("x-")&&(this.queryParams.forEach(function(t){return e.provider.writeValue(t.name,t.value,0)}),this.headers.forEach(function(t){return e.provider.writeValue(t.name,t.value,4)})))},e.prototype.getOption=function(e){var t=this.provider.getValue(e);return t&&(this.options[e]=t),t},e.prototype.saveOption=function(e){var t=this.options[e];t&&this.provider.writeValue(e,t)},e.prototype.apply=function(e){if(this.init(),0==this.headers.length&&0==this.queryParams.length)return!1;var t=!0;return 0!=this.headers.length&&(e.headers=e.headers?e.headers:[],t=t&&this.applyParams(this.headers,e.headers)),0!=this.queryParams.length&&(e.queryString=e.queryString?e.queryString:[],t=t&&this.applyParams(this.queryParams,e.queryString)),t},e.prototype.applyParams=function(e,t){var n=!0;return e.forEach(function(e){var r=t.filter(function(t){return t.name==e.name});if(r&&0!=r.length){var i=r.filter(function(e){return void 0==e.value||null==e.value?!1:0==e.toString().trim().length?!1:!0});n=n&&(void 0!=e.value||i.length>0)}else n=n&&void 0!=e.value}),n&&e.forEach(function(e){var n=t.filter(function(t){return t.name==e.name});n&&0!=n.length?n.forEach(function(t){(void 0==t.value||null==t.value||0==t.value.toString().trim().length)&&(t.value=e.value)}):t.push(e)}),n},e.prototype.update=function(e){this.schemaType==t.SCHEMA_TYPE_OAUTH2?e&&(e.options&&(this.options.clientId=e.options.clientId,this.options.clientSecret=e.options.clientSecret),e.user&&(this.options.accessToken=e.user.accessToken)):this.schemaType==t.SCHEMA_TYPE_BASIC,this.store(),this.init()},e.prototype.isReady=function(){var e=!0;return this.schemaType==t.SCHEMA_TYPE_OAUTH2?e=e&&u.isEssential(this.options.accessToken):this.schemaType==t.SCHEMA_TYPE_OAUTH1||this.schemaType==t.SCHEMA_TYPE_DIGEST||(this.schemaType==t.SCHEMA_TYPE_BASIC?e=u.isEssential(this.options.username)&&u.isEssential(this.options.password):0==this.schemaType.indexOf("x-")&&(this.queryParams.forEach(function(t){return e=e&&u.isEssential(t.value)}),this.headers.forEach(function(t){return e=e&&u.isEssential(t.value)}))),e},e}(),p=(function(){function e(){}return e}(),function(){function e(e,t){this._title=e,this.paramsProvider=t,this.versionsMap={}}return e.prototype.title=function(){return this._title},e.prototype.registerApiVersion=function(e){var t=r(e);this.versionsMap[t]=new d(e,this.paramsProvider.getSubProvider(t))},e.prototype.patchRequest=function(e,t){var n=a(t),i=r(n),o=this.versionsMap[i];o.patchRequest(e,t)},e.prototype.registerSchemes=function(e,t){var n=r(e),i=this.versionsMap[n];i&&i.registerSchemes(t)},e.prototype.store=function(e){var t=this;if(e){var n=this.versionsMap[e];n&&n.store()}else Object.keys(this.versionsMap).forEach(function(e){return t.versionsMap[e].store()})},e.prototype.updateSchema=function(e,t,n){var i=this.versionsMap[r(e)];i&&i.updateSchema(t,n)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.versionsMap).forEach(function(n){return t=t&&e.versionsMap[n].isReady()}),t},e}()),d=function(){function e(e,t){this.api=e,this.paramsProvider=t,this.methodToSchemaMap={},this.schemaMap={},this.init()}return e.prototype.patchRequest=function(e,t){var n=t instanceof o.Method?t.id().value():s.methodId(t),r=this.methodToSchemaMap[n];if(r)for(var i=0,a=!1;!a&&i<r.length;i++)a=this.schemaMap[r[i]].apply(e)},e.prototype.registerSchemes=function(e){var t=this;e.forEach(function(e){t.schemaMap[e.name()]=e,e.setSecurityProvider(t.paramsProvider.getSubProvider(e.name()))})},e.prototype.init=function(){var e=this,t=this.api instanceof o.Api?this.api.securitySchemas():this.api.securitySchemes();t.forEach(function(t){return e.schemaMap[t.name()]=new c(t,e.paramsProvider.getSubProvider(t.name()))});var n=this.api.resources();n.forEach(function(t){return e.inspectResource(t)})},e.prototype.inspectResource=function(e){var t=this,n=this.api instanceof o.Api?this.api.securedBy().filter(function(e){return e.isDefined()}).map(function(e){return e.getOrThrow()}):this.api.securedBy().map(function(e){return e.value()}),r=e.methods();r.forEach(function(e){var r=e instanceof o.Method?e.id().value():s.methodId(e),i=e instanceof o.Method?e.securedBy().filter(function(e){return e.isDefined()}).map(function(e){return e.getOrThrow()}):e.securedBy().map(function(e){return e.value().valueName()});t.registerSchemasForMethod(i,r),t.methodToSchemaMap[r]||t.registerSchemasForMethod(n,r)});var i=e.resources();i.forEach(function(e){return t.inspectResource(e)})},e.prototype.registerSchemasForMethod=function(e,t){var n=this;e.forEach(function(e){var r=n.schemaMap[e];if(r){var i=n.methodToSchemaMap[t];i||(i=[],n.methodToSchemaMap[t]=i),i.push(e)}})},e.prototype.store=function(){var e=this;Object.keys(this.schemaMap).forEach(function(t){return e.schemaMap[t].store()})},e.prototype.updateSchema=function(e,t){var n=this.schemaMap[e];n&&n.update(t)},e.prototype.isReady=function(){var e=this,t=!0;return Object.keys(this.schemaMap).forEach(function(n){return t=t&&e.schemaMap[n].isReady()}),t},e}()},function(e,t){e.exports=require("xmlhttprequest")},function(e,t,n){function r(e){var t=e.definitions().map(function(e){return e.description().getOrElse(new g.MarkdownString("")).value()}).join(","),n=1,r=null,i="",a=R.unique(e.definitions()[0]["enum"]().getOrElse([]).map(function(e){return e=null==e?"":e,e.toString()}));if(1==e.definitions().length){r=e.definitions()[0]["default"]().getOrElse(null),i=""+e.definitions()[0].example().getOrElse("");var o=e.definitions()[0].type();"boolean"==o.toString()&&(n=0),"number"==o&&(n=2),"integer"==o&&(n=3),a.length>0&&(n=4)}return{caption:e.name(),description:t,type:n,example:i,defaultValue:r,required:e.required(),realm:a}}function i(e){return L.createSourceFile("sample.ts",e,0,"1.4.1",!0)}function a(e){if(e){"boolean"==typeof e&&(e="true");var t=i(e),n=I.errorStatus("Field "+this+"should be expression");if(1!=t.statements.length)return n;if(166!=t.statements[0].kind)return n;if(t.parseDiagnostics.length>0)return n}return I.okStatus()}function o(e,t){return null==t&&(t=""),""!=t||e.required?1==e.type||4==e.type?JSON.stringify(t):t:""}function s(e,t,n){void 0===n&&(n=function(e){return e});var r=I.createSmallTypeScriptEditor(e.caption,t,n).getActualField();r.getBinding().addValidator(a.bind(e.caption)),e.required&&r.getBinding().addValidator(function(t){return null==t||0==t.length?I.errorStatus(e.caption+" is required"):I.okStatus()});var s=I.createInputField(e,t,n).getActualField(),u=new I.DialogFieldWithModes(e.caption,t,n,{firstOption:s,secondOption:r,valueComesAsSecond:!0,secondOptionLabel:"<val>",firstOptionLabel:"<exp>",secondToFirstConverter:function(e){if(null!=e&&e.length>0){var t=e.charAt(0);('"'==t||"'"==t||"`"==t)&&(e=e.substring(1,e.length-1))}return e},firstToSecondConverter:o.bind(null,e),firstToOutConverter:o.bind(null,e),firstValidator:function(e){if(!e)return I.okStatus();var t=i(e);if(1!=t.statements.length)return I.errorStatus("Expression expected");if(166!=t.statements[0].kind)return I.errorStatus("Expression expected");var n=t.statements[0].expression.kind;return 7==n||6==n||93==n||78==n?I.okStatus():I.errorStatus("Should be a literal")},secondValidator:function(e){return I.okStatus()}});return u}function u(e){return e.description().getOrElse(new g.MarkdownString("")).value()}function l(e,t){for(var n="";;){var r=C.dirname(e),i=null;if(A.readdirSync(r).forEach(function(e){if(".raml"==C.extname(e)){i=e;var a=A.readFileSync(C.resolve(r,i)).toString();-1!=a.indexOf(t)&&(n=C.resolve(r,i))}}),e=r,!e||e.length<2)return n}return n}function c(e){var t=G.getPath();return p(e,t)}function p(e,t){var n=l(t,e);if(n)return n;for(var r=C.dirname(t),i=A.readdirSync(r),a=0;a<i.length;a++){var o=r+"/"+i[a],s=A.statSync(o);if(s.isDirectory())for(var u=A.readdirSync(o),c=0;c<u.length;c++)if(".raml"==C.extname(u[c])){var p=A.readFileSync(o+"/"+u[c]).toString();if(-1!=p.indexOf(e))return o+"/"+u[c]}}return null}function d(e,t){return void m(e,t)}function m(e,t){var n=G.getCurrentEditor().getBuffer().getText(),r=G.currentReport.calls(),i=(R.indexOf(r,e),n.lastIndexOf("createApi()")),a="";G.executionResults.vars().forEach(function(t){t.lineNumber<=e.startLocation().line-1&&(console.log(t.lineNumber+":"+e.startLocation().line),a+="var "+t.varName+"="+JSON.stringify(t.value)+";\n")});var o=n.substring(0,i)+"createApi()\n"+a+n.substring(e.start(),e.end()),s=C.resolve(C.dirname(G.getPath()),"snippet.ts");console.log(o),A.writeFileSync(s,o),P.doCompile(s,!1);var u=s.substring(0,s.lastIndexOf(".")),l=u+".js",c=u+".js.map",p=w.launchNotebook(l,C.dirname(G.getPath())+"/snippetReport.json",!1);console.log(p);try{var d=p;k.workspace.getActivePane().addItem(new N.ReportView({protocol:null,filePath:null,reportObject:d}),0),k.workspace.getActivePane().activateItemAtIndex(0)}catch(m){console.log(m)}try{A.unlinkSync(l),A.unlinkSync(s),A.unlinkSync(c)}catch(m){}}function h(){null==G&&(G=new H),this.follow=!0}function f(){console.log("going to Updating views"),G&&(console.log("Updating views"),G.updateReport(),G.updatePosition())}var y=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},g=n(112),v=n(110),b=n(119),S=n(127),w=n(132),P=n(133),M=n(122),T=n(126),E=n(7),A=n(4),C=n(10),N=n(109),I=n(143),_=n(144),x=n(148),R=(n(168),n(16)),O=n(170),L=n(72),k=n(153);t.toFieldSpec=r,t.createFieldWithExpressions=s;var D=function(){function e(e,t,n){this.name=e,this.val=t,this.line=n}return e.prototype.children=function(){var t=this;return this.val?"string"==typeof this.val?[]:"number"==typeof this.val?[]:"boolean"==typeof this.val?[]:Object.keys(this.val).map(function(n){return new e(n,t.val[n],t.line)}):[]},e}(),U=function(){function e(){this.vnames={}}return e.prototype.add=function(e,t,n){this.vnames[e]=new D(e,t,n)},e.prototype.children=function(){var e=this;return Object.keys(this.vnames).map(function(t){return e.vnames[t]})},e}(),F=function(){function e(){}return e.prototype.render=function(e){return _.hc(_.a(e.name+":",function(t){G.open(e.line)},167),this.summary(e.val))},e.prototype.summary=function(e){var t=2;"string"==typeof e&&(t=7),"number"==typeof e&&(t=5),"boolean"==typeof e&&(t=3);var n="";return e?(Array.isArray(e)?(n="array(length: "+e.length+")",t=6):n="Object"==typeof n?"object:"+JSON.stringify(e):JSON.stringify(e),n.length>60&&(n=n.substr(0,60)+" ...")):void 0==e&&(n="undefined"),_.label(" "+n,null,t).pad(5,0)},e}(),j=function(e){function t(){e.call(this),this.isAttached=!1,this._ignoreNextUpdate=0}return y(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.load=function(){var e=_.section("RAML Script Pallete"),t=_.section("API Pallete");t.addChild(O.apiView(function(){return C.dirname(G.getPath())},function(e){var t=G.getCurrentEditor();t.getCursorBufferPosition();return t.insertText(e),e}));var n=_.section("Current Call");this.methodViewer=new I.BasicViewer(new B(this)),this.reportViewer=new I.BasicViewer(new V(this));var r=new I.TabFolder;n.addChild(this.methodViewer),e.addChild(this.reportViewer),r.add("Palette",165,e),r.add("Variable",22,this.variableView()),r.add("Current Call",16,n),r.add("Api Palete",18,t);var i=_.hc();r.add("",204,i),r.setOnSelected(function(){r.selectedComponent()==i&&(G.currentPane.destroy(),G.active=!1,G.follow=!1)});var a=_.vc(r);this.html(a.renderUI())},t.prototype.setCall=function(e){if(this.call!=e){if(this.patchInfo(e),this._ignoreNextUpdate)return void this._ignoreNextUpdate--;this.call=e,this.methodViewer.setInput(e)}},t.prototype.setPosition=function(e,t){e-=1;var n=new U;null!=G&&G.executionResults&&G.executionResults.vars().forEach(function(t){t.lineNumber>e||n.add(t.varName,t.value,t.lineNumber)}),this.vars.setInput(n)},t.prototype.variableView=function(){var e=new F,t=_.treeViewerSection("Variables",154,new U,function(e){return e.children()},e);return t.setStyle("width","500px"),this.vars=t.viewer,t},t.prototype.patchInfo=function(e){var t=this;e.replaceHandler=function(n,r,i){t._ignoreNextUpdate=2;var a=e.getLocationForPosition(n),o=e.getLocationForPosition(r);G.getCurrentEditor().getBuffer().setTextInRange({start:{row:a.line-1,column:a.character-1},end:{row:o.line-1,column:o.character-1}},i)}},t.prototype.setReport=function(e,t){void 0===t&&(t=null),this.report!=e&&(this.report=e,this.executionLog=t,this.reportViewer.setInput(e))},t.prototype.insert=function(e){var t=this,n=G.getCurrentEditor(),r=(n.getCursorBufferPosition(),[]);e.resource().uriParameters().forEach(function(e){t.uppendParameter(e,r)}),e.queryParameters().forEach(function(e){t.uppendParameter(e,r)});for(var i in this.report.apis())if(this.report.apis()[i]==e.api()){var a=T.HTTPCallOccurence.buildFrom(i,e,r,null),o=a.toSnippet(new v.Config);n.insertText(o)}},t.prototype.uppendParameter=function(e,t){var n=r(e),i=null;n.defaultValue&&n.defaultValue.length>0?i=n.defaultValue:n.example&&n.example.length>0&&(i=n.example),i&&(isNaN(i)||(i=Number(i)),"false"==i&&(i=!1),"true"==i&&(i=!0),t.push(new T.ParameterWithValue(e.name(),S.literal(i),e.location())))},t}(E.ScrollView),V=function(){function e(e){this.outer=e}return e.prototype.render=function(e){var t=_.hc();t.setStyle("width","400px").pad(5,5);for(var n in e.apis())t.addChild(I.listSection(e.apis()[n].title().getOrElse("Untitled API"),41,e.apis()[n].allMethods(),new K(this.outer),!0,function(e){return e.id().value()+" "+u(e)}));return t},e}(),K=function(){function e(e){this.outer=e}return e.prototype.render=function(e){var t=this,n=_.vc(_.label(e.id().value(),28,3).pad(0,5),_.button("Insert",1,1,null,function(n){t.outer.insert(e)}).pad(5,5)).pad(5,5),r=u(e);return r.trim().length>0&&n.addChild(_.vc(_.label(r,null,2).setStyle("width","390px").setStyle("white-space","normal"))),n},e}(),B=function(e){function t(t){e.call(this),this.outer=t,this.showDoc=!0,this.showLast=!1}return y(t,e),t.prototype.fire=function(){var e=this;this._listeners.forEach(function(t){return t(new I.PropertyChangeEvent(e))})},t.prototype.render=function(e){var t=this,n=e.method(),r=null;this.showLast&&this.outer.executionLog&&(r=this.outer.executionLog.steps(n));var i=new q(e,this.showDoc,this.showLast,r),a=i.renderParametersSection("URI Parameters",n.resource().uriParameters()),o=i.renderParametersSection("Query Parameters",n.queryParameters()),s=i.renderParametersSection("Header Parameters",n.headers()),u=_.hc(),l=_.section(n.id().value(),57,!1,!1,_.label(n.description().getOrElse(new g.MarkdownString("No documentation found")).value()),u,a,o,s);return l.pad(10,10),u.addChild(_.button("",1,0,96,function(t){d(e,r)})),u.addChild(_.toggle("",1,0,116,function(e){t.showDoc=!t.showDoc,t.fire()}).setSelected(this.showDoc)),u.addChild(_.toggle("",1,0,43,function(e){t.showLast=!t.showLast,t.fire()}).setSelected(this.showLast)),u.addChild(_.button("Goto declaration",1,0,0,function(e){var t=n.api().title(),r=c(t.getOrElse(""));r&&k.workspace.open(r).then(function(e){var t=A.readFileSync(r).toString(),i=t.indexOf(n.resource().relativeUri());if(console.log(i),-1!=i){var a=k.workspace.getActiveEditor().getBuffer().positionForCharacterIndex(i),o=k.workspace.getActiveEditor().getBuffer().rangeForRow(a.row);k.workspace.getActiveEditor().setSelectedBufferRange(o,{})}})})),l.setStyle("width","400px"),l},t}(I.BasicListanable);t.findRamlWithTitle=p;var q=(function(){function e(e){this.headers=[],this.queryString=[],this.postData=null,this.method=e}return e}(),function(){function e(e,t,n,r){this._showDoc=t,this._showLast=n,this.steps=r,this.info=e}return e.prototype.updateUI=function(e,t){this.info.setParameter(e,""+t,this.info.start())},e.prototype.renderParametersSection=function(e,t){var n=this,i=_.section(e,null,!0,!1);return t.forEach(function(e){var t=r(e),a=s(t,n.info.getParameterValueAsTypeScriptCode(e)),o=a.getBinding().status(),u=_.label("",null,7),l=new I.CustomField("",u,function(e){return e});if(l.setDisplay(2==o.code),a.getBinding().addListener(function(t){t=a.getBinding().get();var r=a.getBinding().status();2!=r.code?(n.updateUI(e,t),u.setText(""),u.setIcon(0),l.setDisplay(!1)):(u.setText(r.message),u.setIcon(19),l.setDisplay(!0))}),i.addChild(a),i.addChild(l),n._showDoc&&(i.addChild(new I.CustomField("",_.label(t.description),function(e){return e})),t.defaultValue&&t.defaultValue.length>0&&i.addChild(new I.CustomField("",_.hcTight(_.label("Default value: "),_.label(t.defaultValue,null,5).pad(5,5)),function(e){return e})),t.example&&t.example.length>0&&i.addChild(new I.CustomField("",_.hcTight(_.label("Example: "),_.label(t.example,null,4).pad(5,5)),function(e){return e}))),n._showLast){var c=[];n.steps.map(function(e){return e.request}).forEach(function(t){t.queryString.forEach(function(t){t.name==e.name()&&c.push(t.value)})}),c=R.uniq(c);var p=c.join(",");p.length>60&&(p=p.substring(0,50)+"..."),p.length>0&&i.addChild(new I.CustomField("",_.hc(_.label("Last values:",null,6),_.a(""+c,function(e){G.openReportForPath(n.steps)}).pad(5,0)),function(e){return e}))}}),i},e}()),H=(function(){function e(){}return e.prototype.render=function(e){return _.section(e.name(),2,!1,!1)},e}(),function(){function e(){var e=this;this.follow=!0,k.workspace.onDidChangeActivePaneItem(function(t){e.updateEverything()}),this.updateEverything(!0)}return e.prototype.getPath=function(){return this.currentEditor?this.currentEditor.getPath():null},e.prototype.getCurrentEditor=function(){return this.currentEditor},e.prototype.open=function(e){var t=k.workspace.getActiveEditor();if(t){var n=t.getBuffer().rangeForRow(e+1);t.setSelectedBufferRange(n,{})}},e.prototype.openReportForPath=function(e){e&&N.open("ramlscript-report://"+this.currentEditor.getPath(),{stepIds:e.map(function(e){return e.id})})},e.prototype.updateEverything=function(e){var t=this;void 0===e&&(e=!1);var n=k.workspace.getActiveTextEditor(),r=!0;if(n&&this.currentEditor!=n){this.currentEditor=n;var i=this.currentEditor.getPath();if(i){var a=C.extname(i);".ts"!=a?this.active&&(this.currentPane.destroy(),this.active=!1,this.currentPane=null):(this.active||this.follow&&(this.view=new j,this.currentPane=k.workspace.addRightPanel({item:this.view}),this.active=!0,r=!1),this.currentEditor.patched||(this.currentEditor.getBuffer().onDidStopChanging(function(e){t.updateReport(),t.updatePosition()}),this.currentEditor.getLastCursor().onDidChangePosition(function(e){t.updatePosition()}),this.currentEditor.patched=!0),this.updateReport(),this.updatePosition())}}this.follow&&r&&e&&x.msg("Please open typescript file to be able to use ramlscript tools")},e.prototype.updateReport=function(){var e=k.workspace.getActiveTextEditor();if(e){this.currentReport=new b.StaticCallsInfo(e.getPath(),new v.Config,e.getText());var t=M.getReportManager().getLatestReportFor(e.getPath());this.executionResults=t,console.log(this.executionResults),this.view.setReport(this.currentReport,t)}},e.prototype.updatePosition=function(){var e=this,t=k.workspace.getActiveTextEditor();if(t){var n=t.getLastCursor().getBufferPosition();this.currentReport&&(this.currentReport.calls().forEach(function(t){t.startLocation().line<=n.row&&t.endLocation().line>=n.row&&e.view.setCall(t)}),this.view.setPosition(n.row,n.column))}},e}()),G=null;t.toggle=h,t.afterLaunch=f},function(e,t,n){function r(e,t,n){void 0===n&&(n=!0),console.log("Path:"+e);var r=o.dirname(e);o.dirname(t);n&&u.doCompile(e.replace(".js",".ts"));var i=s.getReportManager().logPathArgName(),a="/usr/local/bin/node "+e+" "+i+" "+t;l.execProcess(a,r,!0,!0,"Executing notebook...","Notebook execution complete","Notebook execution failed: "+e),e=e.replace(".l.js","");var c=e.replace(".js",".ts"),p=s.getReportManager().getReportObject(t,c);return p}function i(e,t,n,r){void 0===r&&(r=!0);var i=o.dirname(e);o.dirname(t);r&&u.doCompile(e.replace(".js",".ts"));var a=s.getReportManager().logPathArgName(),c="/usr/local/bin/node "+e+" "+a+" "+t;l.execProcessAsync(c,function(){n()},i,!0,!0,"Executing notebook...","Notebook execution complete","Notebook execution failed: "+e)}function a(e,t){return s.getReportManager().getReportObject(t,e)}var o=n(10),s=n(122),u=n(133),l=n(141);t.launchNotebook=r,t.launchNotebookAsync=i,t.loadReport=a},function(e,t,n){function r(e){var t=e.file.fileName;return{filePath:t,message:e.messageText,preview:e.file.text.substr(e.start,e.length)}}function i(e,t){void 0===t&&(t=!0);var n=c.getProjectSync(e);console.log(n),console.log(o),n.project.compilerOptions.sourceMap=!0;var r=new o.Project(n);t&&r.getProjectSourceFiles().forEach(function(e){return a(r,e)}),a(r,e)}function a(e,t){var n=e.languageService,i=n.getEmitOutput(t),a=1!=i.emitOutputStatus,o=[],c=n.getCompilerOptionsDiagnostics().concat(n.getSyntacticDiagnostics(t)).concat(n.getSemanticDiagnostics(t));c.forEach(function(e){if(e.file){e.file.getLineAndCharacterFromPosition(e.start);o.push(r(e))}}),i.outputFiles.forEach(function(e){s.sync(u.dirname(e.name)),l.writeFileSync(e.name,e.text,"utf8")});var p=i.outputFiles.map(function(e){return e.name});return".d.ts"==u.extname(t)&&p.push(t),{outputFiles:p,success:a&&!o.length,errors:o,emitError:!a}}var o=(n(72),n(134)),s=n(136),u=n(10),l=n(4),c=n(137);t.diagnosticToTSError=r,t.doCompile=i,t.emitFile=a},function(e,t,n){var r=n(72);t.languageServiceHost=n(135);var i=function(){function e(e){this.projectFile=e,this.languageServiceHost=new t.languageServiceHost.LanguageServiceHost(e),this.languageService=r.createLanguageService(this.languageServiceHost,r.createDocumentRegistry())}return e.prototype.createProgram=function(e,t){var n=this.getCombinedHost();return n.addFile(e,t),r.createProgram([e],this.projectFile.project.compilerOptions,n)},e.prototype.getProjectSourceFiles=function(){var e=t.languageServiceHost.defaultLibFile,n=this.languageServiceHost.getScriptFileNames().filter(function(t){return t!==e});return n},e.prototype.getCombinedHost=function(){return this.compilerHost?this.compilerHost:(this.compilerHost=new a(r.createCompilerHost(this.projectFile.project.compilerOptions)),this.compilerHost)},e}();t.Project=i;var a=function(){function e(e){this._originalHost=e,this.inmems={}}return e.prototype.addFile=function(e,t){var n=r.createSourceFile(e,t,0,"1.4.1",!0);this.inmems[e]=n},e.prototype.updateFile=function(e,t){var n=r.createSourceFile(e,t,0,"1.4.1",!0);this.inmems[e]=n},e.prototype.deleteFile=function(e,t){delete this.inmems[e]},e.prototype.getSourceFile=function(e,t,n){return this.inmems[e]?this.inmems[e]:this._originalHost.getSourceFile(e,t,n)},e.prototype.getDefaultLibFilename=function(e){return this._originalHost.getDefaultLibFilename(e)},e.prototype.getCancellationToken=function(){return this._originalHost.getCancellationToken()},e.prototype.writeFile=function(e,t,n,r){console.log("Wriging:"+e)},e.prototype.getCurrentDirectory=function(){return this._originalHost.getCurrentDirectory()},e.prototype.getCanonicalFileName=function(e){return this._originalHost.getCanonicalFileName(e)},e.prototype.useCaseSensitiveFileNames=function(){return this._originalHost.useCaseSensitiveFileNames()},e.prototype.getNewLine=function(){return this._originalHost.getNewLine()},e}();t.CombinedCompilerHost=a},function(e,t,n){function r(e,t){if(0>e)throw new Error("start < 0");if(0>t)throw new Error("length < 0");return{start:e,length:t}}function i(e,t){if(0>t)throw new Error("newLength < 0");return{span:e,newLength:t}}function a(e){return e.start+e.length}function o(e){if(0===e.length)return d;if(1===e.length)return e[0];for(var t=e[0],n=t.span.start,r=a(t.span),o=n+t.newLength,u=1;u<e.length;u++){var l=e[u],c=n,p=r,m=o,h=l.span.start,f=a(l.span),y=h+l.newLength;n=Math.min(c,h),r=Math.max(p,p+(f-m)),o=Math.max(y,y+(m-f))}return i(s(n,r),o-n)}function s(e,t){return r(e,t-e)}var u,l=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},c=n(72);!function(e){function t(){console.error((new Error).stack)}e.stack=t}(u||(u={}));var p,d=i(r(0,0),0),m=(Object.prototype.hasOwnProperty,n(4));!function(e){function t(e){if(!m.existsSync(e))return void 0;var t=m.readFileSync(e),n=t.length;if(n>=2&&254===t[0]&&255===t[1]){n&=-2;for(var r=0;n>r;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t.toString("utf16le",2)}return n>=2&&255===t[0]&&254===t[1]?t.toString("utf16le",2):n>=3&&239===t[0]&&187===t[1]&&191===t[2]?t.toString("utf8",3):t.toString("utf8")}function n(e,t,n){n&&(t="\ufeff"+t),m.writeFileSync(e,t,"utf8")}e.readFile=t,e.writeFile=n}(p||(p={}));var h,f=function(){function e(e){this.text=e}return e.prototype.setUdata=function(e){this.udata=e},e.prototype.getUdata=function(){return this.udata},e.prototype.isLeaf=function(){return!0},e.prototype.walk=function(e,t,n){n.leaf(e,t,this)},e.prototype.charCount=function(){return this.text.length},e.prototype.lineCount=function(){return 1},e}();!function(e){e[e.PreStart=0]="PreStart",e[e.Start=1]="Start",e[e.Entire=2]="Entire",e[e.Mid=3]="Mid",e[e.End=4]="End",e[e.PostEnd=5]="PostEnd"}(h||(h={}));var y=4,g=function(){function e(){this.totalChars=0,this.totalLines=0,this.children=[]}return e.prototype.isLeaf=function(){return!1},e.prototype.updateCounts=function(){this.totalChars=0,this.totalLines=0;for(var e=0,t=this.children.length;t>e;e++){var n=this.children[e];this.totalChars+=n.charCount(),this.totalLines+=n.lineCount()}},e.prototype.execWalk=function(e,t,n,r,i){return n.pre&&n.pre(e,t,this.children[r],this,i),n.goSubtree?(this.children[r].walk(e,t,n),n.post&&n.post(e,t,this.children[r],this,i)):n.goSubtree=!0,n.done},e.prototype.skipChild=function(e,t,n,r,i){r.pre&&!r.done&&(r.pre(e,t,this.children[n],this,i),r.goSubtree=!0)},e.prototype.walk=function(e,t,n){for(var r=0,i=this.children[0],a=i.charCount(),o=e;o>=a;)this.skipChild(o,t,r,n,0),o-=a,i=this.children[++r],a=i.charCount();if(a>=o+t){if(this.execWalk(o,t,n,r,2))return}else{if(this.execWalk(o,a-o,n,r,1))return;var s=t-(a-o);for(i=this.children[++r],a=i.charCount();s>a;){if(this.execWalk(0,a,n,r,3))return;s-=a,i=this.children[++r],a=i.charCount()}if(s>0&&this.execWalk(0,s,n,r,4))return}if(n.pre){var u=this.children.length;if(u-1>r)for(var l=r+1;u>l;l++)this.skipChild(0,0,l,n,5)}},e.prototype.charOffsetToLineNumberAndPos=function(e,t){var n=this.childFromCharOffset(e,t);if(n.child){if(n.childIndex<this.children.length){if(n.child.isLeaf())return{line:n.lineNumber,col:n.charOffset,text:n.child.text,leaf:n.child};var r=n.child;return r.charOffsetToLineNumberAndPos(n.lineNumber,n.charOffset)}var i=this.lineNumberToInfo(this.lineCount(),0),a=1;return i.leaf&&(a=i.leaf.charCount()),{line:this.lineCount(),col:a}}return{line:e,col:t}},e.prototype.lineNumberToInfo=function(e,t){var n=this.childFromLineNumber(e,t);if(n.child){if(n.child.isLeaf())return{line:e,col:n.charOffset,text:n.child.text,leaf:n.child};var r=n.child;return r.lineNumberToInfo(n.relativeLineNumber,n.charOffset)}return{line:e,col:t}},e.prototype.childFromLineNumber=function(e,t){for(var n,r=e,i=0,a=this.children.length;a>i;i++){n=this.children[i];var o=n.lineCount();if(o>=r)break;r-=o,t+=n.charCount()}return{child:n,childIndex:i,relativeLineNumber:r,charOffset:t}},e.prototype.childFromCharOffset=function(e,t){for(var n,r=0,i=this.children.length;i>r&&(n=this.children[r],!(n.charCount()>t));r++)t-=n.charCount(),e+=n.lineCount();return{child:n,childIndex:r,charOffset:t,lineNumber:e}},e.prototype.splitAfter=function(t){var n,r=this.children.length;t++;var i=t;if(r>t){for(n=new e;r>t;)n.add(this.children[t++]);n.updateCounts()}return this.children.length=i,n},e.prototype.remove=function(e){var t=this.findChildIndex(e),n=this.children.length;if(n-1>t)for(var r=t;n-1>r;r++)this.children[r]=this.children[r+1];this.children.length--},e.prototype.findChildIndex=function(e){
for(var t=0,n=this.children.length;this.children[t]!=e&&n>t;)t++;return t},e.prototype.insertAt=function(t,n){var r=this.findChildIndex(t),i=this.children.length,a=n.length;if(y>i&&r==i-1&&1==a)return this.add(n[0]),this.updateCounts(),[];var o=this.splitAfter(r),s=0;for(r++;y>r&&a>s;)this.children[r++]=n[s++];var u=[],l=0;if(a>s){l=Math.ceil((a-s)/y),u=new Array(l);for(var c=0,p=0;l>p;p++)u[p]=new e;for(var d=u[0];a>s;)d.add(n[s++]),d.children.length==y&&(c++,d=u[c]);for(p=u.length-1;p>=0;p--)0==u[p].children.length&&u.length--}for(o&&(u[u.length]=o),this.updateCounts(),p=0;l>p;p++)u[p].updateCounts();return u},e.prototype.add=function(e){return this.children[this.children.length]=e,this.children.length<y},e.prototype.charCount=function(){return this.totalChars},e.prototype.lineCount=function(){return this.totalLines},e}();t.LineNode=g;var v=function(){function e(){this.goSubtree=!0,this.done=!1}return e.prototype.leaf=function(e,t,n){},e}(),b=function(e){function t(){e.call(this),this.lineIndex=new S,this.endBranch=[],this.state=2,this.initialText="",this.trailingText="",this.suppressTrailingText=!1,this.lineIndex.root=new g,this.startPath=[this.lineIndex.root],this.stack=[this.lineIndex.root]}return l(t,e),t.prototype.insertLines=function(e){this.suppressTrailingText&&(this.trailingText=""),e=e?this.initialText+e+this.trailingText:this.initialText+this.trailingText;var t=S.linesFromText(e),n=t.lines;n.length>1&&""==n[n.length-1]&&n.length--;for(var r,i,a=this.endBranch.length-1;a>=0;a--)this.endBranch[a].updateCounts(),0==this.endBranch[a].charCount()&&(i=this.endBranch[a],r=a>0?this.endBranch[a-1]:this.branchNode);i&&r.remove(i);var o=this.startPath[this.startPath.length-2],s=this.startPath[this.startPath.length-1],u=n.length;if(u>0)if(s.text=n[0],u>1){for(var l=new Array(u-1),c=s,p=1,u=n.length;u>p;p++)l[p-1]=new f(n[p]);for(var d=this.startPath.length-2;d>=0;)o=this.startPath[d],l=o.insertAt(c,l),d--,c=o;for(var m=l.length;m>0;){var h=new g;h.add(this.lineIndex.root),l=h.insertAt(this.lineIndex.root,l),m=l.length,this.lineIndex.root=h}this.lineIndex.root.updateCounts()}else for(var y=this.startPath.length-2;y>=0;y--)this.startPath[y].updateCounts();else{o.remove(s);for(var y=this.startPath.length-2;y>=0;y--)this.startPath[y].updateCounts()}return this.lineIndex},t.prototype.post=function(e,t,n,r,i){return n==this.lineCollectionAtBranch&&(this.state=4),void this.stack.length--},t.prototype.pre=function(e,t,n,r,i){function a(e){return e.isLeaf()?new f(""):new g}var o=this.stack[this.stack.length-1];2==this.state&&1==i&&(this.state=1,this.branchNode=o,this.lineCollectionAtBranch=n);var s;switch(i){case 0:this.goSubtree=!1,4!=this.state&&o.add(n);break;case 1:4==this.state?this.goSubtree=!1:(s=a(n),o.add(s),this.startPath[this.startPath.length]=s);break;case 2:4!=this.state?(s=a(n),o.add(s),this.startPath[this.startPath.length]=s):n.isLeaf()||(s=a(n),o.add(s),this.endBranch[this.endBranch.length]=s);break;case 3:this.goSubtree=!1;break;case 4:4!=this.state?this.goSubtree=!1:n.isLeaf()||(s=a(n),o.add(s),this.endBranch[this.endBranch.length]=s);break;case 5:this.goSubtree=!1,1!=this.state&&o.add(n)}return this.goSubtree&&(this.stack[this.stack.length]=s),n},t.prototype.leaf=function(e,t,n){1==this.state?this.initialText=n.text.substring(0,e):2==this.state?(this.initialText=n.text.substring(0,e),this.trailingText=n.text.substring(e+t)):this.trailingText=n.text.substring(e+t)},t}(v),S=function(){function e(){this.checkEdits=!1}return e.prototype.charOffsetToLineNumberAndPos=function(e){return this.root.charOffsetToLineNumberAndPos(1,e)},e.prototype.lineNumberToInfo=function(e){var t=this.root.lineCount();if(t>=e){var n=this.root.lineNumberToInfo(e,0);return n.line=e,n}return{line:e,col:this.root.charCount()}},e.prototype.load=function(t){if(t.length>0){for(var n=[],r=0,i=t.length;i>r;r++)n[r]=new f(t[r]);this.root=e.buildTreeFromBottom(n)}else this.root=new g},e.prototype.walk=function(e,t,n){this.root.walk(e,t,n)},e.prototype.getText=function(e,t){var n="";return t>0&&e<this.root.charCount()&&this.walk(e,t,{goSubtree:!0,done:!1,leaf:function(e,t,r){n=n.concat(r.text.substring(e,e+t))}}),n},e.prototype.every=function(e,t,n){n||(n=this.root.charCount());var r={goSubtree:!0,done:!1,leaf:function(t,n,r){e(r,t,n)||(this.done=!0)}};return this.walk(t,n-t,r),!r.done},e.prototype.edit=function(t,n,r){function i(e,t,n,r){return void 0===r&&(r=""),e.substring(0,t)+r+e.substring(t+n,e.length)}if(0!=this.root.charCount()){if(this.checkEdits){i(this.getText(0,this.root.charCount()),t,n,r)}var a=new b;if(t>=this.root.charCount()){t=this.root.charCount()-1;var o=this.getText(t,1);r=r?o+r:o,n=0,a.suppressTrailingText=!0}else if(n>0){var s=t+n,u=this.charOffsetToLineNumberAndPos(s);u&&0==u.col&&(n+=u.text.length,r?r+=u.text:r=u.text)}if(t<this.root.charCount()&&(this.root.walk(t,n,a),a.insertLines(r)),this.checkEdits){this.getText(0,this.root.charCount())}return a.lineIndex}return r?(this.load(e.linesFromText(r).lines),this):void 0},e.buildTreeFromBottom=function(e){for(var t=Math.ceil(e.length/y),n=[],r=0,i=0;t>i;i++){n[i]=new g;for(var a=0,o=0,s=0;y>s&&r<e.length;s++)n[i].add(e[r]),a+=e[r].charCount(),o+=e[r].lineCount(),r++;n[i].totalChars=a,n[i].totalLines=o}return 1==n.length?n[0]:this.buildTreeFromBottom(n)},e.linesFromText=function(e){var t=c.computeLineStarts(e);if(0==t.length)return{lines:[],lineMap:t};for(var n=new Array(t.length),r=t.length-1,i=0;r>i;i++)n[i]=e.substring(t[i],t[i+1]);var a=e.substring(t[r]);return a.length>0?n[r]=a:n.length--,{lines:n,lineMap:t}},e}();t.LineIndex=S;var w=function(){function e(e,t){this.version=e,this.cache=t,this.changesSincePreviousVersion=[]}return e.prototype.getText=function(e,t){return this.index.getText(e,t-e)},e.prototype.getLength=function(){return this.index.root.charCount()},e.prototype.getLineStartPositions=function(){var e=[-1],t=1,n=0;return this.index.every(function(r,i,a){return e[t++]=n,n+=r.text.length,!0},0),e},e.prototype.getLineMapper=function(){var e=this;return function(t){return e.index.lineNumberToInfo(t).col}},e.prototype.getTextChangeRangeSinceVersion=function(e){return this.version<=e?d:this.cache.getTextChangesBetweenVersions(e,this.version)},e.prototype.getChangeRange=function(e){var t=e;return this.getTextChangeRangeSinceVersion(t.version)},e}();t.LineIndexSnapshot=w;var P=function(){function e(e,t,n){this.pos=e,this.deleteLen=t,this.insertedText=n}return e.prototype.getTextChangeRange=function(){return i(r(this.pos,this.deleteLen),this.insertedText?this.insertedText.length:0)},e}();t.TextChange=P;var M=function(){function e(){this.changes=[],this.versions=[],this.minVersion=0,this.currentVersion=0}return e.prototype.edit=function(t,n,r){this.changes[this.changes.length]=new P(t,n,r),(this.changes.length>e.changeNumberThreshold||n>e.changeLengthThreshold||r&&r.length>e.changeLengthThreshold)&&this.getSnapshot()},e.prototype.latest=function(){return this.versions[this.currentVersion]},e.prototype.latestVersion=function(){return this.changes.length>0&&this.getSnapshot(),this.currentVersion},e.prototype.reloadFromFile=function(e,t){var n=p.readFile(e);this.reload(n),t&&t()},e.prototype.reload=function(e){this.currentVersion++,this.changes=[];var t=new w(this.currentVersion,this);this.versions[this.currentVersion]=t,t.index=new S;var n=S.linesFromText(e);t.index.load(n.lines);for(var r=this.minVersion;r<this.currentVersion;r++)this.versions[r]=void 0;this.minVersion=this.currentVersion},e.prototype.getSnapshot=function(){var t=this.versions[this.currentVersion];if(this.changes.length>0){for(var n=this.latest().index,r=0,i=this.changes.length;i>r;r++){var a=this.changes[r];n=n.edit(a.pos,a.deleteLen,a.insertedText)}if(t=new w(this.currentVersion+1,this),t.index=n,t.changesSincePreviousVersion=this.changes,this.currentVersion=t.version,this.versions[t.version]=t,this.changes=[],this.currentVersion-this.minVersion>=e.maxVersions){var o=this.minVersion;this.minVersion=this.currentVersion-e.maxVersions+1;for(var s=o;s<this.minVersion;s++)this.versions[s]=void 0}}return t},e.prototype.getTextChangesBetweenVersions=function(e,t){if(t>e){if(e>=this.minVersion){for(var n=[],r=e+1;t>=r;r++)for(var i=this.versions[r],a=0,s=i.changesSincePreviousVersion.length;s>a;a++){var u=i.changesSincePreviousVersion[a];n[n.length]=u.getTextChangeRange()}return o(n)}return void 0}return d},e.fromString=function(t){var n=new e,r=new w(0,n);r.index=new S;var i=S.linesFromText(t);return r.index.load(i.lines),n.versions[n.currentVersion]=r,n},e.changeNumberThreshold=8,e.changeLengthThreshold=256,e.maxVersions=8,e}();t.ScriptVersionCache=M;var T=function(){function e(e,t,n){void 0===n&&(n=!1),this.fileName=e,this.content=t,this.isOpen=n,this.children=[],this.svc=M.fromString(t)}return e.prototype.close=function(){this.isOpen=!1},e.prototype.open=function(){this.isOpen=!0},e.prototype.getIsOpen=function(){return this.isOpen},e.prototype.addChild=function(e){this.children.push(e)},e.prototype.snap=function(){return this.svc.getSnapshot()},e.prototype.getText=function(){var e=this.snap();return e.getText(0,e.getLength())},e.prototype.getLineInfo=function(e){var t=this.snap();return t.index.lineNumberToInfo(e)},e.prototype.editContent=function(e,t,n){this.svc.edit(e,t-e,n)},e.prototype.getTextChangeRangeBetweenVersions=function(e,t){return this.svc.getTextChangesBetweenVersions(e,t)},e.prototype.getChangeRange=function(e){return this.snap().getChangeRange(e)},e}();t.ScriptInfo=T;var E=n(10),A=n(4);t.defaultLibFile=E.join(E.dirname(72),"lib.d.ts").split("\\").join("/");var C=function(){function e(e){var n=this;this.config=e,this.fileNameToScript=Object.create(null),this.addScript=function(e,t){try{t||(t=A.readFileSync(e).toString())}catch(r){t=""}var i=new T(e,t);n.fileNameToScript[e]=i},this.removeScript=function(e){delete n.fileNameToScript[e]},this.removeAll=function(){n.fileNameToScript=Object.create(null)},this.updateScript=function(e,t){var r=n.fileNameToScript[e];if(r){if(r.getText()==t)return;return void r.editContent(0,r.snap().getLength(),t)}n.addScript(e,t)},this.editScript=function(e,t,r,i){var a=n.fileNameToScript[e];if(a)return void a.editContent(t,r,i);throw new Error("No script with name '"+e+"'")},this.setScriptIsOpen=function(e,t){var r=n.fileNameToScript[e];if(r)return void r.open();throw new Error("No script with name '"+e+"'")},this.getScriptContent=function(e){var t=n.fileNameToScript[e];return t?t.getText():null},this.hasScript=function(e){return!!n.fileNameToScript[e]},this.getPositionFromIndex=function(e,t){var r=n.positionToLineCol(e,t);return{line:r.line-1,ch:r.col-1}},this.getIndexFromPosition=function(e,t){var r={ch:t.ch+1,line:t.line+1};return n.lineColToPosition(e,r.line,r.ch)},this.getCompilationSettings=function(){return n.config.project.compilerOptions},this.getScriptFileNames=function(){return Object.keys(n.fileNameToScript)},this.getScriptVersion=function(e){var t=n.fileNameToScript[e];return t?t.svc.latestVersion().toString():"0"},this.getScriptIsOpen=function(e){var t=n.fileNameToScript[e];return t?t.getIsOpen():!1},this.getScriptSnapshot=function(e){var t=n.fileNameToScript[e];return t?t.snap():null},this.getCurrentDirectory=function(){return n.config.projectFileDirectory},e.project.files.forEach(function(e){return n.addScript(e)}),this.addScript(t.defaultLibFile)}return e.prototype.log=function(){console.log(arguments)},e.prototype.lineColToPosition=function(e,t,n){var r=this.fileNameToScript[e],i=r.snap().index,a=i.lineNumberToInfo(t);return a.col+n-1},e.prototype.positionToLineCol=function(e,t){var n=this.fileNameToScript[e],r=n.snap().index,i=r.charOffsetToLineNumberAndPos(t);return{line:i.line,col:i.col+1}},e.prototype.getDefaultLibFilename=function(){return"lib.d.ts"},e}();t.LanguageServiceHost=C},function(e,t){e.exports=require("mkdirp")},function(e,t,n){function r(e,t){return e}function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,n){var r=i({},t.defaults);for(var a in e)R[a]&&(a=R[a]),O[a]?r[a]=O[a][e[a].toLowerCase()]:r[a]=e[a];return void 0!==r.outDir&&(r.outDir=A.resolve(n,r.outDir)),void 0!==r.out&&(r.out=A.resolve(n,r.out)),r}function o(e){var t=i({},e);return void 0!==e.target&&(t.target=L.target[e.target]),void 0!==e.module&&(t.module=L.module[e.module]),t}function s(e){var n=E.lstatSync(e).isDirectory()?e:A.dirname(e),r={compilerOptions:t.defaults,files:[e],formatCodeOptions:null,compileOnSave:!0};return r.files=p(r.files),r.files=y(r.files.map(c)),{projectFileDirectory:n,projectFilePath:n+"/"+I,project:r}}function u(e){if(!E.existsSync(e))throw new Error(t.errors.GET_PROJECT_INVALID_PATH);var n=E.lstatSync(e).isDirectory()?e:A.dirname(e),i="";try{i=S(n,I)}catch(o){var s=o;if("not found"==s.message)throw new Error(t.errors.GET_PROJECT_NO_PROJECT_FOUND)}i=A.normalize(i);var u,l=A.dirname(i)+A.sep;try{var m=E.readFileSync(i,"utf8")}catch(h){throw new Error(t.errors.GET_PROJECT_FAILED_TO_OPEN_PROJECT_FILE)}try{u=JSON.parse(m)}catch(h){throw r(new Error(t.errors.GET_PROJECT_JSON_PARSE_FAILED),{projectFilePath:c(i),error:h.message})}u.compilerOptions||(u.compilerOptions={});var f=A.relative(process.cwd(),A.dirname(i));if(u.files||u.filesGlob||(u.filesGlob=_),u.filesGlob){try{u.files=k({filter:"isFile",cwd:f},u.filesGlob)}catch(h){throw r(new Error(t.errors.GET_PROJECT_GLOB_EXPAND_FAILED),{glob:u.filesGlob,projectFilePath:c(i),errorMessage:h.message})}var g=d(u);g!==m&&E.writeFileSync(i,d(u))}u.files=u.files.map(function(e){return A.resolve(l,e)});var v={compilerOptions:{},files:u.files,filesGlob:u.filesGlob,formatCodeOptions:u.formatCodeOptions,compileOnSave:void 0==u.compileOnSave?!0:u.compileOnSave},w=T.validate(u.compilerOptions);if(w.errorMessage)throw r(new Error(t.errors.GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS),{projectFilePath:c(i),errorMessage:w.errorMessage});if(u.compilerOptions&&u.compilerOptions.out)throw r(new Error(t.errors.GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS),{projectFilePath:c(i),errorMessage:"We don't support --out because it will hurt you in the long run."});return v.compilerOptions=a(u.compilerOptions,l),v.files=p(v.files),v.files=y(v.files.map(c)),l=b(c(l)),{projectFileDirectory:l,projectFilePath:l+"/"+I,project:v}}function l(e,n){if(!E.existsSync(e))throw new Error(t.errors.CREATE_FILE_MUST_EXIST);var r=E.lstatSync(e).isDirectory()?e:A.dirname(e),i=A.normalize(r+"/"+I);if(E.existsSync(i))throw new Error(t.errors.CREATE_PROJECT_ALREADY_EXISTS);var a={};return a.version=x,a.compilerOptions=o(n||t.defaults),a.filesGlob=_,E.writeFileSync(i,d(a)),u(e)}function c(e){return e.split("\\").join("/")}function p(e){for(var t=w.createMap(e),n=function(n){return t[n]?!1:(t[n]=!0,e.push(n),!0)},r=function(e){var t=[];return e.forEach(function(e){try{var n=E.readFileSync(e).toString()}catch(r){return}var i=C.preProcessFile(n,!0),a=A.dirname(e);t.push(i.referencedFiles.map(function(e){var t=A.resolve(a,e.filename);return E.existsSync(t)?t:E.existsSync(t+".ts")?t+".ts":E.existsSync(t+".d.ts")?t+".d.ts":null}).filter(function(e){return!!e}).concat(i.importedFiles.filter(function(e){return m(e.filename)}).map(function(e){var t=A.resolve(a,e.filename+".ts");return E.existsSync(t)||(t=A.resolve(a,e.filename+".d.ts")),t})))}),h(t)},i=r(e).filter(n);i.length;)i=r(e).filter(n);return e}function d(e){var t=[],n=JSON.stringify(e,function(e,n){if("object"==typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n},4);return n=n.split("\n").join(N.EOL),t=null,n}function m(e){return e&&e.length?"."==e[0]||"./"==e.substring(0,2)||"../"==e.substring(0,3):!1}function h(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)t.push(e[n][r]);return t}function f(e,t){return-1!==e.indexOf(t,e.length-t.length)}function y(e){var t=w.createMap(e);return Object.keys(t)}function g(e,t){var n=A.relative(e,t).split("\\").join("/");return"."!==n[0]&&(n="./"+n),n}function v(e){return e.substr(0,e.lastIndexOf("."))}function b(e){return e&&f(e,"/")?e.substr(0,e.length-1):e}function S(e,t){for(;E.existsSync(e);){var n=e+"/"+t;if(E.existsSync(n))return n;var r=e;if(e=A.dirname(e),e==r)throw new Error("not found")}}var w=n(138),P=w.types,M={allowNonTsExtensions:{type:w.types["boolean"]},charset:{type:w.types.string},codepage:{type:P.number},declaration:{type:P["boolean"]},diagnostics:{type:P["boolean"]},emitBOM:{type:P["boolean"]},emitDecoratorMetadata:{type:P["boolean"]},help:{type:P["boolean"]},locals:{type:P.string},mapRoot:{type:P.string},module:{type:P.string,validValues:["commonjs","amd"]},noEmitOnError:{type:P["boolean"]},noErrorTruncation:{type:P["boolean"]},noImplicitAny:{type:P["boolean"]},noLib:{type:P["boolean"]},noLibCheck:{type:P["boolean"]},noResolve:{type:P["boolean"]},out:{type:P.string},outDir:{type:P.string},preserveConstEnums:{type:P["boolean"]},removeComments:{type:P["boolean"]},sourceMap:{type:P["boolean"]},sourceRoot:{type:P.string},suppressImplicitAnyIndexErrors:{type:P["boolean"]},target:{type:P.string,validValues:["es3","es5","es6"]},version:{type:P["boolean"]},watch:{type:P["boolean"]}},T=new w.SimpleValidator(M);t.errors={GET_PROJECT_INVALID_PATH:"Invalid Path",GET_PROJECT_NO_PROJECT_FOUND:"No Project Found",GET_PROJECT_FAILED_TO_OPEN_PROJECT_FILE:"Failed to fs.readFileSync the project file",GET_PROJECT_JSON_PARSE_FAILED:"Failed to JSON.parse the project file",GET_PROJECT_GLOB_EXPAND_FAILED:"Failed to expand filesGlob in the project file",GET_PROJECT_PROJECT_FILE_INVALID_OPTIONS:"Project file contains invalid options",CREATE_FILE_MUST_EXIST:"To create a project the file must exist",CREATE_PROJECT_ALREADY_EXISTS:"Project file already exists"};var E=n(4),A=n(10),C=n(72),N=n(139),I="tsconfig.json",_=["./**/*.ts","!./node_modules/**/*.ts"],x="1.4.1";t.defaults={target:1,module:1,declaration:!1,noImplicitAny:!1,removeComments:!0,noLib:!1};var R={outdir:"outDir",noimplicitany:"noImplicitAny",removecomments:"removeComments",sourcemap:"sourceMap",sourceroot:"sourceRoot",maproot:"mapRoot",nolib:"noLib"},O={target:{es3:0,es5:1,es6:2,latest:2},module:{none:0,commonjs:1,amd:2}},L={target:function(){var e={};return e[0]="es3",e[1]="es5",e[2]="es6",e[2]="latest",e}(),module:function(){var e={};return e[0]="none",e[1]="commonjs",e[2]="amd",e}()};t.getDefaultProject=s;var k=n(140);t.getProjectSync=u,t.createProjectRootSync=l,t.consistentPath=c,t.prettyJSON=d,t.pathIsRelative=m,t.endsWith=f,t.makeRelativePath=g,t.removeExt=v,t.removeTrailingSlash=b,t.travelUpTheDirectoryTreeTillYouFindFile=S},function(e,t){function n(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}t.types={string:"string","boolean":"boolean",number:"number"};var r=function(){function e(e){var t=this;this.validationInfo=e,this.potentialLowerCaseMatch={},Object.keys(e).forEach(function(e){return t.potentialLowerCaseMatch[e.toLowerCase()]=e})}return e.prototype.validate=function(e){var t=this,n=Object.keys(e),r={invalidValues:[],extraKeys:[],errorMessage:""};n.forEach(function(n){if(t.validationInfo[n]){var i=t.validationInfo[n],a=e[n];if(i.validValues&&i.validValues.length){var o=i.validValues;o.some(function(e){return e===a})||r.invalidValues.push("Key: '"+n+"' has an invalid value: "+a)}i.type&&typeof a!==i.type&&r.invalidValues.push("Key: '"+n+"' has an invalid type: "+typeof a)}else t.potentialLowerCaseMatch[n]?r.extraKeys.push("Key: '"+n+"' is a potential lower case match for '"+t.potentialLowerCaseMatch[n]+"'. Fix the casing."):r.extraKeys.push("Unknown Option: "+n)});var i=r.invalidValues.concat(r.extraKeys);return i.length&&(r.errorMessage=i.join("\n")),r},e}();t.SimpleValidator=r,t.createMap=n},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("glob-expand")},function(e,t,n){function r(e){var t=c.readdirSync(e),n=t.filter(function(t){return c.lstatSync(l.resolve(e,t)).isDirectory()});return n}function i(e,t){var n=t.toLowerCase();0!=n.indexOf(".")&&(n="."+n);var r=n.length,i=c.readdirSync(e),a=i.filter(function(t){return!c.lstatSync(l.resolve(e,t)).isDirectory()&&-1!=t.toLowerCase().indexOf(n,t.length-r)});return a}function a(e){var t=process.cwd(),n=t.length,r=e.substring(n).replace(new RegExp("\\\\","g"),"/");return"/"!==r[0]&&(r="/"+r),r="."+r}function o(e){c.existsSync(e)&&(c.lstatSync(e).isDirectory()&&c.readdirSync(e).forEach(function(t){return o(l.resolve(e,t))}),c.unlinkSync(e))}function s(e,t,n,r,i,a,o,s,u){void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=""),void 0===a&&(a=""),void 0===o&&(o=""),void 0===s&&(s=-1),void 0===u&&(u=null);try{n&&console.log(i);var l=p.execSync(e,{cwd:t,encoding:"utf8",stdio:["pipe","pipe","pipe"]}).toString();n&&(console.log(a),l&&l.length>0&&(0>s?console.log(l):s>0&&console.log(l.substring(0,Math.min(s,l.length)))))}catch(c){u&&u(c),r&&(console.log(o),console.log(c.message))}}function u(e,t,n,r,i,a,o,s,u){void 0===r&&(r=!1),void 0===i&&(i=!0),void 0===a&&(a=""),void 0===o&&(o=""),void 0===s&&(s=""),void 0===u&&(u=-1);try{r&&console.log(a);var l=p.exec(e,{cwd:n,encoding:"utf8",stdio:["pipe","pipe","pipe"]},function(e){console.log("Something happened")});l.addListener("exit",t)}catch(c){i&&(console.log(s),console.log(c.message))}}var l=n(10),c=n(4),p=n(142);t.getSubDirectories=r,t.getFiles=i,t.getRelativePath=a,t.deleteFiles=o,t.execProcess=s,t.execProcessAsync=u},function(e,t){e.exports=require("child_process")},function(e,t,n){function r(e){switch(e){case 0:return"text-normal";case 1:return"text-smaller";case 2:return"text-subtle";case 3:return"text-highlight";case 4:return"text-info";case 5:return"text-success";case 6:return"text-warning";case 7:return"text-error";default:return""}}function i(e){switch(e){case 0:return"no-highlight";case 1:return"highlight";case 2:return"highlight-info";case 3:return"highlight-success";case 4:return"highlight-warning";case 5:return"highlight-error";default:return null}}function a(e){switch(e){case 0:return"block";case 1:return"inline-block";case 2:return"inline-block-tight";case 3:return"btn-group";default:return null}}function o(e){switch(e){case 1:return"icon-alert";case 2:return"icon-alignment-align";case 3:return"icon-alignment-aligned-to";case 4:return"icon-alignment-unalign";case 5:return"icon-arrow-down";case 6:return"icon-arrow-left";case 7:return"icon-arrow-right";case 8:return"icon-arrow-small-down";case 9:return"icon-arrow-small-left";case 10:return"icon-arrow-small-right";case 11:return"icon-arrow-small-up";case 12:return"icon-arrow-up";case 13:return"icon-beer";case 14:return"icon-book";case 15:return"icon-bookmark";case 16:return"icon-briefcase";case 17:return"icon-broadcast";case 18:return"icon-browser";case 19:return"icon-bug";case 20:return"icon-calendar";case 21:return"icon-check";case 22:return"icon-checklist";case 23:return"icon-chevron-down";case 24:return"icon-chevron-left";case 25:return"icon-chevron-right";case 26:return"icon-chevron-up";case 27:return"icon-circle-slash";case 28:return"icon-circuit-board";case 29:return"icon-clippy";case 30:return"icon-clock";case 31:return"icon-cloud-download";case 32:return"icon-cloud-upload";case 33:return"icon-code";case 34:return"icon-color-mode";case 35:return"icon-comment-add";case 36:return"icon-comment";case 37:return"icon-comment-discussion";case 38:return"icon-credit-card";case 39:return"icon-dash";case 40:return"icon-dashboard";case 41:return"icon-database";case 42:return"icon-device-camera";case 43:return"icon-device-camera-video";case 44:return"icon-device-desktop";case 45:return"icon-device-mobile";case 46:return"icon-diff";case 47:return"icon-diff-added";case 48:return"icon-diff-ignored";case 49:return"icon-diff-modified";case 50:return"icon-diff-removed";case 51:return"icon-diff-renamed";case 52:return"icon-ellipsis";case 53:return"icon-eye-unwatch";case 54:return"icon-eye-watch";case 55:return"icon-eye";case 56:return"icon-file-binary";case 57:return"icon-file-code";case 58:return"icon-file-directory";case 59:return"icon-file-media";case 60:return"icon-file-pdf";case 61:return"icon-file-submodule";case 62:return"icon-file-symlink-directory";case 63:return"icon-file-symlink-file";case 64:return"icon-file-text";case 65:return"icon-file-zip";case 66:return"icon-flame";case 67:return"icon-fold";case 68:return"icon-gear";case 69:return"icon-gift";case 70:return"icon-gist";case 71:return"icon-gist-secret";case 72:return"icon-git-branch-create";case 73:return"icon-git-branch-delete";case 74:return"icon-git-branch";case 75:return"icon-git-commit";case 76:return"icon-git-compare";case 77:return"icon-git-merge";case 78:return"icon-git-pull-request-abandoned";case 79:return"icon-git-pull-request";case 80:return"icon-globe";case 81:return"icon-graph";case 82:return"icon-heart";case 83:return"icon-history";case 84:return"icon-home";case 85:return"icon-horizontal-rule";case 86:return"icon-hourglass";case 87:return"icon-hubot";case 88:return"icon-inbox";case 89:return"icon-info";case 90:return"icon-issue-closed";case 91:return"icon-issue-opened";case 92:return"icon-issue-reopened";case 93:return"icon-jersey";case 94:return"icon-jump-down";case 95:return"icon-jump-left";case 96:return"icon-jump-right";case 97:return"icon-jump-up";case 98:return"icon-key";case 99:return"icon-keyboard";case 100:return"icon-law";case 101:return"icon-light-bulb";case 102:return"icon-link";case 103:return"icon-link-external";case 104:return"icon-list-ordered";case 105:return"icon-list-unordered";case 106:return"icon-location";case 107:return"icon-gist-private";case 108:return"icon-mirror-private";case 109:return"icon-git-fork-private";case 110:return"icon-lock";case 111:return"icon-logo-github";case 112:return"icon-mail";case 113:return"icon-mail-read";case 114:return"icon-mail-reply";case 115:return"icon-mark-github";case 116:return"icon-markdown";case 117:return"icon-megaphone";case 118:return"icon-mention";case 119:return"icon-microscope";case 120:return"icon-milestone";case 121:return"icon-mirror-public";case 122:return"icon-mirror";case 123:return"icon-mortar-board";case 124:return"icon-move-down";case 125:return"icon-move-left";case 126:return"icon-move-right";case 127:return"icon-move-up";case 128:return"icon-mute";case 129:return"icon-no-newline";case 130:return"icon-octoface";case 131:return"icon-organization";case 132:return"icon-package";case 133:return"icon-paintcan";case 134:return"icon-pencil";case 135:return"icon-person-add";case 136:return"icon-person-follow";case 137:return"icon-person";case 138:return"icon-pin";case 139:return"icon-playback-fast-forward";case 140:return"icon-playback-pause";case 141:return"icon-playback-play";case 142:return"icon-playback-rewind";case 143:return"icon-plug";case 144:return"icon-repo-create";case 145:return"icon-gist-new";case 146:return"icon-file-directory-create";case 147:return"icon-file-add";case 148:return"icon-plus";case 149:return"icon-podium";case 150:return"icon-primitive-dot";case 151:return"icon-primitive-square";case 152:return"icon-pulse";case 153:return"icon-puzzle";case 154:return"icon-question";case 155:return"icon-quote";case 156:return"icon-radio-tower";case 157:return"icon-repo-delete";case 158:return"icon-repo";case 159:return"icon-repo-clone";case 160:return"icon-repo-force-push";case 161:return"icon-gist-fork";case 162:return"icon-repo-forked";case 163:return"icon-repo-pull";case 164:return"icon-repo-push";case 165:return"icon-rocket";case 166:return"icon-rss";case 167:return"icon-ruby";case 168:return"icon-screen-full";case 169:return"icon-screen-normal";case 170:return"icon-search-save";case 171:return"icon-search";case 172:return"icon-server";case 173:return"icon-settings";case 174:return"icon-log-in";case 175:return"icon-sign-in";case 176:return"icon-log-out";case 177:return"icon-sign-out";case 178:return"icon-split";case 179:return"icon-squirrel";case 180:return"icon-star-add";case 181:return"icon-star-delete";case 182:return"icon-star";case 183:return"icon-steps";case 184:return"icon-stop";case 185:return"icon-repo-sync";case 186:return"icon-sync";case 187:return"icon-tag-remove";case 188:return"icon-tag-add";case 189:return"icon-tag";case 190:return"icon-telescope";case 191:return"icon-terminal";case 192:return"icon-three-bars";case 193:return"icon-thumbsdown";case 194:return"icon-thumbsup";case 195:return"icon-tools";case 196:return"icon-trashcan";case 197:return"icon-triangle-down";case 198:return"icon-triangle-left";case 199:return"icon-triangle-right";case 200:return"icon-triangle-up";case 201:return"icon-unfold";case 202:return"icon-unmute";case 203:return"icon-versions";case 204:return"icon-remove-close";case 205:return"icon-x";case 206:return"icon-zap";default:throw new Error("Should never happen")}}function s(e,t,n,r,i,a){void 0===i&&(i=!1),void 0===a&&(a=null);var o=A.section(e,t),s=new X(new z,r);return a&&s.setBasicLabelFunction(a),i&&o.addChild(A.filterField(s)),s.setInput(n),o.addChild(s),o}function u(e,t){var n="function"==typeof t?new q(t):t,r=new X(new z,n);return r.setInput(e),r}function l(e){return new D("h1",e,null)}function c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new D("h2",e,null);return t.forEach(function(e){return r.addChild(e)}),r}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=new D("h3",e,null);return t.forEach(function(e){return r.addChild(e)}),r}function d(e,t,n){e&&t.addClass(r(e)),n&&t.addClass(i(n))}function m(e){return E.find(atom.grammars.getGrammars(),function(t){return t.scopeName==e})}function h(e,t){var n=new te(e,t);return n}function f(e){var t=0;e=e.filter(function(e){return y(e)&&!g(e)}),e.length<1||(e.forEach(function(e){var n=e.caption();null!=n&&n.length>t&&(t=n.length)}),e.forEach(function(e){var n=e;n.setLabelWidth(t),n.setLabelHeight(n.ui().clientHeight)}))}function y(e){return e instanceof O?!1:e.caption&&"function"==typeof e.caption&&e.setLabelWidth&&"function"==typeof e.setLabelWidth?!0:!1}function g(e){return e instanceof O}function v(e,t,n){return new ce(e,t,n)}function b(e,t,n){void 0===n&&(n=function(e){return e});var r=null;switch(null==t&&(t=""),e.type){case 0:r=new O("",null,n).pad(-10,10);break;case 1:r=v(e.caption,""+t,n);break;case 2:case 3:r=v(e.caption,""+t,n),r.getBinding().addValidator(function(t){return isNaN(t)?{code:2,message:e.caption+" should be a number"}:3==e.type&&t&&-1!=t.indexOf(".")?{code:2,message:e.caption+" should be integer"}:{code:0,message:""}});break;case 4:r=new he(e.caption,""+t,e.realm,n);break;case 5:r=v(e.caption,""+t,n);break;default:r=v(e.caption+"(untyped)",""+t,n)}return r.getBinding().set(t),r.setRequired(e.required),e.required&&r.getBinding().addValidator(function(t){return null!=t&&t.length>0?{code:0,message:""}:{code:2,message:e.caption+" is required"}}),r}function S(){return{code:0,message:""}}function w(e){return{code:2,message:e}}function P(e,t,n){void 0===n&&(n=function(e){return e});var r=v(e,t,n);return r.getActualField().setGrammar("source.ts"),r}var M,T=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},E=n(16),A=n(144),C=n(145),N=n(146),I=n(147);!function(e){e[e.Before=0]="Before",e[e.After=1]="After"}(M||(M={}));var _=function(){function e(){this.items=[]}return e.prototype.add=function(e){this.items.push(e)},e.prototype.remove=function(e){this.items=this.items.filter(function(t){return t!=e})},e.prototype.dispose=function(){this.items.forEach(function(e){return e.dispose()})},e}();t.CompositeDisposable=_,function(e){e[e.OK=0]="OK",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(t.StatusCode||(t.StatusCode={}));var x=(t.StatusCode,function(){function e(e){void 0===e&&(e=null),this.value=e,this.listeners=[],this.validators=[],this.slisteners=[]}return e.prototype.addValidator=function(e){this.validators.push(e)},e.prototype.removeValidator=function(e){this.validators=this.validators.filter(function(t){return t!=e})},e.prototype.addStatusListener=function(e){this.slisteners.push(e)},e.prototype.removeStatusListener=function(e){this.slisteners=this.slisteners.filter(function(t){return t!=e})},e.prototype.status=function(){return this._status},
e.prototype.setStatus=function(e){this._status!=e&&this.slisteners.forEach(function(t){return t(e)}),this._status=e},e.prototype.get=function(){return this.value},e.prototype.set=function(e){var t=this;if(this.value!=e){var n=this.value;this.value=e;var r={code:0,message:""};this.validators.forEach(function(t){var n=t(e);n.code>r.code&&(r=n)}),this.setStatus(r),this.listeners.forEach(function(r){return r(e,n,t)})}return n},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e}());t.BasicBinding=x;var R=function(){function e(e,t){var n=this;void 0===t&&(t=null),this._tagName=e,this._disabled=!1,this._children=[],this.focusListeners=[],this._onAltClickListeners=[],this._onKeyUpListeners=[],this._onKeyDownListeners=[],this._onKeyPressListeners=[],this._bListener=function(e){n.inSet||n.handleDataChanged()},this._binding=this.createBinding(),this._extraClasses=[],this._extraStyles={},this.inSet=!1,this.disposable=new _,this._display=!0,this._onClickListeners=[],this.firstInit=!1,this._icon=t}return e.prototype.id=function(){return this._id},e.prototype.setId=function(e){return this._id=e,this},e.prototype.disabled=function(){return this._disabled},e.prototype.setDisabled=function(e){this._disabled=e,this.handleLocalChange()},e.prototype.setTabIndex=function(e){this.ui().tabIndex=e},e.prototype.createBinding=function(){var e=new x;return e.addListener(this._bListener),e},e.prototype.addFocusListener=function(e){this.focusListeners.push(e)},e.prototype.removeFocusListener=function(e){this.focusListeners=this.focusListeners.filter(function(t){return t!=e})},e.prototype.addAltClickListener=function(e){this._onAltClickListeners.push(e)},e.prototype.removeAltClickListener=function(e){this._onAltClickListeners=this._onAltClickListeners.filter(function(t){return t!=e})},e.prototype.addKeyDownListener=function(e){this._onKeyDownListeners.push(e)},e.prototype.removeKeyDownListener=function(e){this._onKeyDownListeners=this._onKeyDownListeners.filter(function(t){return t!=e})},e.prototype.addKeyUpListener=function(e){this._onKeyUpListeners.push(e)},e.prototype.removeKeyUpListener=function(e){this._onKeyUpListeners=this._onKeyUpListeners.filter(function(t){return t!=e})},e.prototype.addKeyPressListener=function(e){this._onKeyPressListeners.push(e)},e.prototype.removeKeyPressListener=function(e){this._onKeyPressListeners=this._onKeyPressListeners.filter(function(t){return t!=e})},e.prototype.pad=function(e,t){return this.padding_left=e,this.padding_right=t,this},e.prototype.margin=function(e,t,n,r){return void 0===n&&(n=null),void 0===r&&(r=null),this.margin_left=e,this.margin_right=t,this.margin_bottom=r,this.margin_top=n,this},e.prototype.getAssociatedValue=function(){return this._binding?this._binding.get():null},e.prototype.setAssociatedValue=function(e){this.inSet=!0;try{this._binding.set(e)}finally{this.inSet=!1}},e.prototype.getStyle=function(){return this._extraStyles},e.prototype.caption=function(){return this._caption},e.prototype.setCaption=function(e){return this._caption=e,this.handleLocalChange(),this},e.prototype.setIcon=function(e){this._icon=e,this.handleLocalChange()},e.prototype.getIcon=function(){return this._icon},e.prototype.setStyle=function(e,t){return this._extraStyles[e]=t,this.handleLocalChange(),this},e.prototype.removeStyle=function(e){delete this._extraStyles[e]},e.prototype.hasClass=function(e){return-1!=this._extraClasses.indexOf(e)},e.prototype.clearUI=function(){this._ui=null},e.prototype.applyTooltip=function(e){var t=A.hc(e).renderUI().innerHTML,n=this;this.tooltipComponentListener={changed:function(e){n.disposable.remove(n.tooltipHandle),n.tooltipHandle.dispose(),n.tooltipComponent&&n.applyTooltip(n.tooltipComponent)}},e.addComponentListener(this.tooltipComponentListener);var r=atom.tooltips.add(this.ui(),{title:'<div class="raml-console-tooltip">'+t+"</div>",delay:100,html:!0});this.tooltipHandle=r,this.disposable.add(r)},e.prototype.handleDataChanged=function(){},e.prototype.setTooltip=function(e){},e.prototype.disposeTooltipListeners=function(){this.tooltipComponent&&this.tooltipComponentListener&&(this.tooltipComponent.removeComponentListener(this.tooltipComponentListener),this.tooltipComponentListener=null,this.tooltipHandle.dispose(),this.disposable.remove(this.tooltipHandle))},e.prototype.dispose=function(){this.disposable.dispose(),this._children.forEach(function(e){return e.dispose()})},e.prototype.getPercentWidth=function(){return this._percentWidth},e.prototype.setPercentWidth=function(e){return this._percentWidth=e,this.handleLocalChange(),this},e.prototype.getPercentHeight=function(){return this._percentHeight},e.prototype.setPercentHeight=function(e){return this._percentHeight=e,this.handleLocalChange(),this},e.prototype.setDisplay=function(e){this._display=e,this.handleLocalChange()},e.prototype.getDisplay=function(){return this._display},e.prototype.addClass=function(e){return this._extraClasses.push(e),this._ui&&this._ui.classList.add(e),this},e.prototype.removeClass=function(e){this._extraClasses=this._extraClasses.filter(function(t){return t!=e}),this._ui&&this._ui.classList.remove(e)},e.prototype.addOnClickListener=function(e){this._onClickListeners.push(e),this.handleLocalChange()},e.prototype.removeOnClickListener=function(e){this._onClickListeners=this._onClickListeners.filter(function(t){return t!=e}),this.handleLocalChange()},e.prototype.ui=function(){return null==this._ui&&(this._ui=this.renderUI()),this._ui},e.prototype.refresh=function(){var e=this.renderUI();null!=this._ui&&null!=this._ui.parentNode&&this._ui.parentNode.replaceChild(e,this._ui),this._ui=e},e.prototype.setTagName=function(e){this._tagName=e},e.prototype.setBinding=function(e){this._binding=e,e.addListener(this._bListener),this.handleDataChanged()},e.prototype.getBinding=function(){return this._binding},e.prototype.selfInit=function(){},e.prototype.renderUI=function(){var e=this.selfRender();this._ui=e,this.firstInit||(this.selfInit(),this.firstInit=!0),this.customize(e),this._children.filter(function(e){return null!=e}).forEach(function(t){return e.appendChild(t.ui())});var t=this.selfRenderFooter();return t&&e.appendChild(t),e},e.prototype.customize=function(e){var t=this;if(this._icon){e.classList.contains("icon")?e.classList.remove(this._oldIcon):e.classList.add("icon");var n=o(this._icon);this._oldIcon=n,e.classList.add(n)}else e.classList.contains("icon")&&e.classList.remove(this._oldIcon);e.onfocus=function(e){t.focusListeners.forEach(function(e){return e(t)})},e.addEventListener("DOMNodeRemovedFromDocument",function(e){e.stopPropagation(),e.srcElement==t._ui&&t.dispose()}),this.tooltipComponent&&this.applyTooltip(this.tooltipComponent),this._onClickListeners.length>0||this._onAltClickListeners.length>0?e.onclick=function(e){if(!t.disabled()){var n;n=e.altKey?t._onAltClickListeners:t._onClickListeners,n.forEach(function(e){return e(t)}),e.stopPropagation()}}:e.onclick=null,this._onKeyDownListeners.length>0&&(e.onkeydown=function(e){t._onKeyDownListeners.forEach(function(n){return n(t,e)})}),this._onKeyUpListeners.length>0&&(e.onkeydown=function(e){t._onKeyUpListeners.forEach(function(n){return n(t,e)})}),this._onKeyPressListeners.length>0&&(e.onkeydown=function(e){t._onKeyPressListeners.forEach(function(n){return n(t,e)})});var r="";if(this._percentWidth&&(r+="width:"+this._percentWidth+"%;"),this._percentHeight&&(r+="width:"+this._percentHeight+"%;"),this._extraStyles)for(var i in this._extraStyles)r+=i+":"+this._extraStyles[i]+";";this.disabled()&&(r+="color: gray;text-decoration:none;"),this.padding_left&&(r+="padding-left:"+this.padding_left+"px;"),this.padding_right&&(r+="padding-right:"+this.padding_right+"px;"),this.margin_left&&(r+="margin-left:"+this.margin_left+"px;"),this.margin_right&&(r+="margin-right:"+this.margin_right+"px;"),this.margin_bottom&&(r+="margin-bottom:"+this.margin_bottom+"px;"),this.margin_right&&(r+="margin-top:"+this.margin_top+"px;"),0==this._display&&(r+="display:none"),e.setAttribute("style",r),this._extraClasses.forEach(function(t){return e.classList.add(t)})},e.prototype.selfRender=function(){return document.createElement(this._tagName)},e.prototype.selfRenderFooter=function(){return null},e.prototype.parent=function(){return this._parent},e.prototype.setParent=function(e){null!=this._parent&&this._parent.removeChild(this),this._parent=e},e.prototype.clear=function(){for(var e=0;e<this._children.length;e++)try{this._ui.removeChild(this._children[e].ui())}catch(t){}this._children=[]},e.prototype.addChild=function(e,t,n){if(void 0===t&&(t=null),null!=e){var r=this.ui();if(e.setParent(this),null==t)1==n||void 0==n?(r.appendChild(e.ui()),this._children.push(e)):(r.insertBefore(e.ui(),r.firstChild),this._children.splice(0,0,e));else{var i=t.ui();r.insertBefore(e.ui(),n?i.nextElementSibling:i),this._children.splice(this._children.indexOf(t),0,e)}this.changed()}},e.prototype.removeChild=function(e){if(this._children=this._children.filter(function(t){return t!=e}),this._ui)try{this._ui.removeChild(e.ui())}catch(t){}this.changed()},e.prototype.replaceChild=function(e,t){this.addChild(e,t),this.removeChild(t)},e.prototype.addComponentListener=function(e){this.componentListeners||(this.componentListeners=[]),this.componentListeners.push(e)},e.prototype.removeComponentListener=function(e){this.componentListeners&&(this.componentListeners=this.componentListeners.filter(function(t){return t!=e}))},e.prototype.handleLocalChange=function(){var e=this;this.componentListeners&&this.componentListeners.forEach(function(t){return t.changed(e)}),this._ui&&this.customize(this._ui)},e.prototype.changed=function(){this._parent&&this._parent.changed()},e.prototype.children=function(){return[].concat(this._children)},e.prototype.isAttached=function(){return this._parent?this._parent.isAttached():!1},e}();t.BasicComponent=R;var O=function(e){function t(t,n,r){e.call(this,"div",n),this._onchange=r,this._required=!1,this.value=!1,this.setCaption(t)}return T(t,e),t.prototype.getActualField=function(){return this},t.prototype.setLabelWidth=function(e){},t.prototype.setLabelHeight=function(e){this.getActualField().setStyle("line-height",e+"px")},t.prototype.setRequired=function(e){this._required=e},t.prototype.handleDataChanged=function(){return this.setValue(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this,n=this.ui();n.classList.add("checkbox"),n.classList.add("settings-view"),n.classList.add("pane-item");var r=document.createElement("input");r.type="checkbox",this.actualInput=r,r.checked=this.value,r.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e._onchange(e,n)};var i="check"+t.num++;r.id=i;var a=document.createElement("label");a.htmlFor=i,n.appendChild(a),a.appendChild(r);var o=document.createElement("div");o.classList.add("setting-title"),o.setAttribute("style","display:inline;"),o.textContent=this.caption(),a.appendChild(o);var s=document.createElement("div");s.classList.add("setting-description"),n.appendChild(s)},t.prototype.setValue=function(e){this.actualInput&&(this.actualInput.checked=e),this.value=e},t.prototype.getValue=function(){return this.actualInput.checked},t.prototype.refresh=function(){this.actualInput.value=this.caption()},t.num=0,t}(R);t.CheckBox=O;var L=function(e){function t(t,n,r,i){e.call(this,"div",r),this._rid=n,this._onchange=i,this._required=!1,this.value=!1,this.setCaption(t)}return T(t,e),t.prototype.getActualField=function(){return this},t.prototype.setLabelWidth=function(e){},t.prototype.setLabelHeight=function(e){},t.prototype.setRequired=function(e){this._required=e},t.prototype.handleDataChanged=function(){return this.setValue(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this,t=this.ui();t.classList.add("radio"),t.classList.add("settings-view"),t.classList.add("pane-item");var n=document.createElement("input");n.type="radio",this.actualInput=n,n.checked=this.value,n.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e._onchange(e,n)},n.name=this.id();var r=document.createElement("label");r.htmlFor=n.id,t.appendChild(r),r.appendChild(n);var i=document.createElement("div");i.classList.add("setting-title"),i.setAttribute("style","display:inline;"),i.textContent=this.caption(),r.appendChild(i);var a=document.createElement("div");a.classList.add("setting-description"),t.appendChild(a)},t.prototype.id=function(){return this._rid},t.prototype.setId=function(e){return this._rid=e,this},t.prototype.setValue=function(e){this.actualInput&&(this.actualInput.checked=e),this.value=e},t.prototype.getValue=function(){return this.actualInput.checked},t.prototype.refresh=function(){this.actualInput.value=this.caption()},t}(R);t.RadioButton=L;var k=function(e){function t(t,n,r){void 0===n&&(n=function(e){return e}),void 0===r&&(r=null),e.call(this,"div",r),this.onChange=n,this._options=[],this.setCaption(t)}return T(t,e),t.prototype.getOptions=function(){return this._options},t.prototype.setOptions=function(e){this._options=e,this.handleLocalChange()},t.prototype.handleLocalChange=function(){e.prototype.handleLocalChange.call(this),this._select&&(this._select.disabled=this.disabled())},t.prototype.handleDataChanged=function(){return this._value=this.getBinding().get(),this.ui()&&(this._select.value=this._value),e.prototype.handleDataChanged.call(this)},t.prototype.selfInit=function(){var e=this;this.ui().classList.add("settings-view"),this._select=document.createElement("select"),this.ui().appendChild(this._select),this._select.classList.add("form-control"),this._options.forEach(function(t){var n=document.createElement("option");n.text=t,n.value=t,e._select.appendChild(n)}),this._select.value=this._value,this._select.disabled=this.disabled(),this._select.onchange=function(t){var n=e.getValue();e.setAssociatedValue(n),e.onChange(e,n)}},t.prototype.getValue=function(){return this.ui()&&(this._value=this._select.value),this._value},t.prototype.setValue=function(e,t){this._value=e,this.ui()&&(this._select.value=e),t&&this.onChange(this,this.getValue())},t}(R);t.Select=k;var D=function(e){function t(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),e.call(this,t,r),this._text="","object"==typeof n?(this._binding=n,this._binding.addListener(this._bListener),this._text=this.getBinding().get()):this._text=n}return T(t,e),t.prototype.getText=function(){return this._text},t.prototype.setText=function(e,t){void 0===t&&(t=!0),this._text=e,t&&this.handleLocalChange()},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.caption=function(){return e.prototype.caption.call(this)?e.prototype.caption.call(this):this._text},t.prototype.customize=function(t){t.textContent=this._text,e.prototype.customize.call(this,t)},t}(R);t.TextElement=D;var U=function(e){function t(t,n,r){void 0===n&&(n=""),void 0===r&&(r=null),e.call(this,t,r),this._text="",this._text=n}return T(t,e),t.prototype.getText=function(){return this._text},t.prototype.setText=function(e){this._text=e,this.handleLocalChange()},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.customize=function(t){t.innerHTML=this._text,e.prototype.customize.call(this,t)},t}(R);t.InlineHTMLElement=U;var F=function(e){function t(t,n){void 0===t&&(t=""),void 0===n&&(n=null),e.call(this,"label",t,n)}return T(t,e),t}(D);t.Label=F;var j=function(e){function t(t){void 0===t&&(t=0),e.call(this,0==t?"div":"span"),this._layoutType=t,this.addClass(a(t))}return T(t,e),t.prototype.addChild=function(t,n){e.prototype.addChild.call(this,t,n),0==this._layoutType&&f(this._children)},t.prototype.renderUI=function(t){void 0===t&&(t=!0);var n=e.prototype.renderUI.call(this);return t&&0==this._layoutType&&f(this._children),n},t}(R);t.Panel=j;var V=function(e){function t(){e.apply(this,arguments)}return T(t,e),t.prototype.setLabelWidth=function(e){this.children().length>0&&this.children()[0].setLabelWidth(e)},t.prototype.setLabelHeight=function(e){},t}(j);t.WrapPanel=V,function(e){e[e.NORMAL=0]="NORMAL",e[e.EXTRA_SMALL=1]="EXTRA_SMALL",e[e.SMALL=2]="SMALL",e[e.LARGE=3]="LARGE"}(t.ButtonSizes||(t.ButtonSizes={}));t.ButtonSizes;!function(e){e[e.NO_HIGHLIGHT=0]="NO_HIGHLIGHT",e[e.PRIMARY=1]="PRIMARY",e[e.INFO=2]="INFO",e[e.SUCCESS=3]="SUCCESS",e[e.WARNING=4]="WARNING",e[e.ERROR=5]="ERROR"}(t.ButtonHighlights||(t.ButtonHighlights={}));t.ButtonHighlights;!function(e){e[e.NORMAL=0]="NORMAL",e[e.SMALLER=1]="SMALLER",e[e.SUBTLE=2]="SUBTLE",e[e.HIGHLIGHT=3]="HIGHLIGHT",e[e.INFO=4]="INFO",e[e.SUCCESS=5]="SUCCESS",e[e.WARNING=6]="WARNING",e[e.ERROR=7]="ERROR"}(t.TextClasses||(t.TextClasses={}));t.TextClasses;!function(e){e[e.NONE=0]="NONE",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.HIGHLIGHT_INFO=2]="HIGHLIGHT_INFO",e[e.HIGHLIGHT_SUCCESS=3]="HIGHLIGHT_SUCCESS",e[e.HIGHLIGHT_WARNING=4]="HIGHLIGHT_WARNING",e[e.HIGHLIGHT_ERROR=5]="HIGHLIGHT_ERROR"}(t.HighLightClasses||(t.HighLightClasses={}));t.HighLightClasses;!function(e){e[e.BLOCK=0]="BLOCK",e[e.INLINE_BLOCK=1]="INLINE_BLOCK",e[e.INLINE_BLOCK_TIGHT=2]="INLINE_BLOCK_TIGHT",e[e.BTN_GROUP=3]="BTN_GROUP"}(t.LayoutType||(t.LayoutType={}));t.LayoutType;!function(e){e[e.NONE=0]="NONE",e[e.ALERT=1]="ALERT",e[e.ALIGNMENT_ALIGN=2]="ALIGNMENT_ALIGN",e[e.ALIGNMENT_ALIGNED_TO=3]="ALIGNMENT_ALIGNED_TO",e[e.ALIGNMENT_UNALIGN=4]="ALIGNMENT_UNALIGN",e[e.ARROW_DOWN=5]="ARROW_DOWN",e[e.ARROW_LEFT=6]="ARROW_LEFT",e[e.ARROW_RIGHT=7]="ARROW_RIGHT",e[e.ARROW_SMALL_DOWN=8]="ARROW_SMALL_DOWN",e[e.ARROW_SMALL_LEFT=9]="ARROW_SMALL_LEFT",e[e.ARROW_SMALL_RIGHT=10]="ARROW_SMALL_RIGHT",e[e.ARROW_SMALL_UP=11]="ARROW_SMALL_UP",e[e.ARROW_UP=12]="ARROW_UP",e[e.BEER=13]="BEER",e[e.BOOK=14]="BOOK",e[e.BOOKMARK=15]="BOOKMARK",e[e.BRIEFCASE=16]="BRIEFCASE",e[e.BROADCAST=17]="BROADCAST",e[e.BROWSER=18]="BROWSER",e[e.BUG=19]="BUG",e[e.CALENDAR=20]="CALENDAR",e[e.CHECK=21]="CHECK",e[e.CHECKLIST=22]="CHECKLIST",e[e.CHEVRON_DOWN=23]="CHEVRON_DOWN",e[e.CHEVRON_LEFT=24]="CHEVRON_LEFT",e[e.CHEVRON_RIGHT=25]="CHEVRON_RIGHT",e[e.CHEVRON_UP=26]="CHEVRON_UP",e[e.CIRCLE_SLASH=27]="CIRCLE_SLASH",e[e.CIRCUIT_BOARD=28]="CIRCUIT_BOARD",e[e.CLIPPY=29]="CLIPPY",e[e.CLOCK=30]="CLOCK",e[e.CLOUD_DOWNLOAD=31]="CLOUD_DOWNLOAD",e[e.CLOUD_UPLOAD=32]="CLOUD_UPLOAD",e[e.CODE=33]="CODE",e[e.COLOR_MODE=34]="COLOR_MODE",e[e.COMMENT_ADD=35]="COMMENT_ADD",e[e.COMMENT=36]="COMMENT",e[e.COMMENT_DISCUSSION=37]="COMMENT_DISCUSSION",e[e.CREDIT_CARD=38]="CREDIT_CARD",e[e.DASH=39]="DASH",e[e.DASHBOARD=40]="DASHBOARD",e[e.DATABASE=41]="DATABASE",e[e.DEVICE_CAMERA=42]="DEVICE_CAMERA",e[e.DEVICE_CAMERA_VIDEO=43]="DEVICE_CAMERA_VIDEO",e[e.DEVICE_DESKTOP=44]="DEVICE_DESKTOP",e[e.DEVICE_MOBILE=45]="DEVICE_MOBILE",e[e.DIFF=46]="DIFF",e[e.DIFF_ADDED=47]="DIFF_ADDED",e[e.DIFF_IGNORED=48]="DIFF_IGNORED",e[e.DIFF_MODIFIED=49]="DIFF_MODIFIED",e[e.DIFF_REMOVED=50]="DIFF_REMOVED",e[e.DIFF_RENAMED=51]="DIFF_RENAMED",e[e.ELLIPSIS=52]="ELLIPSIS",e[e.EYE_UNWATCH=53]="EYE_UNWATCH",e[e.EYE_WATCH=54]="EYE_WATCH",e[e.EYE=55]="EYE",e[e.FILE_BINARY=56]="FILE_BINARY",e[e.FILE_CODE=57]="FILE_CODE",e[e.FILE_DIRECTORY=58]="FILE_DIRECTORY",e[e.FILE_MEDIA=59]="FILE_MEDIA",e[e.FILE_PDF=60]="FILE_PDF",e[e.FILE_SUBMODULE=61]="FILE_SUBMODULE",e[e.FILE_SYMLINK_DIRECTORY=62]="FILE_SYMLINK_DIRECTORY",e[e.FILE_SYMLINK_FILE=63]="FILE_SYMLINK_FILE",e[e.FILE_TEXT=64]="FILE_TEXT",e[e.FILE_ZIP=65]="FILE_ZIP",e[e.FLAME=66]="FLAME",e[e.FOLD=67]="FOLD",e[e.GEAR=68]="GEAR",e[e.GIFT=69]="GIFT",e[e.GIST=70]="GIST",e[e.GIST_SECRET=71]="GIST_SECRET",e[e.GIT_BRANCH_CREATE=72]="GIT_BRANCH_CREATE",e[e.GIT_BRANCH_DELETE=73]="GIT_BRANCH_DELETE",e[e.GIT_BRANCH=74]="GIT_BRANCH",e[e.GIT_COMMIT=75]="GIT_COMMIT",e[e.GIT_COMPARE=76]="GIT_COMPARE",e[e.GIT_MERGE=77]="GIT_MERGE",e[e.GIT_PULL_REQUEST_ABANDONED=78]="GIT_PULL_REQUEST_ABANDONED",e[e.GIT_PULL_REQUEST=79]="GIT_PULL_REQUEST",e[e.GLOBE=80]="GLOBE",e[e.GRAPH=81]="GRAPH",e[e.HEART=82]="HEART",e[e.HISTORY=83]="HISTORY",e[e.HOME=84]="HOME",e[e.HORIZONTAL_RULE=85]="HORIZONTAL_RULE",e[e.HOURGLASS=86]="HOURGLASS",e[e.HUBOT=87]="HUBOT",e[e.INBOX=88]="INBOX",e[e.INFO=89]="INFO",e[e.ISSUE_CLOSED=90]="ISSUE_CLOSED",e[e.ISSUE_OPENED=91]="ISSUE_OPENED",e[e.ISSUE_REOPENED=92]="ISSUE_REOPENED",e[e.JERSEY=93]="JERSEY",e[e.JUMP_DOWN=94]="JUMP_DOWN",e[e.JUMP_LEFT=95]="JUMP_LEFT",e[e.JUMP_RIGHT=96]="JUMP_RIGHT",e[e.JUMP_UP=97]="JUMP_UP",e[e.KEY=98]="KEY",e[e.KEYBOARD=99]="KEYBOARD",e[e.LAW=100]="LAW",e[e.LIGHT_BULB=101]="LIGHT_BULB",e[e.LINK=102]="LINK",e[e.LINK_EXTERNAL=103]="LINK_EXTERNAL",e[e.LIST_ORDERED=104]="LIST_ORDERED",e[e.LIST_UNORDERED=105]="LIST_UNORDERED",e[e.LOCATION=106]="LOCATION",e[e.GIST_PRIVATE=107]="GIST_PRIVATE",e[e.MIRROR_PRIVATE=108]="MIRROR_PRIVATE",e[e.GIT_FORK_PRIVATE=109]="GIT_FORK_PRIVATE",e[e.LOCK=110]="LOCK",e[e.LOGO_GITHUB=111]="LOGO_GITHUB",e[e.MAIL=112]="MAIL",e[e.MAIL_READ=113]="MAIL_READ",e[e.MAIL_REPLY=114]="MAIL_REPLY",e[e.MARK_GITHUB=115]="MARK_GITHUB",e[e.MARKDOWN=116]="MARKDOWN",e[e.MEGAPHONE=117]="MEGAPHONE",e[e.MENTION=118]="MENTION",e[e.MICROSCOPE=119]="MICROSCOPE",e[e.MILESTONE=120]="MILESTONE",e[e.MIRROR_PUBLIC=121]="MIRROR_PUBLIC",e[e.MIRROR=122]="MIRROR",e[e.MORTAR_BOARD=123]="MORTAR_BOARD",e[e.MOVE_DOWN=124]="MOVE_DOWN",e[e.MOVE_LEFT=125]="MOVE_LEFT",e[e.MOVE_RIGHT=126]="MOVE_RIGHT",e[e.MOVE_UP=127]="MOVE_UP",e[e.MUTE=128]="MUTE",e[e.NO_NEWLINE=129]="NO_NEWLINE",e[e.OCTOFACE=130]="OCTOFACE",e[e.ORGANIZATION=131]="ORGANIZATION",e[e.PACKAGE=132]="PACKAGE",e[e.PAINTCAN=133]="PAINTCAN",e[e.PENCIL=134]="PENCIL",e[e.PERSON_ADD=135]="PERSON_ADD",e[e.PERSON_FOLLOW=136]="PERSON_FOLLOW",e[e.PERSON=137]="PERSON",e[e.PIN=138]="PIN",e[e.PLAYBACK_FAST_FORWARD=139]="PLAYBACK_FAST_FORWARD",e[e.PLAYBACK_PAUSE=140]="PLAYBACK_PAUSE",e[e.PLAYBACK_PLAY=141]="PLAYBACK_PLAY",e[e.PLAYBACK_REWIND=142]="PLAYBACK_REWIND",e[e.PLUG=143]="PLUG",e[e.REPO_CREATE=144]="REPO_CREATE",e[e.GIST_NEW=145]="GIST_NEW",e[e.FILE_DIRECTORY_CREATE=146]="FILE_DIRECTORY_CREATE",e[e.FILE_ADD=147]="FILE_ADD",e[e.PLUS=148]="PLUS",e[e.PODIUM=149]="PODIUM",e[e.PRIMITIVE_DOT=150]="PRIMITIVE_DOT",e[e.PRIMITIVE_SQUARE=151]="PRIMITIVE_SQUARE",e[e.PULSE=152]="PULSE",e[e.PUZZLE=153]="PUZZLE",e[e.QUESTION=154]="QUESTION",e[e.QUOTE=155]="QUOTE",e[e.RADIO_TOWER=156]="RADIO_TOWER",e[e.REPO_DELETE=157]="REPO_DELETE",e[e.REPO=158]="REPO",e[e.REPO_CLONE=159]="REPO_CLONE",e[e.REPO_FORCE_PUSH=160]="REPO_FORCE_PUSH",e[e.GIST_FORK=161]="GIST_FORK",e[e.REPO_FORKED=162]="REPO_FORKED",e[e.REPO_PULL=163]="REPO_PULL",e[e.REPO_PUSH=164]="REPO_PUSH",e[e.ROCKET=165]="ROCKET",e[e.RSS=166]="RSS",e[e.RUBY=167]="RUBY",e[e.SCREEN_FULL=168]="SCREEN_FULL",e[e.SCREEN_NORMAL=169]="SCREEN_NORMAL",e[e.SEARCH_SAVE=170]="SEARCH_SAVE",e[e.SEARCH=171]="SEARCH",e[e.SERVER=172]="SERVER",e[e.SETTINGS=173]="SETTINGS",e[e.LOG_IN=174]="LOG_IN",e[e.SIGN_IN=175]="SIGN_IN",e[e.LOG_OUT=176]="LOG_OUT",e[e.SIGN_OUT=177]="SIGN_OUT",e[e.SPLIT=178]="SPLIT",e[e.SQUIRREL=179]="SQUIRREL",e[e.STAR_ADD=180]="STAR_ADD",e[e.STAR_DELETE=181]="STAR_DELETE",e[e.STAR=182]="STAR",e[e.STEPS=183]="STEPS",e[e.STOP=184]="STOP",e[e.REPO_SYNC=185]="REPO_SYNC",e[e.SYNC=186]="SYNC",e[e.TAG_REMOVE=187]="TAG_REMOVE",e[e.TAG_ADD=188]="TAG_ADD",e[e.TAG=189]="TAG",e[e.TELESCOPE=190]="TELESCOPE",e[e.TERMINAL=191]="TERMINAL",e[e.THREE_BARS=192]="THREE_BARS",e[e.THUMBSDOWN=193]="THUMBSDOWN",e[e.THUMBSUP=194]="THUMBSUP",e[e.TOOLS=195]="TOOLS",e[e.TRASHCAN=196]="TRASHCAN",e[e.TRIANGLE_DOWN=197]="TRIANGLE_DOWN",e[e.TRIANGLE_LEFT=198]="TRIANGLE_LEFT",e[e.TRIANGLE_RIGHT=199]="TRIANGLE_RIGHT",e[e.TRIANGLE_UP=200]="TRIANGLE_UP",e[e.UNFOLD=201]="UNFOLD",e[e.UNMUTE=202]="UNMUTE",e[e.VERSIONS=203]="VERSIONS",e[e.REMOVE_CLOSE=204]="REMOVE_CLOSE",e[e.X=205]="X",e[e.ZAP=206]="ZAP"}(t.Icon||(t.Icon={}));t.Icon;t.iconToClass=o;var K=function(e){function t(t,n,r,i,a){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=null),e.call(this,"button",i),this._size=n,this._highlight=r,this._text="",a&&this.addOnClickListener(a),this._text=t}return T(t,e),t.sizeString=function(e){switch(e){case 0:return"normal";case 1:return"btn-xs";case 2:return"btn-sm";case 3:return"btn-lg";default:return null}},t.highlightString=function(e){switch(e){case 0:return"no";case 1:return"btn-primary";case 2:return"btn-info";case 4:return"btn-warning";case 5:return"btn-error";case 3:return"btn-success";default:return null}},t.prototype.getText=function(){return this._text},t.prototype.setText=function(e){this._text=e,this._ui.value=e},t.prototype.handleDataChanged=function(){this.setText(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.customize=function(n){e.prototype.customize.call(this,n),n.textContent=this._text;var r=t.highlightString(this._highlight);this._oldHighlightClass&&n.classList.remove(this._oldHighlightClass),this._oldHighlightClass=r,n.classList.add(r),this._oldSizeClass&&n.classList.remove(this._oldSizeClass);var i=t.sizeString(this._size);this._oldSizeClass=i,n.classList.add(i),n.classList.add("btn")},t}(R);t.Button=K;var B=function(e){function t(t,n,r,i,a){e.call(this,t,n,r,i,function(e){e.toggle(),a(e)}),this._selected=!1,this._defaultHighlight=r}return T(t,e),t.prototype.getSelected=function(){return this._selected},t.prototype.handleDataChanged=function(){this.setSelected(this.getBinding().get()),e.prototype.handleDataChanged.call(this)},t.prototype.setSelected=function(e){return this._selected=e,this._highlight=e?2:this._defaultHighlight,this.handleLocalChange(),this},t.prototype.toggle=function(){this.setSelected(!this._selected)},t}(K);t.ToggleButton=B;var q=function(){function e(e){this._renderFunc=e}return e.prototype.render=function(e){return this._renderFunc(e)},e}();t.SimpleRenderer=q;var H=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.source=e,this.value=t,this.property=n}return e}();t.PropertyChangeEvent=H;var G=function(e){function t(){e.apply(this,arguments),this._contentui=new R("ul"),this._children=[this._contentui]}return T(t,e),t.prototype.getInput=function(){return this._model},t.prototype.setInput=function(e,t){void 0===t&&(t=!0),this._model=e;try{this.smartUpdateContent()}catch(n){console.log("Error at setInput: ",n)}},t.prototype.updateContent=function(){this.refresh()},t.prototype.smartUpdateContent=function(){this.refresh()},t}(R);t.Viewer=G;var W=function(e){function t(t,n){var r=this;e.call(this,"div",null),this._cp=t,this.renderer=n,this.selectionListeners=[],this.viewerFilters=[],this.lst=function(e){r.refresh()},this.currentSelection=[],this.currentSelectionIds=[],this.eh=function(e){r.updateContent()},t.init(this),this.renderer instanceof fe&&A.renderer.addListener(this.eh)}return T(t,e),t.prototype.setBasicLabelFunction=function(e){this.basicLabelProvider=e},t.prototype.getBasicLabelFunction=function(){return this.basicLabelProvider},t.prototype.setKeyProvider=function(e){this._keyProvider=e},t.prototype.getKeyProvider=function(){return this._keyProvider},t.prototype.nodeKey=function(e){return this._keyProvider?this._keyProvider.key(e):e?e.id&&"function"==typeof e.id?e.id():e:""},t.prototype.addViewerFilter=function(e){this.viewerFilters.push(e),e.addListener(this.lst),this.refresh()},t.prototype.removeViewerFilter=function(e){this.viewerFilters=this.viewerFilters.filter(function(t){return t!=e}),e.removeListener(this.lst),this.refresh()},t.prototype.getViewerFilters=function(){return[].concat(this.viewerFilters)},t.prototype.setViewerSorder=function(e){this.viewerSorter=e,this.refresh()},t.prototype.getViewerSorter=function(){return this.viewerSorter},t.prototype.addSelectionListener=function(e){this.selectionListeners.push(e)},t.prototype.removeSelectionListener=function(e){this.selectionListeners=this.selectionListeners.filter(function(t){return t!=e})},t.prototype.setSelectionInternal=function(e){var t=this;if(this.currentSelection!=e){var n=new Y(this.currentSelection),r=new Y(e),i=new J(this,n,r);this.selectionListeners.forEach(function(e){return e.selectionChanged(i)}),this.currentSelection=e,this.currentSelectionIds=e.map(function(e){return t.nodeKey(e)})}},t.prototype.getSelection=function(){return new Y([].concat(this.currentSelection))},t.prototype.getRenderedContent=function(e){var t=this,n=this.unfilteredContent(e);if(n&&Array.isArray(n)){var r=n;return this.viewerFilters.forEach(function(n){r=r.filter(function(r){return n.accept(t,r,e)})}),this.viewerSorter&&(r=E.sortBy(r,function(n){return t.viewerSorter.order(t,n,e)})),r}return n},t.prototype.unfilteredContent=function(e){return this._cp.elements(this.getInput())},t.prototype.processChildren=function(e,t){return null},t.prototype.dispose=function(){this.renderer instanceof fe&&A.renderer.removeListener(this.eh),e.prototype.dispose.call(this),this._cp.dispose()},t}(G);t.StructuredViewer=W;var z=function(){function e(){}return e.prototype.elements=function(e){return e},e.prototype.init=function(e){},e.prototype.dispose=function(){},e}();t.ArrayContentProvider=z;var Y=function(){function e(e){this.elements=[],Array.isArray(e)?this.elements=e:this.elements=[e]}return e.prototype.isEmpty=function(){return 0==this.elements.length},e}();t.StructuredSelection=Y;var J=function(){function e(e,t,n){this.source=e,this.oldSelection=t,this.selection=n}return e}();t.SelectionChangedEvent=J;var $=function(){function e(e,t){void 0===t&&(t=null),this._label=e,this.ic=t}return e.prototype.render=function(e){var t=new F(this._label(e),this.ic?this.ic(e):null);return t},e}();t.LabelRenderer=$;var X=function(e){function t(){e.apply(this,arguments),this._panelCustomized=!1,this._scrollTo=0,this.multipleSelect=!1,this.selectedComponents=[]}return T(t,e),t.prototype.getTreeModel=function(){return this.treeModel||(this.treeModel=new I.TreeModel(this._contentui)),this.treeModel},t.prototype.setBasicLabelFunction=function(e){this.basicLabelProvider=e},t.prototype.clear=function(){var e=this.getTreeModel(),t=e.get(null);t.container.children().forEach(function(e){return t.container.removeChild(e)}),this._selected=null,this.selectedComponents=[],this.getTreeModel().clear()},t.prototype.put=function(e,t,n,r){void 0===n&&(n=!1);var i=this.treeModel.get(t),a=this.treeModel.get(r,i),o=a?a.view:null;this.getTreeModel().insert(e,i,a,n);var s=this.renderer.render(e),u=this.wrapChild(e,s);1==n&&null==r&&(n=!1,o=i.container.children()[0]),i.container.addChild(u,o,n)},t.prototype.insertBefore=function(e,t,n){return this.put(e,t,!1,n)},t.prototype.insertAfter=function(e,t,n){return this.put(e,t,!0,n)},t.prototype.remove=function(e){var t=this.treeModel.get(e);t&&(this.unselectItem(t.view),t.parent.container.removeChild(t.view),this.treeModel.remove(t))},t.prototype.setComparator=function(e){this._cmp=e},t.prototype.getComparator=function(){return this._cmp?this._cmp:function(e,t){return null!=e.hashkey&&e.__hashkey__==t.__hashkey__}},t.prototype.propagateHashKey=function(e,t){if(!t.__hashkey__)if("function"==typeof t.hashkey)t.__hashkey__=t.hashkey();else if(this.getBasicLabelFunction()){var n=this.getBasicLabelFunction()(t);t.__hashkey__=e?e.__hashkey__+"::"+n:n}},t.prototype.smartUpdateContent=function(e){var t=this;void 0===e&&(e=null);var n=this.getRenderedContent(e);if(n&&Array.isArray(n)){this.customizePanel();var r=n,i=this.getTreeModel().get(e).children.map(function(e){return e.data});r.forEach(function(n){return t.propagateHashKey(e,n)});var a=N.diff(r,i,this.getComparator()),o=null;a.forEach(function(n){switch(n.type){case"+":t.insertAfter(n.element,e,o),o=n.element;break;case"-":t.remove(n.element);break;case"=":t.treeModel.patch(i[n.bi],o=r[n.ai]),t.smartUpdateContent(o);break;default:throw"That should not ever happen. (DIFF_CORRUPTED_SMART_UPDATE_CONTENT)"}})}},t.prototype.customizePanel=function(){var e=this;if(1!=this._panelCustomized){this._panelCustomized=!0;var t=this._contentui.ui();t.onkeydown=function(t){return e.handleKey(t)},t.classList.add("focusable-panel"),
t.classList.add("list-group"),t.tabIndex=-1}},t.prototype.tryScrollToSelected=function(){try{for(var e=this.parent();e&&!(e instanceof C.Scrollable);)e=e.parent();var t=e,n=t.size(),r=this._selected.ui().offsetTop;r<n.top?t.scroll(r-40,0):r+this._selected.ui().clientHeight>n.bottom&&t.scroll(r-(n.bottom-n.top)+80,0)}catch(i){}},t.prototype.handleKey=function(e){40==e.keyCode&&this.navigateDown(),38==e.keyCode&&this.navigateUp()},t.prototype.navigateDown=function(){},t.prototype.navigateUp=function(){},t.prototype.focusPane=function(){this._contentui.ui().focus()},t.prototype.wrapChild=function(e,t){var n=this,r=new R("li");return r.setBinding(new x(e)),r.addChild(t),r.addOnClickListener(function(e){n.selectItem(e)}),E.find(this.currentSelectionIds,function(t){return t==n.nodeKey(e)})&&(r.addClass("selected"),this._selected=r),this.getTreeModel().registerViews(e,r,null),r},t.prototype.setSelection=function(e){if(this.ui()){var t=this.treeModel.get(e);return null==t?!1:(this.selectItem(t.view),!0)}return this.setSelectionInternal([e]),!0},t.prototype.setMultipleSelect=function(e){this.multipleSelect=e},t.prototype.isMultipleSelect=function(){return this.multipleSelect},t.prototype.unselectItem=function(e){null!=this._selected&&(this.multipleSelect?-1!=this.selectedComponents.indexOf(e)&&(e.removeClass("selected"),this.selectedComponents=this.selectedComponents.filter(function(t){return t!=e}),this.setSelectionInternal(this.selectedComponents.map(function(e){return e.getBinding().get()}))):this._selected==e&&(this._selected.removeClass("selected"),this.setSelectionInternal([])))},t.prototype.selectItem=function(e){this.multipleSelect?-1!=this.selectedComponents.indexOf(e)?this.unselectItem(e):(e.addClass("selected"),this.selectedComponents.push(e),this.tryScrollToSelected(),this.setSelectionInternal(this.selectedComponents.map(function(e){return e.getBinding().get()}))):(this._selected&&this._selected.removeClass("selected"),e.addClass("selected"),this._selected=e,this.tryScrollToSelected(),this.setSelectionInternal([e.getBinding().get()]))},t}(W);t.ListView=X;var Q=function(){function e(e){this._objectToChildren=e}return e.prototype.hasChildren=function(e){return this.children(e).length>0},e.prototype.children=function(e){return this._objectToChildren(e)},e.prototype.elements=function(e){return e instanceof Array?e:this.children(e)},e.prototype.init=function(){},e.prototype.dispose=function(){},e}();t.DefaultTreeContentProvider=Q,t.listSection=s,t.list=u;var Z=function(){function e(){}return e}();t.NodeWithKey=Z;var ee=function(e){function t(t,n,r){e.call(this,t,n),this._tcp=t,this.renderer=n,this._chhNum=100,this._expandedNodes=[],r&&this.setBasicLabelFunction(r)}return T(t,e),t.prototype.getComparator=function(){var t=this,n=e.prototype.getComparator.call(this);return null==n?null:function(e,r){return n(e,r)&&t._tcp.hasChildren(e)==t._tcp.hasChildren(r)}},t.prototype.customizePanel=function(){var e=this;if(1!=this._panelCustomized){this._panelCustomized=!0;var t=this._contentui.ui();t.onkeydown=function(t){return e.handleKey(t)},t.classList.add("focusable-panel"),t.classList.add("list-tree"),t.classList.add("has-collapsable-children"),t.tabIndex=-1}},t.prototype.isExpanded=function(e){var t=-1!=this._expandedNodes.indexOf(this.nodeKey(e));return t},t.prototype.getExpanded=function(){return[].concat(this._expandedNodes)},t.prototype.setSelection=function(t){var n=e.prototype.setSelection.call(this,t);return n&&(this.setExpanded(t,!0),this.tryScrollToSelected()),n},t.prototype.setExpanded=function(e,t){if(null!=e){var n=this.getTreeModel().get(e);if(null!=n){var r=n.view,i=n.parent?n.parent.data:null;if(t)this.isExpanded(e)||(this.setExpanded(i,t),this._expandedNodes.push(this.nodeKey(e)),r.addClass("expanded"),r.removeClass("collapsed"));else if(this.isExpanded(e)){var a=this.nodeKey(e);this._expandedNodes=this._expandedNodes.filter(function(e){return e!=a}),r.removeClass("expanded"),r.addClass("collapsed")}}}},t.prototype.wrapChild=function(t,n){var r=this;if(this._tcp.hasChildren(t)){var i=new R("div"),a=e.prototype.wrapChild.call(this,t,i);a.addClass("list-nested-item"),i.addClass("list-item"),i.setStyle("display","inline"),i.addChild(n),this.isExpanded(t)||a.addClass("collapsed"),a.addOnClickListener(function(e){e.hasClass("collapsed")?(e.removeClass("collapsed"),r._expandedNodes.push(r.nodeKey(t))):(e.addClass("collapsed"),r._expandedNodes=r._expandedNodes.filter(function(e){return e!=r.nodeKey(t)}))});var o=new R("ul");return o.addClass("list-tree"),a.addChild(o),this.getTreeModel().registerViews(t,a,o),this.smartUpdateContent(t),a}var a=e.prototype.wrapChild.call(this,t,n);return a.addClass("list-item"),a},t.prototype.unfilteredContent=function(t){return t?this._tcp.children(t):e.prototype.unfilteredContent.call(this,t)},t.prototype.tryExpand=function(){var e=this,t=this.getSelection();t.elements.forEach(function(t){return e.setExpanded(t,!0)})},t.prototype.tryCollapse=function(){var e=this,t=this.getSelection();t.elements.forEach(function(t){return e.setExpanded(t,!1)})},t.prototype.navigateDown=function(){},t.prototype.navigateUp=function(){},t.prototype.handleKey=function(t){e.prototype.handleKey.call(this,t),39==t.keyCode&&this.tryExpand(),37==t.keyCode&&this.tryCollapse()},t.prototype.handleDataChanged=function(){var e=(this.getInput(),this.getBinding().get());this.setInput(e,!0)},t}(X);t.TreeViewer=ee,t.h1=l,t.h2=c,t.h3=p,t.applyStyling=d;var te=function(e){function t(t,n){e.call(this,"atom-text-editor",t),this._onchange=n,this.mini=!0,this._txt=this.getBinding().get()}return T(t,e),t.prototype.setOnChange=function(e){this._onchange=e},t.prototype.setGrammar=function(e){this.grammar=e,this.ui()&&this.innerSetGrammar()},t.prototype.innerSetGrammar=function(){if(this.grammar){var e=this.ui().getModel(),t=m(this.grammar);e.setGrammar(t)}},t.prototype.setMini=function(e){this.mini=e},t.prototype.isMini=function(){return this.mini},t.prototype.selectAll=function(){this.ui().getModel().selectAll()},t.prototype.selectNone=function(){this.ui().getModel().setSelectedScreenRange([[0,0],[0,0]])},t.prototype.setPlaceholder=function(e){this.ui().getModel().setPlaceholderText(e)},t.prototype.placeholder=function(){return this.ui().getModel().getPlaceholderText()},t.prototype.setSoftWrapped=function(e){return this.ui().getModel().setSoftWrapped(e)},t.prototype.customize=function(t){t.textContent=this.getText(),this.mini&&t.setAttribute("mini","");var n=this.ui().getModel(),r=n.emitter.handlersByEventName["did-change"],i=this;this.innerSetGrammar(),n.emitter.handlersByEventName["did-change"]=[function(e){r[0](e),i.setAssociatedValue(i.getValue()),i._onchange(i,i.getValue())}],e.prototype.customize.call(this,t)},t.prototype.setText=function(t,n){if(void 0===n&&(n=!0),this.ui()){var r=this.ui().getModel();r.setText(t)}e.prototype.setText.call(this,t,n)},t.prototype.handleDataChanged=function(){var t=this.getBinding().get();return this.setText(t?""+t:""),e.prototype.handleDataChanged.call(this)},t.prototype.getValue=function(){return this.ui().getModel().getText()},t}(D);t.AtomEditorElement=te,t.input=h,t.alignComponents=f;var ne=function(e){function t(){e.apply(this,arguments)}return T(t,e),t.prototype.getBinding=function(){return this._actualField.getBinding()},t.prototype.setBinding=function(e){this._actualField.setBinding(e)},t.prototype.getActualField=function(){return this._actualField},t.prototype.addFocusListener=function(e){return this._actualField.addFocusListener(e)},t.prototype.removeFocusListener=function(e){return this._actualField.addFocusListener(e)},t}(R);t.AbstractWrapEditor=ne;var re=function(e){function t(t,n){void 0===n&&(n=1),e.call(this,"span",null),this._required=!1,this.setCaption(t),this.createLabel(t)}return T(t,e),t.prototype.setRequired=function(e){this._required=e,this._textLabel&&(this._required?this._rlab?this._rlab.setDisplay(!0):(this._rlab=A.label("*",null,3).pad(3,0),this._textLabelPanel.addChild(this._rlab)):this._rlab&&this._rlab.setDisplay(!1)),this.handleLocalChange()},t.prototype.setLabelWidth=function(e){this._textLabelPanel.setStyle("width",e+"ch")},t.prototype.setLabelHeight=function(e){this._textLabel.setStyle("margin-top","6px")},t.prototype.selfInit=function(){this._actualField.setStyle("flex","1"),this.setPercentWidth(100),this.setStyle("display","flex"),this.addChild(this._textLabelPanel),this.addChild(this._actualField)},t.prototype.hideLabel=function(){this._textLabelPanel.setStyle("width","0px"),this._textLabelPanel.setStyle("margin-right","0px"),this.setStyle("margin-right","0px")},t.prototype.makeLabelNextToField=function(){this._textLabelPanel.setStyle("margin-right","0px")},t.prototype.createLabel=function(e){this._textLabel=A.label(this.caption()),this._textLabelPanel=A.hc(this._textLabel),this._textLabelPanel.addChild(this._textLabel),this.setRequired(this._required),this._textLabelPanel.setStyle("float","left")},t}(ne),ie=function(e){function t(){e.call(this,"div")}return T(t,e),t.prototype.selfRender=function(){return e.prototype.selfRender.call(this)},t.prototype.createBinding=function(){return new x},t.prototype.setActualField=function(e,t){if(null!=this._actualField&&this._actualField.ui()){var n=this._actualField.ui(),r=this._actualField.getBinding().get();e.getBinding().set(t(r));var i=this.ui(),a=e.ui();i.replaceChild(a,n),this.removeChild(this._actualField)}this._actualField=e,this.addChild(e)},t}(ne);t.WrapEditor=ie;var ae=function(){function e(e,t,n){this.f=e,this.s=t,this.active=n}return e.prototype.get=function(){var e=this.active.get();return this.active==this.f&&this.firstConverter&&(e=this.firstConverter(e)),this.active==this.s&&this.secondConverter&&(e=this.secondConverter(e)),e},e.prototype.set=function(e){this.active.set(e)},e.prototype.addValidator=function(e){},e.prototype.removeValidator=function(e){},e.prototype.addStatusListener=function(e){},e.prototype.removeStatusListener=function(e){},e.prototype.status=function(){return this.active.status()},e.prototype.addListener=function(e){this.f.addListener(e),this.s.addListener(e)},e.prototype.removeListener=function(e){this.f.removeListener(e),this.s.removeListener(e)},e}(),oe=function(e){function t(t){e.call(this),this.host=t}return T(t,e),t.prototype.setPlusVisible=function(e){var t=this;e?this.plus?this.plus.setDisplay(!0):(this.plus=A.a("+",function(e){t.host.createElementUI(),t.host.updateSigns()}),this.addChild(this.plus)):this.plus&&this.plus.setDisplay(!1)},t.prototype.setMinusVisible=function(e){var t=this;if(e)if(this.minus)this.minus.setDisplay(!0);else{var n=A.a("-",function(e){t.host._actualField.removeChild(t),t.host.containers=t.host.containers.filter(function(e){return e!=t}),t.host.updateSigns()});this.minus=n,this.addChild(n)}else this.minus&&(this.minus.setDisplay(!1),this.minus=null)},t}(j);t.StuffWithButtons=oe;var se=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._controller=i,this.containers=[],this._actualField=new j;var o=this._controller.decompose(n);o.forEach(function(e){a.createElementUI(e)}),this.updateSigns()}return T(t,e),t.prototype.updateSigns=function(){this.containers.forEach(function(e){return e.setPlusVisible(!1)}),0==this.containers.length&&this.createElementUI(null),this.containers[this.containers.length-1].setMinusVisible(!0),this.containers[this.containers.length-1].setPlusVisible(!0),1==this.containers.length&&this.containers[0].setMinusVisible(!1),this.getBinding().set(this._controller.compose(this.containers.map(function(e){return e.embedded.getBinding().get()})))},t.prototype.createElementUI=function(e){var t=this,n=this._controller.createNewField();n.getBinding().set(e),n.getBinding().addListener(function(e){n.getBinding().get();t.getBinding().set(t._controller.compose(t.containers.map(function(e){return e.embedded.getBinding().get()})))});var r=new oe(this);return r.addChild(n),r.embedded=n,r.setMinusVisible(!0),r.setPlusVisible(!0),this._actualField.addChild(r),this.containers.push(r),r},t}(re);t.MultiValueField=se;var ue=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._controller=i,this._actualField=new j,this.hideLabel();var o=this._controller.createBasicField();this.basic=o;var s=this._controller.createDetailsField();this._actualField.addChild(o),this._actualField.addChild(s),this.defails=s;var u=this._controller.getBasicPart(n);o.getBinding().set(u),s.setDisplay(this._controller.isDetailsVisible(u,n)),o.getBinding().addListener(function(e){var t=a.getBinding().get(),n=o.getBinding().get();s.setDisplay(a._controller.isDetailsVisible(n,t)),a._controller.updateDetails(n,t,s)})}return T(t,e),t.prototype.getBinding=function(){return this._binding},t.prototype.handleDataChanged=function(){var t=this.getBinding().get(),n=this._controller.getBasicPart(t);return this.basic.getBinding().set(n),this.defails.setDisplay(this._controller.isDetailsVisible(n,t)),this._controller.updateDetails(n,t,this.defails),e.prototype.handleDataChanged.call(this)},t}(re);t.FieldWithCustomization=ue;var le=function(e){function t(t,n,r,i){var a=this;e.call(this,t,1),this._config=i,this.isFirst=!1,this._actualField=new ie;var o=!1;2!=i.firstValidator(n).code?(this._actualField.setActualField(i.firstOption,i.secondToFirstConverter),this.isFirst=!0,o=0==i.secondValidator(n).code):this._actualField.setActualField(i.secondOption,i.firstToSecondConverter),this.ref=A.a(this.isFirst?i.firstOptionLabel:i.secondOptionLabel,function(e){a.switchMode()}),this.ref.setDisabled(!o),this.isFirst&&i.valueComesAsSecond&&(n=this._config.secondToFirstConverter(n)),this.getBinding().set(n),this.getBinding().addListener(function(e){o=a.isFirst?0==a._config.secondValidator(e).code:0==a._config.firstValidator(e).code,a.ref.setDisabled(!o)})}return T(t,e),t.prototype.getBinding=function(){var e=new ae(this._config.firstOption.getBinding(),this._config.secondOption.getBinding(),this._actualField.getBinding());return e.firstConverter=this._config.firstToOutConverter,e.secondConverter=this._config.secondToOutConverter,e},t.prototype.switchMode=function(){this.isFirst?(this._actualField.setActualField(this._config.secondOption,this._config.firstToSecondConverter),this.isFirst=!1,this.ref.setText(this._config.secondOptionLabel)):(this._actualField.setActualField(this._config.firstOption,this._config.secondToFirstConverter),this.isFirst=!0,this.ref.setText(this._config.firstOptionLabel))},t.prototype.selfInit=function(){e.prototype.selfInit.call(this),this.addChild(this.ref)},t}(re);t.DialogFieldWithModes=le;var ce=function(e){function t(t,n,r,i,a){void 0===i&&(i=1),e.call(this,t,i),this._actualField=h(n,r),"string"==typeof n&&this.getBinding().set(n),a&&this.getActualField().setPlaceholder(a),this.getActualField().setSoftWrapped(!1)}return T(t,e),t.prototype.setTabIndex=function(e){this.getActualField().setTabIndex(e)},t.prototype.customize=function(t){e.prototype.customize.call(this,t),this.addClass("text-field")},t}(re);t.TextField=ce;var pe=function(e){function t(t,n,r,i,a,o){void 0===a&&(a=[]),void 0===o&&(o=1),e.call(this,t,o),this._actualField=new k(t,n,i),this._actualField.setOptions(a),this.getBinding().set(r)}return T(t,e),t.prototype.setDisabled=function(e){return this.getActualField().setDisabled(e)},t}(re);t.SelectField=pe;var de=function(e){function t(t,n,r,i,a,o){void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=1),e.call(this,t,o),this._actualField=new F(n,r),(i||a)&&d(i,this._actualField,a)}return T(t,e),t.prototype.setText=function(e,t){this.getActualField().setText(e,t)},t.prototype.getText=function(){return this.getActualField().getText()},t}(re);t.LabelField=de;var me=function(e){function t(t,n,r,i){void 0===i&&(i=1),e.call(this,t,i),this._actualField=n}return T(t,e),t}(re);t.CustomField=me;var he=function(e){function t(t,n,r,i,a){void 0===a&&(a=1),e.call(this,t,a),this.options=r,this.createLabel(t),this._actualField=new k(n,i),this._actualField.setOptions(r),this._actualField.setStyle("margin-bottom","0.75em"),this._actualField.setValue(n)}return T(t,e),t.prototype.setRequired=function(t){e.prototype.setRequired.call(this,t),this._actualField&&(t?this._actualField.setOptions(this.options):this._actualField.setOptions(E.unique(this.options.concat([""]))))},t}(re);t.EnumField=he,t.texfField=v,function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER",e[e.INTEGER=3]="INTEGER",e[e.ENUM=4]="ENUM",e[e.DATE=5]="DATE"}(t.FieldTypes||(t.FieldTypes={}));t.FieldTypes;t.createInputField=b,t.okStatus=S,t.errorStatus=w,t.createSmallTypeScriptEditor=P;var fe=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){this._listeners.push(e)},e.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!=e})},e.prototype.fireChange=function(e){var t=this;this._listeners.forEach(function(n){return t.notify(e,n)})},e.prototype.notify=function(e,t){throw new Error("Not implemented")},e}();t.BasicListanable=fe;var ye=function(e){function t(){e.apply(this,arguments),this._filterPattern=""}return T(t,e),t.prototype.setPattern=function(e){this._filterPattern=e,this.fireChange(new H(this))},t.prototype.getPatten=function(){return this._filterPattern},t.prototype.accept=function(e,t,n){if(e.getBasicLabelFunction()&&(t=e.getBasicLabelFunction()(t)),t&&t.filterLabel&&"function"==typeof t.filterLabel)return-1!=t.filterLabel().indexOf(this._filterPattern);if(this._filterPattern.length>0)try{return-1!=JSON.stringify(t).indexOf(this._filterPattern)}catch(r){return!0}return!0},t.prototype.notify=function(e,t){t(e)},t}(fe);t.BasicFilter=ye;var ge=function(e){function t(t){e.call(this),this._on=!1,this._func=t}return T(t,e),t.prototype.setOn=function(e){this._on=e,this.fireChange(new H(this))},t.prototype.isOn=function(){return this._on},t.prototype.accept=function(e,t,n){return this._on?this._func(t):!0},t.prototype.notify=function(e,t){t(e)},t}(fe);t.ToggleFilter=ge;var ve=function(e){function t(t,n){e.call(this),this._header=t,this._headerVisible=!0,this._expanded=!0,this.setCollapsible(n),t.setPercentWidth(100),t.addClass("sub-title")}return T(t,e),t.prototype.getHeaderVisible=function(){return this._headerVisible},t.prototype.setHeaderVisible=function(e){this._headerVisible=e,e||this.setExpanded(!0),this.handleLocalChange()},t.prototype.caption=function(){return this._header.caption()},t.prototype.isExpanded=function(){return this._expanded},t.prototype.getHeader=function(){return this._header},t.prototype.getIcon=function(){return this._header.getIcon()},t.prototype.customize=function(t){this._headerVisible&&t.appendChild(this._header.ui()),this._expanded||this.setExpanded(this._expanded),e.prototype.customize.call(this,t)},t.prototype.setCollapsible=function(e){var t=this;if(e){if(!this._chevron){var n=A.label("",25).setStyle("float","left");this._chevron=n,this._header.addChild(n),this._collapseListener=function(e){t.setExpanded(!t.isExpanded())},this._header.addOnClickListener(this._collapseListener)}}else this._chevron&&(this._header.removeChild(this._chevron),this._header.removeOnClickListener(this._collapseListener),this._chevron=null)},t.prototype.setExpanded=function(e){this._chevron&&this._chevron.setIcon(e?23:25),this._children.forEach(function(t,n){t instanceof R&&t.setDisplay(e)}),this._expanded=e},t}(j);t.Section=ve;var be=function(e){function t(t){e.call(this,"div",null),this.panel=new j,this.renderer=t}return T(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.renderUI=function(){return this.panel.renderUI()},t.prototype.setInput=function(e,t){void 0===t&&(t=!0),this._model=e;var n=this.renderer.render(e);this.panel&&(this.panel.clear(),this.panel.addChild(n))},t}(G);t.BasicViewer=be;var Se=function(e){function t(){e.call(this,0),this._selectedIndex=-1,this._buttons=A.vc(),this._tabs=[],this._buttons.margin(0,0,0,4),e.prototype.addChild.call(this,this._buttons)}return T(t,e),t.prototype.add=function(e,t,n){var r=this,i=this._tabs.length,a=new B(e,2,0,t,function(){return r.setSelectedIndex(i)});this._tabs.push({header:e,icon:t,button:a,hidden:!1,content:n}),this._buttons.addChild(a),0==i&&this.setSelectedIndex(0)},t.prototype.tabsCount=function(){return this._tabs.length},t.prototype.addChild=function(e){this.add(e.caption(),e.getIcon(),e)},t.prototype.replaceChild=function(t,n){e.prototype.addChild.call(this,t,n),this.removeChild(n)},t.prototype.get=function(e){return 0>e||e>this._tabs.length?null:{header:this._tabs[e].header,content:this._tabs[e].content}},t.prototype.setOnSelected=function(e){this._onselected=e},t.prototype.selectedComponent=function(){return this._tabs[this._selectedIndex].content},t.prototype.toggle=function(e,t){if(!(0>e||e>this._tabs.length)){var n=this._tabs[e];t||e!=this._selectedIndex||this.setSelectedIndex(0),n.hidden=!t,n.button.setDisplay(t)}},t.prototype.setSelectedIndex=function(t){for(;this._tabs[t].hidden;)t++;if(!(0>t||t>this._tabs.length||t==this._selectedIndex)){var n=this._tabs[t];if(n.button.setSelected(!0),this._selectedIndex>=0){var r=this._tabs[this._selectedIndex];r.button.setSelected(!1),this.replaceChild(n.content,r.content)}else e.prototype.addChild.call(this,n.content);n.content instanceof R&&n.content.margin(0,0,4,4),this._selectedIndex=t,this._onselected&&this._onselected()}},t}(j);t.TabFolder=Se},function(e,t,n){function r(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new M.TextElement("label",e,t);return M.applyStyling(n,i,r),i}function i(e){var t=new M.InlineHTMLElement("span",e);return t}function a(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null);var a=new M.TextElement("a",e,n);return a.addOnClickListener(t),M.applyStyling(r,a,i),a}function o(e,t){return void 0===t&&(t=function(e){}),new M.CheckBox(e,null,t)}function s(e){return new M.Select(e,function(e){return e})}function u(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),new M.Button(e,t,n,r,i)}function l(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new M.Button(e,0,0,n,t)}function c(e,t,n,r,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=null),new M.ToggleButton(e,t,n,r,i)}function p(e){return new M.SimpleRenderer(e)}function d(e,t,n){return new M.TreeViewer(new M.DefaultTreeContentProvider(e),t,n)}function m(e,t,n,r,i){var a=y(e,t),o=d(r,i);return o.renderUI(),o.setInput(n),a.addChild(h(o)),a.viewer=o,a.addChild(o),a}function h(e){var t=new M.BasicFilter,n=new M.TextField("Filter:","",function(e){t.setPattern(e.getValue())},1);return n.setStyle("margin-bottom","5px"),e.addViewerFilter(t),n}function f(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i="");var a=new M.ToggleFilter(n),o=c("",1,0,t,function(e){a.setOn(!a.isOn())});return o.setSelected(r),a.setOn(r),e.addViewerFilter(a),o}function y(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===r&&(r=!1);for(var i=[],a=4;a<arguments.length;a++)i[a-4]=arguments[a];var o=new M.TextElement("h2",e,t),s=new M.Section(o,n);return i.filter(function(e){return null!=e}).forEach(function(e){return s.addChild(e)}),s.setExpanded(!r),s}function g(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!1);var i=r?b(e,t):S(e,t);return P(e,t,n),i}function v(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new M.Panel(2);return e.forEach(function(e){return n.addChild(e)}),n}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new M.Panel(1);return e.forEach(function(e){return n.addChild(e)}),n}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new M.Panel(0);return e.forEach(function(e){return n.addChild(e)}),n}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=new M.Panel(0);return n.setTagName("li"),e.forEach(function(e){return n.addChild(e)}),n}function P(e,t,n){void 0===n&&(n=null),e.addSelectionListener({selectionChanged:function(e){if(e.selection.isEmpty())t.setInput(null);else{var r=e.selection.elements[0];if(n){var i=n(r);t.setInput(i)}else t.setInput(r)}}})}var M=n(143);t.label=r,t.html=i,t.a=a,t.checkBox=o,t.select=s,t.button=u,t.buttonSimple=l,t.toggle=c,t.renderer=p,t.treeViewer=d,t.treeViewerSection=m,t.filterField=h,t.toggleFilter=f,t.section=y,t.masterDetailsPanel=g,t.hcTight=v,t.hc=b,t.vc=S,t.li=w,t.masterDetails=P},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(7),a=function(e){function t(){e.call(this),this._children=[]}return r(t,e),t.content=function(){var e=this.div({"class":"scrollpad pane-item padded",tabindex:-1,style:"overflow:scroll;"});return e},t.prototype.dispose=function(){},t.prototype.caption=function(){return""},t.prototype.scroll=function(e,t){this.element.scrollTop=e,this.element.scrollLeft=t},t.prototype.size=function(){return{top:this.element.scrollTop,left:this.element.scrollLeft,bottom:this.element.scrollTop+this.element.clientHeight,right:this.element.scrollLeft+this.element.clientWidth}},t.prototype.changed=function(){},t.prototype.refresh=function(){},t.prototype.ui=function(){return this.element},t.prototype.setParent=function(e){null!=this._parent&&this._parent.removeChild(this),this._parent=e},t.prototype.addChild=function(e){e.setParent(this),this._children.push(e)},t.prototype.removeChild=function(e){this._children=this._children.filter(function(t){return t!=e})},t.prototype.doRender=function(){return this.innerRenderUI()},t.prototype.selfRender=function(){return document.createElement("div")},t.prototype.attached=function(){this.html(this.innerRenderUI())},t.prototype.innerRenderUI=function(){var e=this.selfRender();return this._children.forEach(function(t){var n=t.renderUI();n&&e.appendChild(n)}),e},t.prototype.renderUI=function(){return this.element},t.prototype.parent=function(){return null},t.prototype.children=function(){return this._children},t.prototype.isAttached=function(){return!0},t}(i.ScrollView);t.Scrollable=a},function(e,t){function n(e,t,n,r,i,o,s){for(var u=t,l=i,c=0,p=[],d=t;n>d;d++){for(var m=[],h=i;o>h;h++)if(s(e[d],r[h])){var f=m[h]=(p[h-1]?p[h-1]:0)+1;f>c&&(u=d-f+1,l=h-f+1,c=f)}p=m}return new a(u,l,c)}function r(e,t,i,a,o,s,u){var l=n(e,t,i,a,o,s,u);if(0==l.n)return[];var c=r(e,t,l.sa,a,o,l.sb,u),p=r(e,l.sa+l.n,i,a,l.sb+l.n,s,u);return c.concat([l]).concat(p)}function i(e,t,n){n||(n=function(e,t){return e==t});var i=0,o=0,s=r(e,0,e.length,t,0,t.length,n);s.push(new a(e.length,t.length,0));var u=[],l=null;return s.forEach(function(n){for(var r=i;r<n.sa;r++)u.push({type:"+",element:e[r]});for(var r=o;r<n.sb;r++)u.push({type:"-",element:t[r]});for(var r=0;r<n.n;r++)e[n.sa+r]!=t[n.sb+r]&&u.push({type:"=",bi:n.sb+r,ai:n.sa+r});l=e[n.sa+n.n-1],i=n.sa+n.n,o=n.sb+n.n}),u}var a=function(){function e(e,t,n){this.sa=e,this.sb=t,this.n=n}return e}();t.diff=i},function(e,t){var n=function(){function e(e,t,n,r){this.parent=e,this.data=t,this.view=n,this.container=r,this.children=[]}return e.prototype.indexOf=function(e){for(var t=0;t<this.children.length;t++)if(1==e(this.children[t]))return t;return-1},e.prototype.addChild=function(e,t){if(null==t)t=this.children.length;else if(0>t||t>this.children.length)throw"IncorrectArgument";this.children.splice(t,0,e)},e.prototype.removeChild=function(e){if("number"==typeof e){var t=e;if(0>t||t>this.children.length)throw"IncorrectArgument";this.children.splice(t,1)}else{var t=this.indexOf(function(t){return t==e});this.removeChild(t)}},e}(),r=function(){function e(e){this.root=new n,this.root.container=e,this.clear()}return e.prototype.find=function(e){return null==e?this.root:this.flat.get(e)},e.prototype.clear=function(){this.root.children=[],this.flat=new Map},e.prototype.insert=function(e,t,r,i){void 0===i&&(i=!1);var a=new n(t,e);i?this.insertAfter(a,t,r):this.insertBefore(a,t,r),this.flat.set(e,a)},e.prototype.insertBefore=function(e,t,n){var r=n?t.indexOf(function(e){return e==n}):null;t.addChild(e,r)},e.prototype.insertAfter=function(e,t,n){var r=n?t.indexOf(function(e){return e==n}):-1;t.addChild(e,r+1)},e.prototype.remove=function(e){e.parent.removeChild(e)},e.prototype.get=function(e,t){return t?t.children[t.indexOf(function(t){return t.data==e})]:this.find(e)},e.prototype.registerViews=function(e,t,n){var r=this.find(e);if(!r)throw"RegisterViewException";r.container=n,r.view=t},e.prototype.patch=function(e,t){var n=this.find(e);n&&(n.data=t),this.flat.set(t,n),this.flat["delete"](e)},e}();t.TreeModel=r},function(e,t,n){function r(e,t){$.showMessageBox(J.getCurrentWindow(),{type:"error",buttons:["Okay"],title:"Error",message:e,detail:t})}function i(){if(!Z){Z=Object.create(null);var e=z.aquireManager().ast.definition().property("resources").range().property("methods").enumValues();k.methods.filter(function(t){return e.indexOf(t.method.toLowerCase())>-1}).forEach(function(e){var t=e.description.trim().match(/^\"(.*)\"$/)[1];Z[e.method.toLowerCase()]=t?t:e.description})}return Z}function a(){return ee||(ee=Object.create(null),k.statusCodes.forEach(function(e){var t,n=e.description.trim();(t=n.match(/^\"(.*)\"/))&&(n=t[1]),ee[e.code]=n}),ee["7xx"]="is for developer errors."),ee}function o(){var e="",t="",n="",i=!0,a=!0,o=new O.TextField("API Title*",e,function(t,n){return e=n}),s=new O.TextField("Version",t,function(e,n){return t=n}),u=new O.TextField("Base URI",n,function(e,t){return n=t});o.setTabIndex(100),o.margin(0,0,8,0),s.setTabIndex(101),s.margin(0,0,8,0),u.setTabIndex(102),u.margin(0,0,8,0);var l=new O.CheckBox("Create sample resource",null,function(e,t){return i=t});l.setValue(i);var c=new O.CheckBox("Generate 1.0 model",null,function(e,t){return a=t});c.setValue(a);var p=L.section("Create new API",40,!1,!1,o,s,u,L.hc(l,c).margin(0,0,12,12));R(p,function(){return""==e?(r("Cannot create API","Title must not be empty"),!1):(z.aquireManager().setText(q.createRAMLFile(e,t,n,i,a)),!0)},o)(this),o.getActualField().ui().focus()}function s(e,t){var n=i(),o=a(),s="No response",u="No response body type",l=null,c=null;null==t&&(t="get");var p=new O.LabelField,d=new O.LabelField;[p,d].forEach(function(e){return e.addClass("wizard-description")}),p.getActualField().margin(0,0,18,8),d.getActualField().margin(0,0,8,8);var m=new O.SelectField("Method:",function(e,r){t=r,p.setText("Method "+r+" "+n[r])},null);m.getActualField().setOptions(Object.keys(n)),m.getActualField().setValue(t,!0);var h=new O.SelectField("Status code:",function(e,t){t==s&&(t=null,f.getActualField().setValue(u)),l=t,f.setDisabled(null==t),d.setText(t?"Status code "+t+" "+o[t]:"")},null);h.getActualField().setOptions([s].concat(Object.keys(o)));var f=new O.SelectField("Generate default response with media type:",function(e,t){t==u?(t=null,S.setDisabled(!0)):S.setDisabled(!1),c=t},null);f.getActualField().setOptions([u,"application/json","application/xml","application/x-www-form-urlencoded"]),f.setDisabled(!0),f.margin(0,0,0,12);var y=null,g=new O.SelectField("Generate default body with media type:",function(e,t){t==u?(t=null,T.setDisabled(!0)):T.setDisabled(!1),y=t},null);g.getActualField().setOptions([u,"application/json","application/xml","application/x-www-form-urlencoded"]),g.margin(0,0,0,12);var v=null,b=null,S=new O.SelectField("Generate default response body with type:",function(e,t){t==u&&(t=null),v=t},null);S.setDisabled(!0),S.margin(0,0,0,12);var w=te(e),P=w.isSchema,M=w.types;M&&(M=[""].concat(M),S.getActualField().setOptions(M));var T=new O.SelectField("Generate default body with type:",function(e,t){t==u&&(t=null),b=t},null);T.setDisabled(!0),T.margin(0,0,0,12);var P=w.isSchema,M=w.types;M&&(M=[""].concat(M),T.getActualField().setOptions(M));var E=L.section("");E.addChild(O.h3("Body")),E.addChild(g),E.addChild(T),E.addChild(O.h3("Response")),E.addChild(h),E.addChild(d),E.addChild(f),E.addChild(S),E.ui();var A=L.section("Creating a new method",33,!1,!1,m,p,E),w=te(e);R(A,function(){var n=e.elementsOfKind("methods").filter(function(e){
return e.attr("method").value()==t})[0];n&&(r("Method "+t+" already exists","Node contents will be overwritten"),e.remove(n));var i=V.createMethodStub(e,t);if(y){var a=V.createBodyStub(i,y);b&&(P?a.attrOrCreate("schema").setValue(b):a.attrOrCreate("type").setValue(b)),i.add(a)}if(l){var o=V.createResponseStub(i,l);if(i.add(o),c){var a=V.createBodyStub(o,c);v&&(P?a.attrOrCreate("schema").setValue(v):a.attrOrCreate("type").setValue(v)),o.add(a)}}return e.add(i),z.updateAndSelect(i),!0})(this)}function u(e){return e instanceof V.StructuredValue?e.valueName():e}function l(e,t,n,r){var i=L.vc();i.margin(8,8,20,8);var a=n.definition().property(e),o=c(n,e),s=z.aquireManager().ast.elementsOfKind("resourceType").map(function(e){return e.name()}),l=u(t),m=new O.SelectField("Type: ",function(e,r){if(r==h)return t="",i.clear(),void i.addChild(L.label("Select some type from the list above to show its additional properties",null,3));t=p(r,n,a);var s=t instanceof V.StructuredValue?t.toHighlevel(z.aquireManager().ast):null;d(s,o),W.updateDetailsPanel(s,i),s&&0==s.definition().allProperties().length&&(t=r)}),h="(no value)";m.getActualField().setOptions([h].concat(s)),m.setPercentWidth(100),s.indexOf(l)<0?(m.getActualField().setValue(h),""!=l&&i.addChild(L.label("Type `"+l+"` does not exists",null,7).setStyle("display","block")),i.addChild(L.label("Select some type from the list above to show its additional properties",null,3))):m.getActualField().setValue(l,!0);var f=L.section("Editing type value `"+e+"`:",28,null,null,m,i);return R(f,function(){return r(t),!0})}function c(e,t){try{var n=new X.Map,r=e.attributes(t).map(function(e){return e.value()}).filter(function(e){return e instanceof V.StructuredValue});return r.forEach(function(e){return e.lowLevel().children().forEach(function(e){return n.set(e.key(),e.value())})}),n}catch(i){return null}}function p(e,t,n){if(n.range()instanceof j.ReferenceType){var r=(n.range(),F.createNode(e));return new V.StructuredValue(r,t,n)}return e}function d(e,t){e&&t&&t.pairs().forEach(function(t){e.definition().property(t.key)&&e.attrOrCreate(t.key).setValue(t.value)})}function m(e){return e&&e.property()?"resources"==e.property().name()?e:m(e.parent()):null}function h(e,t,n){var r={elements:function(e){return e},init:function(e){},dispose:function(){}},i={render:function(e){return L.hc(L.label(e,75),L.a("",function(e){t=t.filter(function(t){return t!=e.id()}),a.remove(e.id())},196).pad(8,8).setId(e)).addClass("outline")}},a=new O.ListView(r,i);a.setBasicLabelFunction(function(e){return e}),a.setInput(t,!0);var o=O.texfField("","",function(e){return e}).margin(0,0,4,4);o.addKeyPressListener(function(e,n){if(13==n.keyCode){var r=e.getBinding(),i=r.get();r.set(""),t.push(i),a.setInput(t,!0)}});var s=L.section("Editing enum value `"+e+"`:",105,null,null,O.h3("List of elements in enum:").margin(0,0,20,0),a.margin(20,20),O.h3("Add new element:").margin(0,0,20,0),o);return R(s,function(){return n(t),!0},o)}function f(e){var t=e.attrValue("relativeUri");if(!t)return null;for(var n=m(e.parent());n;){var r=n.attrValue("relativeUri");if(!r)return null;t=r+t,n=m(n.parent())}return t}function y(e){var t="/",n="",r=m(e),a=null;r&&(a=f(r),a&&(n=a));var o=o=new O.TextField(n,t,function(e,n){t=n});o.margin(0,0,6,12);var s={},u=L.vc().margin(0,0,0,12);Object.keys(i()).forEach(function(e){var t=new O.CheckBox(e,null,function(t){s[e]?delete s[e]:s[e]=t}).addClass("checkbox-group"),n=L.vc().margin(0,0,15,0);n.addChild(t);var r=e+":"+i()[e];u.addChild(L.vc(n));var a=L.label(r,0,2).margin(5,10,-4,0);u.addChild(a)});var l=V.createResourceStub(e,t),c=L.select("type"),p=U.globalDeclarations(e).filter(function(e){return"ResourceType"==e.definition().name()&&!e.definition().isUserDefined()}),d=p.map(function(t){return V.qName(t,e)}),d=[""].concat(d);c.setOptions(d);var h=L.section("Creating a new resource",14,!1,!1);h.addChild(L.label("New resource URI:")),h.addChild(o),h.addChild(L.label("Type:")),h.addChild(c),h.addChild(L.label("Add additional methods:").margin(0,0,18,6)),h.addChild(u),R(h,function(){if(0!=t.indexOf("/"))return!1;l.attrOrCreate("relativeUri").setValue(t),Object.keys(s).filter(function(e){return s[e]}).forEach(function(e){var t=V.createMethodStub(l,e);t.attrOrCreate("method").setValue(e),l.add(t)});var n=c.getValue();return n&&l.attrOrCreate("type").setValue(n),e.add(l),z.updateAndSelect(l),!0},o)(this),o.getActualField().ui().focus(),a?o.makeLabelNextToField():o.hideLabel()}function g(e,t,n,r){void 0===r&&(r="key");if(null!=e){"body"==n&&(r="application/json");var i=V.createStub(e,n,r),a=G.buildItem(i,!0);a.setTitle(t);var o=a.render({showDescription:!0});o.margin(8,8,8,8),R(o,function(){return i._parent=null,i.lowLevel()._unit=null,i.isInEdit=!1,e.add(i),z.updateAndSelect(i),!0},null)(this)}}function v(e,t,n,r){var i=c(n,e),a=new O.TabFolder,o=L.vc(O.h3("Enabled traits: ")).margin(10,10,0,0);a.margin(0,0,20,10),a.add("Traits",61,o);var s=n.definition().property(e),l=0,m=n.root().elementsOfKind("traits").map(function(e){var r=e.name(),c=p(r,n,s),m=c instanceof V.StructuredValue?c.toHighlevel():null;m&&0==m.definition().allProperties().length&&(c=r);var h={index:l,name:r,value:c,enabled:t.filter(function(e){return u(e)==r}).length>0};d(m,i);var f=L.checkBox(h.name,function(e){h.enabled=f.getValue(),a.toggle(1+h.index,h.enabled)});f.margin(12,12),f.setValue(h.enabled),o.addChild(f);var y=L.vc();return y.margin(8,8,20,8),W.updateDetailsPanel(m,y),a.add(r,28,y),a.toggle(1+l,h.enabled),l+=1,h}),h=L.section("Editing trait value `"+e+"`:",28,null,null,a);return R(h,function(){return r(m),!0})}function b(e){var t=z.aquireManager().ast.elementsOfKind("schemas").filter(function(t){return t.name()==e})[0];return t?t.value().value():""}function S(e,t,n){var i="(New Schema)",a=z.aquireManager().ast.elementsOfKind("schemas").map(function(e){return e.name()}),o=a.indexOf(t)>=0,s=o?x(t):t,u=o?t:"",l=0,c=_(function(e,t){l=0}),p=Y._schemaPreview(),d=setInterval(function(){l++<5||(l=0,Y._updatePreview(p,c.getValue()))},100),m=new O.SelectField("Select schema: ",function(e,t){u=t,s=b(t),w(c,s)});m.getActualField().setOptions([i].concat(a)),m.setPercentWidth(100),o&&m.getActualField().setValue(u),w(c,s);var h=new O.TabFolder;h.add("Write",64,c),h.add("Preview",77,p);var f=L.section("Editing schema value `"+e+"`:",119,null,null,m,h),y=function(){return r("No schema entered","Please enter a valid schema or select one from the list before proceeding."),!1},g=function(){return r("Invalid schema","Please fix the errors in the schema before saving it."),!1};return N(f,[{name:"Save as reference",highlight:2,action:function(){var e=c.getValue(),t=s!=e;if(!t&&u==i)return y();if(0==P(e))return g();if(t){var r=M(u,e);return r?(n(r),clearInterval(d),!0):!1}return n(u),clearInterval(d),!0}},{name:"Save as text",highlight:4,action:function(){var e=c.getValue();return""==e?y():0==P(e)?g():(m.getActualField().setValue(i),u="Untitled",n(e),clearInterval(d),!0)}},{name:"Cancel",highlight:0,action:function(){return clearInterval(d),!0}}])}function w(e,t){var n=K.createSchema(t),r=null==n||null==n.getType?"text/plain":n.getType();e.setGrammar(r),e.setText(t)}function P(e){return!0}function M(e,t){var n,r,i=K.createSchema(t),a={name:"JSON schemas",extensions:["json"]},o={name:"XML schemas",extensions:["xsd"]},s=D.dirname(z.aquireManager().ast.lowLevel().unit().absolutePath());switch(i.getType()){case"source.json":r=[a],n=".json";break;case"text.xml":r=[o],n=".xsd";break;default:r=[]}var u=$.showSaveDialog(J.getCurrentWindow(),{title:"Save schema",defaultPath:D.resolve(s,"schemas",e+n),filters:r});if(null==u)return null;var l=D.basename(u),c=D.extname(l),p=l.substr(0,l.indexOf(c)),d=D.relative(s,u);return-1==z.aquireManager().ast.elementsOfKind("schemas").map(function(e){return e.name()}).indexOf(p)&&q.createGlobalSchemaFromNameAndContent(z.aquireManager().ast.root(),p,d,t,u),p}function T(e,t,n){var r=new O.AtomEditorElement(t.join("\n"),function(e){});r.margin(0,0,6,12),r.setMini(!1),r.setGrammar("source.gfm");var i=L.section("Editing markdown value `"+e+"`:",64,!1,!1,O.h3("Please note that lines might be long enough so window would scroll.").margin(0,0,20,0),r);return R(i,function(){return n(r.getBinding().get()),!0},r)}function E(e,t,n,r){var i=_(function(e,t){t.indexOf("xml")>0?i.setGrammar("text.xml"):i.setGrammar("source.json")});i.setText(n);var a=D.dirname(z.aquireManager().getPath()),o=new O.TextField("Referenced from",t,function(e,n){return t=n},null,"No reference path provided");o.addChild(new O.Button("Browse",2,0,null,function(){var e=H.openFileDialogModal("Open a reference",D.resolve(a,t),[]);e&&(o.getActualField().setText(D.relative(a,t=e[0])),n=B.readFileSync(e[0]).toString("UTF-8"),i.setText(n))}).margin(4,0));var s=o.getActualField().ui();s.onclick=function(e){s.blur(),s.nextSibling.onclick&&s.nextSibling.onclick(e)};var u=(L.vc(O.h3("Referenced")),L.section("Editing example value `"+e+"`:",119,null,null,o.margin(12,12,20,12),i.margin(12,12,20,12)));return N(u,[{name:"Save as reference",highlight:2,action:function(){var e=i.getValue();if(n!=e){var o=C(D.resolve(a,t),e);return o?(r(D.relative(a,o)),!0):!1}return r(t),!0}},{name:"Save as text",highlight:4,action:function(){return void 0==r(i.getValue())||!0}},{name:"Cancel",highlight:0,action:function(){return!0}}])}function A(){Q.pop(),0==Q.length?ne.destroy():ne=atom.workspace.addModalPanel({item:Q[Q.length-1].ui()})}function C(e,t){var n={name:"JSON schemas",extensions:["json"]},r={name:"XML schemas",extensions:["xsd"]},i={name:"All files",extensions:["*"]},a=(t.indexOf("xml")<0?"json":"xml",H.saveFileDialogModal("Save an example",e,[n,r,i]));return a&&B.writeFileSync(a,t),a}function N(e,t,n){var r=L.hc().setPercentWidth(100);return t.reverse().forEach(function(t){var n=L.button(t.name,0,t.highlight,0,function(e){t.action()&&A()});if(t.isPrimary){var i=e.getBinding().status();i&&2==i.code&&n.setDisabled(!0),e.getBinding().addStatusListener(function(t){var r=e.getBinding().status();r&&(2!=r.code?n.setDisabled(!1):n.setDisabled(!0))})}n.setStyle("float","right").margin(4,10),r.addChild(n)}),e.addChild(r),function(t){Q.push(e),ne=atom.workspace.addModalPanel({item:e.ui()}),n&&n.ui().focus()}}function I(e){r(e,"")}function _(e){e||(e=function(e,t){});var t=new O.AtomEditorElement("",e);return t.setMini(!1),t.setStyle("height","400px"),t.setStyle("border","solid"),t.setStyle("border-width","1px"),t}function x(e){var t=z.aquireManager().ast.elementsOfKind("schemas").filter(function(t){return t.name()==e})[0];return t?t.value().value():""}function R(e,t,n){return N(e,[{name:"Ok",isPrimary:!0,highlight:1,action:t},{name:"Cancel",highlight:0,action:function(){return!0}}],n)}var O=n(143),L=n(144),k=n(74),D=n(10),U=n(66),F=n(18),j=n(15),V=n(17),K=n(78),B=n(4),q=n(149),H=n(165),G=n(156),W=n(155),z=n(151),Y=n(159),J=n(166),$=J.require("dialog"),X=n(167),Q=[];t.showError=r;var Z=null,ee=null;t.getStatusCodeDescriptions=a,t.newApi=o;var te=function(e){var t=!1,n=e.definition().universe().getType("DataElement");n||(t=!0,n=e.definition().universe().getType("BodyLike"));var r=n.property("schema"),i=[];return r&&(i=r.enumValues(e)),{isSchema:t,types:i}};t.newMethod=s,t.getStringValue=u,t.typeEditDialog=l,t.getResourceParent=m,t.enumEditDialog=h,t.newResource=y,t.newNode=g,t.traitsEditDialog=v,t.schemaEditDialog=S,t._updateEditor=w,t.markdown=T,t.exampleEditorDialog=E;var ne=null;t.msg=I,t.smallEditor=_},function(e,t,n){function r(e){var t=e.parent().root(),n=e.property().range().universe().getType("GlobalSchema"),r=n.createStubNode(n.universe().type("Api").property("schemas"),""+e.value());r.attrOrCreate("value").setValue("!include schemas/"+e.value()+".json"),t.add(r);var i=atom.workspace.getActiveTextEditor();i.getBuffer().setText(t.lowLevel().unit().contents());var a=E.resolve(E.dirname(i.getPath()),"schemas");T.existsSync(a)||T.mkdirSync(a);var o=E.resolve(a,e.value()+".json");T.writeFileSync(o,'\n{\n  "$schema" : "http://json-schema.org/draft-04/schema" ,\n  "type" : "object" ,\n  "properties" : {\n   }\n}\n'),atom.workspace.open(o,{})}function i(e,t,n,r,i){var a=e.definition().universe().getType("GlobalSchema"),o=a.createStubNode(a.universe().type("Api").property("schemas"),""+t);o.attrOrCreate("value").setValue("!include "+n),e.add(o);var s=m(),u=i?E.dirname(i):E.resolve(E.dirname(s.getPath()),E.dirname(n));T.existsSync(u)||T.mkdirSync(u);var l=i?i:E.resolve(E.dirname(s.getPath()),n);T.writeFileSync(l,r)}function a(e,t,n){var r=m(),i=E.resolve(E.dirname(r.getPath()),E.dirname(t));T.existsSync(i)||T.mkdirSync(i);var a=E.resolve(E.dirname(r.getPath()),t);T.writeFileSync(a,n)}function o(e,t,n,r,i){void 0===r&&(r=!0),void 0===i&&(i=!0);var a=[i?"#%RAML 1.0":"#%RAML 0.8","title: "+e];t&&a.push("version: "+t),n&&a.push("baseUri: "+n);var o=["types:","  TestType:","    type: object","    properties:","      id: number","      optional?: string","      expanded:","        type: object","        properties:","          count: number"],s=["/helloWorld:","  get:","    responses:","      200:","        body:","          application/json:","            example: |","              {",'                "message" : "Hello World"',"              }"],u=a;return r&&(i&&(u=u.concat(o)),u=u.concat(s)),u.join("\n")+"\n"}function s(){(new F).show()}function u(e){new D.MoveElementsDialog(e,"Resource Type",!0).show()}function l(e){var t=e.match(/^.*((\r\n|\n|\r)|$)/gm);return t}function c(e){for(var t=l(e),n=[],r=0;r<t.length;r++)t[r].trim().length>0&&n.push(t[r]);return n.join("")}function p(e,t){for(var n=l(e),r=[],i=0;i<n.length;i++)0==i?r.push(n[0]):r.push(n[i].substring(t.length));return r.join("")}function d(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function m(){var e=atom.workspace.getActiveTextEditor();return e?e:U.aquireManager()?U.aquireManager().getCurrentEditor():null}function h(e){new j(e).show()}function f(){var e=m();if(e&&".raml"==E.extname(e.getPath())){var t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=x.getAstNode(t,!1);if(!n)return;var r=t.editor.getBuffer().characterIndexForPosition(t.bufferPosition),i=N.determineCompletionKind(e.getBuffer().getText(),r);if(0==i){var a=n,o=_.find(a.attrs(),function(e){return e.lowLevel().start()<r&&e.lowLevel().end()>=r&&!e.property().isKey()});if(o&&o.value()){var s=o.property();if("schema"==s.name(),!0){var u=(o.value(),s.referenceTargets(a)),l=_.find(u,function(e){return e.name()==o.value()});l&&k.prompt("New name for "+o.value(),function(e){b(function(t,n){n.reverse().forEach(function(t){var n=t;n.setValue(e)}),t.attr(t.definition().getKeyProp().name()).setValue(e);var r=m();r.getBuffer().setText(t.lowLevel().unit().contents())})},o.value())}}}if(1==i||6==i){var a=n;k.prompt("New name for "+a.name(),function(e){b(function(t,n){var r=t.attrValue(t.definition().getKeyProp().name());n.reverse().forEach(function(t){var n=t;y(n,r,e)}),t.attr(t.definition().getKeyProp().name()).setValue(e);var i=m();i.getBuffer().setText(t.lowLevel().unit().contents())})},a.name())}}}function y(e,t,n){var r=e.value();if("string"!=typeof r){if(r instanceof A.StructuredValue){var i=r,a=i.valueName();if(-1!=a.indexOf(t)){var o=i.toHighlevel();if(o){var s=!1;return void o.attrs().forEach(function(e){if(e.property().isKey()){var r=e.value();if("string"==typeof r){s=!0;var i=r.replace(t,n);e.setValue(i)}}})}}}e.setValue(n)}else{var a=r,u=a.replace(t,n);if(e.setValue(u),-1==a.indexOf(t)&&-1!=e.name().indexOf(t)){var l=e.name().replace(t,n);e.setKey(l)}}}function g(){var e=m(),t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=x.getAstNode(t,!1);if(n){var r=e.getBuffer().positionForCharacterIndex(n.lowLevel().start()),i=e.getBuffer().positionForCharacterIndex(n.lowLevel().end());e.setSelectedBufferRange({start:r,end:i},{})}}function v(e){var t=C.convertToTrait(C.parse(e)),n=e.parent();e.remove(),t.highLevel().elements().forEach(function(e){n.add(e)});var r=m();r.setText(e.root().lowLevel().unit().contents())}function b(e){void 0===e&&(e=w);var t=m();if(t&&".raml"==E.extname(t.getPath())){var n={editor:t,bufferPosition:t.getCursorBufferPosition()},r=n.editor.getPath(),i=new I.Project(E.dirname(r)),a=i.unit(E.basename(r)),o=n.editor.getBuffer().characterIndexForPosition(n.bufferPosition),s=n.editor.getBuffer().getText();a.updateContent(s);var u=N.findUsages(a,o);u.node&&e(u.node,u.results)}}function S(){b(w)}function w(e,t){V?V.setInput(e.name(),t):(V=new K(e.name()+":"+e.definition().name(),t),V.panel=atom.workspace.addBottomPanel({item:V}))}function P(){var e=m();if(e&&".raml"==E.extname(e.getPath())){var t={editor:e,bufferPosition:e.getCursorBufferPosition()},n=t.editor.getPath(),r=new I.Project(E.dirname(n)),i=r.unit(E.basename(n)),a=t.editor.getBuffer().characterIndexForPosition(t.bufferPosition),o=t.editor.getBuffer().getText();i.updateContent(o);var s=N.findDeclaration(i,a);s&&(s instanceof A.BasicASTNode?q(e,s.lowLevel()):atom.workspace.open(s.absolutePath(),{}))}}var M=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},T=n(4),E=n(10),A=n(17),C=n(67),N=n(66),I=n(18),_=n(16),x=n(150),R=n(143),O=n(144),L=n(7),k=n(161),D=n(163),U=n(151);t.createGlobalSchema=r,t.createGlobalSchemaFromNameAndContent=i,t.saveExample=a;var F=function(){function e(e){void 0===e&&(e="Create RAML Project"),this.title=e,this.sourceValue=process.env.HOME+"/newRamlProject",this.apititle="New API",this.version="v1",this.baseUri="http://api.samplehost.com",this._raml1=!1,this._defStructure=!0,this._createSampleResource=!0}return e.prototype.extraContent=function(e){},e.prototype.validateProjectLocation=function(e){var t=e?e:this.sourceValue,n=E.dirname(t);return n&&"."!=n?T.existsSync(n)?R.okStatus():R.errorStatus("Parent directory does not exist"):R.errorStatus("Can not find path parent")},e.prototype.show=function(){var e=this,t=null,n=O.section(this.title,14,!1,!1,R.h3("Please select location to place your project:")).pad(10,10),r=new R.Panel(0),i=O.label("",null,7),a=new R.CustomField("",i,function(e){return e});a.setDisplay(2==this.validateProjectLocation().code),r.addChild(a);var o=R.texfField("",this.sourceValue,function(t){return e.sourceValue=t.getBinding().get()});o.getBinding().addValidator(function(){return e.validateProjectLocation()}),o.setStyle("width","400px"),o.getBinding().addListener(function(t){var n=e.validateProjectLocation(t);2!=n.code?(i.setText(""),i.setIcon(0),a.setDisplay(!1)):(i.setText(n.message),i.setIcon(19),a.setDisplay(!0))}),r.addChild(o),r.addChild(R.h3("Title of your API:")),r.addChild(R.texfField("",this.apititle,function(t){return e.apititle=t.getBinding().get()})),r.addChild(R.h3("Version of your API")),r.addChild(R.texfField("",this.version,function(t){return e.version=t.getBinding().get()})),r.addChild(R.h3("Base URI of your API")),r.addChild(R.texfField("",this.baseUri,function(t){return e.baseUri=t.getBinding().get()})),n.addChild(r);var s=O.checkBox("Use RAML 1.0 Draft");s.setValue(this._raml1),s.getBinding().addListener(function(t){return e._raml1=s.getValue()}),n.addChild(s);var u=O.checkBox("Create default directory structure");u.setValue(this._defStructure),u.getBinding().addListener(function(t){return e._defStructure=u.getValue()}),n.addChild(u);var l=O.checkBox("Create sample resource and method");l.setValue(this._createSampleResource),l.getBinding().addListener(function(t){return e._createSampleResource=l.getValue()}),n.addChild(l);var c=O.hc().setPercentWidth(100).setStyle("display","flex");c.addChild(O.label("",null,null,null).setStyle("flex","1")),c.addChild(O.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10)),c.addChild(O.button("Create",0,3,0,function(n){e.onOk(t),t.destroy()})),n.addChild(c),t=atom.workspace.addModalPanel({item:n.renderUI()})},e.prototype.createIfNotExist=function(e){var t=E.resolve(this.sourceValue,e);T.existsSync(t)||T.mkdirSync(t)},e.prototype.onOk=function(e){T.existsSync(this.sourceValue)||T.mkdirSync(this.sourceValue),this._defStructure&&(this.createIfNotExist("schemas"),this.createIfNotExist("examples"),this.createIfNotExist("traits"),this.createIfNotExist("resourceTypes"),this.createIfNotExist("securitySchemes"),this.createIfNotExist("documentation"),this._raml1&&(this.createIfNotExist("notebooks"),this.createIfNotExist("scripts")));var t=o(this.apititle,this.version,this.baseUri,this._createSampleResource,this._raml1),n=E.resolve(this.sourceValue,"api.raml");T.writeFileSync(n,t),atom.open({pathsToOpen:[this.sourceValue,n]})},e}();t.createRAMLFile=o,t.newProject=s,t.moveResource=u,t.splitOnLines=l,t.cleanEmptyLines=c;t.getActiveEditor=m;var j=function(){function e(e){this.node=e}return e.prototype.show=function(){var e=this,t=null,n=this.node,r=O.section("Move node content to new file ",145,!1,!1),i=O.label("please enter correct destination path",19,7,0);r.addChild(O.vc(i)),r.addChild(O.label("Please enter destination path"));var a=R.texfField("","",function(t){if(a){e.destination=a.getBinding().get();var n=0==e.destination.trim().length;if(n||".raml"!=E.extname(e.destination)&&(n=!0),!n){var r=E.resolve(E.dirname(m().getPath()),E.dirname(e.destination));if(T.existsSync(r)){var o=T.statSync(r);o.isDirectory()||(n=!0)}else n=!0}i.setDisplay(n),s.setDisabled(n)}});r.addChild(O.vc(a));var o=O.hc().setPercentWidth(100).setStyle("display","flex");o.addChild(O.label("",null,null,null).setStyle("flex","1")),o.addChild(O.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var s=O.button("Move",0,3,0,function(r){var i=E.resolve(E.dirname(m().getPath()),e.destination),a=e.node.lowLevel().dump(),o=l(a),s=d(o.length>1?o[1]:o[0]);a=a.substring(e.node.lowLevel().keyEnd()-e.node.lowLevel().start()+1).trim(),a=p(a,s),a="#%RAML 0.8 "+e.node.definition().name()+"\n"+a,T.writeFileSync(i,a);var u=n.lowLevel().unit().contents(),c=u.substring(n.lowLevel().end()),h=u.substring(0,n.lowLevel().keyEnd()+1),f=h+" !include "+e.destination+c;m().setText(f),t.destroy()});s.setDisabled(!0),o.addChild(s),r.addChild(o);var u=r.renderUI();t=atom.workspace.addModalPanel({item:u}),u.focus()},e}();t.MoveToNewFileDialog=j,t.moveOut=h,t.renameRAMLElement=f;t.select=g,t.expandSignature=v,t.findUsagesImpl=b,t.findUsages=S;var V,K=function(e){function t(t,n){e.call(this),this.query=t,this._result=n,this.isAttached=!1}return M(t,e),t.prototype.initialize=function(){return e.prototype.initialize.apply(this,arguments),!0},t.content=function(){return this.div({"class":"raml-console pane-item",tabindex:-1})},t.prototype.attached=function(){this.isAttached||(this.load(),this.isAttached=!0)},t.prototype.setInput=function(e,t){this.query=e,this._result=t,this.load()},t.prototype.load=function(){var e=this,t=O.section("Find usages for "+this.query,171),n=R.list(this._result,function(e){var t=m().getBuffer().positionForCharacterIndex(e.lowLevel().keyStart()),n=O.hc(O.a(e.id(),function(t){B(m(),e)}),O.label(e.lowLevel().unit().path()+" line:",0,2).pad(5,5),O.label(""+t.row,0,5));return n});n.setStyle("max-height","400px"),t.addChild(n),t.addChild(O.button("Close",2,1,0,function(t){e.panel.destroy(),V=null})),this.html(t.renderUI())},t}(L.ScrollView),B=function(e,t){var n=e.getBuffer().positionForCharacterIndex(t.lowLevel().keyStart()),r=e.getBuffer().positionForCharacterIndex(t.lowLevel().keyEnd());e.setSelectedBufferRange({start:n,end:r},{})},q=function(e,t){if(t.unit().absolutePath()!=e.getPath())return void atom.workspace.open(t.unit().absolutePath(),{}).then(function(n){e=m(),q(e,t)});var n=e.getBuffer().positionForCharacterIndex(t.start()),r=e.getBuffer().positionForCharacterIndex(t.end());r.column=n.column+t.key().length,r.row=n.row,e.setSelectedBufferRange({start:n,end:r},{})};t.gotoDeclaration=P},function(e,t,n){function r(e,t){if(t){if(e.isTypeExpr()){var n=A.globalDeclarations(t).filter(function(e){if("GlobalSchema"==e.definition().name())return!0;var t=e.definition().allSuperTypes();return x.find(t,function(e){return"DataElement"==e.name()})?!0:"DataElement"==e.definition().name()&&"models"==e.property().name()}),r=n.map(function(e){return{text:T.qName(e,t),description:""}}),i=e.domain().universe().getType("DataElement");if(i){var a=i.allSubTypes();r=r.concat(a.map(function(e){return{text:e.descriminatorValue(),description:e.description()}}))}return r}if("SchemaString"==e.range().name()&&"RAML10"==e.range().universe().version()){var n=A.globalDeclarations(t).filter(function(e){if("GlobalSchema"==e.definition().name())return!0;var t=e.definition().allSuperTypes();return x.find(t,function(e){return"DataElement"==e.name()})?!0:"DataElement"==e.definition().name()&&"models"==e.property().name()}),r=n.map(function(e){return{text:T.qName(e,t),description:""}}),a=A.subTypesWithLocals(e.domain().universe().getType("DataElement"),t);return r=r.concat(a.map(function(e){return{text:e.descriminatorValue(),description:e.description()}}))}if(e.isDescriminating()){var a=A.subTypesWithLocals(e.domain(),t);return a.map(function(e){return{text:e.descriminatorValue(),description:e.description()}})}if(e.isReference())return A.nodesDeclaringType(e.referencesTo(),t).map(function(e){return R(e,t)});if(e.range().isValueType()&&e.range()instanceof E.ValueType){var o=e.range();if(o.globallyDeclaredBy().length>0){var n=A.globalDeclarations(t).filter(function(e){return null!=x.find(o.globallyDeclaredBy(),function(t){return t==e.definition()})});return n.map(function(e){return R(e,t)})}if("BooleanType"==e.range().name())return["false","true"].map(function(e){return{text:e}})}}return e.enumValues(t).map(function(e){return{text:e}})}function i(e,t){var n=!0;return t.getContextRequirements().forEach(function(t){if(-1==t.name.indexOf("(")){var r=e.computedValue(t.name);r?n=n&&r==t.value:t.value&&(n=!1)}}),n}function a(e){var t=e.editor.getBuffer().characterIndexForPosition(e.triggerPosition);if(e.suggestion.annotation){for(var n=e.editor.getBuffer().getText(),r=t;r<n.length;r++){var i=n.charAt(r);if(")"==i){t=r+1;break}if("\r"==i||"\n"==i)return}var a=e.editor.getBuffer().positionForCharacterIndex(t);return void e.editor.getBuffer().insert(a,":")}if(e.suggestion.replacementPrefix&&e.suggestion.extra||"%"==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t-e.suggestion.replacementPrefix.length);e.editor.getBuffer().insert(a,e.suggestion.extra)}else{if(" "==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}if(" { "==e.suggestion.extra){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}if(e.suggestion.extra&&-1!=e.suggestion.extra.indexOf("!include")){var a=e.editor.getBuffer().positionForCharacterIndex(t);e.editor.getBuffer().insert(a,e.suggestion.extra)}}}function o(e,t,n){var r=M.resolve(t,n);if(P.existsSync(r)){var i=P.readdirSync(r),a=i.map(function(t){return{text:t,replacementPrefix:e,extra:"./"+n+"/"}});return a}return[]}function s(e,t,n,r,i,a){var s=S(t,n),u=e.editor.getPath(),l=M.dirname(u),c=M.resolve(l,s);if(c&&(l=M.dirname(c),P.existsSync(c))){var p=P.statSync(c);p.isDirectory()&&(l=c)}var d=[],m=!a;if(r&&a&&("example"==r.name()&&(d=d.concat(o(s,l,"examples")),m=!0),"value"==r.name()&&"GlobalSchema"==r.parent().definition().name()&&(d=d.concat(o(s,l,"schemas")),m=!0)),r||a&&("Trait"==i.definition().name()&&(d=d.concat(o(s,l,"traits")),m=!0),"ResourceType"==i.definition().name()&&(d=d.concat(o(s,l,"resourceTypes")),m=!0),"SecuritySchema"==i.definition().name()&&(d=d.concat(o(s,l,"securitySchemes")),m=!0),"GlobalSchema"==i.definition().name()&&(d=d.concat(o(s,l,"schemas")),m=!0)),(!m||!a)&&P.existsSync(l)){var h=P.readdirSync(l);d=d.concat(h.map(function(e){return{text:e}}))}return d}function u(e,t){if(!e)return null;for(var n=e.split("/"),r=t.lowLevel(),i=r,a=0;a<n.length-1;a++)if("#"!=n[a]){if(i=x.find(i.children(),function(e){return e.key()==n[a]}),!i)return null}else i=r.unit().ast();return i.children().map(function(e){return{text:e.key()}})}function l(e,t,n){var r=e.lastIndexOf("."),i=-1==r?t:A.resolveRamlPointer(t,e.substr(0,r));if(i){var a=i.elements(),o=n.getSelector(t);if(o){var s=o.apply(t);a=x.intersection(a,s)}return a.map(function(e){return{text:e.name(),description:e.definition().name()}})}}function c(e,t){var n=t.definition().universe().types().filter(function(e){return!e.isValueType()&&!e.isUnionType()});return n.map(function(e){return{text:e.name(),description:e.description()}})}function p(e,t,n,i,a){var o=e;if(t){var p=t.property(),m=t.value();if(m instanceof T.StructuredValue){var f=m.toHighlevel();if(f)return h(j,b(f,n,i));if(A.isExampleNodeContent(t)){var y=A.findExampleContentType(t);if(y){var g=A.parseDocumentationContent(t,y.toRuntime());if(g)return h(j,b(g,n,i))}}}if(p){if("$ref"==p.name()&&"Swagger"==p.range().universe().version())return u(""+m,o);if("pointer"==p.range().name())return l(""+m,o,p);if("ramlexpression"==p.range().name()){var v=o;try{return"condition"==p.name()&&(v=v.computedValue("response")?v.parent().parent().parent():v.parent().parent()),("validWhen"==p.name()||"requiredWhen"==p.name())&&(v=v.parent()),l(""+m,v,p)}catch(S){return S}}if("RAMLSelector"==p.range().name())return c(""+m,o);var w=r(p,o);if(p.isAllowNull()&&w.push({text:"null",description:"null means - that no value is allowed"}),!w||0==w.length){var P=p.getOftenKeys();if(P)return P.map(function(e){return{text:e,displayText:e}})}if("example"==p.name()&&"BodyLike"==o.definition().name()){if(!d(t.value(),n,i))return;var M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./examples/",e.displayText="!include ./examples/"+e.text,e});return M=U(M,t.lowLevel().start(),i)}if("value"==p.name()&&"GlobalSchema"==o.definition().name()){if(!d(t.value(),n,i))return;M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./schemas/",e.displayText="!include ./schemas/"+e.text,e}),M=U(M,t.lowLevel().start(),i)}if(w)return w}return[]}if("GlobalSchema"==o.definition().name()&&(M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./schemas/",e.displayText="!include ./schemas/"+e.text,e}),M=U(M,o.lowLevel().start(),i)),"Trait"==o.definition().name())return M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./traits/",e.displayText="!include ./traits/"+e.text,e}),M=F(M,o.lowLevel().start(),i);if("ResourceType"==o.definition().name()){var M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./resourceTypes/",e.displayText="!include ./resourceTypes/"+e.text,e});return M=F(M,o.lowLevel().start(),i)}if("SecuritySchema"==o.definition().name()){var M=s(a,i,n,t,o,!0).map(function(e){return e.extra="!include ./securitySchemes/",e.displayText="!include ./securitySchemes/"+e.text,e});return M=F(M,o.lowLevel().start(),i)}}function d(e,t,n){if(e&&e.length>0){var r=e.trim();if(0==r.indexOf("{"))return!1;if(0==r.indexOf("<"))return!1;if(0==r.indexOf("["))return!1}for(var i=t;i>=0;i--){var a=n[i];if(":"==a)return!0;if("|"==a)return!1;if("'"==a)return!1;if('"'==a)return!1}return!0}function m(e,t){var n=(new Date).getMilliseconds();try{return h(e,t)}finally{if(_.aquireManager()){var r=_.aquireManager();if(r.performanceDebug){var i=(new Date).getMilliseconds();console.log("Completion calc:"+(i-n))}}}}function h(e,t){j=e;try{if(B>100)return;B++;var n=e.editor.getBuffer().characterIndexForPosition(e.bufferPosition),r=e.editor.getBuffer().getText(),i=A.determineCompletionKind(r,n),a=t?t:v(e),o=a;if(3==i)return[{text:"include"}];if(5==i){var u=o.definition().universe().getType("AnnotationType");if(u){var l=A.globalDeclarations(o).filter(function(e){return e.definition()==u});return l.map(function(e){return{text:T.qName(e,o),annotation:!0}})}return[]}if(4==i)return D(r,e,n);if(7==i)return[];if(null==a)return[];for(var c=!1,d=n-1;d>=o.lowLevel().start();d--){var m=r[d];if("\r"==m||"\n"==m){c=!0;break}}for(var h=n,y=n-1;y>=0;y--){var b=r[y];{if(" "!=b&&"	"!=b)break;h=y}}var w=x.find(o.attrs(),function(e){return e.lowLevel().start()<h&&e.lowLevel().end()>=h&&!e.property().isKey();
});if(!w){var P=x.find(o.definition().allProperties(),function(e){return e.canBeValue()});if(c){var M=x.find(o.lowLevel().children(),function(e){return e.start()<n&&e.end()>=n});if(M){var P=x.find(o.definition().allProperties(),function(e){return e.name()==M.key()});if(P){var N=f(M.keyStart(),M.unit().contents()),I=f(n,M.unit().contents());if(I.length>N.length+1){var _=P.range().isValueType();_?w=new V(M,o,P.range(),P):M.children().length>0&&(o=new K(M.children()[0],o,P.range(),P))}}}}else P&&0==i&&"type"==P.name()&&1==o.children().length&&(w=new T.ASTPropImpl(o.lowLevel(),o,P.range(),P))}if(2==i)return s(e,r,n,w,o,!1);if(w&&(1==i||6==i)){for(var R="",d=n-1;d>=0;d--){var m=r[d];if("\r"==m||"\n"==m)break;R=m+R}R=R.trim(),R!=w.name()&&(i=0)}if(0==i){var O=p(a,w,n,r,e);if(!w&&(!O||0==O.length)&&!c&&o.definition().isUserDefined())return k(o,n,r,z,Y,c);if(w&&w.property().isTypeExpr()){O||(O=[]),O=O.filter(function(e){return e.text!=o.name()});var U=S(r,n),q=U.lastIndexOf(".");U=q?U.substr(0,q+1):null,U&&(O=O.filter(function(e){return 0==e.text.indexOf(U)}),O.forEach(function(e){return e.text=e.text.substring(U.length)}))}return O&&(":"==r[n-1]&&O.forEach(function(e){e.extra?e.extra=" "+e.extra:e.extra=" "}),-1!=e.prefix.indexOf("[")&&(e.prefix="",O.forEach(function(e){e.text=": [ "+e.dispayText}))),!c&&O&&O.length>0&&(O=F(O,o.lowLevel().start(),r)),O}if(1==i||6==i&&n>0&&"-"!=r.charAt(n-1)&&" "!=r.charAt(n-1)){if(a.isAttr()||a.isImplicit())throw new Error("Should be highlevel node at this place");if(o.property()&&"uriParameters"==o.property().name()&&o.definition()instanceof E.NodeClass){var H=o.parent().attr("relativeUri");if(H&&o.name().substring(0,o.name().length-1)==S(r,n)){var G=(new C.UrlParameterNameValidator).parseUrl(H.value());if(G instanceof Array&&G){if(L(n,r))var W=G.map(function(e){return{text:e+": \n"+g(n,r)+"  "}});else var W=G.map(function(e){return{text:e}});return W}}}if(o.property()&&"baseUriParameters"==o.property().name()&&o.definition()instanceof E.NodeClass){var H=o.root().attr("baseUri");if(H&&o.name().substring(0,o.name().length-1)==S(r,n)){var G=(new C.UrlParameterNameValidator).parseUrl(H.value());if(G instanceof Array&&G){if(L(n,r))var W=G.map(function(e){return{text:e+": \n"+g(n,r)+"  "}});else var W=G.map(function(e){return{text:e}});return W}}}if(o.property()&&"resources"==o.property().name()){var H=o.attr("relativeUri");if(H&&o.name().substring(0,o.name().length-1)==S(r,n))return H&&-1!=H.value().indexOf("{")?[{text:"mediaTypeExtension}"}]:[]}var z=o.property()&&o.property().isMultiValue();o.lowLevel().keyEnd()<n&&(z=!1);var Y=!0;if(z){var J=o.definition().getCanInherit();if(J){var $=o.computedValue(J[0]);$&&(Y=!0,z=!1)}}return k(o,n,r,z,Y)}return[]}finally{B--}}function f(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else{if("\r"==i||"\n"==i)return n;if(n)return""}}return""}function y(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i||"-"==i)n?n+=i:n=i;else{if("\r"==i||"\n"==i)return n;if(n)return""}}return""}function g(e,t){for(var n="",r=e-1;r>=0;r--){var i=t.charAt(r);if(" "==i||"	"==i)n?n+=i:n=i;else if("\r"==i||"\n"==i)return n}}function v(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0);var r=e.editor.getPath(),i=new N.Project(M.dirname(r)),a=e.editor.getBuffer().characterIndexForPosition(e.bufferPosition),o=e.editor.getBuffer().getText(),s=A.determineCompletionKind(o,a);if(1==s&&t){for(var u=a>0?a-1:a,l=u;l>0;l--){var c=o[l];if("\r"==c||"\n"==c)break;(" "==c||"	"==c)&&d++}var p=a;o=o.substring(0,p)+"k:"+o.substring(p)}for(var d=0,m=i.setCachedUnitContent(M.basename(r),o),h=I.fromUnit(m),f=a,y=a-1;y>=0;y--){var c=o[y];{if(" "!=c&&"	"!=c)break;f=y-1}}var g=h.findElementAtOffset(f);if(g&&null==g.parent()&&d>0&&1==s){var v=x.find(g.attrs(),function(e){var t=e;return t.lowLevel().start()<a&&t.lowLevel().end()>=a&&!t.property().isKey()});if(!v&&n)return null}return n||g?g:h}function b(e,t,n){for(var r=t,i=t-1;i>=0;i--){var a=n[i];{if(" "!=a&&"	"!=a)break;r=i}}var o=e.findElementAtOffset(r);return o}function S(e,t){for(var n=t-1;n>=0;n--){var r=e.charAt(n);if("\r"==r||"\n"==r||" "==r||"	"==r||'"'==r||"'"==r||":"==r)return e.substring(n+1,t)}return""}var w=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},P=n(4),M=n(10),T=n(17),E=n(15),A=n(66),C=n(77),N=n(18),I=n(14),_=n(151),x=n(16);t.selector=".source.raml",t.disableForSelector=".text.html .comment",t.filterSuggestions=!0,t.inclusionPriority=1,t.excludeLowerPriority=!0;var R=function(e,t){var n=e.attr("description"),r="";n?r=n.value():(n=e.attr("usage"),n&&(r=n.value()));var i=T.typeFromNode(e),a=i.allProperties().filter(function(e){return e.isRequired()&&!e.isKey()}),o=T.qName(e,t);if("AnnotationType"!=e.definition().name()&&a.length>0){o+=": {",o+=a.map(function(e){return e.name()+" : "}).join(", ")+"}";var s="";"ResourceType"==e.definition().name()&&(o=""+o+" }",s="{ ")}return{displayText:T.qName(e,t),snippet:o,description:r,extra:s}},O=function(e,t){for(var n="";e>0;){var r=t[e];if("\r"==r||"\n"==r||" "!=r&&"-"!=r)break;n+=" ",e--}return n},L=function(e,t){for(var n=!0,r=e>0?e-1:0;r<t.length;r++){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i)break;":"==i&&(n=!1)}return n};t.isAllowed=i;var k=function(e,t,n,r,a,o){void 0===o&&(o=!0);var s=e,u=!1,l=!1;if(o){var c=y(e.lowLevel().keyStart(),n);void 0==c&&(c="");var p=y(t,n),d=c.length,m=p.length;for(d==m&&e.parent()&&(e.property().isMerged()?s=s.parent():(u=!1,l=!0)),m>d&&(u=!0,m>=d+4&&(l=!0,u=!1));d>m&&s.parent();)s=s.parent(),d-=2}var h=L(t,n),g=h?": ":"",v=s.definition().allProperties();v=v.filter(function(e){return!e.isKey()&&!e.isMerged()&&!e.isSystem()}),v=v.filter(function(e){return i(s,e)});var b={};if(s.attrs().forEach(function(e){b[e.name()]=!0}),v=v.filter(function(e){return!b[e.name()]}).filter(function(e){return!e.isAnnotation()}),e.definition().isAssignableFrom("DataElement")&&!e.definition().isAssignableFrom("ObjectField")&&!e.attr("type")){var S=e.definition().universe().getType("ObjectField");S&&v.push(S.property("properties"))}var w=[];return r||l||(w=v.map(function(e){var r=e.name()+g;return!e.range().isValueType()&&h&&(r+="\n"+f(t,n)+"  "),{text:r,displayText:e.name(),description:e.description()}})),a&&s.definition().allProperties().filter(function(e){return e.isMerged()||e.isFromParentKey()}).forEach(function(e){if((!l||e.isFromParentKey())&&(!u||!e.isFromParentKey())){var r=e,i=e.getOftenKeys();if(!i){var a=e.suggester();a&&(i=a(s))}i||(i=e.enumOptions()),s.property()&&"body"==s.property().name()&&(i||("Response"==s.property().domain().name()&&(i=["application/json","application/xml"]),("MethodBase"==s.property().domain().name()||"Method"==s.property().domain().name())&&(i=["application/json","application/xml","multipart/form-data","application/x-www-form-urlencoded"]))),i&&i.forEach(function(e){var i=r.valueDocProvider(),a="";i&&(a=i(e)),h?w.push({text:e+":\n"+f(t,n)+"  ",description:a,displayText:e}):w.push({text:e,description:a,displayText:e})})}}),w};t.onDidInsertSuggestion=a,t.fromDir=o,t.pathCompletion=s,t.swaggerRefCompletion=u,t.ramlPointerCompletion=l,t.ramlSelectorCompletion=c;var D=function(e,t,n){var r=["RAML 0.8","RAML 1.0"],i=[],a=e.substr(0,n);if(0==a.indexOf("#%RAML 1.0 ")){var o=["DocumentationItem","DataType","NamedExample","ResourceType","Trait","SecurityScheme","AnnotationType","Library","Overlay","Extension"];return o.map(function(e){return{text:e}})}return r.forEach(function(r){if(0==("#%"+r).indexOf(a))if(0==e.trim().indexOf("#%"))if(-1!=t.prefix.indexOf("R"))i.push({displayText:r,text:r});else{var o=e.substring(2,n);0==r.indexOf(o)&&("1"==t.prefix||"0"==t.prefix?i.push({displayText:r,text:t.prefix+r.substr(n-2)}):i.push({displayText:r,text:r.substr(n-2)}))}else i.push({displayText:r,text:r,extra:"%"})}),i},U=function(e,t,n){return e=[{displayText:"Define Inline",text:"|\n"+O(t-1,n)+"  "}].concat(e)},F=function(e,t,n){return e=[{displayText:"Define Inline",text:"\n"+O(t-1,n)+"  "}].concat(e)};t.valueCompletion=p;var j=null;t.getSuggestions=m;var V=function(e){function t(){e.apply(this,arguments)}return w(t,e),t.prototype.value=function(){return""},t}(T.ASTPropImpl),K=function(e){function t(){e.apply(this,arguments)}return w(t,e),t.prototype.value=function(){return""},t}(T.ASTNodeImpl),B=0;t.getAstNode=v,t.getValuePrefix=S},function(e,t,n){function r(e){void 0===e&&(e=!0),null==f?f=new h(e):e&&f.display()}function i(){return null!=f&&f.opened}function a(){return f||(f=new h(!0)),f}function o(e){a()._view&&a()._view.refresh(),a().updateText(),a().selectNode(e)}var s=(n(143),n(152)),u=n(10),l=n(14),c=n(18),p=n(153),d=n(154),m=n(160),h=function(){function e(e){var t=this;void 0===e&&(e=!0),this._initialized=!1,this.updateCount=0,this.outlineCount=0,this.fire=!0,this.opened=!1,this._cleanOutline=!1,this.performanceDebug=!0,this.placeholder=!1,f=window.manager=this,p.workspace.onDidChangeActivePaneItem(function(n){return t.updateEverything(e)}),this.updateEverything(e),this.addAutoCloseListener()}return e.prototype.getPath=function(){return console.log("ETM::GetPath"),this.currentEditor?this.currentEditor.getPath():null},e.prototype.getCurrentEditor=function(){return this.currentEditor},e.prototype.internalScheduleUpdateViews=function(e){var t=this;this.updateCount=e,setTimeout(function(){t.updateCount==e&&t.updateViews()},500)},e.prototype.scheduleViewsUpdate=function(){this.fire&&this.internalScheduleUpdateViews(this.updateCount+1)},e.prototype.internalScheduleOutlineUpdate=function(e){var t=this;this.outlineCount=e,setTimeout(function(){t.outlineCount==e&&t.updateOutline()},500)},e.prototype.scheduleOutlineUpdate=function(){this.internalScheduleOutlineUpdate(this.outlineCount+1)},e.prototype.addAutoCloseListener=function(){var e=this;p.workspace.onDidDestroyPane(function(t){try{var n=p.workspace.getPaneItems().filter(function(e){return void 0!=e.softTabs}).length;0==n&&(p.workspace.paneForItem(e._view)&&p.workspace.paneForItem(e._view).destroy(),p.workspace.paneForItem(e._details)&&p.workspace.paneForItem(e._details).destroy(),e.opened=!1)}catch(r){console.log(r)}})},e.prototype.getOrCreateView=function(){return this._view||(this._view=new m.RamlOutline,this.ast&&this._view.setUnit(this.ast)),this._view},e.prototype.getDetails=function(){return this._details||(this._details=new d.RamlDetails),this._details},e.prototype.reparseAST=function(){var e=this;if(this.currentEditor){var t=this.currentEditor.getPath(),n=(this.currentEditor.getBuffer(),new c.Project(u.dirname(t))),r=n.setCachedUnitContent(u.basename(t),this.currentEditor.getBuffer().getText());r.project().addTextChangeListener(function(t){if(t.unit==r){var n=t.offset,i=t.replacementLength,a=t.text,o=e.currentEditor.getBuffer(),s=o.positionForCharacterIndex(n),u=o.positionForCharacterIndex(n+i);try{e.fire=!1,o.setTextInRange({start:s,end:u},a),e.scheduleOutlineUpdate()}finally{e.fire=!0}}}),this.ast=l.fromUnit(r),this.unit=r}},e.prototype.isETPane=function(e){if(this._view){var t=e.getItems();return t.indexOf(this.getDetails())>=0||t.indexOf(this._view)>=0}},e.prototype.display=function(){console.log("ETM::Display");var e=p.workspace,t=p.workspace.paneForItem(this.getCurrentEditor());t&&(e.paneForItem(this.getOrCreateView())||s.doSplit(this.getOrCreateView()),e.paneForItem(f.getDetails())||s.doSplit(this.getDetails(),3),this.opened=!0)},e.prototype.updateText=function(e){console.log("ETM::UpdateText"),this.fire=!1;var t=this.currentEditor,n=e?t.getBuffer().positionForCharacterIndex(e.start()):null;t.setText(this.unit.contents()),this.fire=!0,n&&t.setCursorBufferPosition(n)},e.prototype.selectNode=function(e){var t=e.lowLevel();if(t){var n=this.currentEditor;if(n){var r=t?n.getBuffer().positionForCharacterIndex(t.start()):null;r&&n.setCursorBufferPosition(r)}}},e.prototype.updateEverything=function(e){void 0===e&&(e=!0);var t=p.workspace.getActiveTextEditor();if(t&&this.currentEditor!=t){var n=t.getPath();if(n&&".raml"==u.extname(n)){this.currentEditor=t,0==this.opened&&e&&this.display(),t.patched||this.addListenersToEditor(t),this.reparseAST();var r=t.getBuffer().characterIndexForPosition(t.getCursorBufferPosition());this.positionUpdated(r),this.scheduleViewsUpdate()}}},e.prototype.addListenersToEditor=function(e){var t=this,n=e.getBuffer();n.onDidChange(function(r){try{var i=(new Date).getMilliseconds();t.reparseAST();var a=n.characterIndexForPosition(e.getCursorBufferPosition());t.positionUpdated(a),t.scheduleViewsUpdate();var o=(new Date).getMilliseconds();t.performanceDebug&&console.log("Change take:"+(o-i))}catch(s){console.log(s)}}),e.getLastCursor().onDidChangePosition(function(r){t.fire&&(t.positionUpdated(n.characterIndexForPosition(e.getCursorBufferPosition())),t.scheduleViewsUpdate())}),this.addListenersOnMove(e),this.currentEditor.patched=!0},e.prototype.addListenersOnMove=function(e){var t=this,n=!1;p.workspace.onDidAddPaneItem(function(r){return n||0==t.isETPane(r.pane)||r.item==t.getOrCreateView()||r.item==t.getDetails()?r:void setTimeout(function(){try{var t=p.workspace.paneForItem(e);t&&(n=!0,r.pane.moveItemToPane(r.item,t,null),n=!1,t.setActiveItem(r.item),t.activate())}catch(i){console.log(i)}},18)})},e.prototype.patchCurrentNode=function(e){this._currentNode=e},e.prototype.getCurrentNode=function(){return null==this._currentNode?this._currentNode=this.ast:this._currentNode},e.prototype.setSelectedNode=function(e){if(this.unit)for(var t=this.unit.absolutePath();e.lowLevel().unit().absolutePath()!=t&&e.parent();)e=e.parent();var n=e.id(),r=this.ast.findById(n);r&&(e=r),this._details&&this._details.show(e);var i=this.getCurrentEditor();if(i){this.fire=!1;try{var a=i.getBuffer(),o=a.positionForCharacterIndex(e.lowLevel().start());a.positionForCharacterIndex(e.lowLevel().end());i.setCursorBufferPosition(o),this.positionUpdated(a.characterIndexForPosition(i.getCursorBufferPosition()))}finally{this.fire=!0}}},e.prototype.getSelectedNode=function(){return this.getCurrentNode()},e.prototype.setText=function(e){console.log("ETM::SetText");var t=this.currentEditor;null!=t&&t.setText(e)},e.prototype.updateViews=function(){var e=this.getCurrentNode(),t=(new Date).getMilliseconds();this._details&&this.getDetails().show(e),this._view&&(this.getOrCreateView().setUnit(f.ast),this.getOrCreateView().setSelection(e));var n=(new Date).getMilliseconds();this.performanceDebug&&console.log("Views update:"+(n-t))},e.prototype.updateOutline=function(){var e=this.getCurrentNode(),t=(new Date).getMilliseconds();this._view&&(this.getOrCreateView().setUnit(f.ast),this.getOrCreateView().setSelection(e));var n=(new Date).getMilliseconds();this.performanceDebug&&console.log("Outline update:"+(n-t))},e.prototype.positionUpdated=function(e){this.currentPosition=e,this.ast&&(this._currentNode=this.ast.findElementAtOffset(this.currentPosition))},e}(),f=null;t.initEditorTools=r,t.editorToolsStatus=i,t.aquireManager=a,t.updateAndSelect=o},function(e,t,n){function r(e,t){void 0===t&&(t=0);var n=null;switch(t){case 3:n=i.workspace.getActivePane().splitDown({});break;case 2:n=i.workspace.getActivePane().splitUp({});break;case 1:n=i.workspace.getActivePane().splitLeft({});break;case 0:n=i.workspace.getActivePane().splitRight({})}return n.addItem(e,0),n}var i=n(153);!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.BOTTOM=3]="BOTTOM"}(t.SplitDirections||(t.SplitDirections={}));t.SplitDirections;t.doSplit=r},function(e,t){function n(e){atom.open(e)}var r=function(){function e(){}return e.prototype.onDidChangeActivePaneItem=function(e){return atom.workspace.onDidChangeActivePaneItem(e)},e.prototype.addModalPanel=function(e){return atom.workspace.addModalPanel(e)},e.prototype.getActiveTextEditor=function(){return atom.workspace.getActiveTextEditor()},e.prototype.getActivePane=function(){return atom.workspace.getActivePane()},e.prototype.getActiveEditor=function(){return atom.workspace.getActiveEditor()},e.prototype.addRightPanel=function(e){return atom.workspace.addRightPanel(e)},e.prototype.paneForItem=function(e){return atom.workspace.paneForItem(e)},e.prototype.getPaneItems=function(){return atom.workspace.getPaneItems()},e.prototype.onDidAddPaneItem=function(e){return atom.workspace.onDidAddPaneItem(e)},e.prototype.onDidDestroyPane=function(e){return atom.workspace.onDidDestroyPane(e)},e.prototype.open=function(e,t){atom.workspace.open(e,t)},e}();t.Workspace=r,t.open=n,t.workspace=new r;var i=function(){function e(){}return e.prototype.add=function(e,t,n){return atom.commands.add(e,t,n)},e}();t.CommandManager=i,t.commands=new i},function(e,t,n){function r(e){if(!e)return!1;var t=e.definition().name();return"GlobalSchema"==t}var i=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},a=n(143),o=n(144),s=n(145),u=n(10),l=a.CompositeDisposable,c=n(155),p=n(159),d=n(151),m=n(148),h=n(4),f=function(e){function t(t){void 0===t&&(t=!0),e.call(this),this.allowStructureChanges=t,this.disposables=new l,this.addClass("raml-details"),this.container=o.vc(),this.addChild(this.container),this.ui().appendChild(this.container.ui())}return i(t,e),t.prototype.getTitle=function(){return"Details"},t.prototype.setSchema=function(e){var t=(e.attr("key"),e.attr("value")),n=12;if(null==t){this.container.clear();var r=a.h3("Selected schema has incorrect node so cannot be displayed.");return a.applyStyling(6,r),r.setStyle("text-align","center").margin(0,0,24,12),void this.container.addChild(r)}setInterval(function(){12==n++&&t&&(t.setValue(i),p._updatePreview(s,i))},100);var i=t.value();this.container.clear();var o=m.smallEditor(function(r,a){if(t.lowLevel().includePath())try{var o=u.dirname(e.lowLevel().unit().absolutePath()),s=u.resolve(o,t.lowLevel().includePath());h.writeFileSync(s,a)}catch(r){console.log(r)}i=a,n=0});m._updateEditor(o,i);var s=p._schemaPreview();p._updatePreview(s,i);var l=new a.TabFolder;l.add("Tree view",77,s),l.add("Text view",64,o),this.container.addChild(l),window.detailsnode=e},t.prototype.setResource=function(e){var t=e;window.detailsnode=t,(null==t||null==t.lowLevel())&&this.displayEmpty(),console.log("Displaying details for node "+t.name()),c.updateDetailsPanel(t,this.container,!0)},t.prototype.displayEmpty=function(){if(this.container.clear(),!d.aquireManager().ast){this.container.addChild(a.h3("Our API is fabulously empty").margin(8,8,20,8));var e=new a.Button("Create new API",3,3,159,function(){return m.newApi()});e.margin(8,8,20,0),this.container.addChild(e)}},t.prototype.destroy=function(){d.aquireManager()._details=null,this.disposables.dispose()},t.prototype.show=function(e){if(this._node!=e){this._node=e;try{r(e)?this.setSchema(this._node):this.setResource(e)}catch(t){}}},t}(s.Scrollable);t.RamlDetails=f},function(e,t,n){function r(e,t,n,r){void 0===r&&(r=!1);var i=u(e,t);return a(t,i.required,i.type,i.value,i.values,e,n,r)}function i(e,t,n){void 0===n&&(n=!1),t.clear();var r=!0,i=v.buildItem(e,!1);i.addListener(function(e){g.aquireManager().updateText(null)});var a=i.render({});if(t.addChild(a),r=!1,M){var o=M.getActualField().ui();o.focus(),o.getModel().setCursorBufferPosition(P),M=null,P=null,w=null}if(r){var s=m.h3("Object `"+e.name()+"` has no additional properties.");m.applyStyling(6,s),s.setStyle("text-align","center").margin(0,0,24,12),t.addChild(s)}}function a(e,t,n,r,i,a,o,s){void 0===s&&(s=!1);var u,d=function(e){},f=(a.attr(e),!1),v=new m.BasicBinding(y.getStringValue(r)),T=function(e){s&&g.aquireManager().updateText(a.lowLevel()),A=!1,"protocols"==n&&e==b&&(e=S),v.set(e),A=!0},E=null;switch(n){case"markdown":d=y.markdown(e,i,function(t){a.attrOrCreate(e).setValue(r=t),T(l(a,e))}),f=!0;break;case"schema":d=y.schemaEditDialog(e,i.length>0?i[0]:r,function(t){a.attrOrCreate(e).setValue(t),s&&g.aquireManager().updateText(),T(l(a,e))}),f=!0;break;case"schexample":d=y.exampleEditorDialog(e,i[1],i[0],function(t){var n=t;c.exists(t)&&(n="!include "+p.relative(a.lowLevel().unit().path(),t)),a.attrOrCreate(e).setValue(n),T(l(a,e))}),f=!0;break;case"enum":d=y.enumEditDialog(e,i,function(t){a.attributes(e).forEach(function(e){return e.remove()}),t.forEach(function(t){return a.attrOrCreate(e).addValue(t)}),T(l(a,e))}),f=!0;break;case"protocols":break;case"type":d=y.typeEditDialog(e,r,a,function(t){a.attrOrCreate(e).setValue(t),T(l(a,e))}),g.aquireManager().ast.elementsOfKind("resourceTypes").length<1?E="No resource types defined":f=!0;break;case"trait":d=y.traitsEditDialog(e,i,a,function(t){a.attributes(e).forEach(function(e){return e.remove()}),t.filter(function(e){return e.enabled}).filter(function(e){return"string"==typeof e.value}).forEach(function(t){return a.attrOrCreate(e).addValue(t.value)}),T(l(a,e))}),f=!0}var A=!0,C=function(e){x=0};if(!f&&a.definition().property(e).enumValues(a).length>0||"code"==e){var N=new m.SelectField(e+(t?"*":""),function(t,r){return 0!=A?("(no value)"==r&&(r=""),"protocols"==n?(a.attributes(e).forEach(function(e){return e.remove()}),r==S?["HTTP","HTTPS"].forEach(function(t){return a.attrOrCreate(e).addValue(t)}):r&&a.attrOrCreate(e).setValue(r),void T(l(a,e))):void C(r)):void 0}),I=[];if("code"==e)I=Object.keys(y.getStatusCodeDescriptions());else{var _=a.definition().property(e).enumValues(a);I=a.definition().property(e).isKey()?_:["(no value)"].concat(_),"protocols"==n&&(v.get()==b&&v.set(S),I=["(no value)","HTTP","HTTPS",S])}N.getActualField().setOptions(I),N.setBinding(v),u=N}else u||(u=new m.TextField(e+(t?"*":""),v,function(e,t){0!=A&&(f&&u&&u.getActualField()?u.getActualField().setText(r,!1):C(t))},null,g.aquireManager().placeholder?e+" has no value":""),e==w&&(M=u));var x=12;return setInterval(function(){if(10==x++){var t=u.getActualField().getValue(),n=(a.attr(e),a.attrOrCreate(e));n.setValue(t),s&&(u instanceof m.TextField&&(w=e,P=u.getActualField().ui().getModel().getCursorBufferPosition()),g.aquireManager().updateText(""==t||null==n?a.lowLevel():n.lowLevel()))}},50),u.getActualField().addClass("ate").addClass(n).setStyle("margin-bottom","0px !important"),u.margin(0,0,0,6),f?(u.getActualField().ui().addEventListener("focus",function(e){d(e),u.getActualField().ui().blur()}),u.addChild(h.button("(edit)",0,0,null,d).margin(4,0,0,0))):E&&(g.aquireManager().placeholder&&u.getActualField().setPlaceholder(E),u.getActualField().ui().addEventListener("focus",function(e){return u.getActualField().ui().blur()})),o&&(u.ui().addEventListener("mouseenter",function(){o.setStyle("opacity","1"),o.setText(a.definition().property(e).description())}),u.ui().addEventListener("mouseleave",function(){o.setStyle("opacity","0")})),u}function o(e){var t=f.createSchema(e);if(!t||!t.getType)return"Invalid";switch(t.getType()){case"source.json":return"JSON";case"text.xml":return"XML";default:return"Unknown type"}}function s(e){return e instanceof d.StructuredValue?e.valueName():e}function u(e,t){var n=e.definition().property(t);if(0==n.isValueProperty())return null;var r,i,a,u=n.isMultiValue(),l=n.isRequired(),c=[],p=n.range().name();if(u)switch(c=e.attributes(t).map(function(e){return e.value()}),r=c.map(function(e){return s(e)}).join(", "),p){case"StringType":i="enum",e.definition().isUserDefined()||"protocols"!=t||(i="protocols");break;case"TraitRef":i="trait";break;default:i="unknown"}else{var d=e.attr(t);switch(r=d&&d.value()?d.value():"",p){case"MarkdownString":i="markdown",c=r.split("\n"),r=c[0];break;case"SchemaString":i="schema",r.indexOf("\n")>=0&&(c=[r],r="("+o(r)+" Schema)");break;case"ExampleString":i="schexample";try{a=d.lowLevel().includePath()}catch(m){a=""}c=[r,a],r="Example"+(""!=a?" (referenced from "+a+")":"");break;case"ResourceTypeRef":i="type";break;default:i="string"}"string"==i&&(r.indexOf("\n")>=0&&(c=r.split("\n"),r="("+c.length+" lines) "+c[0].substring(0,20)+" ...",i="multiline"),d&&(a=d.lowLevel().includePath()),a&&(r="(included from "+a+")",i="include"))}var h={value:r,values:c,type:i,include:a,required:l};return h}function l(e,t){return s(u(e,t).value)}var c=n(4),p=n(10),d=n(17),m=n(143),h=n(144),f=n(78),y=n(148),g=n(151),v=n(156),b="HTTP, HTTPS",S="HTTP/HTTPS";t.nodes={Api:{properties:["title","version","baseUri","mediaType","protocols"],actions:[]},Resource:{properties:["relativeUri","displayName","description","is","type"]},Method:{properties:["method","displayName","description","is","type","protocols","securedBy"]},DataElement:{properties:["name","displayName","description","default","required"]},Response:{properties:["code","description"]}},t.filterOut={properties:["location","annotations","repeat","locationKind","signature"]},t.property2=r;var w=null,P=-1,M=null;t.updateDetailsPanel=i,t.property=a,t.getStringValue=s,t.propertyInfo=u,t.stringView=l},function(e,t,n){function r(e){if(e.length>0){if("'"==e.charAt(0))return'"'+e+'"';if('"'==e.charAt(0))return'"'+e+'"'}if(-1!=e.indexOf(" ")||-1!=e.indexOf(",")){if(-1==e.indexOf('"'))return'"'+e+'"';if(-1==e.indexOf("'"))return"'"+e+"'"}return e}function i(e,t){if(e.isKey()||e.isRequired())return null;if(e.domain()&&!e.domain().isUserDefined()){if("documentation"==e.name()||"usage"==e.name()||"description"==e.name()||"displayName"==e.name()||"title"==e.name())return"Documentation";if("annotations"==e.name()||"is"==e.name()||"securedBy"==e.name()||"type"==e.name()&&!e.isTypeExpr())return"References";if("protocols"==e.name())return"General"}return"type"==e.name()&&e.domain()&&!e.domain().isUserDefined()?null:t.property()&&e.domain()&&e.domain()!=t.property().range()?"Facets":"General"}function a(e,t){b(e);var n=e.propertiesAllowedToUse(),r=new w(e);if(e.property()&&e.property().description()&&r.setDescription(e.property().description()),n=n.filter(function(t){return("name"!=t.name()||"Api"!=e.definition().name()||t.domain().isUserDefined())&&("displayName"!=t.name()||"Api"!=e.definition().name()||t.domain().isUserDefined())?!0:!1}),n=n.sort(function(e,t){return e.isKey()?-1:t.isKey()?1:e.name()<t.name()?-1:1}),n.forEach(function(t){if(t.isValueProperty()){if("BooleanType"==t.range().name())return;if("MarkdownString"==t.range().name())return;if(t.isExampleProperty()&&"application/json"==e.name())return void r.addItemToCategory(i(t,e),new R(t,e));if(t.isExampleProperty()&&"application/xml"==e.name())return void r.addItemToCategory(i(t,e),new O(t,e));var n=e.attr(t.name());if(n&&n.value()instanceof l.StructuredValue)return void r.addItemToCategory(i(t,e),new F(t,e,n.value()));if(t.isTypeExpr()){var n=e.attr(t.name());if(n){var a=n.value();if("{"==a.trim().charAt(0))return void r.addItemToCategory(i(t,e),new k(t,e));if("<"==a.trim().charAt(0))return void r.addItemToCategory(i(t,e),new L(t,e))}}if("schema"==t.name()&&t.domain()&&t.domain().isAssignableFrom("DataElement"))return;var o=j(t,e);o&&o.length>0&&("signature"!=t.name()||t.domain()&&t.domain().isUserDefined())?r.addItemToCategory(i(t,e),new D(t,e)):t.isMultiValue()?r.addItemToCategory(i(t,e),new T(t,e)):r.addItemToCategory(i(t,e),new M(t,e))}}),n.forEach(function(t){t.isValueProperty()&&"BooleanType"==t.range().name()&&r.addItemToCategory(i(t,e),new E(t,e))}),n.forEach(function(t){t.isValueProperty()&&"MarkdownString"==t.range().name()&&r.addItemToCategory(i(t,e),new x(t,e))}),!t){r.addItemToCategory("Palette",new A(e));var a=f.calculateCurrentActions(f.TARGET_RAML_EDITOR_NODE),o=c.groupBy(a,function(e){return e.category.join("/")});for(var s in o)r.addItemToCategory("Palette",new C(e,s,o[s]))}return r}var o,s=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},u=n(4),l=n(17),c=n(16),p=n(143),d=n(144),m=n(15),h=n(85),f=n(157),y=n(158),g=function(){function e(e,t){void 0===t&&(t=""),this._title=e,this.description=t,this.listeners=[]}return e.prototype.needsSeparateLabel=function(){return!1},e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.removeListener=function(e){this.listeners=this.listeners.filter(function(t){return t!=e})},e.prototype.add=function(e){throw new Error("Not supported")},e.prototype.root=function(){return this.parent?this.parent.root():this},e.prototype.title=function(){return this._title},e.prototype.children=function(){return[]},e.prototype.setDescription=function(e){this.description=e},e.prototype.setTitle=function(e){this._title=e},e.prototype.render=function(e){throw void 0===e&&(e={}),new Error("Not Implemented")},e.prototype.item=function(e){return null},e.prototype.setError=function(e){},e.prototype.clearErrors=function(){},e}(),v=function(e){function t(){e.apply(this,arguments),this._children=[]}return s(t,e),t.prototype.add=function(e){e.parent=this,this._children.push(e)},t.prototype.children=function(){return this._children},t.prototype.plainChildren=function(){return this._children.filter(function(e){return!(e instanceof t)})},t.prototype.categories=function(){return this._children.filter(function(e){return e instanceof t})},t.prototype.item=function(e){var t;return this._children.forEach(function(n){n.title()==e&&(t=n);var r=n.item(e);r&&(t=r)}),t},t.prototype.render=function(e){var t=this;void 0===e&&(e={});var n=this.createSection(e);this._result=n,this.description&&e.showDescription&&(this.descriptionLabel=d.label(this.description),n.addChild(this.descriptionLabel)),this.contributeTop(n),this.plainChildren().forEach(function(e){return t.addChild(n,e)});var r=this.createWrappedChild(n);this.subCategories=r;var i=this.categories(),a={};i.forEach(function(e){return a[e.title()]=e});var o=[];a.General&&(o.push(a.General),delete a.General),a.Facets&&(o.push(a.Facets),delete a.Facets);for(var s in a)o.push(a[s]);return o.forEach(function(e){return t.addChild(r,e)}),n},t.prototype.createSection=function(e){if(e.showHeader)return new p.Section(p.h3(this.title()),!1);var t=new p.Panel;return t.setCaption(this.title()),t},t.prototype.createWrappedChild=function(e){return e},t.prototype.addChild=function(e,t){var n=t.render();if(e instanceof p.TabFolder){var r=e;r.add(n.caption(),0,n)}else t.needsSeparateLabel()&&(e.addChild(d.label(t.title())),e.addChild(d.label(t.description))),e.addChild(n)},t.prototype.contributeTop=function(e){},t.prototype.setError=function(e){},t.prototype.clearErrors=function(){this._children.forEach(function(e){return e.clearErrors()})},t.prototype.update=function(e){},t}(g),b=function(e){var t=h.doDescrimination(e);null==t&&e.property()&&(t=e.property().range()),t&&e.patchType(t)},S=!1,w=function(e){function t(t){e.call(this,t.definition().name(),t.definition().description()),this.node=t,this.ep=null}return s(t,e),t.prototype.createWrappedChild=function(e){var t=new p.TabFolder;return t.setOnSelected(function(){S||(o=t.selectedComponent().caption())}),e.addChild(t),t},t.prototype.subCategoryByNameOrCreate=function(e){var t=c.find(this.children(),function(t){return t.title()==e});if(!t){var n=new v(e);return this.add(n),n}return t},t.prototype.addItemToCategory=function(e,t){return null==e?(this._children.push(t),void(t.parent=this)):void this.subCategoryByNameOrCreate(e).add(t)},t.prototype.contributeTop=function(e){this.errorLabel=d.label("",19,7),this.ep=d.hc(this.errorLabel),this.ep.setDisplay(!1),e.addChild(this.ep)},t.prototype.render=function(t){void 0===t&&(t={}),S=!0;try{var n=e.prototype.render.call(this,t);this._options=t,this._panel=n;for(var r=this.subCategories,i=0;i<r.tabsCount();i++){var a=r.get(i);if(a.header==o)return r.setSelectedIndex(i),n}var s="";return s=this.node.property()?this.node.property().description():this.node.definition().description(),s.length&&!t.showDescription&&(n.addChild(d.html("<hr/>")),n.addChild(d.label(s,88,2))),this.update(this),n}finally{S=!1}},t.prototype.update=function(e){var t=this;if(this._panel){if(e instanceof M){var n=e;if(n.property.isTypeExpr()||n.property.isDescriminator()){b(this.node);var r=this.item("Facets");r&&r._result&&r._result.clear();var i=a(this.node,!1),o=i.item("Facets");o?r&&r._result?(r._children=o._children,
r._children.forEach(function(e){return e.parent=r}),r._children.length>0&&r._result.setDisplay(!0),o.children().forEach(function(e){r._result.addChild(e.render(t._options))})):(this._children.push(o),this._panel&&this._panel.addChild(o.render(this._options))):r&&r._result&&r._result.setDisplay(!1)}}var s=null;if(this.node.definition().allProperties().forEach(function(e){e.isKey()&&(s=e)}),s){var u=this.item(s.name());if(u){var l=u.fld,c=l.getBinding().get();c&&0!=c.trim().length?this._panel.getBinding().setStatus(p.okStatus()):this._panel.getBinding().setStatus(p.errorStatus(""))}}var d=this.node.errors();if(this.clearErrors(),this.ep.setDisplay(!1),d&&d.length>0){var m=[];if(d.forEach(function(e){e.extras&&e.extras.length>0&&(e=e.extras[0]);var n=t.item(e.node.name());n?n.setError(e.message):m.push(e)}),m.length>0){this.errorLabel.setIcon(19);var h=m.map(function(e){return e.node.name()+":"+e.message}).join(",");h.length>100&&(h=h.substring(0,100)+"..."),this.errorLabel.setText(h),this.ep.setDisplay(!0)}else this.ep.setDisplay(!1)}}},t}(v),P=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.setLabelWidth=function(e){this.setStyle("margin-left",e+2+"ch")},t}(p.CheckBox),M=function(e){function t(t,n){e.call(this,t.name(),t.description()),this.property=t,this.node=n}return s(t,e),t.prototype.clearErrors=function(){this.setError(null)},t.prototype.setError=function(e){e?(this.errorLabel.setText(e),this.errorLabel.setDisplay(!0)):this.errorLabel&&this.errorLabel.setDisplay(!1)},t.prototype.fromEditorToModel=function(){var e=this.fld,t=e.getBinding().get();null==t&&(t="");var n=this.node.attr(this.property.name()),r="";if(n){var i=n.value();i&&(r=""+i)}if(r!=t){if(t.length>0){if(n&&n.lowLevel().includePath()){var a=n.lowLevel().includePath(),o=n.lowLevel().unit().resolve(a);if(o){var s=o.absolutePath();u.writeFileSync(s,t)}return}this.node.attrOrCreate(this.property.name()).setValue(""+t)}else n&&(this.property.isKey()||n.remove());var l=this.root();l&&l.update(this)}},t.prototype.fromModelToEditor=function(){var e=this.node.attr(this.property.name());if(e){var t=e.value();null==t&&(t=""),this.fld.getBinding().set(""+t)}},t.prototype.render=function(){var e=this,t=new p.WrapPanel;this.errorLabel=d.label("",19,7),this.errorLabel.setDisplay(!1),this.errorLabel.setStyle("margin-left",this._title.length+1+"ch");var n=this.createField();this.fld=n,n.getBinding().addListener(function(t){e.fromEditorToModel()}),t.setCaption(this.title()),this.fromModelToEditor(),t.addChild(n);var r=this.node.attr(this.property.name());if(r)var i=r.value();var a=this.property.valueDocProvider();if(a){var o=a(i);null==o&&(o="");var s=d.label(o,89,2);o||s.setDisplay(!1),t.addChild(s),n.getBinding().addListener(function(e){var t=a(n.getBinding().get());t||(t=""),s.setText(t),s.setDisplay(t.length>0)}),s.setStyle("margin-left",this._title.length+1+"ch")}return r&&r.lowLevel().includePath()&&t.addChild(d.label("Included from "+r.lowLevel().includePath(),89,2)),t.addChild(this.errorLabel),t},t.prototype.createField=function(){return p.texfField(this.needsSeparateLabel()?"":this.property.name(),"",function(e){})},t}(g),T=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.fromEditorToModel=function(){var e=this.fld,t=e.getBinding().get();null==t&&(t="");var n=this.node.attributes(this.property.name()),i=n.map(function(e){return r(""+e.value())}).join(", ");if(i!=t){var a=t.split(","),t=a.filter(function(e){return e.trim().length>0}).map(function(e){return e.trim()});this.node.attrOrCreate(this.property.name()).setValues(t);var o=this.root();o&&o.update(this)}},t.prototype.fromModelToEditor=function(){var e=this.node.attributes(this.property.name()),t=e.map(function(e){return r(""+e.value())}).join(", ");this.fld.getBinding().set(t)},t}(M),E=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){return new P(this.property.name(),0,function(e){})},t}(M),A=function(e){function t(t){e.call(this,"Actions",""),this.node=t}return s(t,e),t.prototype.render=function(e){return y.generateSuggestionsPanel(this.node)},t}(g),C=function(e){function t(t,n,r){e.call(this,n,""),this.actions=r}return s(t,e),t.prototype.render=function(e){var t=d.hc();return t.addChild(p.h3(this.title())),this.actions.forEach(function(e){t.addChild(d.button(e.name,1,3,22,function(t){return e.onClick()}).margin(3,3,3,3))}),t},t}(g),N=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("source.gfm")}return s(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(p.AtomEditorElement),I=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("text.xml")}return s(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(p.AtomEditorElement),_=function(e){function t(t,n){e.call(this,t,n),this.margin(0,0,6,12),this.setMini(!1),this.setStyle("min-height","100px"),this.setStyle("border","solid"),this.setStyle("border-width","1px"),this.setStyle("border-radius","2px"),this.setStyle("font-size","1.15em"),this.setStyle("border-color","rgba(0,0,0,0.2)"),this.setGrammar("source.json")}return s(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(p.AtomEditorElement),x=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=new N("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(M),R=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=new _("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(M),O=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=new I("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(M),L=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=new I("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(M),k=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=new _("",function(e){});return e},t.prototype.needsSeparateLabel=function(){return!0},t}(M),D=function(e){function t(){e.apply(this,arguments)}return s(t,e),t.prototype.createField=function(){var e=j(this.property,this.node),t=this.node.attr(this.property.name());t&&(c.find(e,function(e){return e==t.value()})||e.push(t.value())),this.property.isRequired()||this.property.isKey()||(e=[""].concat(e));var n=new p.SelectField(this.property.name(),function(e){},"",0,e);return n.getActualField().setOptions(e),n},t}(M),U=function(e){function t(t,n){e.call(this),this.str=t;var r=t.lowLevel(),i={render:function(e){var t=(e.key(),e.value());"string"!=typeof t&&(t=""),t.length>30&&(t=t.substring(0,20)+"...");var n=d.label(e.key(),28,3);t=d.label(t?":"+t:"",0,5);var r=d.hc(n,t);return r}},a=d.treeViewer(function(e){return e.children()},i,function(e){return e.key()}),o={children:function(){return[r]}};a.setInput(o),this.addChild(d.label(n)),this.addChild(a)}return s(t,e),t.prototype.setLabelWidth=function(){},t.prototype.setLabelHeight=function(){},t.prototype.setRequired=function(e){},t}(p.Panel),F=function(e){function t(t,n,r){e.call(this,t,n),this.stvalue=r}return s(t,e),t.prototype.createField=function(){var e=new U(this.stvalue,this.title()+":");return e},t}(M),j=function(e,t){var n=e.enumValues(t);if("name"==e.name()&&t.definition().isAssignableFrom("DataElement")&&t.property()&&"body"==t.property().name()&&!(t.property()instanceof m.UserDefinedProp))return t.parent()&&"Method"==t.parent().definition().name()?["application/json","application/xml","multipart/formdata","application/x-www-form-urlencoded"]:["application/json","application/xml"];if(!n||0==n.length){var r=e.suggester();r&&(n=r(t)),n&&0!=n.length||(n=e.getOftenKeys())}return c.unique(n)};t.buildItem=a},function(e,t,n){function r(e){s.find(l,function(t){return t.name==e.name})||l.push(e)}function i(e,t,n,i,a){var o={name:e,target:n,onClick:i,shouldDisplay:a,category:t};r(o)}function a(e){var t=[];try{var n=l.filter(function(t){return t.target==e});n.forEach(function(e){if(e.stateCalculator&&e.stateCalculator.contextCalculationStarted)try{e.stateCalculator.contextCalculationStarted()}catch(t){console.error(t.message)}}),n.forEach(function(e){try{var n=null;if(e.stateCalculator&&(n=e.stateCalculator.calculate()),e.shouldDisplay&&!e.shouldDisplay(n))return;t.push(new u(e,n))}catch(r){console.error(r.message)}}),n.forEach(function(e){if(e.stateCalculator&&e.stateCalculator.contextCalculationFinished)try{e.stateCalculator.contextCalculationFinished()}catch(t){console.error(t.message)}})}catch(r){console.error(r.message)}return t}function o(e){if(e.label)return e.label;var t="api-workbench:";return e.category&&e.category.forEach(function(e){t=t+e+": "}),t+=e.name}var s=n(16);t.TARGET_RAML_EDITOR_NODE="TARGET_RAML_EDITOR_NODE",t.TARGET_RAML_TREE_VIEWER_NODE="TARGET_RAML_TREE_VIEWER_NODE",t.addAction=r,t.addSimpleAction=i;var u=function(){function e(e,t){var n=this;this.name=e.name,this.category=e.category,this.label=e.label,this.target=e.target,this.state=t,this.originalAction=e,this.onClick=function(){n.originalAction.onClick(n.state)}}return e}();t.calculateCurrentActions=a,t.getCategorizedActionLabel=o;var l=[]},function(e,t,n){function r(e){var t=e.definition().allProperties(),n=a.vc(),r=a.hc();return n.addChild(i.h3("Insertions and Delete: ")),n.addChild(r),t.forEach(function(t){if(!t.isValueProperty()&&!t.isMerged()&&!o.find(e.lowLevel().children(),function(e){return e.key()==t.name()})){var n=new u("",t,e);r.addChild(a.button(t.name(),1,2,0,function(e){return n.insert()}).margin(3,3,3,3))}}),t.forEach(function(t){if(!t.isValueProperty()&&t.isMerged()){var n=t.enumOptions();return void(n&&n.forEach(function(n){if(!o.find(e.lowLevel().children(),function(e){return e.key()==n})){var i=new u(n,t,e);r.addChild(a.button(n,1,4,0,function(e){return i.insert()}).margin(3,3,3,3))}}))}}),r.addChild(a.button("Delete",1,5,0,function(t){return e.parent().remove(e)}).margin(3,3,3,3)),n}var i=n(143),a=n(144),o=n(16),s=n(151),u=function(){function e(e,t,n){this.value=e,this.property=t,this.node=n}return e.prototype.insert=function(){var e=this.property.range(),t=this.value;"body"==this.property.name()&&(t="application/json"),"responses"==this.property.name()&&(t="200");var n=e.createStubNode(this.property,t);s.aquireManager()._cleanOutline=!0,this.node.add(n),s.aquireManager().patchCurrentNode(this.node)},e}();t.generateSuggestionsPanel=r},function(e,t,n){function r(){var e=s.treeViewer(function(e){return e.children},new c,function(e){return e.name+":"+e.type});return e.setComparator(function(e,t){return e.name==t.name&&e.type==t.type}),e}function i(e,t){t.type instanceof Array&&(t.type.indexOf("object")>=0?t.type="object":t.type.indexOf("array")>=0&&(t.type="array"));var n=t.type?(t.type instanceof Array?t.type.join("|"):t.type).toLowerCase():"unspecified",r=[];t.properties?r=Object.keys(t.properties).map(function(e){return i(e,t.properties[e])}):t.items&&(r=t.items instanceof Array?t.items.map(function(e){return i("item",e)}):i("item",t.items)),r instanceof Array==0&&(r=[r]);var a={type:n,name:e,parent:null,children:r};return a.children.forEach(function(e){return e.parent=a}),a}function a(e,t){try{var n=u.createSchema(t);if(null==n||null==n.getType)return void e.setInput({},!0);var r=n.getType(),a="source.json"==r?JSON.parse(t):l.rootElements(t),s="source.json"==r?i("schema",a):o(a);e.setInput(s,!0)}catch(c){console.log(c)}}function o(e){var t=function(e){return e?(e=e.substr(e.indexOf(":")+1),l.getTSType(e)):"Unknown"};return e.map(function(e){var n,r=e.type().value();return n=e.isArray()?{type:"Array",name:e.name(),parent:null,children:o(r.elements())}:r.isSimple()?{type:t(r.name()),name:e.name(),parent:null,children:[]}:{type:"Object",name:e.name(),parent:null,children:o(r.elements())},n.children.forEach(function(e){return e.parent=n}),n})}var s=(n(143),n(144)),u=n(78),l=n(116),c=function(){function e(){}return e.prototype.render=function(e){var t,n;switch(e.type){case"object":t=28,n=4;break;case"array":t=105,n=7;break;case"unspecified":t=154,n=6;break;default:t=33,n=5}return s.hc(s.label(e.name+": ",t),s.label(e.type,null,n,null).pad(4,0))},e}();t.SchemaRenderer=c,t._schemaPreview=r,t.getSchemaTree=i,t._updatePreview=a},function(e,t,n){function r(e,t,n,r,i,a){void 0===a&&(a=null);var o=y.treeViewerSection(t,n,e,function(e){return l(e).filter(function(e){return r(e)})},new T(a));return o.viewer.setBasicLabelFunction(function(e){return e?e.name():""}),o.viewer.setKeyProvider({key:function(e){return""+e.lowLevel().start()}}),o.viewer.addSelectionListener(i),o}function i(e){return a(e)?0:o(e)?3:s(e)?2:u(e)?1:4}function a(e){return"Resource"==e.definition().name()}function o(e){if(e.property()){var t=e.property().name();if(M[t])return!1}return!0}function s(e){return"ResourceType"==e.definition().name()||"Trait"==e.definition().name()}function u(e){var t=e.definition().name();return"GlobalSchema"==t||e.property()&&"types"==e.property().name()}function l(e){if(null==e)return[];if(e.isAttr())return[];if(e.isUnknown())return[];var t=e.children();return t.filter(function(e){if(e.isAttr())return!1;if(e.isUnknown())return!1;return!0})}function c(e){return e?e&&!e.parent()?e.name():e.name()+" :: "+c(e.parent()):null}function p(e){return null==e?"":p(e.parent())+"/"+e.name()}function d(e,t,n,r){void 0===r&&(r=null);var i=y.treeViewer(function(e){return null==e.parent()?l(e).filter(function(e){return n(e)}):l(e)},new T(r),p);return i.setBasicLabelFunction(function(e){return e.name()}),i.setKeyProvider({key:c}),i.addSelectionListener(t),i.getBinding().set(e),i}function m(e,t,n){void 0===n&&(n=null);var r=d(e,{selectionChanged:t},function(e){return a(e)},n),i=d(e,{selectionChanged:t},u,n),l=d(e,{selectionChanged:t},s,n),c=d(e,{selectionChanged:t},function(e){return o(e)},n),p=new f.TabFolder;return p.add("Resources",77,r),p.add("Schemas & Types",28,i),p.add("Resource Types & Traits",158,l),p.add("Other",159,c),p.setSelectedIndex(0),p.setOnSelected(function(){var e=p.selectedComponent();if(e){var n=e.getSelection();n&&n.elements&&n.elements.length>0&&t(new f.SelectionChangedEvent(e,null,n))}}),p}var h=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},f=n(143),y=n(144),g=n(145),v=f.CompositeDisposable,b=n(17),S=n(151),w=function(e){function t(){e.call(this),this.disposables=new v,this.fire=!0,this.createTree(null),this.addClass("raml-outline"),this.addChild(this._rs)}return h(t,e),t.prototype.createTree=function(e){var t=this;this._rs=m(e,function(e){S.aquireManager()._details&&e.selection&&e.selection.elements&&1==t.fire&&e.selection.elements.length>0&&e.selection.elements[0]&&S.aquireManager().setSelectedNode(e.selection.elements[0])}),this._viewers=[0,1,2,3].map(function(e){return t._rs.get(e).content})},t.prototype.getTitle=function(){return"Outline"},t.prototype.getNodePType=function(e){for(;e.parent()&&e.parent().parent();)e=e.parent();return i(e)},t.prototype.setSelection=function(e){this._selectedNode=e,this.fire=!1;try{var t=this.getNodePType(e),n=this._viewers[t];null!=n&&(n.setSelection(e),this._rs.setSelectedIndex(t))}finally{this.fire=!0}},t.prototype.setUnit=function(e,t){void 0===t&&(t=!1),this._children=[],this.createTree(e),this.addClass("raml-outline"),this.addChild(this._rs),this.html(this.innerRenderUI())},t.prototype.attach=function(){if(!this._isAttached){var e=$(this);e.html(this._rs.renderUI().outerHTML),this._isAttached=!0}},t.prototype.forEachViewer=function(e){this._viewers.forEach(e)},t.prototype.refresh=function(){var e=this.unit;this.setUnit(null),this.setUnit(e)},t.prototype.destroy=function(){S.aquireManager()._view=null,this.disposables.dispose()},t}(g.Scrollable);t.RamlOutline=w,t.treeSection=r;var P;!function(e){e[e.Resource=0]="Resource",e[e.Schema=1]="Schema",e[e.Type=2]="Type",e[e.Trait=3]="Trait",e[e.Unknown=4]="Unknown"}(P||(P={}));var M={resources:!0,schemas:!0,types:!0,resourceTypes:!0,traits:!0};t.simpleTree=d,t.createTree=m;var T=function(){function e(e){this.opener=e}return e.prototype.render=function(e){try{if(e.isAttr()){var t=e;return y.hc(y.label(t.name()+":"+t.value()),y.a("",function(t){var n=S.aquireManager().getCurrentEditor().getBuffer().positionForCharacterIndex(e.lowLevel().start());S.aquireManager().getCurrentEditor().getBuffer().positionForCharacterIndex(e.lowLevel().end());S.aquireManager().getCurrentEditor().setSelectedBufferRange({start:n,end:n},{})},9,null,null))}if(e.isUnknown())return y.label("unknown");var n=39,r=0,i=e;"Resource"==i.definition().name()&&(n=151,r=3),"Method"==i.definition().name()&&(n=150,r=6),"SecuritySchema"==i.definition().name()&&(n=110,r=3),"Library"==i.definition().name()&&(n=61,r=0),"AnnotationType"==i.definition().name()&&(n=189,r=3),(i.definition().isAssignableFrom("DataElement")||i.definition().isAssignableFrom("Parameter"))&&(i.property()&&"properties"==i.property().name()?(n=56,r=5):(n=56,r=5));var a=e.name(),o=e;if("DocumentationItem"==i.definition().name()){n=14;var s=o.attr("title");s&&(a=s.value())}var u=y.hc(y.label(a,n,r)),l=i.attr("type");if(l){var c=l.value();null==c&&(c="");var p="";p=c instanceof b.StructuredValue?":"+c.valueName():":"+c,u.addChild(y.label(p,0,6).margin(2,0,0,0))}return i.lowLevel().unit()!=i.root().lowLevel().unit()&&(r=2,u.addChild(y.label("("+i.lowLevel().unit().path()+")",0,r).margin(5,0,0,0))),u.addClass("outline"),u}catch(d){return console.log(d),y.hc(y.label("Illegal node",9,null,null))}},e}();t.HLRenderer=T},function(e,t,n){function r(e){var t=e.replace("%20"," ");return t!=e?r(t):t}function i(){return new Promise(function(e,t){var n=s.createServer(function(e,t){var n=o.parse(e.url,!0);a(r(n.path.substr(1)),function(n){t.statusCode=200,t.end(n),e.connection.destroy()})});n.once("error",function(e){"EADDRINUSE"!=e.code&&console.log(e)});n.listen(c)})}function a(e,t,n){var r=null,i=l.section(e,14,!1,!1),a=n;i.addChild(new u.AtomEditorElement(n,function(e){return a=e.getBinding().get()}));var o=l.hc().setPercentWidth(100).setStyle("display","flex");o.addChild(l.label("",null,null,null).setStyle("flex","1")),o.addChild(l.button("Cancel",0,0,0,function(e){r.destroy()}).margin(10,10));var s=l.button("Submit",0,3,0,function(e){r.destroy(),t(a)});o.addChild(s),i.addChild(o),r=atom.workspace.addModalPanel({item:i.renderUI()})}var o=n(2),s=n(162),u=n(143),l=n(144),c=4343;t.server=i,t.prompt=a},function(e,t){e.exports=require("http")},function(e,t,n){var r=n(14),i=(n(143),n(144)),a=n(151),o=n(164),s=n(149),u=function(){function e(e,t,n){this.node=e,this.name=t,this._resourceType=n}return e.prototype.getActiveEditor=function(){var e=atom.workspace.getActiveTextEditor();return e?e:a.aquireManager()?a.aquireManager().getCurrentEditor():null},e.prototype.show=function(){var e=this,t=null,n=this.node,a=i.section("Move resource ",145,!1,!1),u=i.label("please select destination resource",19,7,0);a.addChild(i.vc(u)),a.addChild(i.label("Please select destination resource"));var l=i.hc();a.setPercentWidth(100),l.setPercentWidth(100);var c=function(t){if(e._resourceType){if("Resource"!=t.definition().name())return!1;if(t==n||t==n.parent())return!1;if(r.isResourceWithSignature(t))return!1}return!0},p=(n.definition().universe(),o.createSmallSelectionPanel(n.root(),c,"400px","100%"));l.addChild(p),a.addChild(l),p.addSelectionListener({selectionChanged:function(e){u.setDisplay(e.selection.isEmpty()),m.setDisabled(e.selection.isEmpty())}});var d=i.hc().setPercentWidth(100).setStyle("display","flex");d.addChild(i.label("",null,null,null).setStyle("flex","1")),d.addChild(i.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var m=i.button("Move",0,3,0,function(r){var i=p.getSelection().elements[0];n.lowLevel().show("Node:"),i.lowLevel().show("Target:"),n.parent().remove(n),i.add(n),i.root().lowLevel().show("Result:");var a=n.lowLevel().unit().contents();e.getActiveEditor().setText(s.cleanEmptyLines(a)),t.destroy()});m.setDisabled(!0),d.addChild(m),a.addChild(d);var h=a.renderUI();t=atom.workspace.addModalPanel({item:h}),h.focus()},e}();t.MoveElementsDialog=u},function(e,t,n){function r(e,t,n,r,a){void 0===a&&(a="left");var o=i(e,t);return o.setTagName("atom-panel"),o.setStyle("width",r),o.setStyle("border","solid"),o.setStyle("border-width","1px"),o.setStyle("height",n),o.setStyle("overflow","scroll"),a&&o.setStyle("float",a),o.margin(3,3,3,3),o}function i(e,t){var n=f.treeViewer(function(e){return e.elements().filter(function(e){return t(e)})},new y.HLRenderer(function(e){}));return n.setInput(e),n}function a(e){var t=[];return e.definition()instanceof g.UserDefinedClass?(o(e.definition(),t),t):t}function o(e,t){if(e instanceof g.UserDefinedClass){t.push(e);var n=e.superTypes();n&&n.forEach(function(e){return o(e,t)})}}var s=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},u=n(4),l=n(10),c=n(17),p=n(18),d=n(14),m=n(16),h=n(143),f=n(144),y=n(160),g=n(15),v=n(149),b=(n(19),n(13)),S=function(){function e(e,t,n){this.node=e,this.name=t,this._resourceType=n,this.filters=new w}return e.prototype.getActiveEditor=function(){return v.getActiveEditor()},e.prototype.show=function(){var e=this,t=null,n=this.node,i=f.section("Extract "+this.name+":",145,!1,!1);i.addChild(f.label("Extracted element name:").pad(5,0));var a=f.label("Please type valid name for "+this.name,19,7,0);i.addChild(f.vc(a));var o=h.texfField("","",function(e){if(w){var t=0==o.getBinding().get().trim().length;w.setDisabled(t),a.setDisplay(t),l.attr("name").setValue(o.getBinding().get())}});i.addChild(o),i.addChild(f.label("Move elements which should be extracted to the right panel"));var s=f.hc();i.setPercentWidth(100),s.setPercentWidth(100);var u=function(t){return e._resourceType&&"Resource"==t.definition().name()?!1:m.find(e.filters.removals,function(e){return t==e})?!1:!0},l=this.createNodeStub(n),c=r(n,u,"400px","47%"),p=r(l,function(e){return!0},"400px","47%","right"),d=f.button(">",0,0,0,function(t){var r=c.getSelection().elements;e.moveRight(r,l,n,c,p)}),y=f.button("<",0,0,0,function(t){var r=p.getSelection().elements;e.moveLeft(r,l,n,c,p)}),g=f.button(">>",0,0,0,function(t){var r=n.elements().filter(function(e){return u(e)});e.moveRight(r,l,n,c,p)}),b=f.button("<<",0,0,0,function(t){var r=l.elements();e.moveLeft(r,l,n,c,p)});s.addChild(f.vc(d,y,g,b)),s.addChild(c),s.addChild(p),i.addChild(s),c.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements,r=void 0!=m.find(t,function(e){return e.parent()!=n});d.setDisabled(r||0==t.length)}}),p.addSelectionListener({selectionChanged:function(t){var n=t.selection.elements,r=void 0!=m.find(n,function(t){var n=m.find(e.filters.removals,function(e){return t.id()==e.id()});return void 0==n});y.setDisabled(r||0==n.length)}}),y.setDisabled(!0),d.setDisabled(!0);var S=f.hc().setPercentWidth(100).setStyle("display","flex");S.addChild(f.label("",null,null,null).setStyle("flex","1")),S.addChild(f.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var w=f.button("Extract",0,3,0,function(r){if(e.filters.removals.forEach(function(e){return n.remove(e)}),e._resourceType){var i=n.attr("type");i||n.add(n.definition().property("type").createAttr(l.name()))}else{var i=n.attr("is");i||n.add(n.definition().property("is").createAttr(l.name()))}var a=e.createNodeStub(n);l.elements().forEach(function(e){return a.add(e)}),a.attr("name").setValue(o.getBinding().get()),n.root().add(a);var s=n.lowLevel().unit().contents();e.getActiveEditor().setText(v.cleanEmptyLines(s)),t.destroy()});w.setDisabled(!0),S.addChild(w),i.addChild(S);var P=i.renderUI();t=atom.workspace.addModalPanel({item:P}),P.focus()},e.prototype.createNodeStub=function(e){var t=e.definition().universe(),n=e.root().definition().property("resourceTypes"),r=e.root().definition().property("traits"),i=t.getType("ResourceType").createStubNode(n);return this._resourceType||(i=t.getType("Trait").createStubNode(r)),i},e.prototype.moveLeft=function(e,t,n,r,i){var a=this;e.length>0&&(e.forEach(function(e){return a.filters.removals=a.filters.removals.filter(function(t){return t.id()!=e.id()})}),e.forEach(function(e){t.remove(e);var n=0;n++})),r.setInput(n),i.setInput(t)},e.prototype.moveRight=function(e,t,n,r,i){e.length>0&&(this.filters.removals=this.filters.removals.concat(e)),e.forEach(function(e){return t.add(e.copy())}),r.setInput(n),i.setInput(t)},e}();t.ExtractTypesAndTraitsDialog=S;var w=function(){function e(){this.removals=[]}return e}();t.createSmallSelectionPanel=r,t.createVIewer=i;var P=function(){function e(e,t){this.parentNode=e,this.name=t,this.movedNodes=[]}return e.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},e.prototype.validate=function(){return null},e.prototype.createHeader=function(e){},e.prototype.performOk=function(e,t){},e.prototype.show=function(){if(console.log("Original file tree:"),this.getParentNode()&&console.log(this.getParentNode().printDetails()),this.getParentNode()){var e=f.section(this.name+":",145,!1,!1);this.stubRoot=this.createStub(this.getParentNode()),this.createValidationIndicator(e),this.createHeader(e),this.createPanels(e),this.createButtonBar(e),e.setPercentWidth(100);var t=e.renderUI();this.rootAtomPanel=atom.workspace.addModalPanel({item:t}),t.focus(),this.performValidation()}},e.prototype.performValidation=function(){var e=this.validate();this.okButton&&(e?this.okButton.setDisabled(!0):this.okButton.setDisabled(!1)),this.errorLabel&&(e?(this.errorLabel.setDisplay(!0),this.errorLabel.setText(e)):(this.errorLabel.setDisplay(!1),this.errorLabel.setText("")))},e.prototype.createValidationIndicator=function(e){this.errorLabel=f.label("",19,7,0),e.addChild(f.vc(this.errorLabel))},e.prototype.getNodeId=function(e){if(e.parent()){var t=this.getNodeId(e.parent());t+="."+e.name();var n=e.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(e);t+="["+r+"]"}return t}return e.name()?e.definition&&e.definition()&&"Api"==e.definition().name()?"":"."+e.name():""},e.prototype.nodesEqualById=function(e,t){return this.getNodeId(e)==this.getNodeId(t)},e.prototype.createMovedNodesTree=function(){var e=this;this.stubRoot=this.createStub(this.getParentNode()),this.movedNodes.forEach(function(t){for(var n=[],r=t.parent();r&&r!=e.getParentNode();)n.push(r),r=r.parent();n.reverse();var i=e.stubRoot;n.forEach(function(t){var n=m.find(i.children(),function(n){return e.nodesEqualById(n,t)});n||(n=e.createStub(t),i.add(n),n.setParent(i)),i=n});var a=e.createMovedNode(t);i.add(a),a.setParent(i)}),console.log("New tree moved:"),console.log(this.stubRoot.printDetails())},e.prototype.createMovedNode=function(e){return e.copy()},e.prototype.saveUnit=function(e){var t=e.absolutePath(),n=e.contents(),r=m.find(atom.workspace.getTextEditors(),function(e){var n=e.getPath();return n==t});r?r.setText(n):u.writeFileSync(t,n)},e.prototype.createStub=function(e){var t=e.definition().createStubNode(e.property(),e.lowLevel().key());return t},e.prototype.createPanels=function(e){var t=this,n=f.hc();e.addChild(f.label("Move elements which should be extracted to the right panel"));var i=function(e){return t.checkNode(e).display?m.find(t.movedNodes,function(t){return t==e})?!1:!0:!1};this.leftPanel=r(this.getParentNode(),i,"400px","47%");var a=function(e){return t.checkNode(e).display?!0:!1};this.rightPanel=r(this.stubRoot,a,"400px","47%","right");var o=f.button(">",0,0,0,function(e){var n=t.leftPanel.getSelection().elements;t.moveRight(n)}),s=f.button("<",0,0,0,function(e){var n=t.rightPanel.getSelection().elements;t.moveLeft(n)});n.addChild(f.vc(o,s)),n.addChild(this.leftPanel),n.addChild(this.rightPanel),e.addChild(n),this.leftPanel.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements;o.setDisabled(0==t.length)}}),this.rightPanel.addSelectionListener({selectionChanged:function(e){var t=e.selection.elements;s.setDisabled(0==t.length)}}),s.setDisabled(!0),o.setDisabled(!0),n.setPercentWidth(100)},e.prototype.createButtonBar=function(e){var t=this,n=f.hc().setPercentWidth(100).setStyle("display","flex");n.addChild(f.label("",null,null,null).setStyle("flex","1")),n.addChild(f.button("Cancel",0,0,0,function(e){t.rootAtomPanel.destroy()}).margin(10,10)),this.okButton=f.button("Extract",0,3,0,function(e){t.performOk(t.movedNodes,t.stubRoot),t.rootAtomPanel.destroy()}),this.okButton.setDisabled(!0),n.addChild(this.okButton),e.addChild(n)},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.isParentOf=function(e,t){for(var n=t.parent();null!=n;){if(n==e||this.nodesEqualById(n,e))return!0;n=n.parent()}return!1},e.prototype.mergeTrees=function(e,t,n){var r=this;void 0===n&&(n=!1),e.directChildren()&&e.directChildren().forEach(function(e){r.mergeNode(e,t)})},e.prototype.getActiveEditor=function(){return v.getActiveEditor()},e.prototype.mergeNode=function(e,t,n){var r=this;if(void 0===n&&(n=!1),n||e instanceof c.ASTNodeImpl){var i=t.directChildren();if(!i)return t.add(e),void e.setParent(t);var a=m.find(i,function(t){return r.nodesEqualById(t,e)});return a?void(e.directChildren()&&e.directChildren().forEach(function(e){return r.mergeNode(e,a)})):(t.add(e),void e.setParent(t))}},e.prototype.moveLeft=function(e){var t=this;e.length>0&&(this.movedNodes=this.movedNodes.filter(function(n){return m.find(e,function(e){return t.nodesEqualById(e,n)||t.isParentOf(e,n)})?!1:!0}),this.createMovedNodesTree()),this.leftPanel.setInput(this.getParentNode()),this.rightPanel.setInput(this.stubRoot),this.performValidation()},e.prototype.moveRight=function(e){var t=this;e.length>0&&(this.movedNodes=this.movedNodes.filter(function(n){return m.find(e,function(e){return t.isParentOf(e,n)})?!1:!0}),e.forEach(function(e){return t.movedNodes.push(e)}),this.createMovedNodesTree()),this.leftPanel.setInput(this.getParentNode()),this.rightPanel.setInput(this.stubRoot),this.performValidation()},e}();t.AbstractlMoveElementsDialog=P;var M=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.checkNode=function(e){var t=null;return e.property()&&e.property().range()&&(t=e.property().range().name()),t&&("ResourceType"==t||"Trait"==t||"GlobalSchema"==t||"SecuritySchema"==t||"DataElement"==t&&"types"==e.property().name())?{visitChildren:!1,display:!0,canBeMoved:!0}:{visitChildren:!1,display:!1,canBeMoved:!1}},t.prototype.validate=function(){if(!this.libraryPath)return null;if(!this.stubRoot)return null;if(0==this.movedNodes.length)return"Add elements to move";if(!this.libraryNamespace)return null;if(!this.getLibraryQualifier())return"Enter library namespace";if(0==this.getLibraryQualifier().trim().length)return"Enter library namespace";var e=this.libraryPath.getBinding().get(),t=e.trim();if(0==t.length)return"Empty library path";if(".raml"!=l.extname(t))return"Library path should be a RAML file";var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return"Library path directory does not exist";var r=u.statSync(n);if(!r.isDirectory())return"Library path parent is not a directory";
var i=l.resolve(l.dirname(this.getActiveEditor().getPath()),t);return u.existsSync(i)?"Destination library already exists":null},t.prototype.createHeader=function(e){var t=this;e.addChild(f.label("Library namespace:").pad(5,0)),this.libraryNamespace=h.texfField("",this.getDefaultLibraryNamespace(),function(e){t.performValidation()}),e.addChild(this.libraryNamespace),e.addChild(f.label("Library path:").pad(5,0)),this.libraryPath=h.texfField("",this.generateDefaultLibraryPath(),function(e){t.performValidation()}),e.addChild(this.libraryPath)},t.prototype.performOk=function(e,t){var n=this,r=this.createProject(),i=this.createLibraryUnit(r);this.updateLibraryUnit(i,t),this.saveUnit(i);var a=[];a.push(this.getParentNode().lowLevel().unit());var o=this.getLibraryQualifier();e.forEach(function(e){var t=e.findReferences();t&&t.forEach(function(t){if(t instanceof c.ASTPropImpl){var n=t,r=n.value();if("string"==typeof r){var i=r,s=e.name(),u=o+"."+s,l=i.replace(s,u);n.setValue(l);var p=n.lowLevel().unit();m.find(a,function(e){return e==p})&&a.push(p)}}}),e.parent().remove(e)}),a.forEach(function(e){return n.saveUnit(e)}),this.addUsesNode(o,this.getLibraryPath())},t.prototype.generateDefaultLibraryPath=function(){var e=this.getParentNode(),t=e.lowLevel().unit().absolutePath(),n=l.dirname(t);return l.resolve(n,"NewLibrary.raml")},t.prototype.getLibraryName=function(){return this.libraryNamespace.getBinding().get()},t.prototype.getLibraryQualifier=function(){return this.libraryNamespace.getBinding().get()},t.prototype.getDefaultLibraryNamespace=function(){return"NewLibrary"},t.prototype.getLibraryPath=function(){var e=this.libraryPath.getBinding().get(),t=e.trim();if(0==t.length)return null;if(".raml"!=l.extname(t))return null;var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return null;var r=u.statSync(n);return r.isDirectory()?l.resolve(l.dirname(this.getActiveEditor().getPath()),t):null},t.prototype.createProject=function(){var e=this.getLibraryPath();return new p.Project(l.dirname(e))},t.prototype.createLibraryUnit=function(e){var t=this.getLibraryPath();return u.writeFileSync(t,"#%RAML 1.0 Library\ntitle: "+this.getLibraryName()+"\n"),e.unit(l.basename(t))},t.prototype.updateLibraryUnit=function(e,t){var n=d.fromUnit(e);t.children().forEach(function(e){d.kindNode(e)&&n.add(e)})},t.prototype.addUsesNode=function(e,t){var n=l.relative(l.dirname(this.getParentNode().lowLevel().unit().absolutePath()),t),r=m.find(this.getParentNode().children(),function(e){var t=e;return t.definition&&"Library"==t.definition().name()&&t.property()&&"uses"==t.property().name()}),i=null,a=!1;if(r)for(var o=r.lowLevel();null!=o;){if(1==o.kind()&&"uses"==o.key()){i=o;break}3==o.kind()&&(a=!0),o=o.parent()}if(i){var s=i.keyEnd()+1,u="\n  "+(a?"- ":"")+e+": !include "+n;this.insertTextToActiveEditor(s,u)}else{var c=m.find(this.getParentNode().children(),function(e){var t=e;return t.definition&&"StringType"==t.definition().name()&&t.property()&&"title"==t.property().name()});if(c){var s=c.lowLevel().valueEnd(),u="\nuses:\n  "+e+": !include "+n;this.insertTextToActiveEditor(s,u)}else{var s=this.getParentNode().lowLevel().end(),u="\nuses:\n  "+e+": !include "+n;this.insertTextToActiveEditor(s,u)}}},t.prototype.insertTextToActiveEditor=function(e,t){var n=this.getParentNode().lowLevel().unit().contents(),r=n.substring(e),i=n.substring(0,e),a=i+t+r;this.getActiveEditor().setText(a)},t.prototype.createUsesNode=function(e,t){var n=this.getParentNode().definition().universe(),r=this.getParentNode().root().definition().property("uses"),i=n.getType("Library").createStubNode(r,e);return i},t}(P);t.ExtractLibraryDialog=M;var T=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){if(!this.overlayPath)return null;if(!this.stubRoot)return null;if(0==this.movedNodes.length)return"Add elements to move";var e=this.overlayPath.getBinding().get(),t=e.trim();if(0==t.length)return"Empty overlay path";if(".raml"!=l.extname(t))return"Overlay path should be a RAML file";var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return"Overlay path directory does not exist";var r=u.statSync(n);if(!r.isDirectory())return"Overlay path parent is not a directory";l.resolve(l.dirname(this.getActiveEditor().getPath()),t);return null},t.prototype.createHeader=function(e){var t=this;e.addChild(f.label("Overlay path:").pad(5,0)),this.overlayPath=h.texfField("",this.generateDefaultOverlayPath(),function(e){t.performValidation()}),e.addChild(this.overlayPath)},t.prototype.performOk=function(e,t){var n=this.createProject(),r=this.createOverlayUnit(n);this.updateOverlayUnit(r,t);var i=this.getOverlayPath(),a=this.getParentNode().lowLevel().unit().absolutePath(),o=l.relative(l.dirname(i),a);this.addMasterReference(r,o),this.saveUnit(r)},t.prototype.generateDefaultOverlayPath=function(){var e=this.getParentNode(),t=e.lowLevel().unit().absolutePath(),n=l.dirname(t);return l.resolve(n,"NewOverlay.raml")},t.prototype.createProject=function(){var e=this.getOverlayPath();return new p.Project(l.dirname(e))},t.prototype.createOverlayUnit=function(e){var t=this.getOverlayPath();return u.writeFileSync(t,"#%RAML 1.0 Overlay\ntitle: Extension\n"),e.unit(l.basename(t))},t.prototype.updateOverlayUnit=function(e,t){var n=d.fromUnit(e);t.children().forEach(function(e){d.kindNode(e)&&n.add(e)})},t.prototype.getOverlayPath=function(){var e=this.overlayPath.getBinding().get(),t=e.trim();if(0==t.length)return null;if(".raml"!=l.extname(t))return null;var n=l.resolve(l.dirname(this.getActiveEditor().getPath()),l.dirname(t));if(!u.existsSync(n))return null;var r=u.statSync(n);return r.isDirectory()?l.resolve(l.dirname(this.getActiveEditor().getPath()),t):null},t.prototype.addMasterReference=function(e,t){var n=d.fromUnit(e),r=n.attrOrCreate("masterRef");r.setValue(t)},t.prototype.createMovedNode=function(e){return this.createStub(e)},t}(P);t.ExtractOverlayDialog=T;var E=function(e){function t(t,n){e.call(this,t,n),this.overlayASTRoot=t,console.log("Overlay AST root:"),console.log(this.overlayASTRoot.printDetails()),this.masterASTRoot=this.createMasterAST(),this.overlayASTLeafNodes=[],this.calculateLeafNodes(this.overlayASTRoot,this.overlayASTLeafNodes)}return s(t,e),t.prototype.getParentNode=function(){return this.masterASTRoot},t.prototype.checkNode=function(e){var t=this;return m.find(this.overlayASTLeafNodes,function(n){return n==e||t.nodesEqualById(n,e)})?{visitChildren:!1,display:!1,canBeMoved:!1}:{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){return this.stubRoot&&0==this.movedNodes.length?"Add elements to move":null},t.prototype.createHeader=function(e){},t.prototype.performOk=function(e,t){var n=this.getOverlayUnit();this.updateOverlayUnit(n,t),this.saveUnit(n)},t.prototype.createMasterAST=function(){var e=this.findMasterAbsolutePath();if(!e)return null;var t=this.createProject(e),n=t.unit(l.basename(e));return d.fromUnit(n)},t.prototype.calculateLeafNodes=function(e,t){var n=this;if(e){var r=e.directChildren()?e.directChildren():null;if(e instanceof c.ASTNodeImpl){if(!r)return void t.push(e);if(!m.find(r,function(e){return e instanceof c.ASTNodeImpl}))return void t.push(e)}r&&r.forEach(function(e){return n.calculateLeafNodes(e,t)})}},t.prototype.findMasterAbsolutePath=function(){try{var e=this.overlayASTRoot.attr("masterRef");if(!e)return null;var t=e.value();if(!t)return null;var n=this.getOverlayUnit().absolutePath(),r=l.resolve(l.dirname(n),t);return r}catch(i){return console.error(i.message),null}},t.prototype.createProject=function(e){return new p.Project(l.dirname(e))},t.prototype.getOverlayUnit=function(){return this.overlayASTRoot.lowLevel().unit()},t.prototype.updateOverlayUnit=function(e,t){d.fromUnit(e);this.mergeTrees(t,this.overlayASTRoot)},t.prototype.createMovedNode=function(e){return this.createStub(e)},t}(P);t.ModifyOverlayDialog=E;var A=function(e){function t(t,n){e.call(this,t,n),this.sourceType=t}return s(t,e),t.prototype.getTargetType=function(){return null},t.prototype.checkNode=function(e){return{visitChildren:!0,display:!0,canBeMoved:!0}},t.prototype.validate=function(){return 0==this.movedNodes.length?"Add elements to move":null},t.prototype.createHeader=function(e){},t.prototype.performOk=function(e,t){var n=this.sourceType.lowLevel().unit(),r=this.getTargetType();if(r){var i=r.lowLevel().unit();this.mergeTrees(t,r),this.movedNodes.forEach(function(e){e.parent().remove(e)}),this.postMerge(),this.saveUnit(n),i&&this.saveUnit(i)}},t.prototype.postMerge=function(){},t}(P);t.AbstractMoveTypePropertiesDialog=A,t.findUserDefinedSupertypes=a;var C=function(e){function t(t,n){e.call(this,t,n),this.superTypeNames=[],this.superTypeNames=this.findSuperTypeNames()}return s(t,e),t.prototype.createHeader=function(e){var t=this;e.addChild(f.label("Select supertype:").pad(5,0));var n=new h.Select("",function(e){t.selectedSuperType=n.getValue()});n.setOptions(this.superTypeNames),n.setValue(this.superTypeNames[0]),this.selectedSuperType=this.superTypeNames[0],e.addChild(n)},t.prototype.show=function(){0!=this.superTypeNames.length&&e.prototype.show.call(this)},t.prototype.getTargetType=function(){var e=this,t=m.find(this.superTypes,function(t){return t.name()==e.selectedSuperType});return t?t.getDeclaringNode():null},t.prototype.findSuperTypeNames=function(){var e=[];return this.superTypes=a(this.sourceType),this.superTypes.forEach(function(t){e.push(t.name())}),e},t}(A);t.PullUpDialog=C;var N=function(e){function t(t,n){e.call(this,t,n)}return s(t,e),t.prototype.createHeader=function(e){var t=this;e.addChild(f.label("Supertype name:").pad(5,0)),this.superTypeName=h.texfField("",this.generateDefaultSupertypeName(),function(e){t.performValidation()}),e.addChild(this.superTypeName)},t.prototype.getTargetType=function(){var e=this.sourceType.root(),t=(e.definition().universe(),e.root().definition().property("types"),new b.ObjectFieldImpl(this.superTypeName.getBinding().get())),n=t.highLevel();return this.typeWrapper=t,this.astRoot=e,n},t.prototype.validate=function(){var t=e.prototype.validate.call(this);return t?t:this.superTypeName.getBinding().get()&&0!=this.superTypeName.getBinding().get().trim().length?null:"Enter supertype name"},t.prototype.postMerge=function(){new b.BasicNodeImpl(this.astRoot).addToProp(this.typeWrapper,"types"),this.sourceType.attrOrCreate("type").setValue(this.typeWrapper.highLevel().name())},t.prototype.generateDefaultSupertypeName=function(){return this.sourceType.name()+"SuperType"},t}(A);t.ExtractSupertypeDialog=N},function(e,t,n){function r(e,t,n){var r=u(e,t,n,["openFile"]);return c.showOpenDialog(r)}function i(e,t,n,r){var i=u(e,n,r,["openFile"]);c.showOpenDialog(i,function(e){e&&t(e[0])})}function a(e,t,n,r){var i=["openDirectory"];t&&i.push("createDirectory");var a=u(e,n,r,i);return c.showOpenDialog(a)}function o(e,t,n,r,i){var a=["openDirectory"];n&&a.push("createDirectory");var o=u(e,r,i,a);c.showOpenDialog(o,function(e){e&&t(e[0])})}function s(e,t,n){var r=u(e,t,n,["saveFile"]);return c.showSaveDialog(r)}function u(e,t,n,r){var i={title:e,properties:r};return t&&(i.defaultPath=t),n&&(i.filters=n),i}var l=n(166),c=l.require("dialog");t.openFileDialogModal=r,t.openFileDialog=i,t.openFolderDialogModal=a,t.openFolderDialog=o,t.saveFileDialogModal=s},function(e,t){e.exports=require("remote")},function(e,t){var n=function(){function e(){}return e}();t.KeyValuePair=n;var r=function(){function e(e){var t=this;void 0===e&&(e=[]),this.mappings=[],e.forEach(function(e){return t.mappings.push(e)})}return e.prototype.volume=function(){return this.mappings.length},e.prototype.pairs=function(){return[].concat(this.mappings)},e.prototype.set=function(e,t){var n=this.mappings.filter(function(t){return t.key==e});0==n.length?this.mappings.push({key:e,value:t}):n[0].value=t},e.prototype.get=function(e){var t=this.mappings.filter(function(t){return t.key==e});return 0==t.length?null:t[0].value},e.prototype.map=function(e){return this.mappings.map(function(e){return e.value}).map(e)},e.prototype.forEach=function(e){this.mappings.map(function(e){return e.value}).forEach(e)},e.prototype.filter=function(e){return this.mappings.map(function(e){return e.value}).filter(e)},e}();t.Map=r},function(e,t,n){function r(){var e=new w;return e}function i(e){e=a(e);var t=e.split("/");return function(e){var n;n=e instanceof m.Method?e.resource().completeRelativeUri():h.completeRelativeUri(h.parentResource(e)),n=a(n);for(var r=n.split("/"),i=0,o=0;o<Math.min(t.length,r.length);o++){var s=t[o],u=r[o];u.indexOf("{")>=0||s==u&&(i+=s.length)}return i}}function a(e){for(var t=0;t<e.length&&"/"==e.charAt(t);t++);for(var n=e.length;n>t&&"/"==e.charAt(n-1);n++);return e.substring(t,n)}function o(e){p(e),y.getReportManager().serializeStep(e)}function s(e,t){u({varName:e,value:t,filePath:"unknown",lineNumber:0,columnNumber:0})}function u(e){p(e,!0),y.getReportManager().serializeStep(e)}function l(e,t,n){return new T(new C(new N(n),e,t,n),e,t,n)}function c(e,t,n){return new C(new _,e,t,n)}function p(e,t){if(void 0===t&&(t=!1),"java"!=S.type){for(var n,r=new Error,i=r.stack,a=i.split(/\r?\n/).map(function(e){return e.replace(new RegExp("\\\\","g"),"/")}),o=a.map(function(e){var t=e.lastIndexOf("/")+1,n=e.indexOf("(")+1,r=e.lastIndexOf(":"),i=e.lastIndexOf(":",r-1),a=e.lastIndexOf(")"),o=e.substring(n,t),s=e.substring(n,i),u=e.substring(i+1,r),l=e.substring(r+1,a),c=new x(o,s,parseInt(u),parseInt(l));return c}),s=!1,u=null,l=0;l<o.length;l++){var c=o[l];if(-1==c.filePath.indexOf("executor.js")){if(s)if(u){if(c.filePath!=u){n=c;break}}else if(u=c.filePath,t){n=c;break}}else s=!0}n&&(e.filePath=n.filePath,e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber)}}var d=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},m=n(112),h=n(92),f=(n(120),n(124)),y=n(122),g=n(79),v=n(110),b=n(81),S=n(169),w=n(130).XMLHttpRequest,P=function(){function e(e){this._delegate=e}return e.prototype.execute=function(e){console.log(e.url);var t=this._delegate.execute(e);return t},e.prototype.executeAsync=function(e){console.log(e.url);var t=this._delegate.executeAsync(e);return t},e.prototype.log=function(e,t){this._delegate.log(e,t)},e}();t.LoggingExecutor=P;var M=function(){function e(e,t){this._api=e,this.burl=t}return e.prototype.findMethod=function(e,t,n){var r=this.burl,a=[];if(this._api instanceof m.Api){var o,s=this._api;if(n){var u=0==n.length?"/":n.join(),l=u+" "+t,c=s.findMethodById(new m.RamlId(l));if(c.isDefined())return c.getOrThrow()}var p=s.allResources(),d=e.substr(r.length);p.forEach(function(e){var n=e.matchUri(d).isDefined();n&&(o=e,o.methods().filter(function(e){return e.method().toLowerCase()==t.toLowerCase()}).forEach(function(e){return a.push(e)}))})}else{var f,y=this._api;if(n){var g=null;if(0==n.length)var g=h.getMethod(y,["/"],t);else var g=h.getMethod(y,n,t);if(g&&g.length>0)return g[0]}var r=this.burl,v=h.allResources(y),d=e.substr(r.length);v.forEach(function(e){var n=h.matchUri(d,e).isDefined();n&&(f=e,f.methods().filter(function(e){return e.method().toLowerCase()==t.toLowerCase()}).forEach(function(e){return a.push(e)}))})}if(0==a.length)return null;if(1==a.length)return a[0];var b=i(d);return a.sort(function(e,t){return b(t)-b(e)}),a[0]},e}();t.MethodMatcher=M;var T=function(e){function t(t,n,r,i){e.call(this,n,r),this._delegate=t,this.cfg=i}return d(t,e),t.prototype.execute=function(e){this.patchRequest(e);var t=this._delegate.execute(e);return t},t.prototype.executeAsync=function(e){this.patchRequest(e);var t=this._delegate.executeAsync(e);return t},t.prototype.patchRequest=function(e){var t=e,n=this.findMethod(e.url,e.method,t.canonicPath);n&&y.getAuthManager().patchRequest(e,n)},t.prototype.log=function(e,t){},t}(M);t.AuthenticationDecorator=T;var E=function(e){var t=e instanceof m.Method?e.resource().absoluteUri():h.completeRelativeUri(h.parentResource(e));return e.method().toUpperCase()+" "+t},A=function(e){return e.method.toUpperCase()+" "+e.url},C=function(e){function t(t,n,r,i){e.call(this,n,r),this._delegate=t,this.cfg=i}return d(t,e),t.prototype.execute=function(e){var t=new f.Step;t.request=e;try{this.validateRequest(e,t);try{var n=this._delegate.execute(e);t.response=n}catch(r){this.reportException(t,r)}return this.validateResponse(e,n,t),n}catch(r){this.reportException(t,r)}finally{o(t)}},t.prototype.log=function(e,t){this._delegate.log(e,t),u({varName:e,value:t,filePath:"unknown",lineNumber:0,columnNumber:0})},t.prototype.executeAsync=function(e){var t=this,n=new f.Step;n.request=e;try{this.validateRequest(e,n);var r=this._delegate.executeAsync(e);return r.then(function(r){return n.response=r,t.validateResponse(e,r,n),o(n),r})["catch"](function(e){return t.reportException(n,e),o(n),e})}catch(i){this.reportException(n,i)}},t.prototype.reportException=function(e,t,n){var r=t.toString();n&&(r=n),console.log(r);var i=new f.Message(2,2,r);e.appendMessage(i)},t.prototype.reportInfo=function(e,t){var n=new f.Message(0,0,t);e.appendMessage(n)},t.prototype.validateRequest=function(e,t){var n=e,r=this.findMethod(e.url,e.method,n.canonicPath),i=null;if(r?this.reportInfo(t,"Method mapped: "+A(e)+" -> "+E(r)):(i=new f.Message(1,2,"Method can not be mapped on api: "+A(e)),t.appendMessage(i)),r){if(r instanceof m.Method){var a=r;t.methodId=a.id().value(),t.apiTitle=a.api().title().value(),t.resourceId=a.resource().id().value()}else{var o=r;t.methodId=h.methodId(o),t.apiTitle=h.ownerApi(o).title(),t.resourceId=h.completeRelativeUri(h.parentResource(o))}this.validateRequestArguments(r,e,t)}},t.prototype.validateRequestArguments=function(e,t,n){},t.prototype.validateResponseValue=function(e,t,n){var r=this;console.log("Response:"+t);var i=""+t.status;if(parseInt(""+i[0])>3){var a=new f.Message(2,2,"Invalid response status: "+i);n.appendMessage(a)}var o={};e instanceof m.Method?e.responses().forEach(function(e){return o[e.code()]=e.bodies()}):e.responses().forEach(function(e){return o[e.code().value()]=e.body()});var s;try{s=JSON.parse(t.content.text)}catch(u){try{g(t.content.text)}catch(u){var l=!1,c=!1;if(Object.keys(o).forEach(function(e){o[e].forEach(function(e){var t=e instanceof m.Body?e.mediaType():e.name();t=t.toLowerCase(),l=l||t.indexOf("xml")>0||t.indexOf("json")>0,c=l||0==t.indexOf("text/")})}),l&&!c){var a=new f.Message(3,2,"Unable to parse response:\n"+t.content.text);n.appendMessage(a)}}}s&&Object.keys(o).forEach(function(t){try{t==i&&(console.log("Status matched"),o[t].forEach(function(i){var a=i instanceof m.Body?i.mediaType():i.name();if(-1!=a.toLowerCase().indexOf("json")){var o=i instanceof m.Body?i.schema():h.schema(i,h.ownerApi(e));o.forEach(function(i){var o=i.content(),u=E(e)+" "+t+" "+a;r.validateBodyAgainstSchema(s,o,n,u)})}}))}catch(a){r.reportException(n,a)}})},t.prototype.validateBodyAgainstSchema=function(e,t,i,a){try{var o;try{var o=JSON.parse(t)}catch(s){try{g(t)}catch(s){var u=new f.Message(1,2,"Can not parse schema:\n"+a);i.appendMessage(u)}}if(!o)return;try{var l=n(82);o=l.v4(o)}catch(c){this.reportException(i,c,"Can not parse schema"+t)}delete o.$schema,delete o.required;var p=new b,d=p.validate(e,o);if(d)return void this.reportInfo(i,"Valid schema: "+a);var m=p.getLastErrors();m.filter(function(e){return"UNRESOLVABLE_REFERENCE"==e.code}).forEach(function(e){var t=e.params[0],n=r();n.open("GET",t+"",!1),n.send();var i=n.responseText;p.setRemoteReference(t,JSON.parse(i))});var d=p.validate(e,o);if(d)return void this.reportInfo(i,"Valid schema: "+a);var m=p.getLastErrors(),u=new f.Message(1,2,"Invalid schema: "+a,m);i.appendMessage(u)}catch(s){this.reportException(i,s)}},t.prototype.validateResponse=function(e,t,n){var r=e,i=this.findMethod(e.url,e.method,r.canonicPath);i&&this.validateResponseValue(i,t,n)},t}(M);t.RequestValidator=C;var N=function(){function e(e){this.cfg=e}return e.prototype.execute=function(e,t){void 0===t&&(t=!0);var n=r(),i=e.url;t&&(i=this.appendParams(e,e.url)),n.open(e.method,i,!1),this.doRequest(e,n);var a=n.status;if(a>300&&400>a){var o=n.getResponseHeader("location");if(o)return e.url=o,this.execute(e,!1)}var s={status:a,headers:n.getAllResponseHeaders().split("\n").map(function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}),content:{text:n.responseText,mimeType:n.responseType}};return s},e.prototype.appendParams=function(e,t){var n=e.queryString&&e.queryString.length>0;if(n){t+="?";var r=[];n&&(r=r.concat(e.queryString.map(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}))),t+=r.join("&")}return t},e.prototype.log=function(e,t){},e.prototype.executeAsync=function(e,t){void 0===t&&(t=!0);var n=r(),i=e.url;t&&(i=this.appendParams(e,e.url));var a=this;return new Promise(function(t,r){n.open(e.method,i,!0),n.onload=function(){var r=n.status;if(r>300&&400>r){var i=n.getResponseHeader("location");if(i)return e.url=i,a.executeAsync(e,!1)}var o={status:r,headers:n.getAllResponseHeaders().split("\n").map(function(e){var t=e.indexOf(":");return{name:e.substring(0,t).trim(),value:e.substring(t+1).trim()}}),content:{text:n.responseText,mimeType:n.responseType}};a.cfg&&a.cfg.storeHarEntry&&(o[v.HAR_ENTRY_FIELD_NAME]={request:e,response:{status:r,content:{text:n.responseText,mimeType:n.responseType}}}),t(o)},n.onerror=function(){r(Error("Network Error"))},a.doRequest(e,n)})},e.prototype.doRequest=function(e,t){if(e.headers&&e.headers.forEach(function(e){return t.setRequestHeader(e.name,e.value)}),e.postData)if(e.postData.params){var n=e.postData.params.map(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}).join("&");t.send(n)}else t.send(e.postData.text);else t.send()},e}();t.SimpleExecutor=N,t.doLog=s,t.createExecutor=l,t.createFakeExecutor=c;var I=function(){function e(e){var t=e.request,n=e.response;if(!t)throw new Error("HAR entry has no request:\n"+e.toString());if(!n)throw new Error("HAR entry has no response:\n"+e.toString());for(var r in t)this[r]=t[r];this.response=function(){return n}}return e}();t.HARRequestWithResponse=I;var _=function(){function e(){}return e.prototype.execute=function(e){return e.response()},e.prototype.executeAsync=function(e){return Promise.resolve(e.response())},e.prototype.log=function(e,t){},e}();t.FakeHARExecutor=_;var x=function(){function e(e,t,n,r){this.className=e,this.filePath=t,this.lineNumber=n,this.columnNumber=r}return e}()},function(e,t){t.type="nodejs"},function(e,t,n){function r(){var e=new x;return e}function i(e,t){var n=null,r=b.section(e,14,!1,!1),i=b.hc().setPercentWidth(100).setStyle("display","flex");i.addChild(b.label("",null,null,null).setStyle("flex","1"));var a=b.button("Ok",0,3,0,function(e){n.destroy()});i.addChild(a),r.addChild(i),n=I.workspace.addModalPanel({item:r.renderUI()})}function a(e,t,n){void 0===n&&(n=null),null==n&&(n=R);o(e);g.sync(t);var r=!0;return P.execProcess("git clone --branch "+n+' "'+e+'"',t,!0,!0,"Cloning GIT repository: "+e,"Cloning complete: "+e,"Cloning failed: "+e,-1,function(e){r=!1,i(e.message,function(e){})}),r}function o(e){return e.substring(e.lastIndexOf("/")+1,e.lastIndexOf("."))}function s(e){return"gmail"==e&&(e="GoogleMail"),"https://github.com/raml-apis/"+e+".git"}function u(){N.doSplit(new O,0)}function l(e,t,n){var r=t;console.log("Cloning:"+e.url);var i=e.project.id();if("gmail"==i&&(i="GoogleMail"),"CodeBaseHQ"==i)return c(f.resolve(__dirname,"./codebasehq.raml"),t,i),void n("\nimport "+i+' = require("./'+i+'");\n\nfunction '+e.project._data.ch[0].n+"Service(request: "+i+".Request):void {\n\n}\n\n"+i+".bind("+e.project._data.ch[0].n+"Service, '/"+e.project._data.ch[0].n+"');\n\n");var o=r+"/"+i;y.exists(o)||a(e.url,r);var s=f.resolve(o,"api.raml");y.existsSync(s)||(s=f.resolve(o,e.project.id()+".raml")),y.existsSync(s)&&E.loadAndWrapApi(s).then(function(r){var i=T.raml2ts(r,new T.Config);i="\n                    export function createApi("+E.getPDecl(r)+"):Api{\n                        return new ApiImpl("+E.getPcalls(r)+");\n                    }\n                    "+i+"\n";var a=f.resolve(t,"api"+e.project.id()+".ts");console.log(a),y.writeFileSync(a,i);var o=new A.DependencyManager;return o.updateDeps(a),n("import "+e.project.id()+' = require("./api'+e.project.id()+'")\nvar '+e.project.id()+"Client="+e.project.id()+".createApi()"),r})}function c(e,t,n){E.loadAndWrapApi(e).then(function(e){return C.generateEndpointFromRamlApi(e)}).then(function(e){return p(e,t+"/"+n+".ts")})}function p(e,t){y.writeFileSync(t,e)}function d(e,t){var n=M.RAMLWorkspaceProvider.getInstance(),r=b.treeViewerSection("APIS",190,n,function(e){return e&&e.children?e instanceof M.ApiDefinition?[]:e.children().filter(function(e){return e&&e.id()?!0:!1}):[]},new L(e,t));return r.viewer.setBasicLabelFunction(function(e){return e.parent()?e.parent().id()+e.id():e.id()}),r}function m(e){k=e}var h=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},f=n(10),y=n(4),g=n(136),v=n(143),b=n(144),S=n(145),w=n(161),P=n(141),M=n(171),T=n(110),E=n(172),A=n(178),C=n(187),N=n(152),I=n(153),_=n(165),x=n(130).XMLHttpRequest;t.accessToken=null,t.reposUrl=null;var R="production",O=function(e){function n(){e.call(this),this.disposables=new v.CompositeDisposable}return h(n,e),n.prototype.getTitle=function(){return"RAML Apis"},n.prototype.load=function(){var e=b.section("RAML Apis");e.addChild(b.label("loading...")),this.html(e.renderUI());var n=r(),i=t.reposUrl?t.reposUrl+"?access_token="+t.accessToken:"https://api.github.com/orgs/raml-apis/repos?per_page=200";n.open("GET",i);var o=this,s=process.env.HOME,u=f.resolve(s,"apis");n.onload=function(){var e=JSON.parse(n.responseText).filter(function(e){return t.reposUrl?"preloaded"!==e.name:!0}),r=b.hc(),i=b.a("Cloning to: "+u+"(click to change)",function(e){_.openFolderDialog("Please enter new path to clone",function(e){u=e,i.setText("Cloning to: "+u+"(click to change)")},!0,u)},173,0,1);r.addChild(i);var s=b.a(""+R,function(e){w.prompt("Please enter name of the branch",function(e){R=e,s.setText(e)},R)},74,0,1);s.margin(10,0),r.addChild(s);var l=v.list(e,function(e){return b.hc(b.label(e.name,158,3,0).pad(10,10),b.button("clone",1,3,0,function(t){if(k)return void k(e);y.existsSync(u)||y.mkdirSync(u);var n=a(e.git_url,u);if(n){var r=f.resolve(u,e.name);y.existsSync(u)||y.mkdirSync(u);var i=f.resolve(r,"api.raml");y.existsSync(i)||(i=f.resolve(r,e.name+".raml")),y.existsSync(i)?I.open({pathsToOpen:[r,i]}):I.open({pathsToOpen:[r]})}}))});r.addChild(l),o.html(r.renderUI())},n.send()},n.prototype.attached=function(){this._isAttached||(this.load(),this._isAttached=!0)},n.prototype.destroy=function(){this.disposables.dispose()},n}(S.Scrollable);t.info=i,t.showPopularApis=u,t.generateEndpoint=c;var L=function(){function e(e,t){this._folder=e,this.cb=t}return e.prototype.render=function(e){var t=this;return e instanceof M.ApiDefinition?b.a(e.id(),function(n){var r=(e.parent(),{url:s(e.id()),project:e.parent()});l(r,t._folder(),t.cb)}):b.label(e.id())},e}();t.apiView=d;var k=null;t.onClone=m},function(e,t,n){function r(e,t){if(y.existsSync(e))return console.log("Loading:"+e),JSON.parse(y.readFileSync(e).toString());var n=t();return y.writeFileSync(e,JSON.stringify(n)),console.log("Stored:"+e),n}function i(){for(var e=[],t=r(C+"apiList.json",function(){return(new b).listApis()}),n=0;n<t.length;n++){var i=t[n];e.push(new S(i.name,i.url))}return(new m).buildWorspace("",e)}function a(e){var t=[];return t.push(new S(e.name,e.url)),(new m).buildWorspace("",t)}function o(e){for(var t=[],n=y.readdirSync(e),r=0;r<n.length;r++){var i=n[r],a=f.resolve(e,i);y.lstatSync(a).isDirectory()&&t.push(new v(a))}return(new m).buildWorspace("",t)}function s(e,t,n){return p.loadAndWrapApi(n).then(function(r){var i=(new m).buildProject(t,[r]),a=new A(null,null);a.remove=function(e){};var o=new M(a,i);return e.add(o),o.url=n,e})}var u,l=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},c=n(112),p=n(172),d=n(16);!function(e){!function(e){e[e.PARAMETER=0]="PARAMETER",e[e.RESOURCE=1]="RESOURCE",e[e.METHOD=2]="METHOD",e[e.BODY=3]="BODY",e[e.RESPONSE=4]="RESPONSE",e[e.API=5]="API",e[e.PROJECT=6]="PROJECT",e[e.WORKSPACE=7]="WORKSPACE"}(e.NodeType||(e.NodeType={}));e.NodeType}(u||(u={}));var m=function(){function e(){}return e.prototype.buildParam=function(e){return{n:e.name(),r:e.required(),l:e.location(),t:0}},e.prototype.buildBody=function(e){var t=e.schema().isDefined()?e.schema().value().name():null;return null!=t&&t.length>0&&"{"==t.charAt(0)&&(t="<inplace>"),null!=t&&t.length>0&&"<"==t.charAt(0)&&(t="<inplace>"),{schn:t,n:e.mediaType(),t:3}},e.prototype.buildResponse=function(e){var t=this,n=[];return e.bodies().forEach(function(e){return n.push(t.buildBody(e))}),{n:e.code(),t:4,ch:n}},e.prototype.buildMethod=function(e){var t=this,n=[];return e.getConsolidatedParameterList(!0).forEach(function(e){return n.push(t.buildParam(e))}),e.bodies().forEach(function(e){return n.push(t.buildBody(e))}),e.responses().forEach(function(e){return n.push(t.buildResponse(e))}),{n:e.method(),t:2,ch:n}},e.prototype.buildResource=function(e){var t=this,n=[];return e.resources().forEach(function(e){return n.push(t.buildResource(e))}),e.methods().forEach(function(e){return n.push(t.buildMethod(e))}),{n:e.relativeUri(),ch:n,t:1}},e.prototype.buildApi=function(e){var t=this;if(null==e)return{n:"error",ch:[],t:5};var n=[];return e.resources().forEach(function(e){return n.push(t.buildResource(e))}),{n:e.title().isDefined()?e.title().value():null,ch:n,t:5}},e.prototype.buildProject=function(e,t){var n=this,r=[];try{return t.forEach(function(e){e&&r.push(n.buildApi(e))}),{n:e,ch:r,t:6}}catch(i){console.log(i.stack)}},e.prototype.buildWorspace=function(e,t){var n=this,r=[];return t.forEach(function(e){r.push(Promise.all(e.apis()).then(function(t){return console.log("build project"),n.buildProject(e.name(),t)}))}),Promise.all(r).then(function(t){return t=t.filter(function(e){return null!=e}),console.log("Workspace:"+t),{n:e,ch:t,t:7}})},e}(),h=function(){function e(e){var t=this;this._data=e,this.title=function(){return t._data.n}}return e}();t.ApiImpl=h;var f=n(10),y=n(4),g=n(179),v=function(){function e(e){this.path=e}return e.prototype.name=function(){return this.path.substr(this.path.lastIndexOf("/")+1)},e.prototype.parseApi=function(e){var t=g.loadFile(e);return t["catch"](function(e){}).then(function(t){return console.log("Loaded:"+e),new c.Api(t)})},e.prototype.apis=function(){var e=this,t=y.readdirSync(this.path),n=[];return t.forEach(function(t){var r=t.indexOf(".raml");if(-1!=r&&r==t.length-5){console.log("Loading:"+e.path+":"+t);var i=f.resolve(e.path,t);n.push(e.parseApi(i))}}),n},e}(),b=function(){function e(){}return e.prototype.listApis=function(){function e(){var e=new i;return e}function t(t){var n=e(),r=!1;if(n.onerror=function(){r=!0},n.onload=function(){},n.open("get",t,!1),n.send(),r)throw new Error;if(n.status>299||n.status<200)throw new Error("Response is not ok:"+t+":"+n.status);return n.responseText}var r=[],i=n(130).XMLHttpRequest,a=JSON.parse(t("https://api.github.com/orgs/raml-apis/repos"));return a.forEach(function(e){try{var n="https://raw.githubusercontent.com/raml-apis/"+e.name+"/master/api.raml";t(n);r.push({name:e.name,url:n})}catch(i){var a=""+e.name;a=a.toLowerCase();var n="https://raw.githubusercontent.com/raml-apis/"+e.name+"/master/"+a+".raml";try{t(n);r.push({name:e.name,url:n})}catch(i){console.log(e.name+":no api found")}}}),r},e}(),S=function(){function e(e,t){this._name=e,this.url=t}return e.prototype.name=function(){return this._name},e.prototype.parseApi=function(e){var t=g.loadFile(e);return t.then(function(t){
return console.log("Loaded:"+e),new c.Api(t)})},e.prototype.apis=function(){var e=this,t=[this.url],n=[];return t.forEach(function(t){console.log("Loading:"+e.url),n.push(e.parseApi(e.url))}),n},e}();t.getApisFromGitHub=i,t.getApiFromGitHub=a,t.getApisFromDir=o,t.addProjectFromPath=s;var w=function(){function e(e,t){var n=this;this._member=e,this._parent=t,this.parent=function(){return n._parent},this.id=function(){return n._member.n},this.member=function(){return n._member},this.workspace=function(){return null!=n._parent?n._parent.workspace():n},this.checkParent()}return e.prototype.checkParent=function(){if(!this._parent)throw new Error("Only workspace may have no parent")},e}();t.ApiElement=w;var P=function(e){function t(t,n){e.call(this,n,t),this._node=n}return l(t,e),t.prototype.add=function(e){e.parent()!=this&&(this._node.ch.push(e.member()),e.parent().remove(e),e._parent=this)},t.prototype.addClone=function(e){this._node.ch.push(JSON.parse(JSON.stringify(e.member())))},t.prototype.remove=function(e){this.checkParent(),e.parent()==this&&(this._node.ch.filter(function(t){return t!=e.member()}),e._parent=this)},t.prototype.children=function(){var e=this;return this._node.ch.map(function(t){return e.convertChild(t)})},t.prototype.hasChild=function(e){return d.find(this.children(),function(t){return t.id()==e})?!0:!1},t.prototype.childWithTitle=function(e){return d.find(this.children(),function(t){return t.id()==e})},t.prototype.convertChild=function(e){switch(e.t){case 5:return new T(this,e);case 6:return new M(this,e);case 1:return new E(this,e)}throw new Error("Should not happen")},t}(w);t.ApiNode=P;var M=function(e){function t(t,n){e.call(this,t,n),this._data=n}return l(t,e),t}(P);t.ApiProject=M;var T=function(e){function t(t,n){e.call(this,t,n),this._data=n}return l(t,e),t}(P);t.ApiDefinition=T;var E=function(e){function t(t,n){e.call(this,n,t)}return l(t,e),t}(w);t.ApiResource=E;var A=function(e){function t(t,n){void 0===n&&(n={n:"",ch:[],t:7}),e.call(this,null,n),this._data=n,this._path=t}return l(t,e),t.prototype.checkParent=function(){},t.prototype.addWorkspace=function(e){this._data.ch=this._data.ch.concat(e._data.ch)},t.loadFromFile=function(e){return new t(e,JSON.parse(y.readFileSync(e).toString()))},t.prototype.saveToFile=function(e){y.writeFileSync(e,JSON.stringify(this._data))},t.prototype.save=function(){this.saveToFile(this._path)},t}(P);t.ApiWorkspace=A;var C=(f.resolve(process.cwd(),"automation/archive"),f.resolve(__dirname)),N=function(){function e(){}return e.getInstance=function(){return e._workspace||(e._workspace=A.loadFromFile(C+"/100apis.json")),e._workspace},e}();t.RAMLWorkspaceProvider=N},function(e,t,n){function r(e){var t=(O.dirname(e),new ne(this.rootPath)),n=D.loadFile(e,{reader:t});return n["catch"](function(e){return console.log(e)}),n.then(function(e){return x.wrap(e)})}function i(e,t){var n=L.readFileSync(e).toString();return c(n,e,t)}function a(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function o(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+",")}),t.join("")}function s(e,t){var n=O.dirname(e),r=O.resolve(__dirname,"tscfg.json"),i=O.resolve(n,"tsconfig.json");L.writeFileSync(i,L.readFileSync(r).toString());var a=new R.DependencyManager,o=p(t).then(function(t){console.log("Storing modules..."),a.updateDeps(e);var r=N.raml2ts(t,new N.Config),i=O.resolve(n,"api0.ts");console.log(i),L.writeFileSync(i,r),a.updateDeps(i),a.updateDeps(e)});console.log("getting modules");var s=O.resolve(n,"..","node_modules");return P.copyDirSyncRecursive(O.resolve(__dirname,"../../node_modules"),s,{forceDelete:!0}),o}function u(e,t){return e.replace("#REF_TAG_DEFENITION",t)}function l(e){for(var t="";;){var n=O.dirname(e),r=null;if(L.readdirSync(n).forEach(function(e){".raml"==O.extname(e)&&"api.raml"!=r&&(r=e)}),r)return t+r;if(e=n,t+="../",!e)return null}return null}function c(e,t,n,r){var i=O.dirname(t)+"/",a=l(t);e=u(e,a);var o=new re(e,i,r),s=O.dirname(n),c=new R.DependencyManager,p=o.results.then(function(e){console.log("Writing:"+n),L.writeFileSync(n,o.content),console.log("Storing modules..."),c.updateDeps(n),o.apiInformation.numToUrl.forEach(function(e){var t=s+"/"+e.name+".ts";console.log("Storing module for:"+e.url+"("+e.name+")"),L.writeFileSync(t,e.content),c.updateDeps(t)})}),d=O.resolve(s,"..","node_modules");L.existsSync(d)&&r&&!r.overwriteModules||(console.log("getting modules"),P.copyDirSyncRecursive(O.resolve(__dirname,"../../node_modules"),d,{forceDelete:!0}));var m=O.resolve(__dirname,"tscfg.json"),h=O.resolve(s,"tsconfig.json");return L.writeFileSync(h,L.readFileSync(m).toString()),p}function p(e){var t=d(e);return t.then(function(e){return x.wrap(e)})}function d(e){var t=new ne(""),n=D.loadFile(e,{reader:t});return n}function m(e){if("Identifier"==e.type){var t=e.name;if(0==t.indexOf("$")&&0==t.substring(1).replace(/\d/,"").length)return!0}else if("MemberExpression"==e.type)return m(e.object);return!1}function h(e,t,n){var r="",i=new ne(O.dirname(t)),a=D.loadFile(t,{reader:i});a["catch"](function(e){return console.log(e)});var o=a.then(function(t){var i=new x.Api(t);r=O.resolve(n,i.title().getOrElse("result")+"/client.ts");var a=N.raml2ts(i,e);return a});return o.then(function(e){k.sync(O.dirname(r)),L.writeFileSync(r,e),(new R.DependencyManager).updateDeps(r);var t=O.resolve(n,"node_modules");return L.existsSync(t)||P.copyDirSyncRecursive(O.resolve(__dirname,"../../node_modules"),t,{forceDelete:!0}),r})}function f(e,t,n){var r=H.loadApi1(t);if(r.isDefined()){var i=r.getOrThrow();i=V.expandTraitsAndResourceTypes(i),i.uses()[0].types()[0].example(),q.serialize(i.highLevel().lowLevel());var a=j.raml2ts(i,e);return g(t,n,a,i)}}function y(e,t,n){var r=H.loadApi1(t.apiPath);if(r.isDefined()){var i=r.getOrThrow();i=V.expandTraitsAndResourceTypes(i);var a=j.createApiModule(i,e),o=j.serializeModuleToTS(i,e,a),s={forceDelete:t.forceDelete,pathReplacements:t.pathReplacements(),contentReplacements:t.contentReplacements()};_.copyDirSyncRecursive(t.clientProjectPath(),O.resolve(__dirname,"../../java/java-client"),s,function(e){return!I.stringEndsWith(e,O.sep+"src")}),_.copyDirSyncRecursive(t.sourcePath(),O.resolve(__dirname,"../../java/java-client/src"),s),_.copyDirSyncRecursive(O.resolve(t.dstWorkspacePath,"javascript-module-holders"),O.resolve(__dirname,"../../java/javascript-module-holders"),{forceDelete:t.forceDelete}),new K.Serializer(a,i,t).serializeAll();var u=g(t.apiPath,n,o,i);B.deploy(O.dirname(u),t)}}function g(e,t,n,r,i){void 0===i&&(i=!1),console.log("");var a=O.dirname(e),o=O.resolve(a,"script"),s=L.existsSync(o),u=O.resolve(t,r.title()?r.title():"result"),l=O.resolve(u,"client.ts");if(i&&L.existsSync(l))return l;var c=O.dirname(l);k.sync(c),L.writeFileSync(l,n);var p=q.serialize(r.highLevel().lowLevel()),d=O.resolve(O.dirname(l),"apiEncoded.json");L.writeFileSync(d,JSON.stringify(p,null,2)),(new R.DependencyManager).transportDependencies(l,O.resolve(__dirname,"../../"),c,ae),L.writeFileSync(O.resolve(u,"deps/apiProvider.ts"),j.apiProviderContent());var m=O.resolve(t,"node_modules");if(L.existsSync(m)||P.copyDirSyncRecursive(O.resolve(__dirname,"../../node_modules"),m,{forceDelete:!0}),s){var h=O.resolve(c,"script");k.sync(h),P.copyDirSyncRecursive(o,h,{forceDelete:!0}),L.readdirSync(h).forEach(function(e){return new R.DependencyManager(o,!0,4).transportDependencies(O.resolve(h,e),O.resolve(__dirname,"../../"),h,ae)})}var f={};return f[O.resolve(O.resolve(c,ae),oe)]=!0,s&&(f[O.resolve(O.resolve(h,ae),oe)]=!0),v(c),l}function v(e,t){void 0===t&&(t={});for(var n={},r=b(e);r.length>0;){var i=r[0];F.compile([i],"--sourcemap --module commonjs"),n[i]=!0,r=b(e).filter(function(e){return!n[e]})}var a=L.readdirSync(e).map(function(t){return O.resolve(e,t)}).filter(function(e){return L.lstatSync(e).isDirectory()&&!t[e]});a.forEach(function(e){return v(e)},t)}function b(e){var t=L.readdirSync(e),n={};t.filter(function(e){return I.stringEndsWith(e,".js")}).forEach(function(e){return n[e.substring(0,e.length-".js".length)+".ts"]=!0});var r=t.filter(function(e){return I.stringEndsWith(e,".ts")&&!I.stringEndsWith(e,".d.ts")&&!n[e]}).map(function(t){return O.resolve(e,t)});return r}var S=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},w=n(50),P=n(173),M=n(174),T=n(127),E=n(175),A=n(128),C=n(176),N=n(110),I=n(60),_=n(177),x=n(112),R=n(178),O=n(10),L=n(4),k=n(136),D=n(179),U=n(180),F=n(181),j=n(182),V=n(102),K=n(184),B=n(185),q=n(59),H=n(186),G=M.call(M.memberFromExp("load"),function(e){return e.arguments}),W=M.memberFromExp("*.body.*"),z=M.memberFromExp("*.body"),Y=M.memberFromExp("*.status"),J=M.call(M.memberFromExp("assert.equal"),function(e){return e.arguments}),$=M.call(M.memberFromExp("API.createClient"),function(e){return e.arguments}),X=M.exprStmt(M.assign(M.anyNode(),M.anyNode()),function(e){return e}),Q=M.call(M.memberFromExp("API.authenticate"),function(e){return e.arguments}),Z=M.exprStmt(M.sequence(),function(e){return e}),ee=(function(){function e(){}return e.prototype.enter=function(e,t){J.doMatch(e)},e.prototype.leave=function(e,t){},e}(),function(){function e(e,t,n,r,i){this.args=[],this.name=e,this.varName=t,this.url=n,this.content=r,this.args=i}return e.prototype.getValue=function(e){return"Identifier"==e.type?e.name:"Literal"==e.type?e.value:""},e.prototype.extractValue=function(e){return A.generate(e)},e.prototype.generateArguments=function(){var e=this;if(3!=this.args.length)return"";var t=[],n=this.args[2];if("ObjectExpression"==n.type){var r=n;r.properties.forEach(function(n){var r=e.getValue(n.key);"baseUriParameters"==r&&e.apiModel.baseUriParameters().forEach(function(r){var i=n.value;i.properties.forEach(function(n){e.getValue(n.key)==r.name()&&t.push(e.extractValue(n.value))})})})}return t.join(",")},e}()),te=(function(){function e(){}return e}(),function(){function e(e){this._rootPath=e,this.numToUrl=[],this.num=0}return e.prototype.register=function(e,t,n){var r="api"+this.num++;return this.numToUrl.push(new ee(r,e,t,null,n)),r},e.prototype.gatherApis=function(e){var t=this;E.replace(e,{enter:function(e,n){var r=M.exprStmt($).doMatch(e);if(r){var i=r[0].value,a=r[1].value,o=t.register(i,a,r);return T.ident(o)}return r=M.exprStmt(Q).doMatch(e),r?T.exprStmt(T.call(T.member(r[0],"authenticate"),r.slice(1))):void 0}})},e.prototype.loadApis=function(){var e=this,t=[];return this.apis={},this.numToUrl.forEach(function(n){var r=n.url;console.log("Loading "+n.url);var i=new ne(e._rootPath),a=D.loadFile(r,{reader:i});a["catch"](function(e){return console.log(e)});var o=a.then(function(t){return console.log("Loaded:"+n.url),n.apiModel=new x.Api(t),e.apis[n.varName]=n.apiModel,n});t.push(o)}),Promise.all(t).then(function(t){return e})},e}());t.loadApiFromPath=r;var ne=function(e){function t(t){e.call(this,function(e){if(L.existsSync(e))return Promise.resolve(L.readFileSync(e).toString());var n=O.resolve(t,e);L.existsSync(n)||(n=O.resolve(process.cwd(),e));var r=L.readFileSync(n).toString(),i=Promise.resolve(r);return i})}return S(t,e),t}(D.FileReader);t.FileSystemLoader=ne;var re=function(){function e(e,t,n){var r=this;this.num=0,this.toJavascript(e);var i=w.parse(this.content),a=new te(t);this.apiInformation=a,a.gatherApis(i),this.doBasicReplacements(i),this.content=A.generate(i);var o=new N.Config,s=a.loadApis().then(function(e){var t=[];return a.numToUrl.forEach(function(e){e.url;console.log("updating content:"+e.url);try{var r=e.apiModel,i=N.raml2ts(r,n);return e.content=i,e}catch(a){console.log(a.stack)}console.log("Content generated:"+e.url),t.push(Promise.resolve(e))}),Promise.all(t)});this.results=s.then(function(e){try{console.log("Gathering info"),r.finder=new U.HTTPCallInformationFinder(r),r.finder.gatherCallsInfo(i,o),console.log("Call information gathered");var t=r;try{E.replace(i,{enter:function(e,n){try{var r=t.finder.findReplacementCallNode(e,o);if(r.isDefined())return r.getOrThrow()}catch(i){console.log(i.stack)}}})}catch(n){console.log(n)}try{E.replace(i,{enter:function(e,n){t.finder.markCallResult(e,n)}}),E.replace(i,{enter:function(e){var n=z.doMatch(e);if(n){var r=e,i=t.finder.getMethodCall(r.object);if(i.isDefined()){var a=i.getOrThrow(),o=!1,s=a.getMethod();return s.responses().forEach(function(e){return e.bodies().forEach(function(e){return o=o||e.mediaType().indexOf("json")>0})}),o=o||s.api().mediaType().getOrElse("").indexOf("json")>0,o?r.object:T.memberExp(T.memberExp(T.memberExp(T.memberExp(r.object,T.ident(N.HAR_ENTRY_FIELD_NAME)),T.ident("response")),T.ident("content")),T.ident("text"))}}}})}catch(n){console.log(n)}console.log("API processed"),r.content=A.generate(i),console.log("Content generated"),a.numToUrl.forEach(function(e){r.content=r.content.replace(e.name,"import "+e.name+' = require("./'+e.name+'");\nvar '+e.varName+"="+e.name+".createApi("+e.generateArguments()+");")}),r.content='import assert = require("assert")\nimport prompt = require("./prompt")\nimport executor = require("./deps/executor");\n'+r.content+"\n            "}catch(n){console.log(n.stack)}console.log("Content updated")})}return e.prototype.doBasicReplacements=function(e){var t=(C.analyze(e),this);E.replace(e,{enter:function(e,t){var n=Z.doMatch(e);if(n){var r=T.block(n.expressions.map(function(e){return T.exprStmt(e)}));return r}}}),t.renamers=[{}];var n=0;E.replace(e,{enter:function(e,r){var i=void 0,a=void 0,o=void 0,s=X.doMatch(e);if(s)i=s.left,a=s.right,o=s.operator;else if("VariableDeclaration"==e.type){var u=e;i=u.declarations[0].id,a=u.declarations[0].init,o="="}if(i&&a&&"Identifier"==i.type&&"="==o&&0==n){var l=i;if("assert"==l.name)return E.VisitorOption.Remove;m(a)&&(a=T.literal(""));var c=t.renamers[0][l.name];if(c){c+=1;var p=T.varDecl(T.ident(l.name+c),a);return t.renamers[0][l.name]=c,p}var p=T.varDecl(i,a);return t.renamers[0][l.name]=1,p}if(i&&a&&"Identifier"==i.type&&"="==o&&0!=n){var l=i;if("assert"==l.name)return E.VisitorOption.Remove;var d=t.renamers[n][l.name];if(d)return E.VisitorOption.Skip;for(var c=void 0,h=t.renamers.length-2;h>=0&&!(c=t.renamers[h][l.name]);h--);if(!c){var p=T.varDecl(i,a);return t.renamers[n][l.name]=1,p}if("VariableDeclaration"==e.type)return t.renamers[n][l.name]=c+1,T.varDecl(T.ident(l.name+(c+1)),a);if(1!=c)return T.exprStmt(T.assignExpr(T.ident(l.name+c),a,"="))}else if("Identifier"==e.type){var f=!0;if("MemberExpression"==r.type){var y=r;y.property!==e||y.computed||(f=!1)}else if("Property"==r.type){var g=r;f=e!=g.key}if(f){for(var l=e,c=void 0,h=t.renamers.length-1;h>=0&&!(c=t.renamers[h][l.name]);h--);if(c&&1!=c)return T.ident(l.name+c)}}var v=W.doMatch(e);if(v){var b=e;return T.memberExp(b.object.object,b.property)}return M.exprStmt(J).doMatch(e)?E.VisitorOption.Remove:M.exprStmt(G).doMatch(e)?E.VisitorOption.Remove:"FunctionExpression"==e.type||"FunctionDeclaration"==e.type||"IfStatement"==e.type?E.VisitorOption.Skip?(n++,t.renamers.push({}),e):E.VisitorOption.Skip:void 0},leave:function(e,r){return"FunctionExpression"==e.type||"FunctionDeclaration"==e.type||"IfStatement"==e.type?(n--,t.renamers.pop(),e):void 0}}),E.replace(e,{enter:function(e,t){var n=Y.doMatch(e);if(n){var r=e,i=r.object.name;if(i&&I.stringEndsWith(i,"Response"))return T.memberExp(T.memberExp(T.memberExp(r.object,T.ident(N.HAR_ENTRY_FIELD_NAME)),T.ident("response")),T.ident("status"))}}})},e.prototype.toJavascript=function(e){for(var t=[],n=0,r=e.length,i=e.indexOf("```javascript");i>=0;i=e.indexOf("```javascript",n))t.push(new ie(n,i,"comment",e)),i+="```javascript".length,n=e.indexOf("```",i),n>=0?(t.push(new ie(i,n,"code",e)),n+="```".length):t.push(new ie(i,r,"comment",e));n>=0&&t.push(new ie(n,r,"comment",e));var a=[];t.forEach(function(e){var t=e.blockString().trim();t.length>0&&("comment"==e.blockType?(a.push("/***"),t.split("\n").filter(function(e){return e.trim().length>0}).forEach(function(e){return a.push(" * "+e.replace("**","").trim())}),a.push(" **/")):"code"==e.blockType&&t.split("\n").filter(function(e){return e.trim().length>0}).forEach(function(e){return a.push(e.trim())}))});var o=a.join("\n");this.content=o},e}(),ie=function(){function e(e,t,n,r){this.start=e,this.end=t,this.blockType=n,this.content=r}return e.prototype.blockString=function(){return this.content.substring(this.start,this.end)},e}();t.noteBookToRamlScript=i,t.getPDecl=a,t.getPcalls=o,t.createDependncies=s,t.noteBookToRamlScript2=c,t.loadAndWrapApi=p,t.loadApi=d,t.generateClient=h;var ae="deps",oe="typings";t.generateClient1=f,t.generateJavaClient1=y},function(e,t){e.exports=require("wrench")},function(e,t){var n,r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=function(){function e(){}return e.prototype.match=function(e){throw new Error},e.prototype.nodeType=function(){throw new Error},e.prototype.doMatch=function(e){return this.nodeType()==e.type?this.match(e):void 0},e}(),a=function(e){function t(t,n){e.call(this),this.calleeMatcher=t,this.tr=n}return r(t,e),t.prototype.match=function(e){return this.calleeMatcher.doMatch(e.callee)?this.tr(e):null},t.prototype.nodeType=function(){return"CallExpression"},t}(i),o=function(e){function t(t,n){e.call(this),this.expression=t,this.tr=n}return r(t,e),t.prototype.match=function(e){var t=this.expression.doMatch(e.expression);if(t){var n=this.tr(e.expression);return 1==n?t:n}return null},t.prototype.nodeType=function(){return"ExpressionStatement"},t}(i),s=function(e){function t(t,n,r){e.call(this),this.left=t,this.right=n,this.tr=r}return r(t,e),t.prototype.match=function(e){return this.left.doMatch(e.left)&&this.right.doMatch(e.right)?this.tr(e):null},t.prototype.nodeType=function(){return"AssignmentExpression"},t}(i),u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.match=function(e){return e},t.prototype.nodeType=function(){return"SequenceExpression"},t}(i),l=function(e){function t(t){e.call(this),this.val=t}return r(t,e),t.prototype.match=function(e){return e.name==this.val?!0:null},t.prototype.nodeType=function(){return"Identifier"},t}(i),c=function(e){function t(t,n,r){e.call(this),this.objectMatcher=t,this.propertyMatcher=n,this.tr=r}return r(t,e),t.prototype.match=function(e){return this.objectMatcher.doMatch(e.object)&&this.propertyMatcher.doMatch(e.property)?this.tr(e):null},t.prototype.nodeType=function(){return"MemberExpression"},t}(i),p=function(){function e(e){this.arguments=null,this.name=e}return e}(),d=function(){function e(){}return e.prototype.doMatch=function(e){return!0},e.prototype.nodeType=function(){return null},e}();!function(e){function t(e,t){return void 0===t&&(t=function(e){return!0}),new a(e,t)}function n(e){return new l(e)}function r(e,t,n){return void 0===n&&(n=function(e){return!0}),new c(e,t,n)}function i(e,t,r){return void 0===r&&(r=function(e){return!0}),new c(n(e),n(t),r)}function m(){return new d}function h(e,t){return void 0===t&&(t=function(e){return!0}),new o(e,t)}function f(e,t,n){return void 0===n&&(n=function(e){return!0}),new s(e,t,n)}function y(){return new u}function g(e,t){void 0===t&&(t=function(e){return!0});for(var r=e.split("."),i=null,o=0;o<r.length;o++){var s=r[o],u=s.indexOf("(*)"),l=!1;-1!=u&&(s=s.substr(0,u),l=!0),i=null==i?"*"==s?m():n(s):new c(i,"*"==s?m():n(s),t),l&&(i=new a(i,t))}return i}var v=function(){function e(e){this.isGeneralCall=!1,this.path=[],this.base=e}return e.prototype.toString=function(){return this.path.map(function(e){return e.name}).join(".")},e}();e.CallPath=v;var b=function(){function t(e){this.rootMatcher=e}return t.prototype.doMatch=function(t){if("CallExpression"==t.type){var n=t,r=this.doMatch(n.callee);if(r){if(r.path.length>0&&null==r.path[r.path.length-1].arguments)return r.path[r.path.length-1].arguments=n.arguments,r;if(0==r.path.length&&n.arguments.length>0&&"Literal"==n.arguments[0].type){var i=n.arguments[0],a=i.value;0==a.indexOf("/")&&(a=a.substring(1));var o=a.toString().split("/");return o.forEach(function(e){return r.path.push(new p(e))}),r.isGeneralCall=!0,r}return null}}else if("MemberExpression"==t.type){var s=t,u=this.doMatch(s.object);if(u)return"Identifier"==s.property.type?(u.path.push(new p(s.property.name)),u):"Literal"==s.property.type?(u.path.push(new p(s.property.value.toString())),u):null}else if("Identifier"==t.type){var l=t;if(this.rootMatcher.doMatch(l))return new e.CallPath(l.name)}return null},t.prototype.nodeType=function(){return null},t}();e.CallBaseMatcher=b,e.call=t,e.ident=n,e.member=r,e.memberFromString=i,e.anyNode=m,e.exprStmt=h,e.assign=f,e.sequence=y,e.memberFromExp=g}(n||(n={})),e.exports=n},function(e,t){e.exports=require("estraverse")},function(e,t){e.exports=require("escope")},function(e,t,n){function r(e,t,n,u){var l=n&&n.pathReplacements?n.pathReplacements:null,c=n&&n.contentReplacements?n.contentReplacements:null,p=n&&n.forceDelete;i.lstatSync(t).isDirectory()&&i.readdirSync(t).forEach(function(d){var m=o.resolve(t,d);if(!u||u(m)){var h=o.resolve(e,d);if(i.lstatSync(m).isDirectory())r(h,m,n);else{if(l&&(h=s.replaceMap(h,l)),!p&&i.existsSync(h))return;var f=i.readFileSync(m).toString();c&&(f=s.replaceMap(f,c)),a.sync(o.dirname(h)),i.writeFileSync(h,f)}}})}var i=n(4),a=n(136),o=n(10),s=n(60);t.copyDirSyncRecursive=r},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(4),a=n(10),o=n(173),s=n(60),u=n(136),l=function(){function e(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=3),this._name=e,this._path=t,this._depRoot=n,this.stepsToModulesDir=r}return e.prototype.name=function(){return this._name},e.prototype.isExternal=function(){return!1},e.prototype.dependencies=function(){return this.parseDepencencies()},e.prototype.parseDepencencies=function(){var e=this,t=this.content(),n=[];return t.forEach(function(t){var r=e.moduleFromLine(t);r&&n.push(r)}),n},e.prototype.moduleFromLine=function(t){var n=null,r=t.indexOf("require(");if(-1!=r){var i=t.substr(r+"require(".length+1),a=i.substr(0,i.indexOf(")")-1),o=this.resolve(a);n=o?new e(this.resolveName(a),o):new p(a)}return n},e.prototype.resolve=function(e){var t=this.depFolder(),n=a.resolve(t,e+".ts");return i.existsSync(n)?n:null},e.prototype.depFolder=function(){return null!=this._depRoot?this._depRoot:this.actualFolder()},e.prototype.actualFolder=function(){return a.dirname(this._path)},e.prototype.resolveName=function(e){var t=e.lastIndexOf("/");return-1!=t?e.substr(t+1):e},e.prototype.rewrittenContent=function(){var t=this,n=this.content(),r=[];return n.forEach(function(n){var i=n.indexOf("require(");if(-1!=i){var o=n.substr(0,i),s=t.moduleFromLine(n),u=n.indexOf(")",i)+1;if(s.isExternal())r.push(n);else{var l=o+"require('"+t.depPath()+s.name()+"')"+n.substring(u).trim();r.push(l)}}else-1!=n.indexOf('/// <reference path="')?e.requiredTypings.forEach(function(e){return r.push('/// <reference path="'+t.depPath()+"typings/"+a.basename(e)+'" />')}):r.push(n)}),r.join("\n")},e.prototype.depPath=function(){return"./deps/"},e.prototype.rewrite=function(e){void 0===e&&(e={});var t=this._path;if(!e[t]){e[t]=!0;var n=this.createDepFolder();this.dependencies().forEach(function(t){if(!t.isExternal()){var r=n+"/"+t.name()+".ts";i.writeFileSync(r,t.content().join("\n"));var a=t.actualFolder();new c(t.name(),r,a).rewrite(e)}})}i.writeFileSync(this._path,this.rewrittenContent())},e.prototype.createDepFolder=function(){var e=this.actualFolder()+"/deps";try{u.sync(e+"/typings/");var t=a.resolve(__dirname,"../../typings"),n=a.resolve(e,"typings");this.copyContent(t,n);for(var r=a.resolve(n,"tsd.d.ts"),o=i.readFileSync(r).toString(),s="",l=0;l++<this.stepsToModulesDir;s+="../");o=o.replace(new RegExp("\\.\\./","g"),s),i.writeFileSync(r,o)}catch(c){console.log(c)}return e},e.prototype.copyContent=function(e,t){o.copyDirSyncRecursive(e,t,{forceDelete:!0})},e.prototype.content=function(){return i.readFileSync(this._path).toString().split("\n")},e.requiredTypings=["tsd.d.ts"],e}(),c=function(e){function t(t,n,r){e.call(this,t,n,r)}return r(t,e),t.prototype.depPath=function(){return"./"},t.prototype.createDepFolder=function(){return this.actualFolder()},t}(l),p=function(){function e(e){this._name=e}return e.prototype.actualFolder=function(){throw new Error("Unsupported operation exception")},e.prototype.name=function(){return this._name},e.prototype.isExternal=function(){return!0},e.prototype.content=function(){throw new Error("Unsupported operation exception")},e.prototype.dependencies=function(){return[]},e}(),d=function(){function e(e,t,n){void 0===e&&(e=__dirname),void 0===t&&(t=!1),void 0===n&&(n=3),this._rootPath=e,this.patchExternalOnly=t,this.stepsToModulesDir=n,this.modules={},this.matchRules=[new f(new g,!0,["ts","json"]),new f(new v,!0),new f(new b,!1)]}return e.prototype.updateDeps=function(e){new l("dependencyManager",e,this._rootPath,this.stepsToModulesDir).rewrite()},e.prototype.transportDependencies=function(e,t,n,r){this.patchDeps(e,t,this._rootPath,n,r,!0);var s=a.resolve(t,"typings"),l=a.resolve(a.resolve(n,r),"typings");u.sync(l),o.copyDirSyncRecursive(s,l,{forceDelete:!0});for(var c=a.resolve(l,"tsd.d.ts"),p=i.readFileSync(c).toString(),d="",m=0;m++<this.stepsToModulesDir;d+="../");p=p.replace(/(\.\.\/)+/,d),i.writeFileSync(c,p)},e.prototype.patchDeps=function(e,t,n,r,o,s,u){var l=this;void 0===u&&(u={});var c=this.getDependencies(e,n);if(c.forEach(function(e){e.srcProjectRoot=t,e.dstProjectRoot=r,e.dstDepsFolder=o}),s){var p=i.readFileSync(e).toString(),d=0,m="";c.filter(function(e){return!(l.patchExternalOnly&&e.isInternal())}).forEach(function(e){m+=p.substring(d,e.start),m+=e.replacement(),d=e.end}),m+=p.substring(d,p.length),i.writeFileSync(e,m)}c.filter(function(e){return e.matchRule.isRecursive()&&!u[e.getAbsoluteDestinationPath()]}).forEach(function(e){e.copySync(),u[e.getAbsoluteDestinationPath()]=!0,l.patchDeps(e.absPath,t,a.dirname(e.absPath),r,o,!1,u)})},e.prototype.getDependencies=function(e,t){var n=this,r=i.readFileSync(e).toString(),o=[];return this.matchRules.forEach(function(e){return e.matcher().match(r).forEach(function(u){if(!(u.end<=u.start)){var l=r.substring(u.start,u.end).trim();if(!s.stringStartsWith(l,"."))return void(n.modules[l]=!0);var c=a.resolve(t,l),p=!1;e.extensions().forEach(function(t){t=s.stringStartsWith(t,".")||0==t.length?t:"."+t;var n=c+t;i.existsSync(n)&&(o.push(new m(l,u.start,u.end,e,n)),p=!0)}),p||(n.modules[l]=!0)}})}),o.sort(function(e,t){return e.start-t.start})},e}();t.DependencyManager=d;var m=function(){function e(e,t,n,r,i){this.path=e,this.start=t,this.end=n,this.matchRule=r,this.absPath=i}return e.prototype.isInternal=function(){return s.stringStartsWith(this.path,"./")},e.prototype.patch=function(e){var t=this.replacement(),n=e.substring(0,this.start)+t+e.substr(this.end);return n},e.prototype.replacement=function(){var e=this.getAbsoluteDestinationPath(),t=e.substring(this.dstProjectRoot.length);t=t.replace(/\\/g,"/"),"/"!=t.charAt(0)&&(t="/"+t),t="."+t;var n=t,r=n.lastIndexOf("."),i=0>r?"":n.substring(r+1);return r=0>r?n.length:r,this.matchRule.extensions().indexOf(i)>=0&&(n=n.substring(0,r)),n},e.prototype.copySync=function(){var e=this.getAbsoluteDestinationPath(),t=i.readFileSync(this.absPath).toString();if(u.sync(a.dirname(e)),i.writeFileSync(e,t),s.stringEndsWith(e,".ts")){var n=e.substring(0,e.length-".ts".length)+".js";i.existsSync(n)&&i.unlinkSync(n)}},e.prototype.getAbsoluteDestinationPath=function(){var e=a.relative(this.srcProjectRoot,this.absPath),t=a.resolve(this.dstProjectRoot,this.dstDepsFolder),n=a.resolve(t,e);return n},e}(),h=function(){function e(e,t){this.start=e,this.end=t}return e}(),f=function(){function e(e,t,n){void 0===n&&(n=[""]),this._matcher=e,this._isRecursive=t,this._extensions=n}return e.prototype.matcher=function(){return this._matcher},e.prototype.isRecursive=function(){return this._isRecursive},e.prototype.extensions=function(){return this._extensions},e}(),y=function(){function e(e,t){this.startSeq=e,this.endSeq=t}return e.prototype.match=function(e){for(var t=[],n=0,r=this.nextMatch(e,n);r;)t.push(r),n=r.end,r=this.nextMatch(e,n);return t},e.prototype.nextMatch=function(e,t){var n=this.matchStringSequence(e,this.startSeq,t);if(!n)return null;var r=this.matchStringSequence(e,this.endSeq,n.end);if(!r)return null;var i=e.substring(n.end,r.start).trim(),a=e.indexOf(i,n.end),o=a+i.length;return new h(a+1,o-1)},e.prototype.matchStringSequence=function(e,t,n){for(var r=-1,i=-1,a=0;a<t.length;a++){var o=t[a],s=e.indexOf(o,n);if(0>s){n=-1;break}a>0&&e.substring(n,s).trim().length>0?a=-1:(0==a&&(r=s),n=s+o.length)}return 0>n?null:(i=n,new h(r,i))},e}(),g=function(e){function t(){e.call(this,["require","("],[")"])}return r(t,e),t}(y),v=function(e){function t(){e.call(this,["require.resolve","("],[")"])}return r(t,e),t}(y),b=function(e){function t(){e.call(this,["///","<","reference","path","="],["/",">"])}return r(t,e),t}(y)},function(e,t){e.exports=require("raml-parser")},function(e,t,n){var r=n(127),i=n(110),a=n(61),o=n(174),s=n(126),u=n(175),l=n(16),c=o.exprStmt(o.assign(o.anyNode(),o.anyNode()),function(e){return e}),p=function(){function e(){this.segments=[],this.method=null,this.mediaTypeExtensionValue=null}return e.prototype.methods=function(){return this.segments[this.segments.length-1].methods()},e}(),d=(function(){function e(){}return e}(),function(){function e(e){this.infos={},this.calls=[],this.callOccurences=[],this.callMap={},this.num=10,this.notebook=e}return e.prototype.findResource=function(e,t,n){var r=t,a=l.find(n.resources(),function(n){return i.escapedName(n.relativeUri())==i.escapedName(e.path[t].name)});if(!a)for(var o=t+2;o<e.path.length;o++){var s=e.path.slice(t,o).map(function(e){return e.name}).join("_");if(a=l.find(n.resources(),function(e){return i.escapedName(e.relativeUri())==i.escapedName(s)}),r++,a)break}if(a){var u,c=l.find(a.uriParameters(),function(e){return"mediaTypeExtension"==e.name()});if(c){var d=r,m=c.definitions();m.forEach(function(t){var n=t["enum"]();if(n.isDefined()){var i=n.getOrThrow().map(function(e){var t=e.toString().toLowerCase();return t.length>0&&"."==t.charAt(0)&&(t=t.substring(1)),t}),a=e.path[r+1].name;l.find(i,function(e){return e==a.toLowerCase()})&&(u="."+a,r=d+1)}else r=d+1})}var h=null;return r<e.path.length-2?h=this.findResource(e,r+1,a):(h=new p,u&&(h.mediaTypeExtensionValue=u)),h&&h.segments.push(a),h}return null},e.prototype.findCallInfo=function(e){var t=this.infos[e.__$CALL_INDEX];return t},e.prototype.findReplacementCallNode=function(e,t){var n=e.__$CALL_INDEX;if(n){var r=this.infos[n];if(r){delete e.__$CALL_INDEX;var i=r.toCall(t);return this.callOccurences.push(r),i.__$REFINED_CALL_INDEX=this.callOccurences.length,new a(i)}return a.empty()}return a.empty()},e.prototype.markCallResult=function(e,t){if("Identifier"==e.type){var n=this.callMap[e.name];n&&(e.__$REFINED_CALL_INDEX=n)}else{var n=e.__$REFINED_CALL_INDEX;if(n){var r,i=c.doMatch(t);i&&"="==i.operator&&"Identifier"==i.left.type?r=i.left:"VariableDeclarator"==t.type&&(r=t.id),r&&(r.__$REFINED_CALL_INDEX=n,this.callMap[r.name]=n)}}},e.prototype.getMethodCall=function(e){var t=e.__$REFINED_CALL_INDEX;return t?new a(this.callOccurences[t-1]):a.empty()},e.prototype.findMethod=function(e,t){var n=this.findResource(e,0,t);if(n||console.log("Resource not found "+e.toString()),n){n.segments=n.segments.reverse();var r=l.find(n.methods(),function(t){return t.method()==e.path[e.path.length-1].name});return r?(n.method=r,n):null}return null},e.prototype.gatherCallsInfo=function(t,n){var a=this,l=this,c={enter:function(t,c){var p=o.ident("client"),d=new o.CallBaseMatcher(p);if("CallExpression"==t.type){var m=a.num;t.__$CALL_INDEX=m,a.num++;var h=t,f=d.doMatch(h);if(f){var y=f;try{var g=l.notebook.apiInformation.apis[y.base];h.arguments.forEach(function(e){
return u.traverse(e,a)});var v=a.findMethod(y,g);if(v){for(var b=0,S=[],w=0;w<v.segments.length;w++){var P=v.segments[w].relativeUri().substr(1).split("/"),M=[];if(f.isGeneralCall){var T=h.callee.object.arguments;if(T.length>1){var E=T[1],A=v.segments[w].uriParameters();E&&A&&A.forEach(function(e){var t=E.properties.filter(function(t){return t.key.name==e.name()});t.length>0&&(M=M.concat(t[0].value))})}}else for(var C=0;C<P.length;C++){var N=y.path[b+C].arguments;N&&(N=N.filter(function(e){return null!=e}),M=M.concat(N))}var I=v.method.resource().uriParameters();I=I.filter(function(e){return i.emitParameter(n,e)});for(var _=M.length;_<I.length;_++)"mediaTypeExtension"==I[_].name()&&v.mediaTypeExtensionValue?M.push(r.literal(v.mediaTypeExtensionValue)):M.push(r.literal(""));S.push(M),b+=P.length}var x=e.initParams(y.path[y.path.length-1].arguments,v.method),R=new s.HTTPCallOccurence(y.base,v.method,v.segments,S,x.body,x.params);return a.infos[m]=R,u.VisitorOption.Skip}console.log("HTTP Method not found:"+y.toString())}catch(O){console.log(O.stack)}}}}};u.traverse(t,c)},e.initParams=function(e,t){var n="post"==t.method()||"put"==t.method();n=n||t.bodies().filter(function(e){var t=e.mediaType();return t&&t.indexOf("json")>=0}).length>0;var i=t.bodies().filter(function(e){return"application/x-www-form-urlencoded"==e.mediaType()||"multipart/form-data"==e.mediaType()}).length>0,a=r.object(),o=null;if(i){var s=e[0];s&&s.properties.forEach(function(e){var t=r.remapProperty("form_",e);a.properties.push(t)})}else if(n)o=e[0];else{var s=e[0];s&&s.properties.forEach(function(e){var t=r.remapProperty("",e);a.properties.push(t)})}if(e.length>1){var u=e[e.length-1];if("ObjectExpression"==u.type){var s=u;s.properties&&s.properties.forEach(function(t){if("Identifier"==t.key.type){var n=t.key;if("query"==n.name){e[1]=t.value;var i=t.value;i.properties&&i.properties.forEach(function(e){var t=r.remapProperty("",e);a.properties.push(t)})}if("headers"==n.name){var o=t.value;o.properties&&o.properties.forEach(function(e){var t=r.remapProperty("header_",e);a.properties.push(t)})}}})}}return{params:a,body:o}},e}());t.HTTPCallInformationFinder=d},function(e,t){e.exports=require("typescript-compiler")},function(e,t,n){function r(e,t){return new _(t).buildConversion()(e)}function i(e,t,n){var r=new k(e,t).buildConversion()(n),r="export function createApi("+o(e)+"):Api{\n    return new ApiImpl("+s(e)+");\n}\n"+r+"\n";return r}function a(e,t){void 0===t&&(t=new M);var n=r(e,t),a=i(e,t,n);return a}function o(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name()+":string")}),t.join(",")}function s(e){var t=[];return e.baseUriParameters().forEach(function(e){"version"!=e.name()&&t.push(e.name())}),t.join(",")}function u(e){var t=e&&e.value()?e.value().match(/[^\r\n]+/g):[""];if(!t)return"";var n="";return t.forEach(function(e){return n+=" "+e}),n}function l(e){return e?(e=0==e.indexOf("/")?e.substring(1):e,e=e.replace(/[\{\}]/g,""),e=h.escapeToIdentifier(e),e=e.replace(t.MEDIA_TYPE_SUFFIX,""),e=e.replace(t.MEDIA_TYPE_EXTENSION,"")):e}function c(e,n){return e.collapseMediaTypes?n.name()!=t.MEDIA_TYPE_SUFFIX&&n.name()!=t.MEDIA_TYPE_EXTENSION:!0}function p(e){var t={imports:"",register:""},n=[],r=e.securitySchemes();return r&&r.forEach(function(e,t){!e.settings()}),t.register="["+n.join(",")+"]",t}function d(){return"/// <reference path=\"./typings/tsd.d.ts\" />\nvar apiEncoded = require('../apiEncoded.json')\n\nexport function api():string{\n    return JSON.stringify(apiEncoded);\n}\n    "}var m=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},h=n(111),f=n(60),y=n(13),g=n(92),v=n(15),b=n(113),S=n(115),w=n(116),P=n(183);t.MODEL_CLASS_RESOURCE_MAPPED_API_ELEMENT="$resource-mapped-api-element",t.MODEL_CLASS_FULLY_MAPPED_API_ELEMENT="$fully-mapped-api-element",t.MODEL_CLASS_RESOURCE_MAPPED_REFERENCE="$resource-mapped-reference",t.MODEL_CLASS_RESOURCE_MAPPED_INTERFACE="$resource-mapped-interface";var M=function(){function e(){this.numberIsString=!0,this.createTypesForResources=!0,this.queryParametersSecond=!0,this.collapseGet=!1,this.collapseOneMethod=!1,this.collapseMediaTypes=!1,this.methodNamesAsPrefixes=!1,this.storeHarEntry=!0,this.createTypesForParameters=!0,this.reuseTypeForParameters=!0,this.createTypesForSchemaElements=!0,this.reuseTypesForSchemaElements=!0,this.throwExceptionOnIncorrectStatus=!1,this.async=!1,this.debugOptions={generateImplementation:!0,generateSchemas:!0,generateInterface:!0,schemaNameFilter:function(e){return!0},resourcePathFilter:null},this.overwriteModules=!0}return e}();t.Config=M,t.HAR_ENTRY_FIELD_NAME="__$harEntry__",t.MEDIA_TYPE_SUFFIX="mediaTypeSuffix",t.MEDIA_TYPE_EXTENSION="mediaTypeExtension",t.createApiModule=r,t.serializeModuleToTS=i,t.raml2ts=a,t.toComment=u;var T=function(e){function n(t,n,r){e.call(this,t,n),this.originalResource=r}return m(n,e),n.prototype.absolutePath=function(){return g.completeRelativeUri(this.originalResource)},n.prototype.commentCode=function(){return"\n        /**\n         * "+u(this.originalResource.description())+"\n         * @ramlpath "+this.absolutePath()+"\n         **/\n\n\n         "},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_API_ELEMENT},n}(b.TSAPIElementDeclaration);t.TSResourceMappedApiElement=T;var E=function(e){function n(t,n,r){e.call(this,t,n,g.parentResource(r)),this.originalMethod=r}return m(n,e),n.prototype.commentCode=function(){return"\n        /**\n         * "+u(this.originalMethod.description())+"\n         * @ramlpath "+this.absolutePath()+"  "+this.originalMethod.method()+"\n         **/\n         "},n.prototype.modelClass=function(){return t.MODEL_CLASS_FULLY_MAPPED_API_ELEMENT},n}(T);t.TSFullyMappedApiElement=E,t.escapedName=l;var A=function(e){function t(t,n){e.call(this,t,n.module,n.cfg),this.owner=n}return m(t,e),t.prototype.createTypeDeclaration=function(e){for(var t=f.firstToUpper(l(this.name))+f.firstToUpper(l(e.name)),n=t,r=0;this.module.getInterface(n).isDefined();)r++,n=t+r;return new b.TSInterface(this.module,n)},t.prototype.replace=function(t){return this.owner.cfg.reuseTypesForSchemaElements?this.owner.collapseToTypeAliasOrAdd(t):this.module.addChild(t),e.prototype.replace.call(this,t)},t}(S.JSONSchematToTS);t.CollapsingJSONToTSConvertor=A;var C=function(e){function n(t,n){e.call(this,t,n.name),this._resourceInterface=n}return m(n,e),n.prototype.resourceInterface=function(){return this._resourceInterface},n.prototype.isFunctor=function(){return this._resourceInterface.isFunctor()},n.prototype.getFunctor=function(){return this._resourceInterface.getFunctor()},n.prototype.children=function(){return this._resourceInterface.children()},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_REFERENCE},n}(b.TSSimpleTypeReference);t.ResourceMappedReference=C;var N=function(e){function t(){e.apply(this,arguments)}return m(t,e),t}(b.TSInterface);t.OptionsInterface=N;var I=function(e){function n(t,n,r){e.call(this,t,n),this._resource=r}return m(n,e),n.prototype.resource=function(){return this._resource},n.prototype.toReference=function(){return new C(b.Universe,this)},n.prototype.modelClass=function(){return t.MODEL_CLASS_RESOURCE_MAPPED_INTERFACE},n}(b.TSInterface);t.ResourceMappedInterface=I,t.emitParameter=c;var _=function(){function e(e){var t=this;this.inlinable=function(e,t){return 1===e.methods().length},this.schemas=[],this.schemaContentToSchema={},this.schemaNameToSchema={},this.typeHashToType={},this.num=0,this.bodyKeys={xml:"xml",json:"json","form-data":"form","form-urlencoded":"form"},this.raml2TSModel=function(e){t.api=e;var n=new b.TSAPIModule(b.Universe,t.cfg);if(t.module=n,t.cfg.debugOptions.generateSchemas){var r=e.schemas();t.cfg.debugOptions.schemaNameFilter&&(r=r.filter(function(e){return t.cfg.debugOptions.schemaNameFilter(e.key())})),r.forEach(function(e){try{var n=t.cfg.createTypesForSchemaElements?new A(e.key(),t):new S.JSONSchematToTS(e.key(),t.module),r=n.parse(e.value().value());t.addSchema(r,e.key(),e.value().value())}catch(i){}})}var i=b.Universe.getConfig();if(b.Universe.setConfig(t.cfg),t.cfg.debugOptions.generateInterface){var a=new b.TSInterface(n,"Api");t.processChildResources(a,e)}return b.Universe.setConfig(i),n},this.typesMap={integer:"number",string:"string","boolean":"boolean",number:"number",file:"string",date:"string"},this.cfg=e}return e.prototype.processResource=function(e,n,r){var i=this,a=g.uriParameters(n).filter(function(e){return i.collapse(e)}).map(function(e){var n,r=e.name();if(r==t.MEDIA_TYPE_SUFFIX||r==t.MEDIA_TYPE_EXTENSION){var a,o={};e instanceof y.StrElementImpl&&(a=e["enum"]()),a.forEach(function(e){e.toLowerCase().indexOf("json")>=0?o.json=e:e.toLowerCase().indexOf("xml")>=0?o.xml=e:o["default"]=e}),["default","xml","json"].forEach(function(e){o[e]&&(n=o[e])})}return new b.Param(u,e.name(),0,i.getParamType(e),n)}),o=!0;if(this.cfg.methodNamesAsPrefixes&&(n.methods().sort(this.methodComparator).forEach(function(t){return i.customizeMethod(e,t,!1,a)}),o=n.resources().length>0),o){if(!r){var s=n.relativeUri().value();if(1==s.length)r=e;else{var u=new T(e,l(s),n);r=this.createResourceType(u),u.rangeType=r.toReference(),u.parameters=a}}this.processChildResources(r,n)}return!this.cfg.methodNamesAsPrefixes&&r&&n.methods().sort(this.methodComparator).forEach(function(e){return i.customizeMethod(r,e,i.inlinable(n,r))}),r},e.prototype.methodComparator=function(e,t){var n={options:1,"delete":2,patch:3,put:4,post:5,get:6},r=n[e.method()],i=n[t.method()];return r=r?r:0,i=i?i:0,i-r},e.prototype.processChildResources=function(e,n){var r=this,i={};n.resources().forEach(function(e){var n=e.relativeUri().value(),r=n.replace("{"+t.MEDIA_TYPE_EXTENSION+"}","").replace("{"+t.MEDIA_TYPE_SUFFIX+"}",""),a=i[r];a||(a=[],i[r]=a),n!=r?i[r]=[e].concat(a):a.push(e)}),Object.keys(i).forEach(function(t){for(var n=i[t],a=r.processResource(e,n[0]),o=1;o<n.length;o++)r.processResource(e,n[o],a)})},e.prototype.createResourceType=function(e){if(this.cfg.createTypesForResources){var t=e.name;t||(t="Unknown");for(var n=f.firstToUpper(t)+"Resource",r=n,i=0;this.module.getInterface(r).isDefined();)i++,r=n+i;return new I(this.module,r,e)}return new b.TSStructuralTypeReference(e)},e.prototype.collapse=function(e){return c(this.cfg,e)},e.prototype.convertTypeName=function(e){return"integer"==e?"number;":this.cfg.numberIsString&&"string"==e?"string|number|boolean;":e},e.prototype.addSchema=function(e,t,n){this.schemas.push(e),this.schemaContentToSchema[n]=e,this.schemaNameToSchema[t]=e},e.prototype.createSchema=function(e,t,n,r){if(void 0===r&&(r=!1),!e||!t)return null;try{if(this.cfg.debugOptions.schemaNameFilter&&!this.cfg.debugOptions.schemaNameFilter(t))return new b.TSInterface(b.Universe,"Dummy").toReference();var i,a=l(e);return n.indexOf("json")>=0?i=new S.JSONSchematToTS(a,this.module,this.cfg).parse(t,r):n.indexOf("xml")>=0&&(i=new w.XMLSchematToTS(a,this.module,this.cfg).parse(t,r)),this.addSchema(i,e,t),i}catch(o){return console.log(o.stack),null}},e.prototype.schemes2ts=function(e,t,n,r){var i=this,a={},o={};Object.keys(this.bodyKeys).forEach(function(e){a[i.bodyKeys[e]]=[],o[i.bodyKeys[e]]=[]});var s=this.api.mediaType()?this.api.mediaType().value():null;e.forEach(function(t){var n=t.name();!n&&s&&1==e.length&&(n=s),n&&Object.keys(i.bodyKeys).filter(function(e){return n.indexOf(e)>=0}).forEach(function(e){var n=i.bodyKeys[e],r=g.schema(t,i.api);r.isDefined()&&r.getOrThrow().content()?o[n].push(r.getOrThrow()):a[n].push(t)})});var u=new b.AnyType;return o.json.forEach(function(e){var n=i.schema2ts(e,"json",t);n&&(u=u.union(n))}),this.cfg&&this.cfg.collapseMediaTypes?u:(o.xml.forEach(function(e){var n=i.schema2ts(e,"xml",t);n&&(u=u.union(n))}),Object.keys(a).forEach(function(e){return a[e].forEach(function(a){var o=i.defaultTypeName(n,e,r),s=i.type2ts(a,t,o);null!=s&&(u=u.union(s))})}),u)},e.prototype.type2ts=function(e,t,n){var r=e.highLevel().definition().toRuntime();if(!r)return null;var i=0;if(e.name()!=r.name())return this.nodeClass2ts(r,a);for(var a=n;this.module.getInterface(a).isDefined();)a=n+ ++i;return this.nodeClass2ts(r,a)},e.prototype.nodeClass2ts=function(e,t){var n=this,r=new b.TSInterface(this.module,t?t:e.name());return e.properties().forEach(function(e){for(var t=e.name(),i=e.isRequired(),a=e.range(),o=0;a instanceof v.Array;)a=a.component,o++;var s;if(a.isValueType()){var u=a,l=u.getNameAtRuntime()?u.getNameAtRuntime():a.name();s=new b.TSSimpleTypeReference(b.Universe,l)}else s=n.nodeClass2ts(a);for(;o>0;)s=new b.TSArrayReference(s),o--;var c=new b.TSAPIElementDeclaration(r,t);c.optional=!i,c.rangeType=s}),r.toReference()},e.prototype.schema2ts=function(e,t,n){return void 0===n&&(n=!1),this.schemaNameToSchema[e.name()]||this.schemaContentToSchema[e.content()]||this.createSchema(e.name(),e.content(),t,n)},e.prototype.customizeMethod=function(e,t,n,r){var i=l(t.method());this.cfg.methodNamesAsPrefixes?i+=f.firstToUpper(l(g.parentResource(t).relativeUri().value())):("get"===t.method()&&this.cfg.collapseGet||n&&this.cfg.collapseOneMethod)&&(i="");var a=new E(e,i,t),o=t.queryParameters(),s=t.headers();if(o.length>0||s.length>0){var u=new b.TSStructuralTypeReference(a);if(this.cfg.createTypesForParameters)if(e.parent()instanceof T){var c=f.firstToUpper(e.parent().name)+f.firstToUpper(a.name)+"Options";u=new N(this.module,c)}else{var c=f.firstToUpper(e.name)+f.firstToUpper(a.name)+"Options";u=new N(this.module,c)}this.processParameters(u,o,""),this.processParameters(u,s,"header_"),this.cfg.reuseTypeForParameters&&this.collapseToTypeAliasOrAdd(u);var p=new b.Param(a,"options",2,u.toReference());p.optional=u.canBeOmmited(),a.parameters.push(p)}var d=[];t.responses().filter(function(e){return g.isOkRange(e)&&null!=e.body()}).forEach(function(e){return d=d.concat(e.body())});var m=this.schemes2ts(d,!0,t,"response"),h=new b.AnyType;if(t.body()&&(h=this.schemes2ts(t.body(),!1,t,"body")),h instanceof b.AnyType||a.parameters.push(new b.Param(a,"payload",1,h)),this.cfg.queryParametersSecond&&(a.parameters=a.parameters.reverse()),r&&(a.parameters=r.concat(a.parameters)),this.cfg.async){var y=new b.TSSimpleTypeReference(a,"Promise");y.typeParameters=[m],a.rangeType=y}else a.rangeType=m;new P.AnnotationProcessor(a,e).processAnnotations()},e.prototype.defaultTypeName=function(e,t,n){var r=g.parentResource(e),i=f.firstToUpper(e.method().toLowerCase())+r.relativeUri().value().split("/").map(function(e){return f.firstToUpper(h.escapeToIdentifier(e.toLowerCase()))}).join("")+f.firstToUpper(t.toLowerCase())+f.firstToUpper(n.toLowerCase());return i},e.prototype.generateFormSchema=function(e,t){for(var n="",r=g.completeRelativeUri(g.parentResource(t)).split("/"),i=r.length-1;i>=0;i--){var a=r[i];if(0!=a.trim().length){var o=a.indexOf("{");if(0!=o){0>o&&(o=a.length),n=a.substring(0,o);break}}}for(var s=f.firstToUpper(l(n))+f.firstToUpper(t.method())+"Form",u=s,i=1;this.module.getInterface(u).isDefined();)u=s+i++;var c=new b.TSInterface(this.module,u);return c.toReference()},e.prototype.collapseToTypeAliasOrAdd=function(e){var t=e.hash(),n=e,r=this.typeHashToType[t];if(r){for(var i=n.name,a=i,o=0;this.module.getInterface(a).isDefined();)o++,a=i+o;new b.TSTypeAssertion(this.module,a,r.toReference())}else this.typeHashToType[t]=n,this.module.addChild(n)},e.prototype.processParameters=function(e,t,n){var r=this;t.forEach(function(t){var i=new b.TSAPIElementDeclaration(e,n+t.name());i.rangeType=r.getParamType(t,i),i.optional=!t.required()})},e.prototype.buildConversion=function(){return this.raml2TSModel},e.prototype.getParamType=function(e,t){void 0===t&&(t=b.Universe);var n=e.type();if(0==n.length){var r=h.ramlType2TSType("string");return new b.TSSimpleTypeReference(t,r)}var i=new b.AnyType;return n.forEach(function(e){var n=h.ramlType2TSType(e),r=new b.TSSimpleTypeReference(t,n);i=i.union(r)}),i},e.prototype.mapRamlType=function(e){var t=this.typesMap[e];return t||(t="string"),t},e}();t.ShortStyleModelBuilder=_;var x=function(){function e(){this.strings=[]}return e.prototype.append=function(e){this.strings.push(e)},e.prototype.getResult=function(){return this.strings.join("")},e}(),R=function(){function e(e,t){this._api=e,this.generatedDeclarations=[],this.generatedCode=[],this.isInP=!1,this.level=0,this.isInPatch=!1,this.isInFunct=!1,this.isInFunction=!1,this.cfg=t}return e.prototype.betweenElements=function(){this.level>1&&this.generatedCode.push(",\n")},e.prototype.getResult=function(){return this.generatedCode.join("")},e.prototype.startTypeDeclaration=function(e){var t=this;return this.generatedCode.push("\n{\n"),this.isInP=this.isInPatch,this.isInPatch=!1,0==this.level&&(this.generateDeclarations(),this.level++,e.children().forEach(function(e){return t.writePatchPart(e,"(<any>this)",!1)}),this.generatedCode.push("}\n"),this.level--),this.level++,!0},e.prototype.genInvoke=function(){p(this._api)},e.prototype.generateConstructorParameters=function(){return"op:any={}"},e.prototype.generateOpAssignment=function(){return"this.options=op;"},e.prototype.generateDeclarations=function(){this.generatedCode.push("\n            private inv:invoker\n            private options:any\n            "+this.genInvoke()+"\n            constructor("+this.generateConstructorParameters()+"inv:invoker=null/*fixme*/){\n\n            "+this.generateOpAssignment()+"\n            ")},e.prototype.endTypeDeclaration=function(e){this.generatedCode.push("\n /* type ending */ }\n"),this.level--,this.isInPatch=this.isInP},e.prototype.startVisitElement=function(e){if(this.isInPatch||this.generatedCode.push(""+(e.isPrivate?"private ":"")+e.name),null!=e.rangeType&&e.rangeType.isFunctor())return this.generateFunctionInline(e),!1;var t=e.rangeType;if(t&&t.array()&&(t=t.componentType),e.isFunction())if(this.isInPatch||this.isInFunction||this.generatedCode.push(this.level>1?":":this.isInFunct?":any =":"="),this.generatedCode.push(e.paramStr(!0)),this.generatedCode.push("=>{\n"),e.isInterfaceMethodWithBody())this.generatedCode.push(e.body());else{if(this.generatedCode.push("var res=<any> \n"),!t)throw new Error("Range type is not defined");(t instanceof b.TSSimpleTypeReference||t instanceof b.TSUnionTypeReference)&&(t instanceof C?this.subResourceProxyCreation(e,e.rangeType):this.generateCall(e))}else if(t instanceof C){var n=t;if(n.resourceInterface().isFunctor()){var r=this.isInFunct;this.isInFunct=!0;var i=n.resourceInterface().getFunctor();return i.visit(this),this.isInFunct=r,!1}this.isInPatch||this.generatedCode.push("="),this.subResourceProxyCreation(e,n)}else this.generatedCode.push(":"+e.rangeType.serializeToString()+"\n                ");return!0},e.prototype.subResourceProxyCreation=function(e,t){var n=this,r=t.resourceInterface().resource().originalResource.relativeUri().value();this.generatedCode.push("new "+t.name+"Impl("),this.generatedCode.push(g.baseUriParameters(this._api).map(function(e){return"this."+e.name()+", "}).join("")),e.parameters.forEach(function(e){return n.generatedCode.push(e.name+", ")}),this.generatedCode.push("this,this.canonicPath.concat('"+r+"'))\n");var i=null;this.genSubResource(e,i,t)},e.prototype.genSubResource=function(e,t,n){var r=new L(e,t,this.cfg,this._api);n.resourceInterface&&n.resourceInterface().visit(r),this.generatedDeclarations=this.generatedDeclarations.concat(r.generatedDeclarations),this.generatedDeclarations.push("class "+n.name+"Impl\n"+r.getResult())},e.prototype.generateFunctionInline=function(e){var t=this.isInFunct,n=this.isInFunction;this.isInFunct=!0,e.isFunction()&&(this.generatedCode.push(e.paramStr()+":any"+(this.isInPatch?"=>":"")+"{\n"),this.generatedCode.push("var result:any= "),this.isInFunction=!0);var r=e.rangeType.getFunctor();null!=r?r.visit(this):this.generatedCode.push("{}\n"),e.isFunction()&&(this.writePatchPart(e,"result",!0),this.generatedCode.push("return result\n"),this.generatedCode.push("}\n")),this.isInFunct=t,this.isInFunction=n},e.prototype.generateCall=function(e){if(!(e instanceof E))throw new Error("Should never happen");var n=e,r=g.absoluteUri(n.originalResource);this.cfg.collapseMediaTypes&&(r=r.replace("{"+t.MEDIA_TYPE_SUFFIX+"}","JSON"),r=r.replace("{"+t.MEDIA_TYPE_EXTENSION+"}",".json"));var i=this.urlTemplate(r,e);this.generatedCode.push("this.invoke("+i+",'"+n.originalMethod.method()+"',this.canonicPath,{\n"),this.generatedCode.push(n.parameters.filter(function(e){return!e.isEmpty()}).map(function(e){return'"'+e.name+'":'+e.name+"\n"}).join(", ")),this.generatedCode.push("});\n")},e.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&g.baseUriParameters(this._api).forEach(function(e){n[e.name()]=!0});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},e.prototype.writePatch=function(e,t){var n=this;e.rangeType&&e.rangeType.children().forEach(function(e){null!=e.rangeType&&e.rangeType.isFunctor()&&e.rangeType.children().forEach(function(r){if(!r.isAnonymousFunction()){var i=t+"."+e.name+"."+r.name;n.generatedCode.push(i+"="),n.writePatchDetails(r),n.writePatchPart(r,i,!1)}})})},e.prototype.writePatchDetails=function(e){var t=this.isInPatch;this.isInPatch=!0,e.visit(this),this.isInPatch=t,this.generatedCode.push(";\n")},e.prototype.writePatchPart=function(e,t,n){var r=this;null==e.rangeType||!e.rangeType.isFunctor()||e.isFunction()&&!n||e.rangeType.children().forEach(function(i){if(!i.isAnonymousFunction()){var a=t+"."+(n?"":e.name+".")+i.name;r.generatedCode.push(a+"="),r.writePatchDetails(i)}})},e.prototype.endVisitElement=function(e){e.isFunction()&&(this.writePatch(e,"res"),e.isInterfaceMethodWithBody()||this.generatedCode.push("return res;"),this.generatedCode.push("/*d*"+e.name+"*/}"),this.generatedCode.push("\n"))},e}(),O=function(e){function t(t,n){e.call(this,t,n)}return m(t,e),t.prototype.generateDeclarations=function(){var e=this._api.baseUri()?this._api.baseUri().value():"";e=e?e:"",f.stringEndsWith(e,"/")&&(e=e.substring(0,e.length-1)),this.generatedCode.push("private baseUrl:string='"+e+"'\n"),this.generateVersionFieled(),this.generatedCode.push("private cfgEncoded=/*CONFIGENCODEDSTART*/"+JSON.stringify(this.cfg)+";/*CONFIGENCODEDEND*/\n"),this.generatedCode.push("\ndeclaration():RamlWrapper.Api{\n    var unit = new JsonModel.CompilationUnit(null,null,apiProvider.api(),null,true);\n    var highLevelNode:highLevel.IHighLevelNode = new highLevelImpl.ASTNodeImpl(unit.ast(),null,<any>apiType,null);\n    var api : RamlWrapper.Api = new RamlWrapper.ApiImpl(highLevelNode);\n    endpoints.setApi(api);\n    return api;\n}\n\nsecurityProvider():authManager.SecurityParametersProvider{\n    var api:RamlWrapper.Api = this.declaration();\n    return env.getSecurityProvider().getSubProvider(api.title()).getSubProvider(api.version());\n}\n\n"),this.generatedCode.push("authentificate(schemaName:string, options?:any){}\n"),this.generateAuthentification(),this.generateBaseUrlResolveCall(),this.generatedCode.push("\n            private inv:executor.APIExecutor\n            private options:any\n            private canonicPath:string[] = []\n            "+this.genInvoke()+"\n\n            authenticate(schemaName?:string,options?:any):any{return null;}\n\n            constructor("+this.generateConstructorParameters()+"){\n                this.inv=new executor.APIExecutor(this.declaration(),this.baseUrlResolved(),<any>this.cfgEncoded);\n                "+this.generateOpAssignment()+"\n            ")},t.prototype.generateVersionFieled=function(){var e=g.baseUriParameters(this._api).filter(function(e){return"version"==e.name()});e.length>0&&this.generatedCode.push("private version = '"+(this._api.version()?this._api.version():1)+"';")},t.prototype.genInvoke=function(){var e=p(this._api),t=this.cfg&&this.cfg.async?"executeAsync":"execute";return"\n        invoke(path:string,method:string,canonicPath:string[],obj:any){\n            env.registerApi(this.declaration())\n            env.getAuthManager().registerSchemes(this.declaration(),"+e.register+")\n            return this.inv."+t+"(path,method,obj,canonicPath)\n        }"},t.prototype.generateParameterReplace=function(){var e="";return g.baseUriParameters(this._api).forEach(function(t){e=e+"burl=burl.replace('{"+t.name()+"}',this."+t.name()+")\n"}),e},t.prototype.generateOpAssignment=function(){return""},t.prototype.generateBaseUrlResolveCall=function(){this.generatedCode.push("baseUrlResolved():string{\n        var burl=this.baseUrl;\n        "+this.generateParameterReplace()+"\n        return burl;\n        }")},t.prototype.generateConstructorParameters=function(){var e=[];return this._api.baseUriParameters().forEach(function(t){"version"!=t.name()&&e.push("private "+t.name()+":string")}),e.join(",")},t.prototype.generateAuthentification=function(){this.generatedCode.push("log(vName:string,val:any){this.inv.log(vName,val);return val;}")},t}(R),L=function(e){function n(t,n,r,i){e.call(this,i,r),this._decl=t,this._parent=n}return m(n,e),n.prototype.urlTemplate=function(e,t){var n={};this.cfg.methodNamesAsPrefixes&&t.isFunction()&&t.parameters.forEach(function(e){0===e.location&&(n[e.name]=!0)});for(var r="`",i=0;i<e.length;i++){var a=e.charAt(i);if("{"==a){var o=e.indexOf("}",i);o=0>o?e.length:o;var s=e.substring(i+1,o);r+=this.isInPatch||n[s]?"${":"${this."}else r+=a}return r+="`"},n.prototype.subResourceProxyCreation=function(e,n){var r=this,i=n.resourceInterface().resource().originalResource.relativeUri().value();this.generatedCode.push("new "+n.name+"Impl(");for(var a=this,o=[],s=g.baseUriParameters(this._api).map(function(e){return"this."+e.name()});a;)a._decl.parameters&&a._decl.parameters.length>0&&o.push(a._decl),a=a._parent;o.reverse().forEach(function(e){return e.parameters.filter(function(e){return e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX}).forEach(function(e){return s.push("this."+e.name)})}),this.generatedCode.push(s.map(function(e){return e+", "}).join("")),e.parameters.forEach(function(e){return r.generatedCode.push(e.name+", ")}),this.generatedCode.push("this, this.canonicPath.concat('"+i+"'))\n");var u=this;this.genSubResource(e,u,n)},n.prototype.extraParams=function(){for(var e=this,n=[],e=this;e;e=e._parent)n.push(e._decl);var r=g.baseUriParameters(this._api).map(function(e){return"private "+e.name()});return n.reverse().forEach(function(e,i){var a=e.parameters.filter(function(e){return i==n.length-1||e.name!=t.MEDIA_TYPE_EXTENSION&&e.name!=t.MEDIA_TYPE_SUFFIX});r=r.concat(a.map(function(e){return"private "+e.name}))}),r.map(function(e){return e+", "}).join("")},n.prototype.generateDeclarations=function(){var e=this.extraParams(),t="";e.indexOf("mediaTypeExtension")>=0&&(t='if(this.mediaTypeExtension){\n                if(this.mediaTypeExtension.length>0){\n                    this.mediaTypeExtension = ("." + this.mediaTypeExtension).replace("..",".")\n                }\n            }'),this.generatedCode.push("\n\n            invoke(path:string,method:string,canonicPath:string[],obj:any){\n                return this._parent.invoke(path,method,canonicPath,obj);\n            }\n\n\n            constructor("+e+"\n                private _parent:{invoke(path:string,method:string,canonicPath:string[],obj:any):void},\n                private canonicPath:string[]){\n                "+t+"\n            ")},n}(R),k=(function(e){function t(){e.apply(this,arguments)}return m(t,e),t.prototype.startTypeDeclaration=function(e){return this.append("{/*ts*/"),!0},t.prototype.endTypeDeclaration=function(e){this.append("}")},t.prototype.betweenElements=function(){this.append(",")},t.prototype.startVisitElement=function(e){return e.isFunction(),!0},t.prototype.endVisitElement=function(e){this.append("}")},t}(x),function(){function e(e,n){var r=this;this._api=e,this.tsModule2Src=function(e){var n=p(r._api),i=new O(r._api,r.cfg);r.cfg.debugOptions.generateImplementation&&e.getInterface("Api").value().visit(i),e.getInterface("Api").getOrThrow().addCode("declaration():RamlWrapper.Api;"),e.getInterface("Api").getOrThrow().addCode("securityProvider():authManager.SecurityParametersProvider;"),e.getInterface("Api").getOrThrow().addCode("authenticate(schemaName?:string,options?:any):any;"),e.getInterface("Api").value().addCode("log(vName:string,val:any)");var a="\n\n"+(r.cfg.storeHarEntry?"export interface UnknownResponse{ "+t.HAR_ENTRY_FIELD_NAME+" : har.Entry }":"")+"\nexport interface payloadType{}\nexport interface responseType{}\nexport interface invoker{ (url:String,method:string,options:any):any; }\nexport class ApiImpl implements Api "+i.getResult()+"\n            ",o="";return e.children().forEach(function(e){return o+=e.serializeToString()}),a=i.generatedDeclarations.join("")+o+a,a+="\n var meta={}",'import fs=require("fs")\nimport path=require("path")\nimport RamlWrapper=require("../raml1/artifacts/raml003parser")\nimport executor=require("./executor")\nimport env=require("./executionEnvironment")\nimport authManager=require("./authenticationManager")\nimport endpoints=require("./endpoints")\nimport JsonModel=require(\'../raml1/jsyaml/json2lowLevel\')\nimport lowLevel=require("../raml1/lowLevelAST")\nimport highLevel=require("../raml1/highLevelAST")\nimport highLevelImpl=require("../raml1/highLevelImpl")\nimport raml2ts1=require("./raml2ts1")\nimport AnnotationsImpl=require("../raml1/annotationsImpl")\nimport apiProvider=require("./deps/apiProvider")\n\n'+n.imports+'\n\nvar universe10 = require("../raml1/universeProvider")("RAML10");\nvar apiType = universe10.type("Api")\n\nenv.setPath(__dirname);\nenv.getReportManager().setLogPath(__dirname);\n\n\n'+a},this.cfg=n}return e.prototype.buildConversion=function(){return this.tsModule2Src},e}());t.apiProviderContent=d},function(e,t,n){function r(e,t){var n=i(e);if(!n)return new s.AnyType;var r=n.rangeType.componentType;return r}function i(e){if(a(e)){var t=e.typeParameters;if(t&&t.length>0)return i(t[0])}if(e instanceof s.TSDeclaredInterfaceReference)for(var n=e.getOriginal(),r=n.children(),o=0;o<r.length;o++){var u=r[o];if(u.rangeType.array())return u}return null}function a(e){if(e instanceof s.TSSimpleTypeReference){var t=e.name;if("Promise"==t)return!0}return!1}var o=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},s=n(113),u=n(17),l=function(){function e(e,t,n,r){this.method=e,this.pageSizeParam=t,this.offsetParam=n,this.collectionField=r}return e.prototype.forEach=function(e,t){void 0===t&&(t={});var n=5;t[this.pageSizeParam]=n;for(var r=0;!0;r++){t[this.offsetParam]=r*n;var i=this.method(t),a=this.getMainCollection(i);if(!a)break;a.forEach(e)}},e.prototype.itemAt=function(e,t){void 0===t&&(t={}),t.form_limit=1,t.form_skip=e;var n=this.method(t),r=this.getMainCollection(n);return r?r[0]:null},e.prototype.getMainCollection=function(e){if(this.collectionField){var t=e[this.collectionField];return Array.isArray(t)&&t.length>0?t:null}for(var n=Object.keys(e),r=0;r<n.length;r++){var t=e[n[r]];if(Array.isArray(t))return t.length>0?t:null}},e}();t.PagingImpl=l;var c=function(){function e(e,t,n,r){this.method=e,this.pageSizeParam=t,this.offsetParam=n,this.collectionField=r}return e.prototype.forEach=function(e,t){void 0===t&&(t={});var n=5;t[this.pageSizeParam]=n;var r=function(i){var a=this;t[this.offsetParam]=i*n;var o=this.method(t);o.then(function(t){var n=a.getMainCollection(t);n&&(n.forEach(e),r(i+1))})};r(0)},e.prototype.itemAt=function(e,t){var n=this;void 0===t&&(t={}),t.form_limit=1,t.form_skip=e;var r=this.method(t);return r.then(function(e){var t=n.getMainCollection(e);return t?t[0]:null})},e.prototype.getMainCollection=function(e){if(this.collectionField){var t=e[this.collectionField];return Array.isArray(t)&&t.length>0?t:null}for(var n=Object.keys(e),r=0;r<n.length;r++){
var t=e[n[r]];if(Array.isArray(t))return t.length>0?t:null}},e}();t.PagingImplAsync=c;var p=function(){function e(e,t){this.method=e,this.parent=t}return e.prototype.processAnnotations=function(){var e=this;this.method.originalMethod.annotations().map(function(e){return e.value()}).forEach(function(t){if(t instanceof u.StructuredValue){var n=t;n.valueName().indexOf(".paging")>0&&e.processPagingAnnotation(n)}})},e.prototype.processPagingAnnotation=function(e){new f(this.parent,this.method),new d(this.parent,this.method,e),new m(this.parent,this.method),new h(this.parent,this.method)},e}();t.AnnotationProcessor=p;var d=function(e){function t(t,n,o){e.call(this,t,"initPaging"),this.method=n,this.annotation=o;var u=o.children(),l={};u.forEach(function(e){var t=e.lowLevel().value(),n=t.indexOf("application/x-www-form-urlencoded")>=0||t.indexOf("application/form-data")>=0?"form_":"",r=n+t.substring(t.lastIndexOf(".")+1);l[e.valueName()]=r});var c=i(this.method.rangeType),p=c.name,d=a(n.rangeType)?"PagingImplAsync":"PagingImpl",m=[r(this.method.rangeType,this),this.method.rangeType].concat(this.method.parameters.map(function(e){return e.ptype})).map(function(e){return e.serializeToString()}).join(",");this._body="\n            if(!this.pagingImpl){\n                this.pagingImpl = new AnnotationsImpl."+d+"<"+m+">(this."+this.method.name+",'"+l.pageSize+"','"+l.offset+"','"+p+"');\n            }\n        ",this.rangeType=new s.TSSimpleTypeReference(this,"void"),this.isPrivate=!0,this.isFunc=!0}return o(t,e),t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),m=function(e){function t(t,n){e.call(this,t,"forEach"),this.method=n,this.initParams(),this._body="\n            this.initPaging();\n            return this.pagingImpl.forEach("+this.parameters.map(function(e){return e.name}).join(",")+");\n        ",this.rangeType=new s.TSSimpleTypeReference(this,"void"),this.componentType=r(this.method.rangeType,this)}return o(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * Apply function to all the elements of the collection\n         **/\n            "},t.prototype.initParams=function(){var e=this,t=new s.TSFunctionReference(this);t.parameters.push(new s.Param(this,"x",3,r(this.method.rangeType,this),null)),this.parameters.push(new s.Param(this,"f",3,t,null)),this.method.parameters.forEach(function(t,n){var r=new s.Param(e,"options"+(n>0?n:""),3,t.ptype,{});e.parameters.push(r)})},t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),h=function(e){function t(t,n){e.call(this,t,"itemAt"),this.method=n,this.initParams(),this._body="\n            this.initPaging();\n            return this.pagingImpl.itemAt("+this.parameters.map(function(e){return e.name}).join(",")+");\n        ",this.componentType=r(this.method.rangeType,this),a(n.rangeType)?(this.rangeType=new s.TSSimpleTypeReference(this,"Promise"),this.rangeType.typeParameters=[this.componentType]):this.rangeType=this.componentType}return o(t,e),t.prototype.commentCode=function(){return"\n        /**\n         * Retrieve certain element of the collection\n         * @param i element index\n         **/\n            "},t.prototype.initParams=function(){var e=this;this.parameters.push(new s.Param(this,"i",3,new s.TSSimpleTypeReference(this,"number"))),this.method.parameters.forEach(function(t,n){var r=new s.Param(e,"options"+(n>0?n:""),3,t.ptype,{});e.parameters.push(r)})},t.prototype.isInterfaceMethodWithBody=function(){return!0},t.prototype.body=function(){return this._body},t}(s.TSAPIElementDeclaration),f=function(e){function t(t,n){e.call(this,t,"pagingImpl"),this.method=n;var i=a(n.rangeType)?"PagingImplAsync":"PagingImpl",o=new s.TSSimpleTypeReference(this,"AnnotationsImpl."+i);this.rangeType=o,o.typeParameters=[r(this.method.rangeType,this),this.method.rangeType].concat(this.method.parameters.map(function(e){return e.ptype})),this.isPrivate=!0}return o(t,e),t}(s.TSAPIElementDeclaration)},function(e,t,n){function r(e){return o.escapeToJavaIdentifier(e)}function i(e){return{__$$ROOT_PACKAGE__:e.rootPackage,__$$MAVEN_GROUP_ID__:e.mavenGroupId,__$$MAVEN_ARTIFACT_ID__:e.mavenArtifactId,__$$MAVEN_ARTIFACT_VERSION__:e.mavenArtifactVersion,__$$PROJECT_NAME__:e.projectName}}function a(e){return{__$$ROOT_PACKAGE__:e.rootPackage.replace(/\./g,"/")}}var o=n(111),s=n(60),u=n(92),l=n(129),c=n(113),p=n(182),d=n(10),m=n(136),h=n(4),f=function(){function e(e){e&&(this.apiPath=e.apiPath,this.rootPackage=e.rootPackage,this.sourceFolderAbsolutePath=e.sourceFolderAbsolutePath,this.resourcesFolderAbsolutePath=e.resourcesFolderAbsolutePath,this.dstWorkspacePath=e.dstWorkspacePath,this.projectName=e.projectName,this.pretty=e.pretty,this.mavenGroupId=e.mavenGroupId,this.mavenArtifactId=e.mavenArtifactId,this.mavenArtifactVersion=e.mavenArtifactVersion,this.forceDelete=e.forceDelete,this.javascriptTemporaryFolder=e.javascriptTemporaryFolder)}return e.prototype.sourcePath=function(){if(this.sourceFolderAbsolutePath)return this.sourceFolderAbsolutePath;if(!this.dstWorkspacePath||!this.projectName)throw"Can not determine destination source folder path. Please, specify 'sourceFolderAbsolutePath' or 'dstWorkspacePath' and 'projectName'";return d.resolve(d.resolve(this.dstWorkspacePath,this.projectName),"src/main/java")},e.prototype.resourcePath=function(){if(this.resourcesFolderAbsolutePath)return this.resourcesFolderAbsolutePath;if(!this.dstWorkspacePath||!this.projectName)throw"Can not determine destination resource folder path. Please, specify 'resourcesFolderAbsolutePath' or 'dstWorkspacePath' and 'projectName'";return d.resolve(d.resolve(this.dstWorkspacePath,this.projectName),"src/main/resources")},e.prototype.clientProjectPath=function(){return d.resolve(this.dstWorkspacePath,this.projectName)},e.prototype.pathReplacements=function(){return a(this)},e.prototype.contentReplacements=function(){return i(this)},e}();t.Config=f;var y=function(){function e(e,t,n){this.modelClasses={},this.assertionMap={},this.unionTypes=new c.TSAPIModule,this.tsModule=e,this.api=t,this.cfg=n,this.init()}return e.prototype.serializeAll=function(){var e=this;if(this.tsModule.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.setPackage(t)}),this.tsModule.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.serializeInterface(t)}),this.tsModule.children().filter(function(e){return e instanceof c.TSTypeAssertion}).forEach(function(t){return e.serializeTypeAssertion(t)}),this.unionTypes.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(t){return e.serializeInterface(t)}),this.serializeJaxbProperties(),this.api.securitySchemes().length>0){var t=this.createSecurityModule();this.serializeSecurityModule(t)}},e.prototype.setPackage=function(e){var t="client";this.isModel(e)?t="model":this.isOptions(e)&&(t="options"),e.meta.subpackage=t},e.prototype.serializeInterface=function(e,t){t||(t=e.name),"client"==e.meta.subpackage?this.serializeClient(e):this.serializeModel(e,r(t))},e.prototype.serializeTypeAssertion=function(e){var t=e.name(),n=this.assertionMap[t];if(n){var r=this.tsModule.getInterface(n);r.isDefined()&&this.serializeInterface(r.getOrThrow(),t)}},e.prototype.serializeModel=function(e,t,n){var i=this;n||(n=e.meta.subpackage);var a={"import javax.xml.bind.annotation.XmlElement;":!0};e.children().filter(function(e){return e.rangeType.array()}).length>0&&(a["import java.util.List;"]=!0),this.isUnionType(e)&&(a["import "+this.cfg.rootPackage+".client.executor.UnionType;"]=!0);var o=[];e.children().forEach(function(e){var u=e.name,l=r(u),p=e.rangeType,d=p.array();if(d&&(p=p.componentType),p instanceof c.AnyType)o.push('    @XmlElement(name="'+u+'")\n    public '+(d?"List<Object>":"Object")+" "+l+";");else if(p instanceof c.TSSimpleTypeReference){var m=p,h=i.convertType(m.name);if(p instanceof c.TSDeclaredInterfaceReference){var f=p.getOriginal(),y=f.meta.subpackage;y!=n&&(a["import "+i.cfg.rootPackage+"."+y+"."+h+";"]=!0)}o.push('    @XmlElement(name="'+u+'")\n    public '+(d?"List<"+h+">":h)+" "+l+";")}else if(p instanceof c.TSUnionTypeReference){var h=i.getUnionTypeInterface(p,n).name;o.push('    @XmlElement(name="'+u+'")\n    public '+(d?"List<Object>":"Object")+" "+l+";")}else if(p instanceof c.TSStructuralTypeReference){var g=p,v=t+s.firstToUpper(l);i.serializeModel(g,v,n),o.push('    @XmlElement(name="'+u+'")\n    public '+(d?"List<"+v+">":v)+" "+l+";")}});var u=this.isUnionType(e)?" extends UnionType":"",l="package "+this.cfg.rootPackage+"."+n+";\n\n"+Object.keys(a).sort().join("\n")+"\n\npublic class "+t+u+" {\n\n"+o.join("\n\n\n")+"\n\n}",p=this.rootPackagePath()+"/"+n.replace(/\./g,"/")+"/"+t+".java";this.write(p,l)},e.prototype.serializeClient=function(e,t,n,i,a){var o=this;if(e instanceof p.ResourceMappedInterface){var s=e,l=s.resource().originalResource;n=u.absoluteUri(l),i=u.absoluteUriParameters(l),a=u.relativeUriSegments(l),t=s.name}else e instanceof c.TSInterface&&(n=this.api.baseUri().value(),i=[].concat(u.baseUriParameters(this.api)),a=[],t="Api");var d="Api"==t,m=d&&this.api.securitySchemes().length>0,h=[],f=['private String uri = "'+n+'";\nprivate String[] relativeUriSegments = new String[]{'+a.map(function(e){return'"'+e+'"'}).join(", ")+"};"],y=[];d?(f.push("private final JavaExecutor executor;"),y.push("this.executor = new JavaExecutor();"),i.filter(function(e){return"version"==e.name()}).length>0&&y.push('this.version = "'+(this.api.version()?this.api.version():1)+'";')):(y.push("this.executor = executor;"),f.push("private final JavaExecutor executor;")),i.forEach(function(e){return f.push("private final "+o.paramDecl(e)+";")}),i.filter(function(e){return!("version"==e.name()&&d)}).forEach(function(e){return y.push("this."+r(e.name())+" = "+r(e.name())+";")}),i.forEach(function(e){return y.push('this.uri = this.uri.replace("{'+e.name()+'}",this.'+r(e.name())+");")});var g={};g["import "+this.cfg.rootPackage+".client.executor.JavaExecutor;"]=!0,m&&(g["import "+this.cfg.rootPackage+".client.security.ApiSecurity;"]=!0),e.children().filter(function(e){return e instanceof p.TSResourceMappedApiElement&&!(e instanceof p.TSFullyMappedApiElement)}).forEach(function(e){var s=e,l=s.originalResource,d=e.name,m=r(d),v=u.uriParameters(l),b=i.concat(v),S=e.rangeType,w="Object";if(S instanceof p.ResourceMappedReference)w=S.name;else if(S instanceof c.TSStructuralTypeReference){var P=S;w=t+m;var M=l.relativeUri().value(),T=n+M;o.serializeClient(P,w,T,b,a.concat(M))}else S instanceof c.TSUnionTypeReference&&(w=o.getUnionTypeInterface(S,"client").name,g["import "+o.cfg.rootPackage+".client.union."+w+";"]=!0);w&&(v.length>0?h.push("    public "+w+" "+m+"("+v.map(function(e){return o.paramDecl(e)}).join(", ")+"){\n        return new "+w+"(this.executor, "+i.map(function(e){return"this."+r(e.name())}).concat(v.map(function(e){return r(e.name())})).join(", ")+");\n    }"):(f.push("final public "+w+" "+m+";"),y.push("this."+m+" = new "+w+"(this.executor, "+i.map(function(e){return"this."+r(e.name())}).join(", ")+");")))}),e.isFunctor()&&this.serializeMethod(e.children().filter(function(e){return e.isAnonymousFunction()})[0],g,h,"self"),e.children().filter(function(e){return e instanceof p.TSFullyMappedApiElement}).forEach(function(e){return o.serializeMethod(e,g,h)});var v="package "+this.cfg.rootPackage+".client;\n\n"+Object.keys(g).sort().join("\n")+"\n\npublic class "+t+" {\n\n    "+(d?"public ":"")+t+"("+("Api"!=t?"JavaExecutor executor, ":"")+i.filter(function(e){return!("version"==e.name()&&d)}).map(function(e){return o.paramDecl(e)}).join(", ")+"){\n\n"+y.map(function(e){return"         "+e}).join("\n\n")+"\n\n    }\n\n\n"+f.map(function(e){return"    "+e}).join("\n\n\n")+"\n\n\n\n\n"+h.join("\n\n\n")+"\n\n\n\n\n";m&&(v+="\n    public ApiSecurity security(){\n        return new ApiSecurity(this.executor);\n    }\n\n"),v+="}";var b=this.rootPackagePath()+"/client/"+t+".java";this.write(b,v)},e.prototype.serializeMethod=function(e,t,n,i){var a=this;if(!i){var s=e.name;i=r(s)}var u=e.rangeType;u.array()&&(u=u.componentType);var l="Object";u instanceof c.TSSimpleTypeReference?(l=u.name,o.tsToJavaTypeMap[l]?l=o.tsToJavaTypeMap[l]:t["import "+this.cfg.rootPackage+".model."+l+";"]=!0):u instanceof c.TSUnionTypeReference&&(l=this.getUnionTypeInterface(u,"model").name,o.tsToJavaTypeMap[l]?l=o.tsToJavaTypeMap[l]:t["import "+this.cfg.rootPackage+".model.union."+l+";"]=!0);var p,d,m=!1,h=!1,f=e.parameters.map(function(e){var n=e.name,o=e.ptype,s="";if(o instanceof c.TSDeclaredInterfaceReference){var u=o.name;s=r(u),"payload"==n&&a.modelClasses[u]?(t["import "+a.cfg.rootPackage+".model."+s+";"]=!0,p=s,m=!0):(t["import "+a.cfg.rootPackage+".options."+s+";"]=!0,d=s,h=!0)}else if(o instanceof c.TSStructuralTypeReference)s=i+n,a.serializeModel(o,s,"options"),t["import "+a.cfg.rootPackage+".options."+s+";"]=!0;else if(o instanceof c.TSUnionTypeReference){var l=o;"payload"==n&&a.modelClasses[u]?(s=a.getUnionTypeInterface(l,"model").name,t["import "+a.cfg.rootPackage+".model.union."+s+";"]=!0,p=s,m=!0):(s=a.getUnionTypeInterface(l,"options").name,t["import "+a.cfg.rootPackage+".options.union."+s+";"]=!0,d=s,h=!0)}return""+s+("options"==n?"...":"")+" "+n}),y=e.originalMethod.method();n.push("    public "+l+" "+i+"("+f.join(", ")+'){\n        return this.executor.invoke(this.uri, this.relativeUriSegments, "'+y+'", '+l+".class, "+(p?p+".class":"null")+", "+(d?d+".class":"null")+", "+(m?"payload":"null")+", "+(h?"options":"null")+");\n    }")},e.prototype.paramDecl=function(e){var t=e.type(),n=t&&t.length>0?t[0]:"string";return this.convertType(n)+" "+r(e.name())},e.prototype.rootPackagePath=function(){return this.cfg.rootPackage.replace(/\./g,"/")},e.prototype.write=function(e,t){var n=d.resolve(this.cfg.sourcePath(),e);m.sync(d.dirname(n)),h.writeFileSync(n,t)},e.prototype.convertType=function(e){var t=o.tsToJavaTypeMap[e];return t?t:e},e.prototype.isModel=function(e){return e instanceof c.TSInterface?e instanceof p.ResourceMappedInterface?!1:e instanceof p.OptionsInterface?!1:"Api"==e.name?!1:!0:!1},e.prototype.isOptions=function(e){return e instanceof p.OptionsInterface},e.prototype.isUnionType=function(e){return e.meta.isUnionType},e.prototype.init=function(){var e=this;this.tsModule.children().filter(function(t){return e.isModel(t)}).forEach(function(t){return e.modelClasses[t.name]=t}),this.tsModule.children().filter(function(e){return e instanceof c.TSTypeAssertion}).forEach(function(t){var n=t;if(n.ref()instanceof c.TSSimpleTypeReference){var r=n.ref();e.assertionMap[n.name()]=r.name}})},e.prototype.createSecurityModule=function(){var e=this,t=new c.TSAPIModule,n=new c.TSInterface(t,"ApiSecurity");return this.api.securitySchemes().forEach(function(r){var i=e.createSecuritySchemeClass(r,t),a=new c.TSAPIElementDeclaration(n,"get"+i.name);a.isFunc=!0,a.rangeType=i.toReference(),a.meta.type="schemaGetter"}),this.addSecurityParamSetter(n),t},e.prototype.createSecuritySchemeClass=function(e,t){var n=this,i=e.name(),a=s.firstToUpper(r(i)),o=new c.TSInterface(t,a),u=new c.TSAPIElementDeclaration(o,"schemaName");u.isPrivate=!0,u.meta.value=i,u.rangeType=new c.TSSimpleTypeReference(u,"string");var p=e.type(),d=[],m=[],h=e.describedBy();if(h&&(d=h.headers(),m=h.queryParameters()),p==l.SCHEMA_TYPE_OAUTH2)this.addSecurityParamSetter(o,"clientId"),this.addSecurityParamSetter(o,"clientSecret"),this.addSecurityParamSetter(o,"accessToken");else if(p==l.SCHEMA_TYPE_OAUTH1);else if(p==l.SCHEMA_TYPE_DIGEST);else if(p==l.SCHEMA_TYPE_BASIC)this.addSecurityParamSetter(o,"username"),this.addSecurityParamSetter(o,"password");else if(s.stringStartsWith(p,"x-")){d.forEach(function(e){return n.addSecurityParamSetter(o,e.name())}),m.forEach(function(e){return n.addSecurityParamSetter(o,e.name())});e.settings()}return o},e.prototype.addSecurityParamSetter=function(e,t){var n=t?"set"+s.firstToUpper(r(t)):"setParamValue",i=new c.TSAPIElementDeclaration(e,n);if(t)i.meta.actualName=t;else{var a=new c.Param(i,"paramName",3);i.parameters.push(a)}var a=new c.Param(i,"paramValue",3);i.parameters.push(a),i.meta.type="paramSetter",i.rangeType=new c.TSSimpleTypeReference(i,"void")},e.prototype.serializeSecurityModule=function(e){var t=this;e.children().filter(function(e){return e instanceof c.TSInterface}).forEach(function(e){return t.seralizeSecurityClass(e)})},e.prototype.seralizeSecurityClass=function(e){var t=this,n=e.name,r=e.children().filter(function(e){return!e.isFunction()}).map(function(e){return t.serializeSecurityField(e)}),i=e.children().filter(function(e){return e.isFunction()}).map(function(e){return t.serializeSecurityMethod(e)}),a=["import "+this.cfg.rootPackage+".client.executor.JavaExecutor;","import "+this.cfg.rootPackage+".client.security.core.JavaApiSecurity;"],o="package "+this.cfg.rootPackage+".client.security;\n\n"+a.join("\n")+"\n\npublic class "+n+" extends JavaApiSecurity{\n\n    public "+n+"(JavaExecutor executor){\n        super(executor);\n    }\n\n\n"+r.join("\n\n")+"\n\n\n"+i.join("\n\n")+"\n\n}",s=this.rootPackagePath()+"/client/security/"+n+".java";this.write(s,o)},e.prototype.serializeSecurityField=function(e){var t=e.meta.value;return"    "+(e.isPrivate?"private":"public")+" "+this.convertType(e.rangeType.serializeToString())+" "+e.name+(t?' = "'+t.toString()+'"':"")+";"},e.prototype.serializeSecurityMethod=function(e){var t=this,n=this.convertType(e.rangeType.serializeToString()),r="//some method body";if("paramSetter"==e.meta.type){var i=e.meta.actualName,a=i?"this.schemaName":"null",o=i?'"'+i+'"':"paramName";r="super.setValue("+o+", paramValue, "+a+");"}else"schemaGetter"==e.meta.type&&(r="return new "+n+"(this.executor);");return"    "+(e.isPrivate?"private":"public")+" "+n+" "+e.name+"("+e.parameters.map(function(e){return t.convertType(e.ptype.serializeToString())+" "+e.name}).join(", ")+"){\n        "+r+"\n    }"},e.prototype.serializeJaxbProperties=function(){var e="javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory",t=d.resolve(this.cfg.sourcePath(),this.rootPackagePath());["model","options"].map(function(e){return d.resolve(t,e)}).filter(function(e){return h.existsSync(e)}).forEach(function(t){return h.writeFileSync(d.resolve(t,"jaxb.properties"),e)})},e.prototype.getUnionTypeInterface=function(e,t){var n=this,r=e.children().filter(function(e){return e instanceof c.TSSimpleTypeReference}).map(function(e){return e}),i=r.map(function(e){return e.name}).join("")+"Union";return this.unionTypes.getInterface(i).getOrElseF(function(){var e=new c.TSInterface(n.unionTypes,i);return r.forEach(function(t){var n=new c.TSAPIElementDeclaration(e,t.name);n.rangeType=t}),e.meta.isUnionType=!0,e.meta.subpackage=t+".union",e})},e}();t.Serializer=y,t.escape=r,t.contentReplacements=i,t.pathReplacements=a},function(e,t,n){function r(e,t){var n=t.resourcePath();d.sync(n);var r=i(""),h=p.resolve(e,"executorWrapper.ts");c.writeFileSync(h,a());var f="jsClient.instrumented",y=f+".ts",g=p.resolve(e,y);c.writeFileSync(g,r),c.writeFileSync(p.resolve(n,"apiEncoded.json"),c.readFileSync(p.resolve(e,"apiEncoded.json")).toString()),l.compile([h,g],"--sourcemap --module commonjs");var v={context:e,entry:"./"+f,output:{path:n,filename:m},resolve:{aliase:{XMLHttpRequest:"xmlhttprequest"}},externals:[{"./deps/apiProvider":"apiProvider",apiProvider:!0,"z-schema":"schema",child_process:!0,http:!0,https:!0,fs:!0,console:!0,tap:!0,net:!0,tls:!0,module:!0,"aws-sdk":!0,"spawn-sync":"_spawn_sync",_spawn_sync:!0,"try-thread-sleep":"_try_thread_sleep",_try_thread_sleep:!0,"./deps/endpoints":"endpoints","./platformExecution":"platformExecution","./executorWrapper":"executorWrapper"}],plugins:t.pretty?[]:[new u.optimize.UglifyJsPlugin({minimize:!0,compress:{}})],module:{loaders:[{test:/\.json$/,loader:"json"}]},node:{console:!1,global:!0,process:!0,Buffer:!0,__filename:!0,__dirname:!0,setImmediate:!0}};u(v,function(e,t){var r=o(t),i=r["/node_modules/xmldom/dom-parser.js"],a=r["/node_modules/jsonix/jsonix.js"];if(s(p.resolve(n,m),a,"var DOMParser = __webpack_require__("+i+").DOMParser;"),e)return void console.log(e.message);console.log("Webpack Building Bundle:"),console.log(t.toString({reasons:!0,errorDetails:!0})),t.toString({reasons:!0,errorDetails:!0});try{}catch(u){console.log("deploy was failed"),console.log(u.message)}finally{c.unlinkSync(g),c.unlinkSync(g.replace(/\.ts$/,".js")),c.unlinkSync(g.replace(/\.ts$/,".js.map")),c.unlinkSync(h),c.unlinkSync(h.replace(/\.ts$/,".js")),c.unlinkSync(h.replace(/\.ts$/,".js.map"))}})}function i(e){return'import client = require("./client")\nimport executorWrapper = require("./executorWrapper")\n\nfunction run(){\n\n    console.log("We are running!!!");\n\n    var _client = client.createApi('+e+");\n    var func = function (path:string, method:string, canonoicPath: string[],body:string):string {\n        var obj:any = {};\n        try{\n            obj = JSON.parse(body);\n        }\n        catch(e){}\n        return JSON.stringify((<any>_client).invoke(path, method, canonoicPath, obj), null, 2);\n    };\n    executorWrapper.setExecuteMethod(func);\n\n    var spSetter = function (paramName:string, paramValue:string, schemaName:string){\n\n        var sp = (<any>_client).securityProvider();\n        if(schemaName){\n            sp = sp.getSubProvider(schemaName);\n        }\n        sp.writeValue(paramName,paramValue);\n    };\n    executorWrapper.setAssignSecurityParameterMethod(spSetter);\n}\n\nrun();"}function a(){return"export function append(){}\n\nexport var executeMethod:any\n\nexport var assignSecurityParameterMethod:any\n\nexport function setExecuteMethod(executeMethod:any){\n    executeMethod = executeMethod;\n}\n\nexport function setAssignSecurityParameterMethod(assignSecurityParameterMethod:any){\n    assignSecurityParameterMethod = assignSecurityParameterMethod;\n}"}function o(e){var t={},n=e.compilation._modules;return Object.keys(n).forEach(function(e){var r=e.lastIndexOf(p.sep+"node_modules"+p.sep);if(!(0>r)){for(var i=e.substring(r),a=i.replace(p.sep,"/");i!=a;)i=a,a=i.replace(p.sep,"/");t[i]=n[e].id}}),t}function s(e,t,n){var r=c.readFileSync(e).toString(),i="/* "+t+" */\n/***/ function(module, exports, __webpack_require__) {",a=r.indexOf(i);a+=i.length,c.writeFileSync(e,r.substring(0,a)),c.appendFileSync(e,"\n\n"+n,"utf8"),c.appendFileSync(e,r.substring(a),"utf8")}var u={},l=n(181),c=n(4),p=n(10),d=n(136),m="bundle.js";t.deploy=r},function(e,t,n){function r(e){var t=p("RAML10"),n=t.type("Api"),r=null,i=o.dirname(e),c=new u.Project(i);return c.units().forEach(function(t){o.basename(t.path())==o.basename(e)&&(r=new a.ApiImpl(new l.ASTNodeImpl(t.ast(),null,n,null)))}),new s(r)}function i(e,t){void 0===t&&(t=!1);var n=p("RAML10"),r=n.type("Api"),i=new u.Project(e),o=[];return i.units().forEach(function(e){var n=e.ast();t&&(n=c.toChildCahcingNode(n));var i=new a.ApiImpl(new l.ASTNodeImpl(n,null,r,null));o.push(i)}),o}var a=n(13),o=n(10),s=n(61),u=n(18),l=n(17),c=n(18),p=n(98);t.loadApi1=r,t.loadApis1=i},function(e,t,n){function r(e){var t=(e.title(),new i.JSONSchematToTS("RequestBody")),n=e.allMethods()[0].bodies()[0].schema().getOrElse(null).content(),r=t.parse(n).serializeToString(),a="import endpoints = require('./deps/endpoints');\n\nexport class Request {\n    private body:RequestBody;\n\n    private headers;\n\n    private params;\n\n    constructor(headers, params, body) {\n        this.body = prepareBody(body);\n\n        this.headers = headers;\n\n        this.params = params;\n    }\n\n    requestBody(): RequestBody {\n        return this.body;\n    }\n\n    requestHeaders() {\n        return this.headers;\n    }\n\n    requestParams() {\n        return this.params;\n    }\n}\n\nfunction prepareBody(body):RequestBody {\n    var bodyObj = JSON.parse(body);\n\n    if(bodyObj.payload) {\n        bodyObj.payload = JSON.parse(bodyObj.payload);\n    }\n\n    return <RequestBody>bodyObj;\n}\n\nexport interface Service {\n    (request : Request);\n}\n\nexport function bind(service: Service, url: string) {\n    endpoints.exportService(service, function(headers, params, body) {\n        return new Request(headers, params, body);\n    }, url);\n}\n\n"+r;return a}var i=n(115);t.generateEndpointFromRamlApi=r},function(e,t,n){function r(){return p||(p=new c),p}function i(){r().show()}function a(){d.registerQuickCommands(r()),p.add("api-workbench:editorTools","Show Editor Tools",function(){return m.initEditorTools()},function(){return 0==m.editorToolsStatus()})}var o=n(189),s=n(153),u=n(157),l=function(){function e(e,t,n,r,i){this.id=e,this.title=t,this.command=n,this.priority=r,this.when=i}return e.prototype.registerAsAtomCommand=function(e){this.atomCommand&&0==this.atomCommand.disposed&&this.atomCommand.dispose(),this.atomCommand=s.commands.add(e,this.id,this.command)},e.prototype.dispose=function(){this.atomCommand&&0==this.atomCommand.disposed&&this.atomCommand.dispose(),p.unregister(this)},e}();t.QuickCommand=l;var c=function(){function e(){this.commands={},this.panel=new o.SelectListView(function(e){return e.command()},function(e){return e.title},"title")}return e.prototype.register=function(e){return null!=this.commands[e.id]&&this.unregister(e.id),this.commands[e.id]=e,e},e.prototype.unregister=function(e){"string"==typeof e&&this.unregister(this.commands[e]);var t=e;return null==t?null:(delete this.commands[t.id],t)},e.prototype.add=function(e,t,n,r,i,a){var o=new l(e,t,n,i?i:0,r?r:function(){return!0});return a&&o.registerAsAtomCommand(a),this.register(o),o},e.prototype.show=function(e){var t={};for(var n in this.commands)t[n]=this.commands[n];this.getDynamicCommands().forEach(function(e){t[e.id]=e});var r=Object.keys(t).map(function(e){return t[e]}).sort(function(e,t){return t.priority-e.priority}).filter(function(e){return e.when()});e&&(r=r.filter(e)),this.panel.show(r)},e.prototype.getDynamicCommands=function(){var e=[],t=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);return t.forEach(function(t){var n=new l(t.name,t.label?t.label:t.name,t.onClick,1,function(){return!0}),r=n;r.__module__="editorTools",e.push(n)}),e},e}();t.CommandManager=c;var p;t.manager=r,t.showCommands=i;var d=n(190),m=n(151);t.registerCommands=a},function(e,t,n){var r=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},i=n(153),a=n(7),o=function(e){function t(t,n,r){void 0===r&&(r=""),e.call(this,[]),this._confirmed=t,this.label=n,this.filterKey=r}return r(t,e),t.prototype.getFilterKey=function(){return this.filterKey},t.prototype.viewForItem=function(e){return"<li>"+this.label(e)+"</li>"},t.prototype.cancel=function(){this.panel.hide(),e.prototype.cancel.call(this)},t.prototype.hide=function(){this.panel&&this.panel.hide()},t.prototype.confirmed=function(e){return this._confirmed(e),this.hide(),this.getSelectedItemView()},t.prototype.show=function(e){this.storeFocusedElement(),this.panel||(this.panel=i.workspace.addModalPanel({item:this})),this.setItems(e),this.panel.show(),this.focusFilterEditor()},t}(a.SelectListView);t.SelectListView=o},function(e,t,n){function r(e){if(!e||!e.parent())return!1;var t=e.parent();l.aquireManager()._view.forEachViewer(function(t){return t.remove(e)}),t.remove(e),l.aquireManager().updateText(t.lowLevel())}function i(e){return e&&e.property()?"resources"==e.property().name()?e:i(e.parent()):null}function a(e){return e&&e.property()?"Method"!=e.definition().name()&&"Trait"!=e.definition().name()||e.definition().isUserDefined()?null:e:null}function o(e,t){return e&&e.property()&&e.definition().isAssignableFrom(t)?e:null}function s(e){l.aquireManager()||l.initEditorTools(!1);var t=[];t.forEach(function(e){return e.__module__="editorTools"}),c.addAction({name:"Add new resource",target:c.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){return d.newResource(l.aquireManager().getSelectedNode())},stateCalculator:new h,shouldDisplay:function(e){return null!=e}}),c.addAction({name:"Delete current node",target:c.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){return r(l.aquireManager().getSelectedNode())},stateCalculator:new f,shouldDisplay:function(e){return null!=e}}),c.addAction({name:"Create new API",target:c.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){return d.newApi()},stateCalculator:new y,shouldDisplay:function(e){return null!=e}}),c.addSimpleAction("Add new method",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newMethod(i(l.aquireManager().getSelectedNode()))},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=i(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new URI Parameter",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(i(l.aquireManager().getSelectedNode()),"Create new URI Parameter","uriParameters")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=i(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Query Parameter",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(a(l.aquireManager().getSelectedNode()),"Create new Query Parameter","queryParameters")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Header",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(a(l.aquireManager().getSelectedNode()),"Create new Header","headers")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Response Header",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(o(l.aquireManager().getSelectedNode(),"Response"),"Create new Header","headers")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"Response")}),c.addSimpleAction("Create new Response Body",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(o(l.aquireManager().getSelectedNode(),"Response"),"Create new Response Body","body")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"Response")}),c.addSimpleAction("Create new Property",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(o(l.aquireManager().getSelectedNode(),"ObjectField"),"Create new Property","properties")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=o(l.aquireManager().getSelectedNode(),"ObjectField")}),c.addSimpleAction("Create new Body",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(a(l.aquireManager().getSelectedNode()),"Create new Body","body")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())}),c.addSimpleAction("Create new Response",["Add new..."],c.TARGET_RAML_EDITOR_NODE,function(){return d.newNode(a(l.aquireManager().getSelectedNode()),"Create new Response","responses","200")},function(){return l.aquireManager()&&l.aquireManager().getCurrentEditor()&&null!=a(l.aquireManager().getSelectedNode())})}var u=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},l=n(151),c=n(157),p=n(191),d=n(148),m=n(10),h=function(e){function t(){e.apply(this,arguments)}return u(t,e),t.prototype.calculate=function(){var e=this.getEditor();if(!e)return null;if(".raml"!=m.extname(e.getPath()))return null;var t=this.getGeneralState();if(!t)return{};var n=t.node;return"Resource"!=n.definition().name()&&"Api"!=n.definition().name()?null:n},t}(p.CommonASTStateCalculator),f=function(e){function t(){e.apply(this,arguments);
}return u(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;return"Api"==t.definition().name()?null:t},t}(p.CommonASTStateCalculator),y=function(e){function t(){e.apply(this,arguments)}return u(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(e)return null;var t=this.getEditor();if(!t)return null;if(".raml"!=m.extname(t.getPath()))return null;var n=t.getText().trim();return""!=n?null:{}},t}(p.CommonASTStateCalculator);t.getResourceParent=i,t.registerQuickCommands=s},function(e,t,n){function r(){}function i(){a(),r()}function a(){var e={id:"editorContextActionContributor",calculateItems:function(){var e=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);if(!e)return[];var t=[];return e.forEach(function(e){t.push({selector:'atom-text-editor[data-grammar="source raml"],.raml-outline',name:e.label?e.label:e.name,categories:e.category,onClick:e.onClick})}),t}};o.registerContributor(e);var t={id:"editorContextActionContributor",calculateItems:function(){var e=u.calculateCurrentActions(u.TARGET_RAML_EDITOR_NODE);if(!e)return[];var t=[];return e.forEach(function(e){t.push({selector:'atom-text-editor[data-grammar="source raml"],.raml-outline',id:e.label?e.label:e.name,callBack:e.onClick})}),t}};s.registerContributor(t)}var o=n(192),s=n(193),u=n(157),l=n(10),c=n(150),p=n(66),d=n(151);t.initialize=i;var m=function(){function e(){}return e.prototype.calculate=function(){},e}();t.NullCalculator=m;var h=function(){function e(){var e=this;this.state=null,this.contextCalculationStarted=function(){null==e.state&&(e.state=e.calculateState())},this.contextCalculationFinished=function(){e.state=null}}return e.prototype.calculate=function(){return null==this.state&&(this.state=this.calculateState()),this.state},e.prototype.calculateState=function(){var e=!1,t=null;if(atom.workspace.getActiveTextEditor()?t=atom.workspace.getActiveTextEditor():d.aquireManager()&&(t=d.aquireManager().getCurrentEditor(),e=!0),!t)return null;if(".raml"!=l.extname(t.getPath()))return null;var n={editor:t,bufferPosition:t.getCursorBufferPosition()},r=null;if(r=e?d.aquireManager().getSelectedNode():c.getAstNode(n,!1),!r)return null;var i=n.editor.getBuffer().characterIndexForPosition(n.bufferPosition),a=p.determineCompletionKind(t.getBuffer().getText(),i);return{editor:t,offset:i,node:r,completionKind:a}},e}();t.GeneralASTStateCalculator=h,t.generalASTStateCalculator=new h;var f=function(){function e(){this.contextCalculationStarted=function(){t.generalASTStateCalculator.contextCalculationStarted()},this.contextCalculationFinished=function(){t.generalASTStateCalculator.contextCalculationFinished()}}return e.prototype.calculate=function(){return null},e.prototype.getGeneralState=function(){return t.generalASTStateCalculator.calculate()},e.prototype.getEditor=function(){return d.aquireManager()?d.aquireManager().getCurrentEditor():atom.workspace.getActiveTextEditor()},e}();t.CommonASTStateCalculator=f},function(e,t,n){function r(){b||(b=!0,f=atom.contextMenu.constructor.prototype.showForEvent,atom.contextMenu.constructor.prototype.showForEvent=function(e){u(),f.apply(atom.contextMenu,[e]),d()})}function i(e){v[e.id]=e}function a(e,t,n,r){}function o(e){}function s(e,t,n){}function u(){try{var e=m(),t={};p(),g.deleteCommandsByTag(g.DYNAMIC_COMMAND_TAG),e.forEach(function(e){var n=t[e.selector];n||(n=c(e.selector),t[e.selector]=n);var r=l(e);n.items.push(r)})}catch(n){console.log(n.message)}}function l(e){var t={label:e.name};if(e.children.length>0)t.submenu=[];else{var n="api-workbench:"+e.name;g.listCommands();g.addCommand(e.selector,n,e.onClick,g.DYNAMIC_COMMAND_TAG),t.command=n}return e.children.forEach(function(e){var n=l(e);t.submenu.push(n)}),t}function c(e){var t=y.find(atom.contextMenu.itemSets,function(e){return e.tag&&e.tag==P});return t||(t={items:[],selector:e,specificity:11,tag:P},atom.contextMenu.itemSets.push(t),y.find(w,function(t){return t==e})||w.push(e)),t}function p(){var e=y.filter(atom.contextMenu.itemSets,function(e){return e.tag&&e.tag==P});e.forEach(function(e){e.items=[]})}function d(){}function m(){var e=[];for(var t in v){var n=v[t];n.calculationStarted&&n.calculationStarted()}for(var t in v){var n=v[t];n.calculateItems().forEach(function(t){h(e,t)})}for(var t in v){var n=v[t];n.calculationFinished&&n.calculationFinished()}return e}function h(e,t){var n=e;if(t.categories)for(var r in t.categories){var i=t.categories[r],a=y.find(n,function(e){return e.name==i});a||(a=new S(t,i),n.push(a)),a.children?n=a.children:(n=[],a.children=n)}var o=y.find(n,function(e){return e.name==t.name});if(o){var s=n.indexOf(o,0);void 0!=s&&n.splice(s,1)}o=new S(t),n.push(o)}var f,y=n(16),g=n(193);t.initialize=r,t.registerContributor=i,t.addMenuItem=a,t.deleteMenuItems=o,t.deleteMenuItem=s;var v={},b=!1,S=function(){function e(e,t){this.selector=e.selector,t?this.name=t:this.name=e.name,this.categories=e.categories,this.onClick=e.onClick,this.children=[]}return e}(),w=[],P="DYNAMIC_SET_TAG"},function(e,t,n){function r(e,t,n,r){if(!p.find(s(),function(e){return e==t?!0:!1})){var i=atom.commands.add(e,t,n),a={commandId:t,tag:r,disposable:i};if(d[t]=a,r){var o=m[r];o||(o=[],m[r]=o),o.push(a)}}}function i(e){atom.commands.registeredCommands[e]=null,atom.commands.selectorBasedListenersByCommandName[e]=null}function a(e){var t=d[e];if(t&&(t.disposable.dispose(),delete d[e],t.tag)){var n=m[t.tag];if(!n)return;var r=-1;p.find(n,function(t,n){return t.commandId==e?(r=n,!0):!1}),-1!=r&&n.splice(r,1)}}function o(e){var t=m[e];if(t){for(var n in t){var r=t[n];r.disposable.dispose(),delete d[r.commandId]}delete m[e]}}function s(){var e=[];for(var t in atom.commands.selectorBasedListenersByCommandName)e.push(t);return e}function u(){if(!h){h=!0;try{atom.packages.activatePackage("command-palette");var e=function(){c()};e.commandManager=!0,atom.commands.add("atom-workspace","command-palette:toggle",e);var t=atom.commands.selectorBasedListenersByCommandName["command-palette:toggle"];t.forEach(function(e){e.callback.commandManager&&(e.sequenceNumber=1005e5)})}catch(n){console.error(n.message)}}}function l(e){f[e.id]=e}function c(){o(t.DYNAMIC_COMMAND_TAG);for(var e in f){var n=f[e];n.calculationStarted&&n.calculationStarted()}for(var e in f){var n=f[e];n.calculateItems().forEach(function(e){r(e.selector,"api-workbench:"+e.id,e.callBack,t.DYNAMIC_COMMAND_TAG)})}for(var e in f){var n=f[e];n.calculationFinished&&n.calculationFinished()}}var p=n(16);t.DYNAMIC_COMMAND_TAG="DYNAMIC_COMMAND_TAG";var d={},m={};t.addCommand=r,t.deleteUnmanagedCommand=i,t.deleteManagedCommand=a,t.deleteCommandsByTag=o,t.listCommands=s;var h=!1;t.initialize=u;var f={};t.registerContributor=l},function(e,t,n){function r(e){new d(e).show()}function i(){var e=atom.workspace.getActiveTextEditor();if(e){var t=e.getPath(),n=a.basename(t),i=a.extname(n);u.isAllowedExtension(i)&&o.existsSync(t)&&r(e)}}var a=n(10),o=n(4),s=(n(7),n(150)),u=n(195),l=(n(143),n(144)),c=n(160),p=n(151),d=function(){function e(e){this._editor=e}return e.prototype.extraContent=function(e){},e.prototype.show=function(){var e=this,t=null,n=null,r=s.getAstNode({bufferPosition:this._editor.getCursorBufferPosition(),editor:this._editor},!1,!1),i=l.section("Quick outline:"),a=c.createTree(r.root(),function(e){return e.selection&&e.selection.elements.length>0?(n=e.selection.elements[0],void u.setDisabled(!1)):void u.setDisabled(!0)},function(n){var r=e._editor,i=r.getBuffer(),a=i.positionForCharacterIndex(n.lowLevel().start());r.setCursorScreenPosition(a),t.destroy()});a.setStyle("max-height","800px"),a.addClass("tree-view-scroller"),i.addChild(a);var o=l.buttonSimple("Cancel",function(e){t.destroy()},0);o.setStyle("float","right").margin(4,10);var u=l.button("Ok",0,1,0,function(e){n&&p.aquireManager().setSelectedNode(n),t.destroy()});u.setStyle("float","right").margin(4,10),u.setDisabled(!0),i.addChild(u),i.addChild(o);var d=i.renderUI();d.tabIndex=0,d.onkeypress=function(e){27==e.keyCode&&t.destroy()},t=atom.workspace.addModalPanel({item:d}),d.focus()},e}();t.show=i},function(e,t,n){function r(e,t){var n=e[0],r=n.rootElement.querySelectorAll(t);return l.$(r[0])}function i(e){return".raml"==e||".yaml"==e}function a(e,t){}function o(e,t){var n=t.clientX,i=t.clientY,a=r([e],".lines")[0].getBoundingClientRect(),o=i-a.top,s=n-a.left;return{top:o,left:s}}function s(e,t){return e.getModel().screenPositionForPixelPosition(o(e,t))}function u(e,t){var n=l.$(atom.views)[0].getView(e),r=o(n,t);r.top-=e.displayBuffer.getScrollTop(),r.left-=e.displayBuffer.getScrollLeft();var i=n.getBoundingClientRect();return r.top+=i.top,r.left+=i.left,r}var l=n(7),c=n(196),p=(c.Subscriber,this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=n(7),m=d.$,p=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},h=function(e){function t(t){e.call(this),this.options=t,this.init()}return p(t,e),Object.defineProperty(t.prototype,"$",{get:function(){return this},enumerable:!0,configurable:!0}),t.content=function(){throw new Error("Must override the base View static content member")},t.prototype.init=function(){},t}(d.View);(function(e){function t(t){e.call(this),this.options=t,this.init()}return p(t,e),Object.defineProperty(t.prototype,"$",{get:function(){return this},enumerable:!0,configurable:!0}),t.content=function(){throw new Error("Must override the base View static content member")},t.prototype.init=function(){},t})(d.ScrollView),function(e){function t(t){e.call(this,t),this.rect=t,m(document.body).append(this.$),this.updatePosition()}return p(t,e),t.content=function(){var e=this;return this.div({"class":"atom-typescript-tooltip tooltip"},function(){e.div({"class":"tooltip-inner",outlet:"inner"})})},t.prototype.updateText=function(e){this.inner.html(e),this.updatePosition(),this.$.fadeTo(300,1)},t.prototype.updatePosition=function(){var e=10,t=this.rect.right,n=this.rect.bottom,r=void 0;t+this.$[0].offsetWidth>=m(document.body).width()&&(t=m(document.body).width()-this.$[0].offsetWidth-e),0>t&&(this.$.css({"white-space":"pre-wrap"}),t=e,r=e),n+this.$[0].offsetHeight>=m(document.body).height()&&(n=this.rect.top-this.$[0].offsetHeight),this.$.css({left:t,top:n})},t}(h);t.getFromShadowDom=r,t.isAllowedExtension=i,t.attach=a,t.screenPositionFromMouseEvent=s,t.screenPositionFromMouse=u},function(e,t){e.exports=require("emissary")},function(e,t,n){function r(e){var t=(new Date).getTime(),n=o.ast(e);if(null==n)return[];for(var r=[],a=(new u(e,r),n.lowLevel()?n.lowLevel().unit().contents():""),l=0;;){var l=a.indexOf("	",l);if(-1==l)break;var c=e.getBuffer().positionForCharacterIndex(l),p=e.getBuffer().positionForCharacterIndex(l+1),d="Using tabs  can lead to unpredictable results",m={type:"Warning",filePath:e.getPath(),text:d,trace:[],range:[[c.row,c.column],[p.row,p.column]]};r.push(m),l++}if(!n.lowLevel())return[];i(n,r,e);var h=(new Date).getTime(),f={};r.forEach(function(e){var t=JSON.parse(JSON.stringify(e));t.trace=null;var n=JSON.stringify(t),r=f[n];r?r.push(e):f[n]=[e]});var y=[];for(var g in f){var v=JSON.parse(g);v.trace=[];var b=f[g];b.forEach(function(e){e.trace&&(v.trace=v.trace.concat(e.trace))}),y.push(v)}return s.aquireManager()&&s.aquireManager().performanceDebug&&console.log("Linting took:"+(h-t)),y}function i(e,t,n){e&&e.validate(new u(n,t))}var a=n(198),o=n(199),s=n(151);t.grammarScopes=["source.raml"],t.scope="file",t.lintOnFly=!0,t.lint=r;var u=function(){function e(e,t){this.editor=e,this.errors=t,this.buffers={}}return e.prototype.begin=function(){},e.prototype.accept=function(e){var t=this,n=this.editor.getBuffer().positionForCharacterIndex(e.start),r=this.editor.getBuffer().positionForCharacterIndex(e.end),i=e.message,o=i.lastIndexOf(" at line ");-1!=o&&(i=i.substring(0,o));var s={type:e.isWarning?"Warning":"Error",filePath:e.path?e.path:this.editor.getPath(),text:i,trace:[],range:[[n.row,n.column],[r.row,r.column]]};this.errors.push(s),e.extras&&e.extras.forEach(function(e){var n=e.message,r=t.editor.getBuffer(),i=e.path;e.unit&&(i=e.unit.absolutePath()),i&&(t.buffers[i]?r=t.buffers[i]:(r=new a(e.unit.contents()),t.buffers[i]=r));var o=r.positionForCharacterIndex(e.start),u=r.positionForCharacterIndex(e.end),l={type:"Trace",filePath:e.path?i:t.editor.getPath(),text:n,range:[[o.row,o.column],[u.row,u.column]]};s.trace.push(l)})},e.prototype.end=function(){},e}()},function(e,t){e.exports=require("basarat-text-buffer")},function(e,t,n){function r(e){var t=s.aquireManager();if(s.aquireManager()&&t.getCurrentEditor()==e)return t.ast;var n=e.getPath(),r=new a.Project(i.dirname(n)),u=r.unit(i.basename(n)),l=e.getBuffer().getText();if(!u)return null;u.updateContent(l);var c=o.fromUnit(u);return c}var i=n(10),a=n(18),o=n(14),s=n(151);t.ast=r},function(e,t,n){function r(e){new k(e,"Create Global Schema").show()}function i(e){console.log(e.root().printDetails());var t=e.parent();if(t.property&&t.property().range&&"Resource"==t.property().range().name()){var n=t.attr("relativeUri");if(n){var r=n.value(),i=r.indexOf(".");if(i>0&&i<r.length-1){var s=r.substr(0,i),u=r.substring(i+1),l=new _.MethodImpl(u),c=b.find(t.parent().children(),function(e){return e.property()&&"resources"==e.property().name()&&e.property().range()&&"Resource"==e.property().range().name()&&e.attrValue("relativeUri")&&e.attrValue("relativeUri")==s}),p=t.root();if(c){var d=new _.ResourceImpl(c);o(l.highLevel(),e),d.addToProp(l,"methods"),t.parent().remove(t)}else{var d=new _.ResourceImpl(t);o(l.highLevel(),e),d.addToProp(l,"methods"),n.setValue(s)}return void a(p)}}}o(t,e),a(t)}function a(e){var t=N.getActiveEditor();t.setText(N.cleanEmptyLines(e.root().lowLevel().unit().contents()))}function o(e,t){var n=y.convertToTrait(y.parse(t));t.setValue("");var r=n.highLevel().elements();r=r.filter(function(e){return e!=n.highLevel()}),r.forEach(function(t){return e.add(t)})}function s(e,t,n){var r=N.getActiveEditor(),i=h.resolve(h.dirname(r.getPath()),h.dirname(t));m.existsSync(i)||m.mkdirSync(i);var a=h.resolve(h.dirname(r.getPath()),t);m.writeFileSync(a,n)}function u(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if("\r"!=r&&"\n"!=r){if(" "!=r&&"	"!=r)break;t+=r}}return t}function l(e,t){for(var n=N.splitOnLines(e),r=[],i=0;i<n.length;i++)0==i?r.push(n[0]):r.push(n[i].substring(t.length));return r.join("")}function c(e,t){if((e.keyStart()>t||e.valueEnd()<t)&&e.parent())return null;var n=e.children();for(var r in n){var i=n[r],a=c(i,t);if(a)return a}return e}function p(){A.addAction({name:"Create global schema",target:A.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){return r(e)},stateCalculator:new O,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Move resource",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new E.MoveElementsDialog(e,"Resource Type",!0).show()},stateCalculator:new R,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Expand Signature",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){return i(e)},stateCalculator:new D,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Complete body",target:A.TARGET_RAML_EDITOR_NODE,category:["Add new..."],onClick:function(e){var t=e;t.lowLevel().show("BODY"),new j(t.parent().parent(),t).show()},stateCalculator:new F,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Extract Resource Type",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new M.ExtractTypesAndTraitsDialog(e,"Resource Type",!0).show()},stateCalculator:new V,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Extract Trait",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new M.ExtractTypesAndTraitsDialog(e,"Trait",!1).show()},stateCalculator:new K,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Move content to other file",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new W(e).show()},stateCalculator:new B,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Convert JSON schema to type",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new L(e,"Convert JSON schema to type").show()},stateCalculator:new q,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Expand type to JSON schema",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){var t=e,n=t.root(),r=t.attrValue("type"),i=n.elementsOfKind("types"),a=b.find(i,function(e){return e.name()==r});if(a){t.attr("type").setValue("");var o=(new I.ModelToSchemaGenerator).generateSchema(a),s=JSON.stringify(o,null,2);t.attrOrCreate("schema").setValue(s),s=n.lowLevel().unit().contents(),N.getActiveEditor().setText(s)}},stateCalculator:new H,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Expand type to JSON schema definition",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){var t=e,n=t.root(),r=(new I.ModelToSchemaGenerator).generateSchema(t),i=JSON.stringify(r,null,2);console.log("schema: "+i);var a=f.createStub0(n,"schemas",t.name());a.attrOrCreate("value").setValue(i),n.add(a);var o=n.lowLevel().unit().contents();N.getActiveEditor().setText(o)},stateCalculator:new G,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Extract Library",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new M.ExtractLibraryDialog(e,"Extract Library").show()},stateCalculator:new z,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Extract Overlay",target:A.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){new M.ExtractOverlayDialog(e,"Extract Overlay").show()},stateCalculator:new Y,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Modify Overlay",target:A.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){new M.ModifyOverlayDialog(e,"Modify Overlay").show()},stateCalculator:new J,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Pull Up",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new M.PullUpDialog(e,"Pull Up").show()},stateCalculator:new X,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Extract Supertype",target:A.TARGET_RAML_EDITOR_NODE,category:["Refactoring"],onClick:function(e){new M.ExtractSupertypeDialog(e,"Extract Supertype").show()},stateCalculator:new Q,shouldDisplay:function(e){return null!=e}}),A.addAction({name:"Comment node",target:A.TARGET_RAML_EDITOR_NODE,category:["Code"],onClick:function(e){var t=e.node;if(t.lowLevel()){var n=c(t.lowLevel(),e.offset);if(n)for(var r=n.keyStart(),i=n.valueEnd(),a=e.editor.getBuffer(),o=a.positionForCharacterIndex(r),s=o.row,u=a.positionForCharacterIndex(i),l=u.row,p=s;l>=p;p++){var d=a.rangeForRow(p,!0),m=a.getTextInRange(d),h="#"+m;a.setTextInRange(d,h)}}},stateCalculator:new Z,shouldDisplay:function(e){return null!=e}})}var d=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n},m=n(4),h=n(10),f=n(17),y=n(67),g=(n(66),n(78)),v=n(14),b=n(16),S=n(143),w=n(144),P=n(79),M=n(164),T=n(201),E=n(163),A=n(157),C=n(191),N=n(149),I=n(202),_=n(13),x=function(){function e(e,t){this.parentNode=e,this.name=t}return e.prototype.validate=function(){return null},e.prototype.performOk=function(){},e.prototype.createBody=function(e){},e.prototype.show=function(){if(console.log("Original node tree:"),this.getParentNode()&&console.log(this.getParentNode().printDetails()),this.getParentNode()){var e=w.section(this.name+":",145,!1,!1);this.createValidationIndicator(e),this.createBody(e),this.createButtonBar(e),e.setPercentWidth(100);var t=e.renderUI();this.rootAtomPanel=atom.workspace.addModalPanel({item:t}),t.focus(),this.performValidation()}},e.prototype.performValidation=function(){var e=this.validate();this.okButton&&(e?this.okButton.setDisabled(!0):this.okButton.setDisabled(!1)),this.errorLabel&&(e?(this.errorLabel.setDisplay(!0),this.errorLabel.setText(e)):(this.errorLabel.setDisplay(!1),this.errorLabel.setText("")))},e.prototype.createValidationIndicator=function(e){this.errorLabel=w.label("",19,7,0),e.addChild(w.vc(this.errorLabel))},e.prototype.saveUnit=function(e){var t=e.absolutePath(),n=e.contents(),r=b.find(atom.workspace.getTextEditors(),function(e){var n=e.getPath();return n==t});r?r.setText(n):m.writeFileSync(t,n)},e.prototype.createButtonBar=function(e){var t=this,n=w.hc().setPercentWidth(100).setStyle("display","flex");n.addChild(w.label("",null,null,null).setStyle("flex","1")),n.addChild(w.button("Cancel",0,0,0,function(e){t.rootAtomPanel.destroy()}).margin(10,10)),this.okButton=w.button("Extract",0,3,0,function(e){t.performOk(),t.rootAtomPanel.destroy()}),this.okButton.setDisabled(!0),n.addChild(this.okButton),e.addChild(n)},e.prototype.getParentNode=function(){return this.parentNode},e.prototype.getActiveEditor=function(){return N.getActiveEditor()},e.prototype.getNodeId=function(e){if(e.parent()){var t=this.getNodeId(e.parent());t+="."+e.name();var n=e.parent().directChildren().filter(function(t){return t.name()==e.name()});if(n.length>1){var r=n.indexOf(e);t+="["+r+"]"}return t}return e.name()?e.definition&&e.definition()&&"Api"==e.definition().name()?"":"."+e.name():""},e.prototype.nodesEqualById=function(e,t){return this.getNodeId(e)==this.getNodeId(t)},e.prototype.isParentOf=function(e,t){for(var n=t.parent();null!=n;){if(n==e||this.nodesEqualById(n,e))return!0;n=n.parent()}return!1},e}();t.AbstractDialogWithValidation=x;var R=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return"Resource"!=t.definition().name()?null:t},t}(C.CommonASTStateCalculator),O=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(0!=e.completionKind&&1!=e.completionKind)return null;var t=e.node,n=b.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();if("schema"!=r.name())return null;var i=(n.value(),r.referenceTargets(t)),a=b.find(i,function(e){return e.name()==n.value()});return a?null:n},t}(C.CommonASTStateCalculator),L=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.createBody=function(e){var t=this;e.addChild(w.label("Type name:").pad(5,0)),this.typeNameTextField=S.texfField("","NewType",function(e){t.performValidation()}),e.addChild(this.typeNameTextField)},t.prototype.validate=function(){if(!this.typeNameTextField||!this.typeNameTextField.getBinding())return null;var e=this.typeNameTextField.getBinding().get();return 0==e.trim().length?"Enter type name":null},t.prototype.performOk=function(){var e=this.getParentNode(),t=e.root(),n=e.attrValue("schema");e.attr("schema").setValue("");var r=this.typeNameTextField.getBinding().get(),i=(new I.SchemaToModelGenerator).generateTo(t,n,r);i.length>0&&e.attrOrCreate("type").setValue(i[0]),this.saveUnit(t.lowLevel().unit())},t}(x);t.ExtractJSONSchemaToTypeDialog=L;var k=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.createBody=function(e){var t=this;e.addChild(w.label("Schema name:").pad(5,0)),this.schemaNameTextField=S.texfField("",this.getDefaultSchemaName(),function(e){t.performValidation()}),e.addChild(this.schemaNameTextField)},t.prototype.validate=function(){if(!this.schemaNameTextField||!this.schemaNameTextField.getBinding())return null;var e=this.schemaNameTextField.getBinding().get();if(0==e.trim().length)return"Enter schema name";var t=this.getParentNode(),n=t.value(),r=this.getSchemaFilePath(e,n);return m.existsSync(r)?"Schema file "+r+" already exists":null},t.prototype.performOk=function(){var e=this.schemaNameTextField.getBinding().get(),t=this.getParentNode(),n=t.value(),r=this.getSchemaFilePath(e,n),i=t.parent().root(),a=t.property().range().universe().getType("GlobalSchema"),o=a.createStubNode(a.universe().type("Api").property("schemas"),e);o.attrOrCreate("value").setValue("!include "+this.getSchemaRelativePath(e,n)),i.add(o),t.setValue(e),this.saveUnit(t.lowLevel().unit());var s=h.dirname(r);m.existsSync(s)||m.mkdirSync(s),m.writeFileSync(r,n)},t.prototype.getSchemaFilePath=function(e,t){var n=h.resolve(h.dirname(this.getActiveEditor().getPath()),"schemas"),r=this.determineSchemaExtension(t),i=e+"."+r;return h.resolve(n,i)},t.prototype.getSchemaRelativePath=function(e,t){var n=this.determineSchemaExtension(t),r=e+"."+n;return"schemas/"+r},t.prototype.determineSchemaExtension=function(e){var t=e.trim();return 0==t.indexOf("{")||0==t.indexOf("[")?"json":"xsd"},t.prototype.getDefaultSchemaName=function(){return"NewSchema"},t}(x);t.CreateGlobalSchemaDialog=k,t.createGlobalSchema=r;var D=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(0!=e.completionKind)return null;var t=e.node,n=b.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();return"signature"!=r.name()?null:n},t}(C.CommonASTStateCalculator);t.expandSignature=i;var U=function(e,t){for(var n=e,r=e;r>=0;r--){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i||"	"==i){n=r+1;break}}for(var a="",r=n;r<t.length;r++){var i=t.charAt(r);if(" "==i||"\r"==i||"\n"==i||"	"==i||":"==i)break;a+=i}return a},F=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;if("Response"==t.definition().name()||"Method"==t.definition().name()){var n=e.editor.getText(),r=U(e.offset,n);if("body"==r)return t}return"BodyLike"==t.definition().name()&&0==t.elements().length?t:null},t}(C.CommonASTStateCalculator);t.saveExample=s;var j=function(){function e(e,t,n){void 0===n&&(n="Fill body"),this.h=e,this.body=t,this.title=n,this.name="",this.needXML=!0,this.needJSON=!0,this.jsexample='{\n "message":"Hello world"\n}',this.xmlexample="",this.xmlschema="",this.jsschema=""}return e.prototype.extraContent=function(e){},e.prototype.updateButtons=function(){if(this.createButton){if(0==this.name.length)return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("Please type name of your payload");if(this.needJSON){try{JSON.parse(this.jsexample)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("JSON example is not correct")}try{g.getJSONSchema(this.jsschema)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("JSON schema is not correct")}}if(this.needXML){try{P(this.xmlexample)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("XML example is not correct")}try{g.getXMLSchema(this.xmlschema)}catch(e){return this.createButton.setDisabled(!0),this.em.setDisplay(!0),void this.em.setText("XML schema is not correct")}}this.em.setDisplay(!1),this.createButton.setDisabled(!1)}},e.prototype.show=function(){var e=this,t=null;this.em=w.label("Please type name of your payload",19,7,0);var n=w.section(this.title,14,!1,!1,this.em,S.h3("Please type name for your payload")).pad(10,10);n.addChild(S.texfField("",this.name,function(t){e.name=t.getBinding().get(),e.updateButtons()}));var r=w.checkBox("Create XML body");r.setValue(this.needXML),r.getBinding().addListener(function(t){e.needXML=r.getValue(),e.updateButtons()}),n.addChild(r);var i=w.checkBox("Create JSON body");i.setValue(this.needJSON),i.getBinding().addListener(function(t){e.needJSON=i.getValue(),e.updateButtons()}),n.addChild(i);var a=w.hc().setPercentWidth(100).setStyle("display","flex");a.addChild(w.label("",null,null,null).setStyle("flex","1")),a.addChild(w.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10)),this.createButton=w.button("Create",0,3,0,function(n){e.onOk(t),t.destroy()}),a.addChild(this.createButton);var o=new S.TabFolder;this.createButton.setDisabled(!0),this.createTextSection(o,"JSON Example","source.json","jsexample"),this.createTextSection(o,"JSON Schema","source.json","jsschema"),this.createTextSection(o,"XML Example","text.xml","xmlexample"),this.createTextSection(o,"XML Schema","text.xml","xmlschema"),o.setOnSelected(function(){var t=o.selectedComponent(),n=t.children()[1];n.setText(e[t.id()])}),n.addChild(o),n.addChild(a),t=atom.workspace.addModalPanel({item:n.renderUI()})},e.prototype.createTextSection=function(e,t,n,r){var i=this,a=w.vc();a.setCaption(t),a.setId(r);var o=new S.AtomEditorElement("",function(e){return e});if(o.setMini(!1),o.getBinding().addListener(function(e){i[r]=o.getValue(),i.updateButtons()}),o.setText(""+this[r]),o.setCaption(t),o.setGrammar(n),o.setStyle("height","400px"),o.setStyle("border","solid"),o.setStyle("border-width","1px"),a.addChild(S.h3("Please type your example here:")),a.addChild(o),"jsexample"==r){var s=w.button("Generate JSON schema",0,3,0,function(t){try{var n=T.generateSchema(i.jsexample,"application/json");i.jsschema=n,e.setSelectedIndex(1)}catch(r){i.jsschema=r.message,e.setSelectedIndex(1)}});a.addChild(s.margin(5,5,5,5))}if("xmlexample"==r){var s=w.button("Generate JSON example",0,3,0,function(t){try{var n=P(i.xmlexample);i.jsexample=JSON.stringify(n,null,2),e.setSelectedIndex(0)}catch(r){i.jsexample=r.message,e.setSelectedIndex(0)}});a.addChild(s.margin(5,5,5,5))}e.add(t,null,a)},e.prototype.onOk=function(e){console.log(this.body.root().printDetails());var t=this.body.definition().universe().getType("BodyLike");if(t){var n=this.body;"body"==n.property().name()&&(n=n.parent());var r=n.definition();if(this.needJSON){var i=t.createStubNode(r.property("name"),"application/json");i.createAttr("schema",this.name),i.createAttr("example","!include ./examples/"+this.name+".json"),n.add(i),N.createGlobalSchemaFromNameAndContent(this.h.root(),this.name,"schemas/"+this.name+".json",this.jsschema),s(this.h,"./examples/"+this.name+".json",this.jsexample)}if(this.needXML){var i=t.createStubNode(r.property("name"),"application/xml");i.createAttr("schema",this.name+"-xml"),i.createAttr("example","!include ./examples/"+this.name+".xml"),n.add(i),N.createGlobalSchemaFromNameAndContent(this.h.root(),this.name+"-xml","schemas/"+this.name+".xml",this.jsschema),s(this.h,"./examples/"+this.name+".xml",this.xmlexample)}}else{var a=this.body;if("Response"!=a.property().range().name())return void console.log("Incorrect parent "+a.printDetails()+" , expecting response");var o=new _.ResponseImpl(a),u=null;if(this.needJSON)u="application/json";else{if(!this.needXML)return;u="application/xml"}var l=new _.DataElementImpl(u);this.needJSON?(l.setSchema(this.name),l.setExample("!include ./examples/"+this.name+".json"),N.createGlobalSchemaFromNameAndContent(this.h.root(),this.name,"schemas/"+this.name+".json",this.jsschema),s(this.h,"./examples/"+this.name+".json",this.jsexample)):(l.setSchema(this.name+"-xml"),l.setExample("!include ./examples/"+this.name+".xml"),N.createGlobalSchemaFromNameAndContent(this.h.root(),this.name+"-xml","schemas/"+this.name+".xml",this.jsschema),s(this.h,"./examples/"+this.name+".xml",this.xmlexample)),o.add(l)}var c=this.h.lowLevel().unit().contents();N.getActiveEditor().setText(N.cleanEmptyLines(c))},e}(),V=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return"Resource"!=t.definition().name()?null:t},t}(C.CommonASTStateCalculator),K=function(e){
function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return"Method"!=t.definition().name()?null:t},t}(C.CommonASTStateCalculator),B=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;if(1!=e.completionKind)return null;var t=e.node;return 0==t.children().length?null:t},t}(C.CommonASTStateCalculator),q=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(1!=e.completionKind&&0!=e.completionKind)return null;var n=b.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().isKey()});if(!n)return null;if(!n.value())return null;var r=n.property();return"schema"!=r.name()?null:"string"!=typeof n.value()||-1==n.value().indexOf("{")?null:t},t}(C.CommonASTStateCalculator),H=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(1!=e.completionKind&&0!=e.completionKind)return null;var n=(e.editor.getText(),b.find(t.attrs(),function(t){return t.lowLevel().start()<e.offset&&t.lowLevel().end()>=e.offset&&!t.property().isKey()}));if(!n)return null;if(!n.value())return null;var r=n.property();return"type"!=r.name()?null:t},t}(C.CommonASTStateCalculator),G=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;return 6!=e.completionKind?null:"types"==t.property().name()?t:null},t}(C.CommonASTStateCalculator),W=function(){function e(e){this.node=e}return e.prototype.show=function(){var e=this,t=null,n=this.node,r=w.section("Move node content to new file ",145,!1,!1),i=w.label("Please enter destination file path",19,7,0);r.addChild(w.vc(i)),r.addChild(w.label("Please enter destination path"));var a=S.texfField("","",function(t){if(a){var n=null;if(e.destination=a.getBinding().get(),0==e.destination.trim().length)n="Please enter destination file path";else if(!h.extname(e.destination)||h.extname(e.destination).trim().length<=2)n="Please enter destination file extension";else{var r=h.resolve(h.dirname(N.getActiveEditor().getPath()),h.dirname(e.destination));if(m.existsSync(r)){var o=m.statSync(r);o.isDirectory()||(n="Parent path is not a directory")}else n="Parent directory does not exist"}n?(i.setDisplay(!0),i.setText(n),s.setDisabled(!0)):(i.setDisplay(!1),s.setDisabled(!1))}});r.addChild(w.vc(a));var o=w.hc().setPercentWidth(100).setStyle("display","flex");o.addChild(w.label("",null,null,null).setStyle("flex","1")),o.addChild(w.button("Cancel",0,0,0,function(e){t.destroy()}).margin(10,10));var s=w.button("Move",0,3,0,function(r){var i=h.resolve(h.dirname(N.getActiveEditor().getPath()),e.destination),a=e.node.lowLevel().dump(),o=N.splitOnLines(a),s=u(o.length>1?o[1]:o[0]);a=a.substring(e.node.lowLevel().keyEnd()-e.node.lowLevel().start()+1).trim(),a=l(a,s);var c=v.isRAML10(e.node)?"#%RAML 1.0 ":"#%RAML 0.8 ";a=c+e.node.definition().name()+"\n"+a,m.writeFileSync(i,a);var p=n.lowLevel().unit().contents(),d=p.substring(n.lowLevel().end()),f=p.substring(0,n.lowLevel().keyEnd()+1),y=f+" !include "+e.destination+d;N.getActiveEditor().setText(y),t.destroy()});s.setDisabled(!0),o.addChild(s),r.addChild(o);var c=r.renderUI();t=atom.workspace.addModalPanel({item:c}),c.focus()},e}();t.MoveToNewFileDialog=W;var z=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t},t}(C.CommonASTStateCalculator),Y=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t},t}(C.CommonASTStateCalculator),J=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;for(var t=e.node;null!=t.parent();)t=t.parent();return t.definition&&"Overlay"==t.definition().name()?t:null},t}(C.CommonASTStateCalculator),$=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.isTypeNode=function(e){return e.property&&e.property().range&&"DataElement"==e.property().range().name()&&"types"==e.property().name()},t}(C.CommonASTStateCalculator),X=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(!t)return null;for(;null!=t.parent();){if(this.isTypeNode(t)){var n=M.findUserDefinedSupertypes(t);return n&&n.length>0?t:null}t=t.parent()}return null},t}($),Q=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();if(!e)return null;var t=e.node;if(!t)return null;for(;null!=t.parent();){if(this.isTypeNode(t)){var n=M.findUserDefinedSupertypes(t);return n&&0!=n.length?null:t}t=t.parent()}return null},t}($),Z=function(e){function t(){e.apply(this,arguments)}return d(t,e),t.prototype.calculate=function(){var e=this.getGeneralState();return e?e:null},t}(C.CommonASTStateCalculator);t.findLowLevelNodeByOffset=c,t.initialize=p},function(e,t){function n(e,t){var n=new r,i=JSON.parse(e),a=n.generateSchema(i),o=JSON.stringify(a,null,2);return o}var r=function(){function e(){}return e.prototype.generateSchema=function(e){var t={};return t.required=!0,t.$schema="http://json-schema.org/draft-03/schema",this.pass(e,t),t},e.prototype.pass=function(e,t){var n=this.detectType(e);t.type=n,e&&null!=e&&(Array.isArray(e)?this.passArray(e,t):e instanceof Object&&this.passObject(e,t))},e.prototype.passObject=function(e,t){var n=this;Object.keys(e).forEach(function(r){return n.registerProperty(r,e[r],t)})},e.prototype.registerProperty=function(e,t,n){var r=n.properties;r||(r={},n.properties=r);var i=r[e];i||(i={},r[e]=i),i.required=!1,this.pass(t,i)},e.prototype.passArray=function(e,t){var n=this,r=t.items;r||(r=[],t.items=r);var i=(e.length,[]);e.forEach(function(e){var t={};n.pass(e,t),i.push(t)}),r.push(i[0])},e.prototype.detectType=function(e){return Array.isArray(e)?"array":typeof e},e}();t.JsonSchemaGenerator=r,t.generateSchema=n},function(e,t,n){var r=n(52),i=n(13),a=function(){function e(){}return e.prototype.generateText=function(e){var t=this,n=JSON.parse(e),r=n.items;if(!r)return"";var i="",a=r instanceof Array?r:[r];return i+="types:\n",a.forEach(function(e){i+="  - "+e.title+":\n",i+=t.generateObj(e,3)}),i},e.prototype.generateObj=function(e,t){var n="";if(n+=r.indent(t,"type: "+e.type)+"\n",e.properties){n+=r.indent(t,"properties:\n");for(var i in e.properties){var a=e.properties[i];n+=r.indent(t+1,i+":\n"),n+="object"==a.type?this.generateObj(a,t+2):r.indent(t+2,"type: "+a.type)+"\n"}return n}},e.prototype.generateTo=function(e,t,n){var r=this,a=JSON.parse(t),o=a.items;if(o){var s=o instanceof Array?o:[o],u=[];return s.forEach(function(t){var n=new i.ObjectFieldImpl(t.title);r.generateObjTo(n,t),new i.BasicImpl(e).addToProp(n,"types"),u.push(t.title)}),u}a.title&&(n=a.title);var l=new i.ObjectFieldImpl(n);return this.generateObjTo(l,a),new i.BasicImpl(e).addToProp(l,"types"),[n]},e.prototype.generateObjTo=function(e,t){if(e.setType(t.type),t.properties)for(var n in t.properties){var r=t.properties[n],i=this.makeTypeField(n,r);"array"==r.type,e.addToProp(i,"properties")}},e.prototype.makeTypeField=function(e,t){var n=this.makeType(e,t.type);if(t.type&&n.setType(t.type),"number"==t.type){var r=n;void 0!=t.minimum&&r.setMinimum(t.minimum),void 0!=t.maximum&&r.setMaximum(t.maximum)}if("array"==t.type){var i=t.items.type;n.setType(i+"[]");var a=n;void 0!=t.minItems&&a.setMinItems(t.minItems),void 0!=t.maxItems&&a.setMaxItems(t.maxItems),void 0!=t.uniqueItems&&a.setUniqueItems(t.uniqueItems)}return"object"==t.type&&this.generateObjTo(n,t),n},e.prototype.makeType=function(e,t){return"number"==t?new i.NumberElementImpl(e):"string"==t?new i.StrElementImpl(e):"array"==t?new i.ArrayFieldImpl(e):new i.ObjectFieldImpl(e)},e.prototype.generateItemsTo=function(e,t){var n=t.items;if(n){var r=n instanceof Array?n:[n];r.forEach(function(e){})}},e}();t.SchemaToModelGenerator=a;var o=function(){function e(){}return e.prototype.generateSchema=function(e){var t=this.generateTypeSchema(e);return t.$schema="http://json-schema.org/draft-04/schema#",t},e.prototype.generateTypeSchema=function(e){var t={};t.title=e.attrValue("name"),t.type=e.attrValue("type")?e.attrValue("type"):"object";var n=this.generateProperties(e);return Object.getOwnPropertyNames(n).length>0&&(t.properties=n),t},e.prototype.generateType=function(e,t,n){var i=this;if(r.endsWith(t,"[]"))e.type="array",e.items={type:t.substring(0,t.length-2)};else if(t.indexOf("|")>0){var a=t.split("|"),o=[];a.forEach(function(e){e=e.trim(),n[e]?o.push({type:i.generateTypeSchema(n[e])}):o.push({type:e})}),e.anyOf=o}else n[t]?e.type=this.generateTypeSchema(n[t]):e.type=t},e.prototype.allTypes=function(e){var t=e.root(),n=t.elementsOfKind("types"),r={};return n.forEach(function(e){r[e.name()]=e}),r},e.prototype.generatePropertySchema=function(e){var t=this,n=this.allTypes(e),r={},i=e.definition().allProperties();i.forEach(function(i){if("name"!=i.name()){var a=e.attrValue(i.name());a&&void 0!=a&&"undefined"!=a&&("type"==i.name()?t.generateType(r,a,n):r[i.name()]=a)}});var a=(e.elements(),this.generateProperties(e));return Object.getOwnPropertyNames(a).length>0&&(r.properties=a),r},e.prototype.generateProperties=function(e){var t=this,n={},r=e.elements(),i=!0;return r.forEach(function(e){var r=e.attrValue("name");n[r]=t.generatePropertySchema(e),i=!1}),n},e}();t.ModelToSchemaGenerator=o},function(e,t){e.exports=require("atom-package-deps")}]);
//# sourceMappingURL=main.js.map